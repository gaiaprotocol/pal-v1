(()=>{var __webpack_modules__={4760:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Headers:()=>a,Request:()=>o,Response:()=>l,default:()=>i,fetch:()=>n});var s=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw new Error("unable to locate global object")}();const n=s.fetch,i=s.fetch.bind(s),a=s.Headers,o=s.Request,l=s.Response},4696:(e,t,r)=>{const s=r(8452),n={};for(const e of Object.keys(s))n[s[e]]=e;const i={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};e.exports=i;for(const e of Object.keys(i)){if(!("channels"in i[e]))throw new Error("missing channels property: "+e);if(!("labels"in i[e]))throw new Error("missing channel labels property: "+e);if(i[e].labels.length!==i[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:r}=i[e];delete i[e].channels,delete i[e].labels,Object.defineProperty(i[e],"channels",{value:t}),Object.defineProperty(i[e],"labels",{value:r})}i.rgb.hsl=function(e){const t=e[0]/255,r=e[1]/255,s=e[2]/255,n=Math.min(t,r,s),i=Math.max(t,r,s),a=i-n;let o,l;i===n?o=0:t===i?o=(r-s)/a:r===i?o=2+(s-t)/a:s===i&&(o=4+(t-r)/a),o=Math.min(60*o,360),o<0&&(o+=360);const c=(n+i)/2;return l=i===n?0:c<=.5?a/(i+n):a/(2-i-n),[o,100*l,100*c]},i.rgb.hsv=function(e){let t,r,s,n,i;const a=e[0]/255,o=e[1]/255,l=e[2]/255,c=Math.max(a,o,l),h=c-Math.min(a,o,l),u=function(e){return(c-e)/6/h+.5};return 0===h?(n=0,i=0):(i=h/c,t=u(a),r=u(o),s=u(l),a===c?n=s-r:o===c?n=1/3+t-s:l===c&&(n=2/3+r-t),n<0?n+=1:n>1&&(n-=1)),[360*n,100*i,100*c]},i.rgb.hwb=function(e){const t=e[0],r=e[1];let s=e[2];const n=i.rgb.hsl(e)[0],a=1/255*Math.min(t,Math.min(r,s));return s=1-1/255*Math.max(t,Math.max(r,s)),[n,100*a,100*s]},i.rgb.cmyk=function(e){const t=e[0]/255,r=e[1]/255,s=e[2]/255,n=Math.min(1-t,1-r,1-s);return[100*((1-t-n)/(1-n)||0),100*((1-r-n)/(1-n)||0),100*((1-s-n)/(1-n)||0),100*n]},i.rgb.keyword=function(e){const t=n[e];if(t)return t;let r,i=1/0;for(const t of Object.keys(s)){const n=s[t],l=(o=n,((a=e)[0]-o[0])**2+(a[1]-o[1])**2+(a[2]-o[2])**2);l<i&&(i=l,r=t)}var a,o;return r},i.keyword.rgb=function(e){return s[e]},i.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,s=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,s=s>.04045?((s+.055)/1.055)**2.4:s/12.92;return[100*(.4124*t+.3576*r+.1805*s),100*(.2126*t+.7152*r+.0722*s),100*(.0193*t+.1192*r+.9505*s)]},i.rgb.lab=function(e){const t=i.rgb.xyz(e);let r=t[0],s=t[1],n=t[2];r/=95.047,s/=100,n/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,s=s>.008856?s**(1/3):7.787*s+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;return[116*s-16,500*(r-s),200*(s-n)]},i.hsl.rgb=function(e){const t=e[0]/360,r=e[1]/100,s=e[2]/100;let n,i,a;if(0===r)return a=255*s,[a,a,a];n=s<.5?s*(1+r):s+r-s*r;const o=2*s-n,l=[0,0,0];for(let e=0;e<3;e++)i=t+1/3*-(e-1),i<0&&i++,i>1&&i--,a=6*i<1?o+6*(n-o)*i:2*i<1?n:3*i<2?o+(n-o)*(2/3-i)*6:o,l[e]=255*a;return l},i.hsl.hsv=function(e){const t=e[0];let r=e[1]/100,s=e[2]/100,n=r;const i=Math.max(s,.01);s*=2,r*=s<=1?s:2-s,n*=i<=1?i:2-i;return[t,100*(0===s?2*n/(i+n):2*r/(s+r)),100*((s+r)/2)]},i.hsv.rgb=function(e){const t=e[0]/60,r=e[1]/100;let s=e[2]/100;const n=Math.floor(t)%6,i=t-Math.floor(t),a=255*s*(1-r),o=255*s*(1-r*i),l=255*s*(1-r*(1-i));switch(s*=255,n){case 0:return[s,l,a];case 1:return[o,s,a];case 2:return[a,s,l];case 3:return[a,o,s];case 4:return[l,a,s];case 5:return[s,a,o]}},i.hsv.hsl=function(e){const t=e[0],r=e[1]/100,s=e[2]/100,n=Math.max(s,.01);let i,a;a=(2-r)*s;const o=(2-r)*n;return i=r*n,i/=o<=1?o:2-o,i=i||0,a/=2,[t,100*i,100*a]},i.hwb.rgb=function(e){const t=e[0]/360;let r=e[1]/100,s=e[2]/100;const n=r+s;let i;n>1&&(r/=n,s/=n);const a=Math.floor(6*t),o=1-s;i=6*t-a,0!=(1&a)&&(i=1-i);const l=r+i*(o-r);let c,h,u;switch(a){default:case 6:case 0:c=o,h=l,u=r;break;case 1:c=l,h=o,u=r;break;case 2:c=r,h=o,u=l;break;case 3:c=r,h=l,u=o;break;case 4:c=l,h=r,u=o;break;case 5:c=o,h=r,u=l}return[255*c,255*h,255*u]},i.cmyk.rgb=function(e){const t=e[0]/100,r=e[1]/100,s=e[2]/100,n=e[3]/100;return[255*(1-Math.min(1,t*(1-n)+n)),255*(1-Math.min(1,r*(1-n)+n)),255*(1-Math.min(1,s*(1-n)+n))]},i.xyz.rgb=function(e){const t=e[0]/100,r=e[1]/100,s=e[2]/100;let n,i,a;return n=3.2406*t+-1.5372*r+-.4986*s,i=-.9689*t+1.8758*r+.0415*s,a=.0557*t+-.204*r+1.057*s,n=n>.0031308?1.055*n**(1/2.4)-.055:12.92*n,i=i>.0031308?1.055*i**(1/2.4)-.055:12.92*i,a=a>.0031308?1.055*a**(1/2.4)-.055:12.92*a,n=Math.min(Math.max(0,n),1),i=Math.min(Math.max(0,i),1),a=Math.min(Math.max(0,a),1),[255*n,255*i,255*a]},i.xyz.lab=function(e){let t=e[0],r=e[1],s=e[2];t/=95.047,r/=100,s/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,s=s>.008856?s**(1/3):7.787*s+16/116;return[116*r-16,500*(t-r),200*(r-s)]},i.lab.xyz=function(e){let t,r,s;r=(e[0]+16)/116,t=e[1]/500+r,s=r-e[2]/200;const n=r**3,i=t**3,a=s**3;return r=n>.008856?n:(r-16/116)/7.787,t=i>.008856?i:(t-16/116)/7.787,s=a>.008856?a:(s-16/116)/7.787,t*=95.047,r*=100,s*=108.883,[t,r,s]},i.lab.lch=function(e){const t=e[0],r=e[1],s=e[2];let n;n=360*Math.atan2(s,r)/2/Math.PI,n<0&&(n+=360);return[t,Math.sqrt(r*r+s*s),n]},i.lch.lab=function(e){const t=e[0],r=e[1],s=e[2]/360*2*Math.PI;return[t,r*Math.cos(s),r*Math.sin(s)]},i.rgb.ansi16=function(e,t=null){const[r,s,n]=e;let a=null===t?i.rgb.hsv(e)[2]:t;if(a=Math.round(a/50),0===a)return 30;let o=30+(Math.round(n/255)<<2|Math.round(s/255)<<1|Math.round(r/255));return 2===a&&(o+=60),o},i.hsv.ansi16=function(e){return i.rgb.ansi16(i.hsv.rgb(e),e[2])},i.rgb.ansi256=function(e){const t=e[0],r=e[1],s=e[2];if(t===r&&r===s)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;return 16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(s/255*5)},i.ansi16.rgb=function(e){let t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const r=.5*(1+~~(e>50));return[(1&t)*r*255,(t>>1&1)*r*255,(t>>2&1)*r*255]},i.ansi256.rgb=function(e){if(e>=232){const t=10*(e-232)+8;return[t,t,t]}let t;e-=16;return[Math.floor(e/36)/5*255,Math.floor((t=e%36)/6)/5*255,t%6/5*255]},i.rgb.hex=function(e){const t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},i.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let r=t[0];3===t[0].length&&(r=r.split("").map((e=>e+e)).join(""));const s=parseInt(r,16);return[s>>16&255,s>>8&255,255&s]},i.rgb.hcg=function(e){const t=e[0]/255,r=e[1]/255,s=e[2]/255,n=Math.max(Math.max(t,r),s),i=Math.min(Math.min(t,r),s),a=n-i;let o,l;return o=a<1?i/(1-a):0,l=a<=0?0:n===t?(r-s)/a%6:n===r?2+(s-t)/a:4+(t-r)/a,l/=6,l%=1,[360*l,100*a,100*o]},i.hsl.hcg=function(e){const t=e[1]/100,r=e[2]/100,s=r<.5?2*t*r:2*t*(1-r);let n=0;return s<1&&(n=(r-.5*s)/(1-s)),[e[0],100*s,100*n]},i.hsv.hcg=function(e){const t=e[1]/100,r=e[2]/100,s=t*r;let n=0;return s<1&&(n=(r-s)/(1-s)),[e[0],100*s,100*n]},i.hcg.rgb=function(e){const t=e[0]/360,r=e[1]/100,s=e[2]/100;if(0===r)return[255*s,255*s,255*s];const n=[0,0,0],i=t%1*6,a=i%1,o=1-a;let l=0;switch(Math.floor(i)){case 0:n[0]=1,n[1]=a,n[2]=0;break;case 1:n[0]=o,n[1]=1,n[2]=0;break;case 2:n[0]=0,n[1]=1,n[2]=a;break;case 3:n[0]=0,n[1]=o,n[2]=1;break;case 4:n[0]=a,n[1]=0,n[2]=1;break;default:n[0]=1,n[1]=0,n[2]=o}return l=(1-r)*s,[255*(r*n[0]+l),255*(r*n[1]+l),255*(r*n[2]+l)]},i.hcg.hsv=function(e){const t=e[1]/100,r=t+e[2]/100*(1-t);let s=0;return r>0&&(s=t/r),[e[0],100*s,100*r]},i.hcg.hsl=function(e){const t=e[1]/100,r=e[2]/100*(1-t)+.5*t;let s=0;return r>0&&r<.5?s=t/(2*r):r>=.5&&r<1&&(s=t/(2*(1-r))),[e[0],100*s,100*r]},i.hcg.hwb=function(e){const t=e[1]/100,r=t+e[2]/100*(1-t);return[e[0],100*(r-t),100*(1-r)]},i.hwb.hcg=function(e){const t=e[1]/100,r=1-e[2]/100,s=r-t;let n=0;return s<1&&(n=(r-s)/(1-s)),[e[0],100*s,100*n]},i.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},i.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},i.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},i.gray.hsl=function(e){return[0,0,e[0]]},i.gray.hsv=i.gray.hsl,i.gray.hwb=function(e){return[0,100,e[0]]},i.gray.cmyk=function(e){return[0,0,0,e[0]]},i.gray.lab=function(e){return[e[0],0,0]},i.gray.hex=function(e){const t=255&Math.round(e[0]/100*255),r=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(r.length)+r},i.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},480:(e,t,r)=>{const s=r(4696),n=r(3344),i={};Object.keys(s).forEach((e=>{i[e]={},Object.defineProperty(i[e],"channels",{value:s[e].channels}),Object.defineProperty(i[e],"labels",{value:s[e].labels});const t=n(e);Object.keys(t).forEach((r=>{const s=t[r];i[e][r]=function(e){const t=function(...t){const r=t[0];if(null==r)return r;r.length>1&&(t=r);const s=e(t);if("object"==typeof s)for(let e=s.length,t=0;t<e;t++)s[t]=Math.round(s[t]);return s};return"conversion"in e&&(t.conversion=e.conversion),t}(s),i[e][r].raw=function(e){const t=function(...t){const r=t[0];return null==r?r:(r.length>1&&(t=r),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(s)}))})),e.exports=i},3344:(e,t,r)=>{const s=r(4696);function n(e){const t=function(){const e={},t=Object.keys(s);for(let r=t.length,s=0;s<r;s++)e[t[s]]={distance:-1,parent:null};return e}(),r=[e];for(t[e].distance=0;r.length;){const e=r.pop(),n=Object.keys(s[e]);for(let s=n.length,i=0;i<s;i++){const s=n[i],a=t[s];-1===a.distance&&(a.distance=t[e].distance+1,a.parent=e,r.unshift(s))}}return t}function i(e,t){return function(r){return t(e(r))}}function a(e,t){const r=[t[e].parent,e];let n=s[t[e].parent][e],a=t[e].parent;for(;t[a].parent;)r.unshift(t[a].parent),n=i(s[t[a].parent][a],n),a=t[a].parent;return n.conversion=r,n}e.exports=function(e){const t=n(e),r={},s=Object.keys(t);for(let e=s.length,n=0;n<e;n++){const e=s[n];null!==t[e].parent&&(r[e]=a(e,t))}return r}},8452:e=>{"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},6807:(e,t,r)=>{var s=r(8452),n=r(3360),i=Object.hasOwnProperty,a=Object.create(null);for(var o in s)i.call(s,o)&&(a[s[o]]=o);var l=e.exports={to:{},get:{}};function c(e,t,r){return Math.min(Math.max(t,e),r)}function h(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}l.get=function(e){var t,r;switch(e.substring(0,3).toLowerCase()){case"hsl":t=l.get.hsl(e),r="hsl";break;case"hwb":t=l.get.hwb(e),r="hwb";break;default:t=l.get.rgb(e),r="rgb"}return t?{model:r,value:t}:null},l.get.rgb=function(e){if(!e)return null;var t,r,n,a=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(n=t[2],t=t[1],r=0;r<3;r++){var o=2*r;a[r]=parseInt(t.slice(o,o+2),16)}n&&(a[3]=parseInt(n,16)/255)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(n=(t=t[1])[3],r=0;r<3;r++)a[r]=parseInt(t[r]+t[r],16);n&&(a[3]=parseInt(n+n,16)/255)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(r=0;r<3;r++)a[r]=parseInt(t[r+1],0);t[4]&&(t[5]?a[3]=.01*parseFloat(t[4]):a[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(t=e.match(/^(\w+)$/))?"transparent"===t[1]?[0,0,0,0]:i.call(s,t[1])?((a=s[t[1]])[3]=1,a):null:null;for(r=0;r<3;r++)a[r]=Math.round(2.55*parseFloat(t[r+1]));t[4]&&(t[5]?a[3]=.01*parseFloat(t[4]):a[3]=parseFloat(t[4]))}for(r=0;r<3;r++)a[r]=c(a[r],0,255);return a[3]=c(a[3],0,1),a},l.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var r=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(r)?1:r,0,1)]}return null},l.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var r=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(r)?1:r,0,1)]}return null},l.to.hex=function(){var e=n(arguments);return"#"+h(e[0])+h(e[1])+h(e[2])+(e[3]<1?h(Math.round(255*e[3])):"")},l.to.rgb=function(){var e=n(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},l.to.rgb.percent=function(){var e=n(arguments),t=Math.round(e[0]/255*100),r=Math.round(e[1]/255*100),s=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+r+"%, "+s+"%)":"rgba("+t+"%, "+r+"%, "+s+"%, "+e[3]+")"},l.to.hsl=function(){var e=n(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},l.to.hwb=function(){var e=n(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},l.to.keyword=function(e){return a[e.slice(0,3)]}},8892:(e,t,r)=>{const s=r(6807),n=r(480),i=["keyword","gray","hex"],a={};for(const e of Object.keys(n))a[[...n[e].labels].sort().join("")]=e;const o={};function l(e,t){if(!(this instanceof l))return new l(e,t);if(t&&t in i&&(t=null),t&&!(t in n))throw new Error("Unknown model: "+t);let r,c;if(null==e)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof l)this.model=e.model,this.color=[...e.color],this.valpha=e.valpha;else if("string"==typeof e){const t=s.get(e);if(null===t)throw new Error("Unable to parse color from string: "+e);this.model=t.model,c=n[this.model].channels,this.color=t.value.slice(0,c),this.valpha="number"==typeof t.value[c]?t.value[c]:1}else if(e.length>0){this.model=t||"rgb",c=n[this.model].channels;const r=Array.prototype.slice.call(e,0,c);this.color=d(r,c),this.valpha="number"==typeof e[c]?e[c]:1}else if("number"==typeof e)this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;const t=Object.keys(e);"alpha"in e&&(t.splice(t.indexOf("alpha"),1),this.valpha="number"==typeof e.alpha?e.alpha:0);const s=t.sort().join("");if(!(s in a))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=a[s];const{labels:i}=n[this.model],o=[];for(r=0;r<i.length;r++)o.push(e[i[r]]);this.color=d(o)}if(o[this.model])for(c=n[this.model].channels,r=0;r<c;r++){const e=o[this.model][r];e&&(this.color[r]=e(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}l.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(e){let t=this.model in s.to?this:this.rgb();t=t.round("number"==typeof e?e:1);const r=1===t.valpha?t.color:[...t.color,this.valpha];return s.to[t.model](r)},percentString(e){const t=this.rgb().round("number"==typeof e?e:1),r=1===t.valpha?t.color:[...t.color,this.valpha];return s.to.rgb.percent(r)},array(){return 1===this.valpha?[...this.color]:[...this.color,this.valpha]},object(){const e={},{channels:t}=n[this.model],{labels:r}=n[this.model];for(let s=0;s<t;s++)e[r[s]]=this.color[s];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray(){const e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject(){const e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round(e){return e=Math.max(e||0,0),new l([...this.color.map(c(e)),this.valpha],this.model)},alpha(e){return void 0!==e?new l([...this.color,Math.max(0,Math.min(1,e))],this.model):this.valpha},red:h("rgb",0,u(255)),green:h("rgb",1,u(255)),blue:h("rgb",2,u(255)),hue:h(["hsl","hsv","hsl","hwb","hcg"],0,(e=>(e%360+360)%360)),saturationl:h("hsl",1,u(100)),lightness:h("hsl",2,u(100)),saturationv:h("hsv",1,u(100)),value:h("hsv",2,u(100)),chroma:h("hcg",1,u(100)),gray:h("hcg",2,u(100)),white:h("hwb",1,u(100)),wblack:h("hwb",2,u(100)),cyan:h("cmyk",0,u(100)),magenta:h("cmyk",1,u(100)),yellow:h("cmyk",2,u(100)),black:h("cmyk",3,u(100)),x:h("xyz",0,u(95.047)),y:h("xyz",1,u(100)),z:h("xyz",2,u(108.833)),l:h("lab",0,u(100)),a:h("lab",1),b:h("lab",2),keyword(e){return void 0!==e?new l(e):n[this.model].keyword(this.color)},hex(e){return void 0!==e?new l(e):s.to.hex(this.rgb().round().color)},hexa(e){if(void 0!==e)return new l(e);const t=this.rgb().round().color;let r=Math.round(255*this.valpha).toString(16).toUpperCase();return 1===r.length&&(r="0"+r),s.to.hex(t)+r},rgbNumber(){const e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity(){const e=this.rgb().color,t=[];for(const[r,s]of e.entries()){const e=s/255;t[r]=e<=.04045?e/12.92:((e+.055)/1.055)**2.4}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast(e){const t=this.luminosity(),r=e.luminosity();return t>r?(t+.05)/(r+.05):(r+.05)/(t+.05)},level(e){const t=this.contrast(e);return t>=7?"AAA":t>=4.5?"AA":""},isDark(){const e=this.rgb().color;return(2126*e[0]+7152*e[1]+722*e[2])/1e4<128},isLight(){return!this.isDark()},negate(){const e=this.rgb();for(let t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten(e){const t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken(e){const t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate(e){const t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate(e){const t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten(e){const t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken(e){const t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale(){const e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return l.rgb(t,t,t)},fade(e){return this.alpha(this.valpha-this.valpha*e)},opaquer(e){return this.alpha(this.valpha+this.valpha*e)},rotate(e){const t=this.hsl();let r=t.color[0];return r=(r+e)%360,r=r<0?360+r:r,t.color[0]=r,t},mix(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);const r=e.rgb(),s=this.rgb(),n=void 0===t?.5:t,i=2*n-1,a=r.alpha()-s.alpha(),o=((i*a==-1?i:(i+a)/(1+i*a))+1)/2,c=1-o;return l.rgb(o*r.red()+c*s.red(),o*r.green()+c*s.green(),o*r.blue()+c*s.blue(),r.alpha()*n+s.alpha()*(1-n))}};for(const e of Object.keys(n)){if(i.includes(e))continue;const{channels:t}=n[e];l.prototype[e]=function(...t){return this.model===e?new l(this):t.length>0?new l(t,e):new l([...(r=n[this.model][e].raw(this.color),Array.isArray(r)?r:[r]),this.valpha],e);var r},l[e]=function(...r){let s=r[0];return"number"==typeof s&&(s=d(r,t)),new l(s,e)}}function c(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}function h(e,t,r){e=Array.isArray(e)?e:[e];for(const s of e)(o[s]||(o[s]=[]))[t]=r;return e=e[0],function(s){let n;return void 0!==s?(r&&(s=r(s)),n=this[e](),n.color[t]=s,n):(n=this[e]().color[t],r&&(n=r(n)),n)}}function u(e){return function(t){return Math.max(0,Math.min(e,t))}}function d(e,t){for(let r=0;r<t;r++)"number"!=typeof e[r]&&(e[r]=0);return e}e.exports=l},7632:e=>{e.exports=function(e){return!(!e||"string"==typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},7820:function(module,exports,__webpack_require__){var factory;"undefined"!=typeof navigator&&(factory=function(){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(e){_useWebWorker=!!e},getWebWorker=function(){return _useWebWorker},setLocationHref=function(e){locationHref=e},getLocationHref=function(){return locationHref};function createTag(e){return document.createElement(e)}function extendPrototype(e,t){var r,s,n=e.length;for(r=0;r<n;r+=1)for(var i in s=e[r].prototype)Object.prototype.hasOwnProperty.call(s,i)&&(t.prototype[i]=s[i])}function getDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)}function createProxyFunction(e){function t(){}return t.prototype=e,t}var audioControllerFactory=function(){function e(e){this.audios=[],this.audioFactory=e,this._volume=1,this._isMuted=!1}return e.prototype={addAudio:function(e){this.audios.push(e)},pause:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].pause()},resume:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].resume()},setRate:function(e){var t,r=this.audios.length;for(t=0;t<r;t+=1)this.audios[t].setRate(e)},createAudio:function(e){return this.audioFactory?this.audioFactory(e):window.Howl?new window.Howl({src:[e]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(e){this.audioFactory=e},setVolume:function(e){this._volume=e,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].volume(this._volume*(this._isMuted?0:1))}},function(){return new e}}(),createTypedArray=function(){function e(e,t){var r,s=0,n=[];switch(e){case"int16":case"uint8c":r=1;break;default:r=1.1}for(s=0;s<t;s+=1)n.push(r);return n}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(t,r){return"float32"===t?new Float32Array(r):"int16"===t?new Int16Array(r):"uint8c"===t?new Uint8ClampedArray(r):e(t,r)}:e}();function createSizedArray(e){return Array.apply(null,{length:e})}function _typeof$6(e){return _typeof$6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$6(e)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),_shouldRoundValues=!1,bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface$1(){return{}}!function(){var e,t=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],r=t.length;for(e=0;e<r;e+=1)BMMath[t[e]]=Math[t[e]]}(),BMMath.random=Math.random,BMMath.abs=function(e){if("object"===_typeof$6(e)&&e.length){var t,r=createSizedArray(e.length),s=e.length;for(t=0;t<s;t+=1)r[t]=Math.abs(e[t]);return r}return Math.abs(e)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(e){_shouldRoundValues=!!e}function bmRnd(e){return _shouldRoundValues?Math.round(e):e}function styleDiv(e){e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.display="block",e.style.transformOrigin="0 0",e.style.webkitTransformOrigin="0 0",e.style.backfaceVisibility="visible",e.style.webkitBackfaceVisibility="visible",e.style.transformStyle="preserve-3d",e.style.webkitTransformStyle="preserve-3d",e.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(e,t,r,s){this.type=e,this.currentTime=t,this.totalTime=r,this.direction=s<0?-1:1}function BMCompleteEvent(e,t){this.type=e,this.direction=t<0?-1:1}function BMCompleteLoopEvent(e,t,r,s){this.type=e,this.currentLoop=r,this.totalLoops=t,this.direction=s<0?-1:1}function BMSegmentStartEvent(e,t,r){this.type=e,this.firstFrame=t,this.totalFrames=r}function BMDestroyEvent(e,t){this.type=e,this.target=t}function BMRenderFrameErrorEvent(e,t){this.type="renderFrameError",this.nativeError=e,this.currentTime=t}function BMConfigErrorEvent(e){this.type="configError",this.nativeError=e}function BMAnimationConfigErrorEvent(e,t){this.type=e,this.nativeError=t}var createElementID=(_count=0,function(){return idPrefix$1+"__lottie_element_"+(_count+=1)}),_count;function HSVtoRGB(e,t,r){var s,n,i,a,o,l,c,h;switch(l=r*(1-t),c=r*(1-(o=6*e-(a=Math.floor(6*e)))*t),h=r*(1-(1-o)*t),a%6){case 0:s=r,n=h,i=l;break;case 1:s=c,n=r,i=l;break;case 2:s=l,n=r,i=h;break;case 3:s=l,n=c,i=r;break;case 4:s=h,n=l,i=r;break;case 5:s=r,n=l,i=c}return[s,n,i]}function RGBtoHSV(e,t,r){var s,n=Math.max(e,t,r),i=Math.min(e,t,r),a=n-i,o=0===n?0:a/n,l=n/255;switch(n){case i:s=0;break;case e:s=t-r+a*(t<r?6:0),s/=6*a;break;case t:s=r-e+2*a,s/=6*a;break;case r:s=e-t+4*a,s/=6*a}return[s,o,l]}function addSaturationToRGB(e,t){var r=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return r[1]+=t,r[1]>1?r[1]=1:r[1]<=0&&(r[1]=0),HSVtoRGB(r[0],r[1],r[2])}function addBrightnessToRGB(e,t){var r=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return r[2]+=t,r[2]>1?r[2]=1:r[2]<0&&(r[2]=0),HSVtoRGB(r[0],r[1],r[2])}function addHueToRGB(e,t){var r=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return r[0]+=t/360,r[0]>1?r[0]-=1:r[0]<0&&(r[0]+=1),HSVtoRGB(r[0],r[1],r[2])}var rgbToHex=function(){var e,t,r=[];for(e=0;e<256;e+=1)t=e.toString(16),r[e]=1===t.length?"0"+t:t;return function(e,t,s){return e<0&&(e=0),t<0&&(t=0),s<0&&(s=0),"#"+r[e]+r[t]+r[s]}}(),setSubframeEnabled=function(e){subframeEnabled=!!e},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(e){expressionsPlugin=e},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(e){expressionsInterfaces=e},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(e){defaultCurveSegments=e},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(e){idPrefix$1=e},getIdPrefix=function(){return idPrefix$1};function createNS(e){return document.createElementNS(svgNS,e)}function _typeof$5(e){return _typeof$5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$5(e)}var dataManager=function(){var e,t,r=1,s=[],n={onmessage:function(){},postMessage:function(t){e({data:t})}},i={postMessage:function(e){n.onmessage({data:e})}};function a(){t||(t=function(t){if(window.Worker&&window.Blob&&getWebWorker()){var r=new Blob(["var _workerSelf = self; self.onmessage = ",t.toString()],{type:"text/javascript"}),s=URL.createObjectURL(r);return new Worker(s)}return e=t,n}((function(e){if(i.dataManager||(i.dataManager=function(){function e(n,i){var a,o,l,c,h,d,p=n.length;for(o=0;o<p;o+=1)if("ks"in(a=n[o])&&!a.completed){if(a.completed=!0,a.hasMask){var f=a.masksProperties;for(c=f.length,l=0;l<c;l+=1)if(f[l].pt.k.i)s(f[l].pt.k);else for(d=f[l].pt.k.length,h=0;h<d;h+=1)f[l].pt.k[h].s&&s(f[l].pt.k[h].s[0]),f[l].pt.k[h].e&&s(f[l].pt.k[h].e[0])}0===a.ty?(a.layers=t(a.refId,i),e(a.layers,i)):4===a.ty?r(a.shapes):5===a.ty&&u(a)}}function t(e,t){var r=function(e,t){for(var r=0,s=t.length;r<s;){if(t[r].id===e)return t[r];r+=1}return null}(e,t);return r?r.layers.__used?JSON.parse(JSON.stringify(r.layers)):(r.layers.__used=!0,r.layers):null}function r(e){var t,n,i;for(t=e.length-1;t>=0;t-=1)if("sh"===e[t].ty)if(e[t].ks.k.i)s(e[t].ks.k);else for(i=e[t].ks.k.length,n=0;n<i;n+=1)e[t].ks.k[n].s&&s(e[t].ks.k[n].s[0]),e[t].ks.k[n].e&&s(e[t].ks.k[n].e[0]);else"gr"===e[t].ty&&r(e[t].it)}function s(e){var t,r=e.i.length;for(t=0;t<r;t+=1)e.i[t][0]+=e.v[t][0],e.i[t][1]+=e.v[t][1],e.o[t][0]+=e.v[t][0],e.o[t][1]+=e.v[t][1]}function n(e,t){var r=t?t.split("."):[100,100,100];return e[0]>r[0]||!(r[0]>e[0])&&(e[1]>r[1]||!(r[1]>e[1])&&(e[2]>r[2]||!(r[2]>e[2])&&null))}var i,a=function(){var e=[4,4,14];function t(e){var t,r,s,n=e.length;for(t=0;t<n;t+=1)5===e[t].ty&&(s=void 0,s=(r=e[t]).t.d,r.t.d={k:[{s,t:0}]})}return function(r){if(n(e,r.v)&&(t(r.layers),r.assets)){var s,i=r.assets.length;for(s=0;s<i;s+=1)r.assets[s].layers&&t(r.assets[s].layers)}}}(),o=(i=[4,7,99],function(e){if(e.chars&&!n(i,e.v)){var t,s=e.chars.length;for(t=0;t<s;t+=1){var a=e.chars[t];a.data&&a.data.shapes&&(r(a.data.shapes),a.data.ip=0,a.data.op=99999,a.data.st=0,a.data.sr=1,a.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},e.chars[t].t||(a.data.shapes.push({ty:"no"}),a.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}),l=function(){var e=[5,7,15];function t(e){var t,r,s=e.length;for(t=0;t<s;t+=1)5===e[t].ty&&(r=void 0,"number"==typeof(r=e[t].t.p).a&&(r.a={a:0,k:r.a}),"number"==typeof r.p&&(r.p={a:0,k:r.p}),"number"==typeof r.r&&(r.r={a:0,k:r.r}))}return function(r){if(n(e,r.v)&&(t(r.layers),r.assets)){var s,i=r.assets.length;for(s=0;s<i;s+=1)r.assets[s].layers&&t(r.assets[s].layers)}}}(),c=function(){var e=[4,1,9];function t(e){var r,s,n,i=e.length;for(r=0;r<i;r+=1)if("gr"===e[r].ty)t(e[r].it);else if("fl"===e[r].ty||"st"===e[r].ty)if(e[r].c.k&&e[r].c.k[0].i)for(n=e[r].c.k.length,s=0;s<n;s+=1)e[r].c.k[s].s&&(e[r].c.k[s].s[0]/=255,e[r].c.k[s].s[1]/=255,e[r].c.k[s].s[2]/=255,e[r].c.k[s].s[3]/=255),e[r].c.k[s].e&&(e[r].c.k[s].e[0]/=255,e[r].c.k[s].e[1]/=255,e[r].c.k[s].e[2]/=255,e[r].c.k[s].e[3]/=255);else e[r].c.k[0]/=255,e[r].c.k[1]/=255,e[r].c.k[2]/=255,e[r].c.k[3]/=255}function r(e){var r,s=e.length;for(r=0;r<s;r+=1)4===e[r].ty&&t(e[r].shapes)}return function(t){if(n(e,t.v)&&(r(t.layers),t.assets)){var s,i=t.assets.length;for(s=0;s<i;s+=1)t.assets[s].layers&&r(t.assets[s].layers)}}}(),h=function(){var e=[4,4,18];function t(e){var r,s,n;for(r=e.length-1;r>=0;r-=1)if("sh"===e[r].ty)if(e[r].ks.k.i)e[r].ks.k.c=e[r].closed;else for(n=e[r].ks.k.length,s=0;s<n;s+=1)e[r].ks.k[s].s&&(e[r].ks.k[s].s[0].c=e[r].closed),e[r].ks.k[s].e&&(e[r].ks.k[s].e[0].c=e[r].closed);else"gr"===e[r].ty&&t(e[r].it)}function r(e){var r,s,n,i,a,o,l=e.length;for(s=0;s<l;s+=1){if((r=e[s]).hasMask){var c=r.masksProperties;for(i=c.length,n=0;n<i;n+=1)if(c[n].pt.k.i)c[n].pt.k.c=c[n].cl;else for(o=c[n].pt.k.length,a=0;a<o;a+=1)c[n].pt.k[a].s&&(c[n].pt.k[a].s[0].c=c[n].cl),c[n].pt.k[a].e&&(c[n].pt.k[a].e[0].c=c[n].cl)}4===r.ty&&t(r.shapes)}}return function(t){if(n(e,t.v)&&(r(t.layers),t.assets)){var s,i=t.assets.length;for(s=0;s<i;s+=1)t.assets[s].layers&&r(t.assets[s].layers)}}}();function u(e){0===e.t.a.length&&e.t.p}var d={completeData:function(r){r.__complete||(c(r),a(r),o(r),l(r),h(r),e(r.layers,r.assets),function(r,s){if(r){var n=0,i=r.length;for(n=0;n<i;n+=1)1===r[n].t&&(r[n].data.layers=t(r[n].data.refId,s),e(r[n].data.layers,s))}}(r.chars,r.assets),r.__complete=!0)}};return d.checkColors=c,d.checkChars=o,d.checkPathProperties=l,d.checkShapes=h,d.completeLayers=e,d}()),i.assetLoader||(i.assetLoader=function(){function e(e){var t=e.getResponseHeader("content-type");return t&&"json"===e.responseType&&-1!==t.indexOf("json")||e.response&&"object"===_typeof$5(e.response)?e.response:e.response&&"string"==typeof e.response?JSON.parse(e.response):e.responseText?JSON.parse(e.responseText):null}return{load:function(t,r,s,n){var i,a=new XMLHttpRequest;try{a.responseType="json"}catch(e){}a.onreadystatechange=function(){if(4===a.readyState)if(200===a.status)i=e(a),s(i);else try{i=e(a),s(i)}catch(e){n&&n(e)}};try{a.open(["G","E","T"].join(""),t,!0)}catch(e){a.open(["G","E","T"].join(""),r+"/"+t,!0)}a.send()}}}()),"loadAnimation"===e.data.type)i.assetLoader.load(e.data.path,e.data.fullPath,(function(t){i.dataManager.completeData(t),i.postMessage({id:e.data.id,payload:t,status:"success"})}),(function(){i.postMessage({id:e.data.id,status:"error"})}));else if("complete"===e.data.type){var t=e.data.animation;i.dataManager.completeData(t),i.postMessage({id:e.data.id,payload:t,status:"success"})}else"loadData"===e.data.type&&i.assetLoader.load(e.data.path,e.data.fullPath,(function(t){i.postMessage({id:e.data.id,payload:t,status:"success"})}),(function(){i.postMessage({id:e.data.id,status:"error"})}))})),t.onmessage=function(e){var t=e.data,r=t.id,n=s[r];s[r]=null,"success"===t.status?n.onComplete(t.payload):n.onError&&n.onError()})}function o(e,t){var n="processId_"+(r+=1);return s[n]={onComplete:e,onError:t},n}return{loadAnimation:function(e,r,s){a();var n=o(r,s);t.postMessage({type:"loadAnimation",path:e,fullPath:window.location.origin+window.location.pathname,id:n})},loadData:function(e,r,s){a();var n=o(r,s);t.postMessage({type:"loadData",path:e,fullPath:window.location.origin+window.location.pathname,id:n})},completeAnimation:function(e,r,s){a();var n=o(r,s);t.postMessage({type:"complete",animation:e,id:n})}}}(),ImagePreloader=function(){var e=function(){var e=createTag("canvas");e.width=1,e.height=1;var t=e.getContext("2d");return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),e}();function t(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function r(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function s(e,t,r){var s="";if(e.e)s=e.p;else if(t){var n=e.p;-1!==n.indexOf("images/")&&(n=n.split("/")[1]),s=t+n}else s=r,s+=e.u?e.u:"",s+=e.p;return s}function n(e){var t=0,r=setInterval(function(){(e.getBBox().width||t>500)&&(this._imageLoaded(),clearInterval(r)),t+=1}.bind(this),50)}function i(e){var t={assetData:e},r=s(e,this.assetsPath,this.path);return dataManager.loadData(r,function(e){t.img=e,this._footageLoaded()}.bind(this),function(){t.img={},this._footageLoaded()}.bind(this)),t}function a(){this._imageLoaded=t.bind(this),this._footageLoaded=r.bind(this),this.testImageLoaded=n.bind(this),this.createFootageData=i.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return a.prototype={loadAssets:function(e,t){var r;this.imagesLoadedCb=t;var s=e.length;for(r=0;r<s;r+=1)e[r].layers||(e[r].t&&"seq"!==e[r].t?3===e[r].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(e[r]))):(this.totalImages+=1,this.images.push(this._createImageData(e[r]))))},setAssetsPath:function(e){this.assetsPath=e||""},setPath:function(e){this.path=e||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(e){for(var t=0,r=this.images.length;t<r;){if(this.images[t].assetData===e)return this.images[t].img;t+=1}return null},createImgData:function(t){var r=s(t,this.assetsPath,this.path),n=createTag("img");n.crossOrigin="anonymous",n.addEventListener("load",this._imageLoaded,!1),n.addEventListener("error",function(){i.img=e,this._imageLoaded()}.bind(this),!1),n.src=r;var i={img:n,assetData:t};return i},createImageData:function(t){var r=s(t,this.assetsPath,this.path),n=createNS("image");isSafari?this.testImageLoaded(n):n.addEventListener("load",this._imageLoaded,!1),n.addEventListener("error",function(){i.img=e,this._imageLoaded()}.bind(this),!1),n.setAttributeNS("http://www.w3.org/1999/xlink","href",r),this._elementHelper.append?this._elementHelper.append(n):this._elementHelper.appendChild(n);var i={img:n,assetData:t};return i},imageLoaded:t,footageLoaded:r,setCacheType:function(e,t){"svg"===e?(this._elementHelper=t,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},a}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(e,t){if(this._cbs[e])for(var r=this._cbs[e],s=0;s<r.length;s+=1)r[s](t)},addEventListener:function(e,t){return this._cbs[e]||(this._cbs[e]=[]),this._cbs[e].push(t),function(){this.removeEventListener(e,t)}.bind(this)},removeEventListener:function(e,t){if(t){if(this._cbs[e]){for(var r=0,s=this._cbs[e].length;r<s;)this._cbs[e][r]===t&&(this._cbs[e].splice(r,1),r-=1,s-=1),r+=1;this._cbs[e].length||(this._cbs[e]=null)}}else this._cbs[e]=null}};var markerParser=function(){function e(e){for(var t,r=e.split("\r\n"),s={},n=0,i=0;i<r.length;i+=1)2===(t=r[i].split(":")).length&&(s[t[0]]=t[1].trim(),n+=1);if(0===n)throw new Error;return s}return function(t){for(var r=[],s=0;s<t.length;s+=1){var n=t[s],i={time:n.tm,duration:n.dr};try{i.payload=JSON.parse(t[s].cm)}catch(r){try{i.payload=e(t[s].cm)}catch(e){i.payload={name:t[s].cm}}}r.push(i)}return r}}(),ProjectInterface=function(){function e(e){this.compositions.push(e)}return function(){function t(e){for(var t=0,r=this.compositions.length;t<r;){if(this.compositions[t].data&&this.compositions[t].data.nm===e)return this.compositions[t].prepareFrame&&this.compositions[t].data.xt&&this.compositions[t].prepareFrame(this.currentFrame),this.compositions[t].compInterface;t+=1}return null}return t.compositions=[],t.currentFrame=0,t.registerComposition=e,t}}(),renderers={},registerRenderer=function(e,t){renderers[e]=t};function getRenderer(e){return renderers[e]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var e in renderers)if(renderers[e])return e;return""}function _typeof$4(e){return _typeof$4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$4(e)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(e){(e.wrapper||e.container)&&(this.wrapper=e.wrapper||e.container);var t="svg";e.animType?t=e.animType:e.renderer&&(t=e.renderer);var r=getRenderer(t);this.renderer=new r(this,e.rendererSettings),this.imagePreloader.setCacheType(t,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=t,""===e.loop||null===e.loop||void 0===e.loop||!0===e.loop?this.loop=!0:!1===e.loop?this.loop=!1:this.loop=parseInt(e.loop,10),this.autoplay=!("autoplay"in e)||e.autoplay,this.name=e.name?e.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(e,"autoloadSegments")||e.autoloadSegments,this.assetsPath=e.assetsPath,this.initialSegment=e.initialSegment,e.audioFactory&&this.audioController.setAudioFactory(e.audioFactory),e.animationData?this.setupAnimation(e.animationData):e.path&&(-1!==e.path.lastIndexOf("\\")?this.path=e.path.substr(0,e.path.lastIndexOf("\\")+1):this.path=e.path.substr(0,e.path.lastIndexOf("/")+1),this.fileName=e.path.substr(e.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(e.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(e){dataManager.completeAnimation(e,this.configAnimation)},AnimationItem.prototype.setData=function(e,t){t&&"object"!==_typeof$4(t)&&(t=JSON.parse(t));var r={wrapper:e,animationData:t},s=e.attributes;r.path=s.getNamedItem("data-animation-path")?s.getNamedItem("data-animation-path").value:s.getNamedItem("data-bm-path")?s.getNamedItem("data-bm-path").value:s.getNamedItem("bm-path")?s.getNamedItem("bm-path").value:"",r.animType=s.getNamedItem("data-anim-type")?s.getNamedItem("data-anim-type").value:s.getNamedItem("data-bm-type")?s.getNamedItem("data-bm-type").value:s.getNamedItem("bm-type")?s.getNamedItem("bm-type").value:s.getNamedItem("data-bm-renderer")?s.getNamedItem("data-bm-renderer").value:s.getNamedItem("bm-renderer")?s.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var n=s.getNamedItem("data-anim-loop")?s.getNamedItem("data-anim-loop").value:s.getNamedItem("data-bm-loop")?s.getNamedItem("data-bm-loop").value:s.getNamedItem("bm-loop")?s.getNamedItem("bm-loop").value:"";"false"===n?r.loop=!1:"true"===n?r.loop=!0:""!==n&&(r.loop=parseInt(n,10));var i=s.getNamedItem("data-anim-autoplay")?s.getNamedItem("data-anim-autoplay").value:s.getNamedItem("data-bm-autoplay")?s.getNamedItem("data-bm-autoplay").value:!s.getNamedItem("bm-autoplay")||s.getNamedItem("bm-autoplay").value;r.autoplay="false"!==i,r.name=s.getNamedItem("data-name")?s.getNamedItem("data-name").value:s.getNamedItem("data-bm-name")?s.getNamedItem("data-bm-name").value:s.getNamedItem("bm-name")?s.getNamedItem("bm-name").value:"","false"===(s.getNamedItem("data-anim-prerender")?s.getNamedItem("data-anim-prerender").value:s.getNamedItem("data-bm-prerender")?s.getNamedItem("data-bm-prerender").value:s.getNamedItem("bm-prerender")?s.getNamedItem("bm-prerender").value:"")&&(r.prerender=!1),r.path?this.setParams(r):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(e){e.op>this.animationData.op&&(this.animationData.op=e.op,this.totalFrames=Math.floor(e.op-this.animationData.ip));var t,r,s=this.animationData.layers,n=s.length,i=e.layers,a=i.length;for(r=0;r<a;r+=1)for(t=0;t<n;){if(s[t].id===i[r].id){s[t]=i[r];break}t+=1}if((e.chars||e.fonts)&&(this.renderer.globalData.fontManager.addChars(e.chars),this.renderer.globalData.fontManager.addFonts(e.fonts,this.renderer.globalData.defs)),e.assets)for(n=e.assets.length,t=0;t<n;t+=1)this.animationData.assets.push(e.assets[t]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(e){this.animationData=e;var t=getExpressionsPlugin();t&&t.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var e=this.animationData.segments;if(!e||0===e.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var t=e.shift();this.timeCompleted=t.time*this.frameRate;var r=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(r,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(e){if(this.renderer)try{this.animationData=e,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(e),e.assets||(e.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(e.assets),this.markers=markerParser(e.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(e){this.triggerConfigError(e)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var e=getExpressionsPlugin();e&&e.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(e,t){var r="number"==typeof e?e:void 0,s="number"==typeof t?t:void 0;this.renderer.updateContainerSize(r,s)},AnimationItem.prototype.setSubframe=function(e){this.isSubframeEnabled=!!e},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(e){this.triggerRenderFrameError(e)}},AnimationItem.prototype.play=function(e){e&&this.name!==e||!0===this.isPaused&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(e){e&&this.name!==e||!1===this.isPaused&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(e){e&&this.name!==e||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(e){e&&this.name!==e||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(e){for(var t,r=0;r<this.markers.length;r+=1)if((t=this.markers[r]).payload&&t.payload.name===e)return t;return null},AnimationItem.prototype.goToAndStop=function(e,t,r){if(!r||this.name===r){var s=Number(e);if(isNaN(s)){var n=this.getMarkerData(e);n&&this.goToAndStop(n.time,!0)}else t?this.setCurrentRawFrameValue(e):this.setCurrentRawFrameValue(e*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(e,t,r){if(!r||this.name===r){var s=Number(e);if(isNaN(s)){var n=this.getMarkerData(e);n&&(n.duration?this.playSegments([n.time,n.time+n.duration],!0):this.goToAndStop(n.time,!0))}else this.goToAndStop(s,t,r);this.play()}},AnimationItem.prototype.advanceTime=function(e){if(!0!==this.isPaused&&!1!==this.isLoaded){var t=this.currentRawFrame+e*this.frameModifier,r=!1;t>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?t>=this.totalFrames?(this.playCount+=1,this.checkSegments(t%this.totalFrames)||(this.setCurrentRawFrameValue(t%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(t):this.checkSegments(t>this.totalFrames?t%this.totalFrames:0)||(r=!0,t=this.totalFrames-1):t<0?this.checkSegments(t%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(r=!0,t=0):(this.setCurrentRawFrameValue(this.totalFrames+t%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(t),r&&(this.setCurrentRawFrameValue(t),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(e,t){this.playCount=0,e[1]<e[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=e[0]-e[1],this.timeCompleted=this.totalFrames,this.firstFrame=e[1],this.setCurrentRawFrameValue(this.totalFrames-.001-t)):e[1]>e[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=e[1]-e[0],this.timeCompleted=this.totalFrames,this.firstFrame=e[0],this.setCurrentRawFrameValue(.001+t)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(e,t){var r=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<e?r=e:this.currentRawFrame+this.firstFrame>t&&(r=t-e)),this.firstFrame=e,this.totalFrames=t-e,this.timeCompleted=this.totalFrames,-1!==r&&this.goToAndStop(r,!0)},AnimationItem.prototype.playSegments=function(e,t){if(t&&(this.segments.length=0),"object"===_typeof$4(e[0])){var r,s=e.length;for(r=0;r<s;r+=1)this.segments.push(e[r])}else this.segments.push(e);this.segments.length&&t&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(e){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),e&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(e){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),e),!0)},AnimationItem.prototype.destroy=function(e){e&&this.name!==e||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(e){this.currentRawFrame=e,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(e){this.playSpeed=e,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(e){this.playDirection=e<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(e){this.loop=e},AnimationItem.prototype.setVolume=function(e,t){t&&this.name!==t||this.audioController.setVolume(e)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(e){e&&this.name!==e||this.audioController.mute()},AnimationItem.prototype.unmute=function(e){e&&this.name!==e||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(e){var t="";if(e.e)t=e.p;else if(this.assetsPath){var r=e.p;-1!==r.indexOf("images/")&&(r=r.split("/")[1]),t=this.assetsPath+r}else t=this.path,t+=e.u?e.u:"",t+=e.p;return t},AnimationItem.prototype.getAssetData=function(e){for(var t=0,r=this.assets.length;t<r;){if(e===this.assets[t].id)return this.assets[t];t+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(e){return e?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(e,t,r){try{this.renderer.getElementByPath(e).updateDocumentData(t,r)}catch(e){}},AnimationItem.prototype.trigger=function(e){if(this._cbs&&this._cbs[e])switch(e){case"enterFrame":this.triggerEvent(e,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(e,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(e,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(e,new BMCompleteEvent(e,this.frameMult));break;case"segmentStart":this.triggerEvent(e,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(e,new BMDestroyEvent(e,this));break;default:this.triggerEvent(e)}"enterFrame"===e&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===e&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult)),"complete"===e&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(e,this.frameMult)),"segmentStart"===e&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames)),"destroy"===e&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(e,this))},AnimationItem.prototype.triggerRenderFrameError=function(e){var t=new BMRenderFrameErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)},AnimationItem.prototype.triggerConfigError=function(e){var t=new BMConfigErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)};var animationManager=function(){var e={},t=[],r=0,s=0,n=0,i=!0,a=!1;function o(e){for(var r=0,n=e.target;r<s;)t[r].animation===n&&(t.splice(r,1),r-=1,s-=1,n.isPaused||h()),r+=1}function l(e,r){if(!e)return null;for(var n=0;n<s;){if(t[n].elem===e&&null!==t[n].elem)return t[n].animation;n+=1}var i=new AnimationItem;return u(i,e),i.setData(e,r),i}function c(){n+=1,f()}function h(){n-=1}function u(e,r){e.addEventListener("destroy",o),e.addEventListener("_active",c),e.addEventListener("_idle",h),t.push({elem:r,animation:e}),s+=1}function d(e){var o,l=e-r;for(o=0;o<s;o+=1)t[o].animation.advanceTime(l);r=e,n&&!a?window.requestAnimationFrame(d):i=!0}function p(e){r=e,window.requestAnimationFrame(d)}function f(){!a&&n&&i&&(window.requestAnimationFrame(p),i=!1)}return e.registerAnimation=l,e.loadAnimation=function(e){var t=new AnimationItem;return u(t,null),t.setParams(e),t},e.setSpeed=function(e,r){var n;for(n=0;n<s;n+=1)t[n].animation.setSpeed(e,r)},e.setDirection=function(e,r){var n;for(n=0;n<s;n+=1)t[n].animation.setDirection(e,r)},e.play=function(e){var r;for(r=0;r<s;r+=1)t[r].animation.play(e)},e.pause=function(e){var r;for(r=0;r<s;r+=1)t[r].animation.pause(e)},e.stop=function(e){var r;for(r=0;r<s;r+=1)t[r].animation.stop(e)},e.togglePause=function(e){var r;for(r=0;r<s;r+=1)t[r].animation.togglePause(e)},e.searchAnimations=function(e,t,r){var s,n=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),i=n.length;for(s=0;s<i;s+=1)r&&n[s].setAttribute("data-bm-type",r),l(n[s],e);if(t&&0===i){r||(r="svg");var a=document.getElementsByTagName("body")[0];a.innerText="";var o=createTag("div");o.style.width="100%",o.style.height="100%",o.setAttribute("data-bm-type",r),a.appendChild(o),l(o,e)}},e.resize=function(){var e;for(e=0;e<s;e+=1)t[e].animation.resize()},e.goToAndStop=function(e,r,n){var i;for(i=0;i<s;i+=1)t[i].animation.goToAndStop(e,r,n)},e.destroy=function(e){var r;for(r=s-1;r>=0;r-=1)t[r].animation.destroy(e)},e.freeze=function(){a=!0},e.unfreeze=function(){a=!1,f()},e.setVolume=function(e,r){var n;for(n=0;n<s;n+=1)t[n].animation.setVolume(e,r)},e.mute=function(e){var r;for(r=0;r<s;r+=1)t[r].animation.mute(e)},e.unmute=function(e){var r;for(r=0;r<s;r+=1)t[r].animation.unmute(e)},e.getRegisteredAnimations=function(){var e,r=t.length,s=[];for(e=0;e<r;e+=1)s.push(t[e].animation);return s},e}(),BezierFactory=function(){var e={getBezierEasing:function(e,r,s,n,i){var a=i||("bez_"+e+"_"+r+"_"+s+"_"+n).replace(/\./g,"p");if(t[a])return t[a];var o=new h([e,r,s,n]);return t[a]=o,o}},t={},r=11,s=1/(r-1),n="function"==typeof Float32Array;function i(e,t){return 1-3*t+3*e}function a(e,t){return 3*t-6*e}function o(e){return 3*e}function l(e,t,r){return((i(t,r)*e+a(t,r))*e+o(t))*e}function c(e,t,r){return 3*i(t,r)*e*e+2*a(t,r)*e+o(t)}function h(e){this._p=e,this._mSampleValues=n?new Float32Array(r):new Array(r),this._precomputed=!1,this.get=this.get.bind(this)}return h.prototype={get:function(e){var t=this._p[0],r=this._p[1],s=this._p[2],n=this._p[3];return this._precomputed||this._precompute(),t===r&&s===n?e:0===e?0:1===e?1:l(this._getTForX(e),r,n)},_precompute:function(){var e=this._p[0],t=this._p[1],r=this._p[2],s=this._p[3];this._precomputed=!0,e===t&&r===s||this._calcSampleValues()},_calcSampleValues:function(){for(var e=this._p[0],t=this._p[2],n=0;n<r;++n)this._mSampleValues[n]=l(n*s,e,t)},_getTForX:function(e){for(var t=this._p[0],n=this._p[2],i=this._mSampleValues,a=0,o=1,h=r-1;o!==h&&i[o]<=e;++o)a+=s;var u=a+(e-i[--o])/(i[o+1]-i[o])*s,d=c(u,t,n);return d>=.001?function(e,t,r,s){for(var n=0;n<4;++n){var i=c(t,r,s);if(0===i)return t;t-=(l(t,r,s)-e)/i}return t}(e,u,t,n):0===d?u:function(e,t,r,s,n){var i,a,o=0;do{(i=l(a=t+(r-t)/2,s,n)-e)>0?r=a:t=a}while(Math.abs(i)>1e-7&&++o<10);return a}(e,a,a+s,t,n)}},e}(),pooling={double:function(e){return e.concat(createSizedArray(e.length))}},poolFactory=function(e,t,r){var s=0,n=e,i=createSizedArray(n);return{newElement:function(){return s?i[s-=1]:t()},release:function(e){s===n&&(i=pooling.double(i),n*=2),r&&r(e),i[s]=e,s+=1}}},bezierLengthPool=poolFactory(8,(function(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}})),segmentsLengthPool=poolFactory(8,(function(){return{lengths:[],totalLength:0}}),(function(e){var t,r=e.lengths.length;for(t=0;t<r;t+=1)bezierLengthPool.release(e.lengths[t]);e.lengths.length=0}));function bezFunction(){var e=Math;function t(e,t,r,s,n,i){var a=e*s+t*n+r*i-n*s-i*e-r*t;return a>-.001&&a<.001}var r=function(e,t,r,s){var n,i,a,o,l,c,h=getDefaultCurveSegments(),u=0,d=[],p=[],f=bezierLengthPool.newElement();for(a=r.length,n=0;n<h;n+=1){for(l=n/(h-1),c=0,i=0;i<a;i+=1)o=bmPow(1-l,3)*e[i]+3*bmPow(1-l,2)*l*r[i]+3*(1-l)*bmPow(l,2)*s[i]+bmPow(l,3)*t[i],d[i]=o,null!==p[i]&&(c+=bmPow(d[i]-p[i],2)),p[i]=d[i];c&&(u+=c=bmSqrt(c)),f.percents[n]=l,f.lengths[n]=u}return f.addedLength=u,f};function s(e){this.segmentLength=0,this.points=new Array(e)}function n(e,t){this.partialLength=e,this.point=t}var i,a=(i={},function(e,r,a,o){var l=(e[0]+"_"+e[1]+"_"+r[0]+"_"+r[1]+"_"+a[0]+"_"+a[1]+"_"+o[0]+"_"+o[1]).replace(/\./g,"p");if(!i[l]){var c,h,u,d,p,f,m,g=getDefaultCurveSegments(),y=0,b=null;2===e.length&&(e[0]!==r[0]||e[1]!==r[1])&&t(e[0],e[1],r[0],r[1],e[0]+a[0],e[1]+a[1])&&t(e[0],e[1],r[0],r[1],r[0]+o[0],r[1]+o[1])&&(g=2);var v=new s(g);for(u=a.length,c=0;c<g;c+=1){for(m=createSizedArray(u),p=c/(g-1),f=0,h=0;h<u;h+=1)d=bmPow(1-p,3)*e[h]+3*bmPow(1-p,2)*p*(e[h]+a[h])+3*(1-p)*bmPow(p,2)*(r[h]+o[h])+bmPow(p,3)*r[h],m[h]=d,null!==b&&(f+=bmPow(m[h]-b[h],2));y+=f=bmSqrt(f),v.points[c]=new n(f,m),b=m}v.segmentLength=y,i[l]=v}return i[l]});function o(e,t){var r=t.percents,s=t.lengths,n=r.length,i=bmFloor((n-1)*e),a=e*t.addedLength,o=0;if(i===n-1||0===i||a===s[i])return r[i];for(var l=s[i]>a?-1:1,c=!0;c;)if(s[i]<=a&&s[i+1]>a?(o=(a-s[i])/(s[i+1]-s[i]),c=!1):i+=l,i<0||i>=n-1){if(i===n-1)return r[i];c=!1}return r[i]+(r[i+1]-r[i])*o}var l=createTypedArray("float32",8);return{getSegmentsLength:function(e){var t,s=segmentsLengthPool.newElement(),n=e.c,i=e.v,a=e.o,o=e.i,l=e._length,c=s.lengths,h=0;for(t=0;t<l-1;t+=1)c[t]=r(i[t],i[t+1],a[t],o[t+1]),h+=c[t].addedLength;return n&&l&&(c[t]=r(i[t],i[0],a[t],o[0]),h+=c[t].addedLength),s.totalLength=h,s},getNewSegment:function(t,r,s,n,i,a,c){i<0?i=0:i>1&&(i=1);var h,u=o(i,c),d=o(a=a>1?1:a,c),p=t.length,f=1-u,m=1-d,g=f*f*f,y=u*f*f*3,b=u*u*f*3,v=u*u*u,w=f*f*m,A=u*f*m+f*u*m+f*f*d,k=u*u*m+f*u*d+u*f*d,E=u*u*d,x=f*m*m,P=u*m*m+f*d*m+f*m*d,C=u*d*m+f*d*d+u*m*d,S=u*d*d,I=m*m*m,_=d*m*m+m*d*m+m*m*d,T=d*d*m+m*d*d+d*m*d,M=d*d*d;for(h=0;h<p;h+=1)l[4*h]=e.round(1e3*(g*t[h]+y*s[h]+b*n[h]+v*r[h]))/1e3,l[4*h+1]=e.round(1e3*(w*t[h]+A*s[h]+k*n[h]+E*r[h]))/1e3,l[4*h+2]=e.round(1e3*(x*t[h]+P*s[h]+C*n[h]+S*r[h]))/1e3,l[4*h+3]=e.round(1e3*(I*t[h]+_*s[h]+T*n[h]+M*r[h]))/1e3;return l},getPointInSegment:function(t,r,s,n,i,a){var l=o(i,a),c=1-l;return[e.round(1e3*(c*c*c*t[0]+(l*c*c+c*l*c+c*c*l)*s[0]+(l*l*c+c*l*l+l*c*l)*n[0]+l*l*l*r[0]))/1e3,e.round(1e3*(c*c*c*t[1]+(l*c*c+c*l*c+c*c*l)*s[1]+(l*l*c+c*l*l+l*c*l)*n[1]+l*l*l*r[1]))/1e3]},buildBezierData:a,pointOnLine2D:t,pointOnLine3D:function(r,s,n,i,a,o,l,c,h){if(0===n&&0===o&&0===h)return t(r,s,i,a,l,c);var u,d=e.sqrt(e.pow(i-r,2)+e.pow(a-s,2)+e.pow(o-n,2)),p=e.sqrt(e.pow(l-r,2)+e.pow(c-s,2)+e.pow(h-n,2)),f=e.sqrt(e.pow(l-i,2)+e.pow(c-a,2)+e.pow(h-o,2));return(u=d>p?d>f?d-p-f:f-p-d:f>p?f-p-d:p-d-f)>-1e-4&&u<1e-4}}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(e,t){var r,s=this.offsetTime;"multidimensional"===this.propType&&(r=createTypedArray("float32",this.pv.length));for(var n,i,a,o,l,c,h,u,d,p=t.lastIndex,f=p,m=this.keyframes.length-1,g=!0;g;){if(n=this.keyframes[f],i=this.keyframes[f+1],f===m-1&&e>=i.t-s){n.h&&(n=i),p=0;break}if(i.t-s>e){p=f;break}f<m-1?f+=1:(p=0,g=!1)}a=this.keyframesMetadata[f]||{};var y,b=i.t-s,v=n.t-s;if(n.to){a.bezierData||(a.bezierData=bez.buildBezierData(n.s,i.s||n.e,n.to,n.ti));var w=a.bezierData;if(e>=b||e<v){var A=e>=b?w.points.length-1:0;for(l=w.points[A].point.length,o=0;o<l;o+=1)r[o]=w.points[A].point[o]}else{a.__fnct?d=a.__fnct:(d=BezierFactory.getBezierEasing(n.o.x,n.o.y,n.i.x,n.i.y,n.n).get,a.__fnct=d),c=d((e-v)/(b-v));var k,E=w.segmentLength*c,x=t.lastFrame<e&&t._lastKeyframeIndex===f?t._lastAddedLength:0;for(u=t.lastFrame<e&&t._lastKeyframeIndex===f?t._lastPoint:0,g=!0,h=w.points.length;g;){if(x+=w.points[u].partialLength,0===E||0===c||u===w.points.length-1){for(l=w.points[u].point.length,o=0;o<l;o+=1)r[o]=w.points[u].point[o];break}if(E>=x&&E<x+w.points[u+1].partialLength){for(k=(E-x)/w.points[u+1].partialLength,l=w.points[u].point.length,o=0;o<l;o+=1)r[o]=w.points[u].point[o]+(w.points[u+1].point[o]-w.points[u].point[o])*k;break}u<h-1?u+=1:g=!1}t._lastPoint=u,t._lastAddedLength=x-w.points[u].partialLength,t._lastKeyframeIndex=f}}else{var P,C,S,I,_;if(m=n.s.length,y=i.s||n.e,this.sh&&1!==n.h)e>=b?(r[0]=y[0],r[1]=y[1],r[2]=y[2]):e<=v?(r[0]=n.s[0],r[1]=n.s[1],r[2]=n.s[2]):quaternionToEuler(r,slerp(createQuaternion(n.s),createQuaternion(y),(e-v)/(b-v)));else for(f=0;f<m;f+=1)1!==n.h&&(e>=b?c=1:e<v?c=0:(n.o.x.constructor===Array?(a.__fnct||(a.__fnct=[]),a.__fnct[f]?d=a.__fnct[f]:(P=void 0===n.o.x[f]?n.o.x[0]:n.o.x[f],C=void 0===n.o.y[f]?n.o.y[0]:n.o.y[f],S=void 0===n.i.x[f]?n.i.x[0]:n.i.x[f],I=void 0===n.i.y[f]?n.i.y[0]:n.i.y[f],d=BezierFactory.getBezierEasing(P,C,S,I).get,a.__fnct[f]=d)):a.__fnct?d=a.__fnct:(P=n.o.x,C=n.o.y,S=n.i.x,I=n.i.y,d=BezierFactory.getBezierEasing(P,C,S,I).get,n.keyframeMetadata=d),c=d((e-v)/(b-v)))),y=i.s||n.e,_=1===n.h?n.s[f]:n.s[f]+(y[f]-n.s[f])*c,"multidimensional"===this.propType?r[f]=_:r=_}return t.lastIndex=p,r}function slerp(e,t,r){var s,n,i,a,o,l=[],c=e[0],h=e[1],u=e[2],d=e[3],p=t[0],f=t[1],m=t[2],g=t[3];return(n=c*p+h*f+u*m+d*g)<0&&(n=-n,p=-p,f=-f,m=-m,g=-g),1-n>1e-6?(s=Math.acos(n),i=Math.sin(s),a=Math.sin((1-r)*s)/i,o=Math.sin(r*s)/i):(a=1-r,o=r),l[0]=a*c+o*p,l[1]=a*h+o*f,l[2]=a*u+o*m,l[3]=a*d+o*g,l}function quaternionToEuler(e,t){var r=t[0],s=t[1],n=t[2],i=t[3],a=Math.atan2(2*s*i-2*r*n,1-2*s*s-2*n*n),o=Math.asin(2*r*s+2*n*i),l=Math.atan2(2*r*i-2*s*n,1-2*r*r-2*n*n);e[0]=a/degToRads,e[1]=o/degToRads,e[2]=l/degToRads}function createQuaternion(e){var t=e[0]*degToRads,r=e[1]*degToRads,s=e[2]*degToRads,n=Math.cos(t/2),i=Math.cos(r/2),a=Math.cos(s/2),o=Math.sin(t/2),l=Math.sin(r/2),c=Math.sin(s/2);return[o*l*a+n*i*c,o*i*a+n*l*c,n*l*a-o*i*c,n*i*a-o*l*c]}function getValueAtCurrentTime(){var e=this.comp.renderedFrame-this.offsetTime,t=this.keyframes[0].t-this.offsetTime,r=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(e===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=r&&e>=r||this._caching.lastFrame<t&&e<t))){this._caching.lastFrame>=e&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var s=this.interpolateValue(e,this._caching);this.pv=s}return this._caching.lastFrame=e,this.pv}function setVValue(e){var t;if("unidimensional"===this.propType)t=e*this.mult,mathAbs(this.v-t)>1e-5&&(this.v=t,this._mdf=!0);else for(var r=0,s=this.v.length;r<s;)t=e[r]*this.mult,mathAbs(this.v[r]-t)>1e-5&&(this.v[r]=t,this._mdf=!0),r+=1}function processEffectsSequence(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var e;this.lock=!0,this._mdf=this._isFirstFrame;var t=this.effectsSequence.length,r=this.kf?this.pv:this.data.k;for(e=0;e<t;e+=1)r=this.effectsSequence[e](r);this.setVValue(r),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function ValueProperty(e,t,r,s){this.propType="unidimensional",this.mult=r||1,this.data=t,this.v=r?t.k*r:t.k,this.pv=t.k,this._mdf=!1,this.elem=e,this.container=s,this.comp=e.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(e,t,r,s){var n;this.propType="multidimensional",this.mult=r||1,this.data=t,this._mdf=!1,this.elem=e,this.container=s,this.comp=e.comp,this.k=!1,this.kf=!1,this.frameId=-1;var i=t.k.length;for(this.v=createTypedArray("float32",i),this.pv=createTypedArray("float32",i),this.vel=createTypedArray("float32",i),n=0;n<i;n+=1)this.v[n]=t.k[n]*this.mult,this.pv[n]=t.k[n];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(e,t,r,s){this.propType="unidimensional",this.keyframes=t.k,this.keyframesMetadata=[],this.offsetTime=e.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=t,this.mult=r||1,this.elem=e,this.container=s,this.comp=e.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(e,t,r,s){var n;this.propType="multidimensional";var i,a,o,l,c=t.k.length;for(n=0;n<c-1;n+=1)t.k[n].to&&t.k[n].s&&t.k[n+1]&&t.k[n+1].s&&(i=t.k[n].s,a=t.k[n+1].s,o=t.k[n].to,l=t.k[n].ti,(2===i.length&&(i[0]!==a[0]||i[1]!==a[1])&&bez.pointOnLine2D(i[0],i[1],a[0],a[1],i[0]+o[0],i[1]+o[1])&&bez.pointOnLine2D(i[0],i[1],a[0],a[1],a[0]+l[0],a[1]+l[1])||3===i.length&&(i[0]!==a[0]||i[1]!==a[1]||i[2]!==a[2])&&bez.pointOnLine3D(i[0],i[1],i[2],a[0],a[1],a[2],i[0]+o[0],i[1]+o[1],i[2]+o[2])&&bez.pointOnLine3D(i[0],i[1],i[2],a[0],a[1],a[2],a[0]+l[0],a[1]+l[1],a[2]+l[2]))&&(t.k[n].to=null,t.k[n].ti=null),i[0]===a[0]&&i[1]===a[1]&&0===o[0]&&0===o[1]&&0===l[0]&&0===l[1]&&(2===i.length||i[2]===a[2]&&0===o[2]&&0===l[2])&&(t.k[n].to=null,t.k[n].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=t,this.keyframes=t.k,this.keyframesMetadata=[],this.offsetTime=e.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=r||1,this.elem=e,this.container=s,this.comp=e.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var h=t.k[0].s.length;for(this.v=createTypedArray("float32",h),this.pv=createTypedArray("float32",h),n=0;n<h;n+=1)this.v[n]=initFrame,this.pv[n]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",h)},this.addEffect=addEffect}var PropertyFactory={getProp:function(e,t,r,s,n){var i;if(t.sid&&(t=e.globalData.slotManager.getProp(t)),t.k.length)if("number"==typeof t.k[0])i=new MultiDimensionalProperty(e,t,s,n);else switch(r){case 0:i=new KeyframedValueProperty(e,t,s,n);break;case 1:i=new KeyframedMultidimensionalProperty(e,t,s,n)}else i=new ValueProperty(e,t,s,n);return i.effectsSequence.length&&n.addDynamicProperty(i),i}};function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(e){-1===this.dynamicProperties.indexOf(e)&&(this.dynamicProperties.push(e),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var e;this._mdf=!1;var t=this.dynamicProperties.length;for(e=0;e<t;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(e){this.container=e,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=poolFactory(8,(function(){return createTypedArray("float32",2)}));function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(e,t){this.c=e,this.setLength(t);for(var r=0;r<t;)this.v[r]=pointPool.newElement(),this.o[r]=pointPool.newElement(),this.i[r]=pointPool.newElement(),r+=1},ShapePath.prototype.setLength=function(e){for(;this._maxLength<e;)this.doubleArrayLength();this._length=e},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(e,t,r,s,n){var i;switch(this._length=Math.max(this._length,s+1),this._length>=this._maxLength&&this.doubleArrayLength(),r){case"v":i=this.v;break;case"i":i=this.i;break;case"o":i=this.o;break;default:i=[]}(!i[s]||i[s]&&!n)&&(i[s]=pointPool.newElement()),i[s][0]=e,i[s][1]=t},ShapePath.prototype.setTripleAt=function(e,t,r,s,n,i,a,o){this.setXYAt(e,t,"v",a,o),this.setXYAt(r,s,"o",a,o),this.setXYAt(n,i,"i",a,o)},ShapePath.prototype.reverse=function(){var e=new ShapePath;e.setPathData(this.c,this._length);var t=this.v,r=this.o,s=this.i,n=0;this.c&&(e.setTripleAt(t[0][0],t[0][1],s[0][0],s[0][1],r[0][0],r[0][1],0,!1),n=1);var i,a=this._length-1,o=this._length;for(i=n;i<o;i+=1)e.setTripleAt(t[a][0],t[a][1],s[a][0],s[a][1],r[a][0],r[a][1],i,!1),a-=1;return e},ShapePath.prototype.length=function(){return this._length};var shapePool=(factory=poolFactory(4,(function(){return new ShapePath}),(function(e){var t,r=e._length;for(t=0;t<r;t+=1)pointPool.release(e.v[t]),pointPool.release(e.i[t]),pointPool.release(e.o[t]),e.v[t]=null,e.i[t]=null,e.o[t]=null;e._length=0,e.c=!1})),factory.clone=function(e){var t,r=factory.newElement(),s=void 0===e._length?e.v.length:e._length;for(r.setLength(s),r.c=e.c,t=0;t<s;t+=1)r.setTripleAt(e.v[t][0],e.v[t][1],e.o[t][0],e.o[t][1],e.i[t][0],e.i[t][1],t);return r},factory),factory;function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(e){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=e,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var e;for(e=0;e<this._length;e+=1)shapePool.release(this.shapes[e]);this._length=0};var shapeCollectionPool=(ob={newShapeCollection:function(){return _length?pool[_length-=1]:new ShapeCollection},release:function(e){var t,r=e._length;for(t=0;t<r;t+=1)shapePool.release(e.shapes[t]);e._length=0,_length===_maxLength&&(pool=pooling.double(pool),_maxLength*=2),pool[_length]=e,_length+=1}},_length=0,_maxLength=4,pool=createSizedArray(_maxLength),ob),ob,_length,_maxLength,pool,ShapePropertyFactory=function(){var e=-999999;function t(e,t,r){var s,n,i,a,o,l,c,h,u,d=r.lastIndex,p=this.keyframes;if(e<p[0].t-this.offsetTime)s=p[0].s[0],i=!0,d=0;else if(e>=p[p.length-1].t-this.offsetTime)s=p[p.length-1].s?p[p.length-1].s[0]:p[p.length-2].e[0],i=!0;else{for(var f,m,g,y=d,b=p.length-1,v=!0;v&&(f=p[y],!((m=p[y+1]).t-this.offsetTime>e));)y<b-1?y+=1:v=!1;if(g=this.keyframesMetadata[y]||{},d=y,!(i=1===f.h)){if(e>=m.t-this.offsetTime)h=1;else if(e<f.t-this.offsetTime)h=0;else{var w;g.__fnct?w=g.__fnct:(w=BezierFactory.getBezierEasing(f.o.x,f.o.y,f.i.x,f.i.y).get,g.__fnct=w),h=w((e-(f.t-this.offsetTime))/(m.t-this.offsetTime-(f.t-this.offsetTime)))}n=m.s?m.s[0]:f.e[0]}s=f.s[0]}for(l=t._length,c=s.i[0].length,r.lastIndex=d,a=0;a<l;a+=1)for(o=0;o<c;o+=1)u=i?s.i[a][o]:s.i[a][o]+(n.i[a][o]-s.i[a][o])*h,t.i[a][o]=u,u=i?s.o[a][o]:s.o[a][o]+(n.o[a][o]-s.o[a][o])*h,t.o[a][o]=u,u=i?s.v[a][o]:s.v[a][o]+(n.v[a][o]-s.v[a][o])*h,t.v[a][o]=u}function r(){var t=this.comp.renderedFrame-this.offsetTime,r=this.keyframes[0].t-this.offsetTime,s=this.keyframes[this.keyframes.length-1].t-this.offsetTime,n=this._caching.lastFrame;return n!==e&&(n<r&&t<r||n>s&&t>s)||(this._caching.lastIndex=n<t?this._caching.lastIndex:0,this.interpolateShape(t,this.pv,this._caching)),this._caching.lastFrame=t,this.pv}function s(){this.paths=this.localShapeCollection}function n(e){(function(e,t){if(e._length!==t._length||e.c!==t.c)return!1;var r,s=e._length;for(r=0;r<s;r+=1)if(e.v[r][0]!==t.v[r][0]||e.v[r][1]!==t.v[r][1]||e.o[r][0]!==t.o[r][0]||e.o[r][1]!==t.o[r][1]||e.i[r][0]!==t.i[r][0]||e.i[r][1]!==t.i[r][1])return!1;return!0})(this.v,e)||(this.v=shapePool.clone(e),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function i(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var e,t;this.lock=!0,this._mdf=!1,e=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var r=this.effectsSequence.length;for(t=0;t<r;t+=1)e=this.effectsSequence[t](e);this.setVValue(e),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function a(e,t,r){this.propType="shape",this.comp=e.comp,this.container=e,this.elem=e,this.data=t,this.k=!1,this.kf=!1,this._mdf=!1;var n=3===r?t.pt.k:t.ks.k;this.v=shapePool.clone(n),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=s,this.effectsSequence=[]}function o(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function l(t,n,i){this.propType="shape",this.comp=t.comp,this.elem=t,this.container=t,this.offsetTime=t.data.st,this.keyframes=3===i?n.pt.k:n.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var a=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,a),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=e,this.reset=s,this._caching={lastFrame:e,lastIndex:0},this.effectsSequence=[r.bind(this)]}a.prototype.interpolateShape=t,a.prototype.getValue=i,a.prototype.setVValue=n,a.prototype.addEffect=o,l.prototype.getValue=i,l.prototype.interpolateShape=t,l.prototype.setVValue=n,l.prototype.addEffect=o;var c=function(){var e=roundCorner;function t(e,t){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=t.d,this.elem=e,this.comp=e.comp,this.frameId=-1,this.initDynamicPropertyContainer(e),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.s=PropertyFactory.getProp(e,t.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return t.prototype={reset:s,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var t=this.p.v[0],r=this.p.v[1],s=this.s.v[0]/2,n=this.s.v[1]/2,i=3!==this.d,a=this.v;a.v[0][0]=t,a.v[0][1]=r-n,a.v[1][0]=i?t+s:t-s,a.v[1][1]=r,a.v[2][0]=t,a.v[2][1]=r+n,a.v[3][0]=i?t-s:t+s,a.v[3][1]=r,a.i[0][0]=i?t-s*e:t+s*e,a.i[0][1]=r-n,a.i[1][0]=i?t+s:t-s,a.i[1][1]=r-n*e,a.i[2][0]=i?t+s*e:t-s*e,a.i[2][1]=r+n,a.i[3][0]=i?t-s:t+s,a.i[3][1]=r+n*e,a.o[0][0]=i?t+s*e:t-s*e,a.o[0][1]=r-n,a.o[1][0]=i?t+s:t-s,a.o[1][1]=r+n*e,a.o[2][0]=i?t-s*e:t+s*e,a.o[2][1]=r+n,a.o[3][0]=i?t-s:t+s,a.o[3][1]=r-n*e}},extendPrototype([DynamicPropertyContainer],t),t}(),h=function(){function e(e,t){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=e,this.comp=e.comp,this.data=t,this.frameId=-1,this.d=t.d,this.initDynamicPropertyContainer(e),1===t.sy?(this.ir=PropertyFactory.getProp(e,t.ir,0,0,this),this.is=PropertyFactory.getProp(e,t.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(e,t.pt,0,0,this),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.r=PropertyFactory.getProp(e,t.r,0,degToRads,this),this.or=PropertyFactory.getProp(e,t.or,0,0,this),this.os=PropertyFactory.getProp(e,t.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return e.prototype={reset:s,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var e,t,r,s,n=2*Math.floor(this.pt.v),i=2*Math.PI/n,a=!0,o=this.or.v,l=this.ir.v,c=this.os.v,h=this.is.v,u=2*Math.PI*o/(2*n),d=2*Math.PI*l/(2*n),p=-Math.PI/2;p+=this.r.v;var f=3===this.data.d?-1:1;for(this.v._length=0,e=0;e<n;e+=1){r=a?c:h,s=a?u:d;var m=(t=a?o:l)*Math.cos(p),g=t*Math.sin(p),y=0===m&&0===g?0:g/Math.sqrt(m*m+g*g),b=0===m&&0===g?0:-m/Math.sqrt(m*m+g*g);m+=+this.p.v[0],g+=+this.p.v[1],this.v.setTripleAt(m,g,m-y*s*r*f,g-b*s*r*f,m+y*s*r*f,g+b*s*r*f,e,!0),a=!a,p+=i*f}},convertPolygonToPath:function(){var e,t=Math.floor(this.pt.v),r=2*Math.PI/t,s=this.or.v,n=this.os.v,i=2*Math.PI*s/(4*t),a=.5*-Math.PI,o=3===this.data.d?-1:1;for(a+=this.r.v,this.v._length=0,e=0;e<t;e+=1){var l=s*Math.cos(a),c=s*Math.sin(a),h=0===l&&0===c?0:c/Math.sqrt(l*l+c*c),u=0===l&&0===c?0:-l/Math.sqrt(l*l+c*c);l+=+this.p.v[0],c+=+this.p.v[1],this.v.setTripleAt(l,c,l-h*i*n*o,c-u*i*n*o,l+h*i*n*o,c+u*i*n*o,e,!0),a+=r*o}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],e),e}(),u=function(){function e(e,t){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=e,this.comp=e.comp,this.frameId=-1,this.d=t.d,this.initDynamicPropertyContainer(e),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.s=PropertyFactory.getProp(e,t.s,1,0,this),this.r=PropertyFactory.getProp(e,t.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return e.prototype={convertRectToPath:function(){var e=this.p.v[0],t=this.p.v[1],r=this.s.v[0]/2,s=this.s.v[1]/2,n=bmMin(r,s,this.r.v),i=n*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(e+r,t-s+n,e+r,t-s+n,e+r,t-s+i,0,!0),this.v.setTripleAt(e+r,t+s-n,e+r,t+s-i,e+r,t+s-n,1,!0),0!==n?(this.v.setTripleAt(e+r-n,t+s,e+r-n,t+s,e+r-i,t+s,2,!0),this.v.setTripleAt(e-r+n,t+s,e-r+i,t+s,e-r+n,t+s,3,!0),this.v.setTripleAt(e-r,t+s-n,e-r,t+s-n,e-r,t+s-i,4,!0),this.v.setTripleAt(e-r,t-s+n,e-r,t-s+i,e-r,t-s+n,5,!0),this.v.setTripleAt(e-r+n,t-s,e-r+n,t-s,e-r+i,t-s,6,!0),this.v.setTripleAt(e+r-n,t-s,e+r-i,t-s,e+r-n,t-s,7,!0)):(this.v.setTripleAt(e-r,t+s,e-r+i,t+s,e-r,t+s,2),this.v.setTripleAt(e-r,t-s,e-r,t-s+i,e-r,t-s,3))):(this.v.setTripleAt(e+r,t-s+n,e+r,t-s+i,e+r,t-s+n,0,!0),0!==n?(this.v.setTripleAt(e+r-n,t-s,e+r-n,t-s,e+r-i,t-s,1,!0),this.v.setTripleAt(e-r+n,t-s,e-r+i,t-s,e-r+n,t-s,2,!0),this.v.setTripleAt(e-r,t-s+n,e-r,t-s+n,e-r,t-s+i,3,!0),this.v.setTripleAt(e-r,t+s-n,e-r,t+s-i,e-r,t+s-n,4,!0),this.v.setTripleAt(e-r+n,t+s,e-r+n,t+s,e-r+i,t+s,5,!0),this.v.setTripleAt(e+r-n,t+s,e+r-i,t+s,e+r-n,t+s,6,!0),this.v.setTripleAt(e+r,t+s-n,e+r,t+s-n,e+r,t+s-i,7,!0)):(this.v.setTripleAt(e-r,t-s,e-r+i,t-s,e-r,t-s,1,!0),this.v.setTripleAt(e-r,t+s,e-r,t+s-i,e-r,t+s,2,!0),this.v.setTripleAt(e+r,t+s,e+r-i,t+s,e+r,t+s,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:s},extendPrototype([DynamicPropertyContainer],e),e}(),d={getShapeProp:function(e,t,r){var s;return 3===r||4===r?s=(3===r?t.pt:t.ks).k.length?new l(e,t,r):new a(e,t,r):5===r?s=new u(e,t):6===r?s=new c(e,t):7===r&&(s=new h(e,t)),s.k&&e.addDynamicProperty(s),s},getConstructorFunction:function(){return a},getKeyframedConstructorFunction:function(){return l}};return d}(),Matrix=function(){var e=Math.cos,t=Math.sin,r=Math.tan,s=Math.round;function n(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function i(r){if(0===r)return this;var s=e(r),n=t(r);return this._t(s,-n,0,0,n,s,0,0,0,0,1,0,0,0,0,1)}function a(r){if(0===r)return this;var s=e(r),n=t(r);return this._t(1,0,0,0,0,s,-n,0,0,n,s,0,0,0,0,1)}function o(r){if(0===r)return this;var s=e(r),n=t(r);return this._t(s,0,n,0,0,1,0,0,-n,0,s,0,0,0,0,1)}function l(r){if(0===r)return this;var s=e(r),n=t(r);return this._t(s,-n,0,0,n,s,0,0,0,0,1,0,0,0,0,1)}function c(e,t){return this._t(1,t,e,1,0,0)}function h(e,t){return this.shear(r(e),r(t))}function u(s,n){var i=e(n),a=t(n);return this._t(i,a,0,0,-a,i,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,r(s),1,0,0,0,0,1,0,0,0,0,1)._t(i,-a,0,0,a,i,0,0,0,0,1,0,0,0,0,1)}function d(e,t,r){return r||0===r||(r=1),1===e&&1===t&&1===r?this:this._t(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1)}function p(e,t,r,s,n,i,a,o,l,c,h,u,d,p,f,m){return this.props[0]=e,this.props[1]=t,this.props[2]=r,this.props[3]=s,this.props[4]=n,this.props[5]=i,this.props[6]=a,this.props[7]=o,this.props[8]=l,this.props[9]=c,this.props[10]=h,this.props[11]=u,this.props[12]=d,this.props[13]=p,this.props[14]=f,this.props[15]=m,this}function f(e,t,r){return r=r||0,0!==e||0!==t||0!==r?this._t(1,0,0,0,0,1,0,0,0,0,1,0,e,t,r,1):this}function m(e,t,r,s,n,i,a,o,l,c,h,u,d,p,f,m){var g=this.props;if(1===e&&0===t&&0===r&&0===s&&0===n&&1===i&&0===a&&0===o&&0===l&&0===c&&1===h&&0===u)return g[12]=g[12]*e+g[15]*d,g[13]=g[13]*i+g[15]*p,g[14]=g[14]*h+g[15]*f,g[15]*=m,this._identityCalculated=!1,this;var y=g[0],b=g[1],v=g[2],w=g[3],A=g[4],k=g[5],E=g[6],x=g[7],P=g[8],C=g[9],S=g[10],I=g[11],_=g[12],T=g[13],M=g[14],D=g[15];return g[0]=y*e+b*n+v*l+w*d,g[1]=y*t+b*i+v*c+w*p,g[2]=y*r+b*a+v*h+w*f,g[3]=y*s+b*o+v*u+w*m,g[4]=A*e+k*n+E*l+x*d,g[5]=A*t+k*i+E*c+x*p,g[6]=A*r+k*a+E*h+x*f,g[7]=A*s+k*o+E*u+x*m,g[8]=P*e+C*n+S*l+I*d,g[9]=P*t+C*i+S*c+I*p,g[10]=P*r+C*a+S*h+I*f,g[11]=P*s+C*o+S*u+I*m,g[12]=_*e+T*n+M*l+D*d,g[13]=_*t+T*i+M*c+D*p,g[14]=_*r+T*a+M*h+D*f,g[15]=_*s+T*o+M*u+D*m,this._identityCalculated=!1,this}function g(e){var t=e.props;return this.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function y(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function b(e){for(var t=0;t<16;){if(e.props[t]!==this.props[t])return!1;t+=1}return!0}function v(e){var t;for(t=0;t<16;t+=1)e.props[t]=this.props[t];return e}function w(e){var t;for(t=0;t<16;t+=1)this.props[t]=e[t]}function A(e,t,r){return{x:e*this.props[0]+t*this.props[4]+r*this.props[8]+this.props[12],y:e*this.props[1]+t*this.props[5]+r*this.props[9]+this.props[13],z:e*this.props[2]+t*this.props[6]+r*this.props[10]+this.props[14]}}function k(e,t,r){return e*this.props[0]+t*this.props[4]+r*this.props[8]+this.props[12]}function E(e,t,r){return e*this.props[1]+t*this.props[5]+r*this.props[9]+this.props[13]}function x(e,t,r){return e*this.props[2]+t*this.props[6]+r*this.props[10]+this.props[14]}function P(){var e=this.props[0]*this.props[5]-this.props[1]*this.props[4],t=this.props[5]/e,r=-this.props[1]/e,s=-this.props[4]/e,n=this.props[0]/e,i=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/e,a=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/e,o=new Matrix;return o.props[0]=t,o.props[1]=r,o.props[4]=s,o.props[5]=n,o.props[12]=i,o.props[13]=a,o}function C(e){return this.getInverseMatrix().applyToPointArray(e[0],e[1],e[2]||0)}function S(e){var t,r=e.length,s=[];for(t=0;t<r;t+=1)s[t]=C(e[t]);return s}function I(e,t,r){var s=createTypedArray("float32",6);if(this.isIdentity())s[0]=e[0],s[1]=e[1],s[2]=t[0],s[3]=t[1],s[4]=r[0],s[5]=r[1];else{var n=this.props[0],i=this.props[1],a=this.props[4],o=this.props[5],l=this.props[12],c=this.props[13];s[0]=e[0]*n+e[1]*a+l,s[1]=e[0]*i+e[1]*o+c,s[2]=t[0]*n+t[1]*a+l,s[3]=t[0]*i+t[1]*o+c,s[4]=r[0]*n+r[1]*a+l,s[5]=r[0]*i+r[1]*o+c}return s}function _(e,t,r){return this.isIdentity()?[e,t,r]:[e*this.props[0]+t*this.props[4]+r*this.props[8]+this.props[12],e*this.props[1]+t*this.props[5]+r*this.props[9]+this.props[13],e*this.props[2]+t*this.props[6]+r*this.props[10]+this.props[14]]}function T(e,t){if(this.isIdentity())return e+","+t;var r=this.props;return Math.round(100*(e*r[0]+t*r[4]+r[12]))/100+","+Math.round(100*(e*r[1]+t*r[5]+r[13]))/100}function M(){for(var e=0,t=this.props,r="matrix3d(";e<16;)r+=s(1e4*t[e])/1e4,r+=15===e?")":",",e+=1;return r}function D(e){return e<1e-6&&e>0||e>-1e-6&&e<0?s(1e4*e)/1e4:e}function B(){var e=this.props;return"matrix("+D(e[0])+","+D(e[1])+","+D(e[4])+","+D(e[5])+","+D(e[12])+","+D(e[13])+")"}return function(){this.reset=n,this.rotate=i,this.rotateX=a,this.rotateY=o,this.rotateZ=l,this.skew=h,this.skewFromAxis=u,this.shear=c,this.scale=d,this.setTransform=p,this.translate=f,this.transform=m,this.multiply=g,this.applyToPoint=A,this.applyToX=k,this.applyToY=E,this.applyToZ=x,this.applyToPointArray=_,this.applyToTriplePoints=I,this.applyToPointStringified=T,this.toCSS=M,this.to2dCSS=B,this.clone=v,this.cloneFromProps=w,this.equals=b,this.inversePoints=S,this.inversePoint=C,this.getInverseMatrix=P,this._t=this.transform,this.isIdentity=y,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(e){return _typeof$3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$3(e)}var lottie={},standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";function setLocation(e){setLocationHref(e)}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(e){setSubframeEnabled(e)}function setPrefix(e){setIdPrefix(e)}function loadAnimation(e){return!0===standalone&&(e.animationData=JSON.parse(animationData)),animationManager.loadAnimation(e)}function setQuality(e){if("string"==typeof e)switch(e){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10)}else!isNaN(e)&&e>1&&setDefaultCurveSegments(e);getDefaultCurveSegments()>=50?roundValues(!1):roundValues(!0)}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(e,t){"expressions"===e&&setExpressionsPlugin(t)}function getFactory(e){switch(e){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(e){for(var t=queryString.split("&"),r=0;r<t.length;r+=1){var s=t[r].split("=");if(decodeURIComponent(s[0])==e)return decodeURIComponent(s[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";var queryString="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{"object"!==_typeof$3(exports)&&__webpack_require__.amdO}catch(e){}var ShapeModifiers=function(){var e={},t={};return e.registerModifier=function(e,r){t[e]||(t[e]=r)},e.getModifier=function(e,r,s){return new t[e](r,s)},e}();function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(e){if(!this.closed){e.sh.container.addDynamicProperty(e.sh);var t={shape:e.sh,data:e,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(t),this.addShapeToModifier(t),this._isAnimated&&e.setAsAnimated()}},ShapeModifier.prototype.init=function(e,t){this.shapes=[],this.elem=e,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(e,t){this.s=PropertyFactory.getProp(e,t.s,0,.01,this),this.e=PropertyFactory.getProp(e,t.e,0,.01,this),this.o=PropertyFactory.getProp(e,t.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=t.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(e){e.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(e,t,r,s,n){var i=[];t<=1?i.push({s:e,e:t}):e>=1?i.push({s:e-1,e:t-1}):(i.push({s:e,e:1}),i.push({s:0,e:t-1}));var a,o,l=[],c=i.length;for(a=0;a<c;a+=1){var h,u;(o=i[a]).e*n<s||o.s*n>s+r||(h=o.s*n<=s?0:(o.s*n-s)/r,u=o.e*n>=s+r?1:(o.e*n-s)/r,l.push([h,u]))}return l.length||l.push([0,0]),l},TrimModifier.prototype.releasePathsData=function(e){var t,r=e.length;for(t=0;t<r;t+=1)segmentsLengthPool.release(e[t]);return e.length=0,e},TrimModifier.prototype.processShapes=function(e){var t,r,s,n;if(this._mdf||e){var i=this.o.v%360/360;if(i<0&&(i+=1),(t=this.s.v>1?1+i:this.s.v<0?0+i:this.s.v+i)>(r=this.e.v>1?1+i:this.e.v<0?0+i:this.e.v+i)){var a=t;t=r,r=a}t=1e-4*Math.round(1e4*t),r=1e-4*Math.round(1e4*r),this.sValue=t,this.eValue=r}else t=this.sValue,r=this.eValue;var o,l,c,h,u,d=this.shapes.length,p=0;if(r===t)for(n=0;n<d;n+=1)this.shapes[n].localShapeCollection.releaseShapes(),this.shapes[n].shape._mdf=!0,this.shapes[n].shape.paths=this.shapes[n].localShapeCollection,this._mdf&&(this.shapes[n].pathsData.length=0);else if(1===r&&0===t||0===r&&1===t){if(this._mdf)for(n=0;n<d;n+=1)this.shapes[n].pathsData.length=0,this.shapes[n].shape._mdf=!0}else{var f,m,g=[];for(n=0;n<d;n+=1)if((f=this.shapes[n]).shape._mdf||this._mdf||e||2===this.m){if(l=(s=f.shape.paths)._length,u=0,!f.shape._mdf&&f.pathsData.length)u=f.totalShapeLength;else{for(c=this.releasePathsData(f.pathsData),o=0;o<l;o+=1)h=bez.getSegmentsLength(s.shapes[o]),c.push(h),u+=h.totalLength;f.totalShapeLength=u,f.pathsData=c}p+=u,f.shape._mdf=!0}else f.shape.paths=f.localShapeCollection;var y,b=t,v=r,w=0;for(n=d-1;n>=0;n-=1)if((f=this.shapes[n]).shape._mdf){for((m=f.localShapeCollection).releaseShapes(),2===this.m&&d>1?(y=this.calculateShapeEdges(t,r,f.totalShapeLength,w,p),w+=f.totalShapeLength):y=[[b,v]],l=y.length,o=0;o<l;o+=1){b=y[o][0],v=y[o][1],g.length=0,v<=1?g.push({s:f.totalShapeLength*b,e:f.totalShapeLength*v}):b>=1?g.push({s:f.totalShapeLength*(b-1),e:f.totalShapeLength*(v-1)}):(g.push({s:f.totalShapeLength*b,e:f.totalShapeLength}),g.push({s:0,e:f.totalShapeLength*(v-1)}));var A=this.addShapes(f,g[0]);if(g[0].s!==g[0].e){if(g.length>1)if(f.shape.paths.shapes[f.shape.paths._length-1].c){var k=A.pop();this.addPaths(A,m),A=this.addShapes(f,g[1],k)}else this.addPaths(A,m),A=this.addShapes(f,g[1]);this.addPaths(A,m)}}f.shape.paths=m}}},TrimModifier.prototype.addPaths=function(e,t){var r,s=e.length;for(r=0;r<s;r+=1)t.addShape(e[r])},TrimModifier.prototype.addSegment=function(e,t,r,s,n,i,a){n.setXYAt(t[0],t[1],"o",i),n.setXYAt(r[0],r[1],"i",i+1),a&&n.setXYAt(e[0],e[1],"v",i),n.setXYAt(s[0],s[1],"v",i+1)},TrimModifier.prototype.addSegmentFromArray=function(e,t,r,s){t.setXYAt(e[1],e[5],"o",r),t.setXYAt(e[2],e[6],"i",r+1),s&&t.setXYAt(e[0],e[4],"v",r),t.setXYAt(e[3],e[7],"v",r+1)},TrimModifier.prototype.addShapes=function(e,t,r){var s,n,i,a,o,l,c,h,u=e.pathsData,d=e.shape.paths.shapes,p=e.shape.paths._length,f=0,m=[],g=!0;for(r?(o=r._length,h=r._length):(r=shapePool.newElement(),o=0,h=0),m.push(r),s=0;s<p;s+=1){for(l=u[s].lengths,r.c=d[s].c,i=d[s].c?l.length:l.length+1,n=1;n<i;n+=1)if(f+(a=l[n-1]).addedLength<t.s)f+=a.addedLength,r.c=!1;else{if(f>t.e){r.c=!1;break}t.s<=f&&t.e>=f+a.addedLength?(this.addSegment(d[s].v[n-1],d[s].o[n-1],d[s].i[n],d[s].v[n],r,o,g),g=!1):(c=bez.getNewSegment(d[s].v[n-1],d[s].v[n],d[s].o[n-1],d[s].i[n],(t.s-f)/a.addedLength,(t.e-f)/a.addedLength,l[n-1]),this.addSegmentFromArray(c,r,o,g),g=!1,r.c=!1),f+=a.addedLength,o+=1}if(d[s].c&&l.length){if(a=l[n-1],f<=t.e){var y=l[n-1].addedLength;t.s<=f&&t.e>=f+y?(this.addSegment(d[s].v[n-1],d[s].o[n-1],d[s].i[0],d[s].v[0],r,o,g),g=!1):(c=bez.getNewSegment(d[s].v[n-1],d[s].v[0],d[s].o[n-1],d[s].i[0],(t.s-f)/y,(t.e-f)/y,l[n-1]),this.addSegmentFromArray(c,r,o,g),g=!1,r.c=!1)}else r.c=!1;f+=a.addedLength,o+=1}if(r._length&&(r.setXYAt(r.v[h][0],r.v[h][1],"i",h),r.setXYAt(r.v[r._length-1][0],r.v[r._length-1][1],"o",r._length-1)),f>t.e)break;s<p-1&&(r=shapePool.newElement(),g=!0,m.push(r),o=0)}return m},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(e,t.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(e,t){var r=t/100,s=[0,0],n=e._length,i=0;for(i=0;i<n;i+=1)s[0]+=e.v[i][0],s[1]+=e.v[i][1];s[0]/=n,s[1]/=n;var a,o,l,c,h,u,d=shapePool.newElement();for(d.c=e.c,i=0;i<n;i+=1)a=e.v[i][0]+(s[0]-e.v[i][0])*r,o=e.v[i][1]+(s[1]-e.v[i][1])*r,l=e.o[i][0]+(s[0]-e.o[i][0])*-r,c=e.o[i][1]+(s[1]-e.o[i][1])*-r,h=e.i[i][0]+(s[0]-e.i[i][0])*-r,u=e.i[i][1]+(s[1]-e.i[i][1])*-r,d.setTripleAt(a,o,l,c,h,u,i);return d},PuckerAndBloatModifier.prototype.processShapes=function(e){var t,r,s,n,i,a,o=this.shapes.length,l=this.amount.v;if(0!==l)for(r=0;r<o;r+=1){if(a=(i=this.shapes[r]).localShapeCollection,i.shape._mdf||this._mdf||e)for(a.releaseShapes(),i.shape._mdf=!0,t=i.shape.paths.shapes,n=i.shape.paths._length,s=0;s<n;s+=1)a.addShape(this.processPath(t[s],l));i.shape.paths=i.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var e=[0,0];function t(e,t,r){if(this.elem=e,this.frameId=-1,this.propType="transform",this.data=t,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(r||e),t.p&&t.p.s?(this.px=PropertyFactory.getProp(e,t.p.x,0,0,this),this.py=PropertyFactory.getProp(e,t.p.y,0,0,this),t.p.z&&(this.pz=PropertyFactory.getProp(e,t.p.z,0,0,this))):this.p=PropertyFactory.getProp(e,t.p||{k:[0,0,0]},1,0,this),t.rx){if(this.rx=PropertyFactory.getProp(e,t.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(e,t.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(e,t.rz,0,degToRads,this),t.or.k[0].ti){var s,n=t.or.k.length;for(s=0;s<n;s+=1)t.or.k[s].to=null,t.or.k[s].ti=null}this.or=PropertyFactory.getProp(e,t.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(e,t.r||{k:0},0,degToRads,this);t.sk&&(this.sk=PropertyFactory.getProp(e,t.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(e,t.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(e,t.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(e,t.s||{k:[100,100,100]},1,.01,this),t.o?this.o=PropertyFactory.getProp(e,t.o,0,.01,e):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return t.prototype={applyToMatrix:function(e){var t=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||t,this.a&&e.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&e.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&e.skewFromAxis(-this.sk.v,this.sa.v),this.r?e.rotate(-this.r.v):e.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?e.translate(this.px.v,this.py.v,-this.pz.v):e.translate(this.px.v,this.py.v,0):e.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(t){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||t){var r;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var s,n;if(r=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(s=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/r,0),n=this.p.getValueAtTime(this.p.keyframes[0].t/r,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(s=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/r,0),n=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/r,0)):(s=this.p.pv,n=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/r,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){s=[],n=[];var i=this.px,a=this.py;i._caching.lastFrame+i.offsetTime<=i.keyframes[0].t?(s[0]=i.getValueAtTime((i.keyframes[0].t+.01)/r,0),s[1]=a.getValueAtTime((a.keyframes[0].t+.01)/r,0),n[0]=i.getValueAtTime(i.keyframes[0].t/r,0),n[1]=a.getValueAtTime(a.keyframes[0].t/r,0)):i._caching.lastFrame+i.offsetTime>=i.keyframes[i.keyframes.length-1].t?(s[0]=i.getValueAtTime(i.keyframes[i.keyframes.length-1].t/r,0),s[1]=a.getValueAtTime(a.keyframes[a.keyframes.length-1].t/r,0),n[0]=i.getValueAtTime((i.keyframes[i.keyframes.length-1].t-.01)/r,0),n[1]=a.getValueAtTime((a.keyframes[a.keyframes.length-1].t-.01)/r,0)):(s=[i.pv,a.pv],n[0]=i.getValueAtTime((i._caching.lastFrame+i.offsetTime-.01)/r,i.offsetTime),n[1]=a.getValueAtTime((a._caching.lastFrame+a.offsetTime-.01)/r,a.offsetTime))}else s=n=e;this.v.rotate(-Math.atan2(s[1]-n[1],s[0]-n[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],t),t.prototype.addDynamicProperty=function(e){this._addDynamicProperty(e),this.elem.addDynamicProperty(e),this._isDirty=!0},t.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(e,r,s){return new t(e,r,s)}}}();function RepeaterModifier(){}function RoundCornersModifier(){}function floatEqual(e,t){return 1e5*Math.abs(e-t)<=Math.min(Math.abs(e),Math.abs(t))}function floatZero(e){return Math.abs(e)<=1e-5}function lerp(e,t,r){return e*(1-r)+t*r}function lerpPoint(e,t,r){return[lerp(e[0],t[0],r),lerp(e[1],t[1],r)]}function quadRoots(e,t,r){if(0===e)return[];var s=t*t-4*e*r;if(s<0)return[];var n=-t/(2*e);if(0===s)return[n];var i=Math.sqrt(s)/(2*e);return[n-i,n+i]}function polynomialCoefficients(e,t,r,s){return[3*t-e-3*r+s,3*e-6*t+3*r,-3*e+3*t,e]}function singlePoint(e){return new PolynomialBezier(e,e,e,e,!1)}function PolynomialBezier(e,t,r,s,n){n&&pointEqual(e,t)&&(t=lerpPoint(e,s,1/3)),n&&pointEqual(r,s)&&(r=lerpPoint(e,s,2/3));var i=polynomialCoefficients(e[0],t[0],r[0],s[0]),a=polynomialCoefficients(e[1],t[1],r[1],s[1]);this.a=[i[0],a[0]],this.b=[i[1],a[1]],this.c=[i[2],a[2]],this.d=[i[3],a[3]],this.points=[e,t,r,s]}function extrema(e,t){var r=e.points[0][t],s=e.points[e.points.length-1][t];if(r>s){var n=s;s=r,r=n}for(var i=quadRoots(3*e.a[t],2*e.b[t],e.c[t]),a=0;a<i.length;a+=1)if(i[a]>0&&i[a]<1){var o=e.point(i[a])[t];o<r?r=o:o>s&&(s=o)}return{min:r,max:s}}function intersectData(e,t,r){var s=e.boundingBox();return{cx:s.cx,cy:s.cy,width:s.width,height:s.height,bez:e,t:(t+r)/2,t1:t,t2:r}}function splitData(e){var t=e.bez.split(.5);return[intersectData(t[0],e.t1,e.t),intersectData(t[1],e.t,e.t2)]}function boxIntersect(e,t){return 2*Math.abs(e.cx-t.cx)<e.width+t.width&&2*Math.abs(e.cy-t.cy)<e.height+t.height}function intersectsImpl(e,t,r,s,n,i){if(boxIntersect(e,t))if(r>=i||e.width<=s&&e.height<=s&&t.width<=s&&t.height<=s)n.push([e.t,t.t]);else{var a=splitData(e),o=splitData(t);intersectsImpl(a[0],o[0],r+1,s,n,i),intersectsImpl(a[0],o[1],r+1,s,n,i),intersectsImpl(a[1],o[0],r+1,s,n,i),intersectsImpl(a[1],o[1],r+1,s,n,i)}}function crossProduct(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function lineIntersection(e,t,r,s){var n=[e[0],e[1],1],i=[t[0],t[1],1],a=[r[0],r[1],1],o=[s[0],s[1],1],l=crossProduct(crossProduct(n,i),crossProduct(a,o));return floatZero(l[2])?null:[l[0]/l[2],l[1]/l[2]]}function polarOffset(e,t,r){return[e[0]+Math.cos(t)*r,e[1]-Math.sin(t)*r]}function pointDistance(e,t){return Math.hypot(e[0]-t[0],e[1]-t[1])}function pointEqual(e,t){return floatEqual(e[0],t[0])&&floatEqual(e[1],t[1])}function ZigZagModifier(){}function setPoint(e,t,r,s,n,i,a){var o=r-Math.PI/2,l=r+Math.PI/2,c=t[0]+Math.cos(r)*s*n,h=t[1]-Math.sin(r)*s*n;e.setTripleAt(c,h,c+Math.cos(o)*i,h-Math.sin(o)*i,c+Math.cos(l)*a,h-Math.sin(l)*a,e.length())}function getPerpendicularVector(e,t){var r=[t[0]-e[0],t[1]-e[1]],s=.5*-Math.PI;return[Math.cos(s)*r[0]-Math.sin(s)*r[1],Math.sin(s)*r[0]+Math.cos(s)*r[1]]}function getProjectingAngle(e,t){var r=0===t?e.length()-1:t-1,s=(t+1)%e.length(),n=getPerpendicularVector(e.v[r],e.v[s]);return Math.atan2(0,1)-Math.atan2(n[1],n[0])}function zigZagCorner(e,t,r,s,n,i,a){var o=getProjectingAngle(t,r),l=t.v[r%t._length],c=t.v[0===r?t._length-1:r-1],h=t.v[(r+1)%t._length],u=2===i?Math.sqrt(Math.pow(l[0]-c[0],2)+Math.pow(l[1]-c[1],2)):0,d=2===i?Math.sqrt(Math.pow(l[0]-h[0],2)+Math.pow(l[1]-h[1],2)):0;setPoint(e,t.v[r%t._length],o,a,s,d/(2*(n+1)),u/(2*(n+1)),i)}function zigZagSegment(e,t,r,s,n,i){for(var a=0;a<s;a+=1){var o=(a+1)/(s+1),l=2===n?Math.sqrt(Math.pow(t.points[3][0]-t.points[0][0],2)+Math.pow(t.points[3][1]-t.points[0][1],2)):0,c=t.normalAngle(o);setPoint(e,t.point(o),c,i,r,l/(2*(s+1)),l/(2*(s+1)),n),i=-i}return i}function linearOffset(e,t,r){var s=Math.atan2(t[0]-e[0],t[1]-e[1]);return[polarOffset(e,s,r),polarOffset(t,s,r)]}function offsetSegment(e,t){var r,s,n,i,a,o,l;r=(l=linearOffset(e.points[0],e.points[1],t))[0],s=l[1],n=(l=linearOffset(e.points[1],e.points[2],t))[0],i=l[1],a=(l=linearOffset(e.points[2],e.points[3],t))[0],o=l[1];var c=lineIntersection(r,s,n,i);null===c&&(c=s);var h=lineIntersection(a,o,n,i);return null===h&&(h=a),new PolynomialBezier(r,c,h,o)}function joinLines(e,t,r,s,n){var i=t.points[3],a=r.points[0];if(3===s)return i;if(pointEqual(i,a))return i;if(2===s){var o=-t.tangentAngle(1),l=-r.tangentAngle(0)+Math.PI,c=lineIntersection(i,polarOffset(i,o+Math.PI/2,100),a,polarOffset(a,o+Math.PI/2,100)),h=c?pointDistance(c,i):pointDistance(i,a)/2,u=polarOffset(i,o,2*h*roundCorner);return e.setXYAt(u[0],u[1],"o",e.length()-1),u=polarOffset(a,l,2*h*roundCorner),e.setTripleAt(a[0],a[1],a[0],a[1],u[0],u[1],e.length()),a}var d=lineIntersection(pointEqual(i,t.points[2])?t.points[0]:t.points[2],i,a,pointEqual(a,r.points[1])?r.points[3]:r.points[1]);return d&&pointDistance(d,i)<n?(e.setTripleAt(d[0],d[1],d[0],d[1],d[0],d[1],e.length()),d):i}function getIntersection(e,t){var r=e.intersections(t);return r.length&&floatEqual(r[0][0],1)&&r.shift(),r.length?r[0]:null}function pruneSegmentIntersection(e,t){var r=e.slice(),s=t.slice(),n=getIntersection(e[e.length-1],t[0]);return n&&(r[e.length-1]=e[e.length-1].split(n[0])[0],s[0]=t[0].split(n[1])[1]),e.length>1&&t.length>1&&(n=getIntersection(e[0],t[t.length-1]))?[[e[0].split(n[0])[0]],[t[t.length-1].split(n[1])[1]]]:[r,s]}function pruneIntersections(e){for(var t,r=1;r<e.length;r+=1)t=pruneSegmentIntersection(e[r-1],e[r]),e[r-1]=t[0],e[r]=t[1];return e.length>1&&(t=pruneSegmentIntersection(e[e.length-1],e[0]),e[e.length-1]=t[0],e[0]=t[1]),e}function offsetSegmentSplit(e,t){var r,s,n,i,a=e.inflectionPoints();if(0===a.length)return[offsetSegment(e,t)];if(1===a.length||floatEqual(a[1],1))return r=(n=e.split(a[0]))[0],s=n[1],[offsetSegment(r,t),offsetSegment(s,t)];r=(n=e.split(a[0]))[0];var o=(a[1]-a[0])/(1-a[0]);return i=(n=n[1].split(o))[0],s=n[1],[offsetSegment(r,t),offsetSegment(i,t),offsetSegment(s,t)]}function OffsetPathModifier(){}function getFontProperties(e){for(var t=e.fStyle?e.fStyle.split(" "):[],r="normal",s="normal",n=t.length,i=0;i<n;i+=1)switch(t[i].toLowerCase()){case"italic":s="italic";break;case"bold":r="700";break;case"black":r="900";break;case"medium":r="500";break;case"regular":case"normal":r="400";break;case"light":case"thin":r="200"}return{style:s,weight:e.fWeight||r}}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(e,t.c,0,null,this),this.o=PropertyFactory.getProp(e,t.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(e,t.tr,this),this.so=PropertyFactory.getProp(e,t.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(e,t.tr.eo,0,.01,this),this.data=t,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(e,t,r,s,n,i){var a=i?-1:1,o=s.s.v[0]+(1-s.s.v[0])*(1-n),l=s.s.v[1]+(1-s.s.v[1])*(1-n);e.translate(s.p.v[0]*a*n,s.p.v[1]*a*n,s.p.v[2]),t.translate(-s.a.v[0],-s.a.v[1],s.a.v[2]),t.rotate(-s.r.v*a*n),t.translate(s.a.v[0],s.a.v[1],s.a.v[2]),r.translate(-s.a.v[0],-s.a.v[1],s.a.v[2]),r.scale(i?1/o:o,i?1/l:l),r.translate(s.a.v[0],s.a.v[1],s.a.v[2])},RepeaterModifier.prototype.init=function(e,t,r,s){for(this.elem=e,this.arr=t,this.pos=r,this.elemsData=s,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t[r]);r>0;)r-=1,this._elements.unshift(t[r]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(e){var t,r=e.length;for(t=0;t<r;t+=1)e[t]._processed=!1,"gr"===e[t].ty&&this.resetElements(e[t].it)},RepeaterModifier.prototype.cloneElements=function(e){var t=JSON.parse(JSON.stringify(e));return this.resetElements(t),t},RepeaterModifier.prototype.changeGroupRender=function(e,t){var r,s=e.length;for(r=0;r<s;r+=1)e[r]._render=t,"gr"===e[r].ty&&this.changeGroupRender(e[r].it,t)},RepeaterModifier.prototype.processShapes=function(e){var t,r,s,n,i,a=!1;if(this._mdf||e){var o,l=Math.ceil(this.c.v);if(this._groups.length<l){for(;this._groups.length<l;){var c={it:this.cloneElements(this._elements),ty:"gr"};c.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,c),this._groups.splice(0,0,c),this._currentCopies+=1}this.elem.reloadShapes(),a=!0}for(i=0,s=0;s<=this._groups.length-1;s+=1){if(o=i<l,this._groups[s]._render=o,this.changeGroupRender(this._groups[s].it,o),!o){var h=this.elemsData[s].it,u=h[h.length-1];0!==u.transform.op.v?(u.transform.op._mdf=!0,u.transform.op.v=0):u.transform.op._mdf=!1}i+=1}this._currentCopies=l;var d=this.o.v,p=d%1,f=d>0?Math.floor(d):Math.ceil(d),m=this.pMatrix.props,g=this.rMatrix.props,y=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var b,v,w=0;if(d>0){for(;w<f;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),w+=1;p&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,p,!1),w+=p)}else if(d<0){for(;w>f;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),w-=1;p&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-p,!0),w-=p)}for(s=1===this.data.m?0:this._currentCopies-1,n=1===this.data.m?1:-1,i=this._currentCopies;i;){if(v=(r=(t=this.elemsData[s].it)[t.length-1].transform.mProps.v.props).length,t[t.length-1].transform.mProps._mdf=!0,t[t.length-1].transform.op._mdf=!0,t[t.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+(this.eo.v-this.so.v)*(s/(this._currentCopies-1)),0!==w){for((0!==s&&1===n||s!==this._currentCopies-1&&-1===n)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15]),this.matrix.transform(y[0],y[1],y[2],y[3],y[4],y[5],y[6],y[7],y[8],y[9],y[10],y[11],y[12],y[13],y[14],y[15]),this.matrix.transform(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15]),b=0;b<v;b+=1)r[b]=this.matrix.props[b];this.matrix.reset()}else for(this.matrix.reset(),b=0;b<v;b+=1)r[b]=this.matrix.props[b];w+=1,i-=1,s+=n}}else for(i=this._currentCopies,s=0,n=1;i;)r=(t=this.elemsData[s].it)[t.length-1].transform.mProps.v.props,t[t.length-1].transform.mProps._mdf=!1,t[t.length-1].transform.op._mdf=!1,i-=1,s+=n;return a},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(e,t.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(e,t){var r,s=shapePool.newElement();s.c=e.c;var n,i,a,o,l,c,h,u,d,p,f,m,g=e._length,y=0;for(r=0;r<g;r+=1)n=e.v[r],a=e.o[r],i=e.i[r],n[0]===a[0]&&n[1]===a[1]&&n[0]===i[0]&&n[1]===i[1]?0!==r&&r!==g-1||e.c?(o=0===r?e.v[g-1]:e.v[r-1],c=(l=Math.sqrt(Math.pow(n[0]-o[0],2)+Math.pow(n[1]-o[1],2)))?Math.min(l/2,t)/l:0,h=f=n[0]+(o[0]-n[0])*c,u=m=n[1]-(n[1]-o[1])*c,d=h-(h-n[0])*roundCorner,p=u-(u-n[1])*roundCorner,s.setTripleAt(h,u,d,p,f,m,y),y+=1,o=r===g-1?e.v[0]:e.v[r+1],c=(l=Math.sqrt(Math.pow(n[0]-o[0],2)+Math.pow(n[1]-o[1],2)))?Math.min(l/2,t)/l:0,h=d=n[0]+(o[0]-n[0])*c,u=p=n[1]+(o[1]-n[1])*c,f=h-(h-n[0])*roundCorner,m=u-(u-n[1])*roundCorner,s.setTripleAt(h,u,d,p,f,m,y),y+=1):(s.setTripleAt(n[0],n[1],a[0],a[1],i[0],i[1],y),y+=1):(s.setTripleAt(e.v[r][0],e.v[r][1],e.o[r][0],e.o[r][1],e.i[r][0],e.i[r][1],y),y+=1);return s},RoundCornersModifier.prototype.processShapes=function(e){var t,r,s,n,i,a,o=this.shapes.length,l=this.rd.v;if(0!==l)for(r=0;r<o;r+=1){if(a=(i=this.shapes[r]).localShapeCollection,i.shape._mdf||this._mdf||e)for(a.releaseShapes(),i.shape._mdf=!0,t=i.shape.paths.shapes,n=i.shape.paths._length,s=0;s<n;s+=1)a.addShape(this.processPath(t[s],l));i.shape.paths=i.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},PolynomialBezier.prototype.point=function(e){return[((this.a[0]*e+this.b[0])*e+this.c[0])*e+this.d[0],((this.a[1]*e+this.b[1])*e+this.c[1])*e+this.d[1]]},PolynomialBezier.prototype.derivative=function(e){return[(3*e*this.a[0]+2*this.b[0])*e+this.c[0],(3*e*this.a[1]+2*this.b[1])*e+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(e){var t=this.derivative(e);return Math.atan2(t[1],t[0])},PolynomialBezier.prototype.normalAngle=function(e){var t=this.derivative(e);return Math.atan2(t[0],t[1])},PolynomialBezier.prototype.inflectionPoints=function(){var e=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(e))return[];var t=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/e,r=t*t-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/e;if(r<0)return[];var s=Math.sqrt(r);return floatZero(s)?s>0&&s<1?[t]:[]:[t-s,t+s].filter((function(e){return e>0&&e<1}))},PolynomialBezier.prototype.split=function(e){if(e<=0)return[singlePoint(this.points[0]),this];if(e>=1)return[this,singlePoint(this.points[this.points.length-1])];var t=lerpPoint(this.points[0],this.points[1],e),r=lerpPoint(this.points[1],this.points[2],e),s=lerpPoint(this.points[2],this.points[3],e),n=lerpPoint(t,r,e),i=lerpPoint(r,s,e),a=lerpPoint(n,i,e);return[new PolynomialBezier(this.points[0],t,n,a,!0),new PolynomialBezier(a,i,s,this.points[3],!0)]},PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var e=this.bounds();return{left:e.x.min,right:e.x.max,top:e.y.min,bottom:e.y.max,width:e.x.max-e.x.min,height:e.y.max-e.y.min,cx:(e.x.max+e.x.min)/2,cy:(e.y.max+e.y.min)/2}},PolynomialBezier.prototype.intersections=function(e,t,r){void 0===t&&(t=2),void 0===r&&(r=7);var s=[];return intersectsImpl(intersectData(this,0,1),intersectData(e,0,1),0,t,s,r),s},PolynomialBezier.shapeSegment=function(e,t){var r=(t+1)%e.length();return new PolynomialBezier(e.v[t],e.o[t],e.i[r],e.v[r],!0)},PolynomialBezier.shapeSegmentInverted=function(e,t){var r=(t+1)%e.length();return new PolynomialBezier(e.v[r],e.i[r],e.o[t],e.v[t],!0)},extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(e,t.s,0,null,this),this.frequency=PropertyFactory.getProp(e,t.r,0,null,this),this.pointsType=PropertyFactory.getProp(e,t.pt,0,null,this),this._isAnimated=0!==this.amplitude.effectsSequence.length||0!==this.frequency.effectsSequence.length||0!==this.pointsType.effectsSequence.length},ZigZagModifier.prototype.processPath=function(e,t,r,s){var n=e._length,i=shapePool.newElement();if(i.c=e.c,e.c||(n-=1),0===n)return i;var a=-1,o=PolynomialBezier.shapeSegment(e,0);zigZagCorner(i,e,0,t,r,s,a);for(var l=0;l<n;l+=1)a=zigZagSegment(i,o,t,r,s,-a),o=l!==n-1||e.c?PolynomialBezier.shapeSegment(e,(l+1)%n):null,zigZagCorner(i,e,l+1,t,r,s,a);return i},ZigZagModifier.prototype.processShapes=function(e){var t,r,s,n,i,a,o=this.shapes.length,l=this.amplitude.v,c=Math.max(0,Math.round(this.frequency.v)),h=this.pointsType.v;if(0!==l)for(r=0;r<o;r+=1){if(a=(i=this.shapes[r]).localShapeCollection,i.shape._mdf||this._mdf||e)for(a.releaseShapes(),i.shape._mdf=!0,t=i.shape.paths.shapes,n=i.shape.paths._length,s=0;s<n;s+=1)a.addShape(this.processPath(t[s],l,c,h));i.shape.paths=i.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(e,t.a,0,null,this),this.miterLimit=PropertyFactory.getProp(e,t.ml,0,null,this),this.lineJoin=t.lj,this._isAnimated=0!==this.amount.effectsSequence.length},OffsetPathModifier.prototype.processPath=function(e,t,r,s){var n=shapePool.newElement();n.c=e.c;var i,a,o,l=e.length();e.c||(l-=1);var c=[];for(i=0;i<l;i+=1)o=PolynomialBezier.shapeSegment(e,i),c.push(offsetSegmentSplit(o,t));if(!e.c)for(i=l-1;i>=0;i-=1)o=PolynomialBezier.shapeSegmentInverted(e,i),c.push(offsetSegmentSplit(o,t));c=pruneIntersections(c);var h=null,u=null;for(i=0;i<c.length;i+=1){var d=c[i];for(u&&(h=joinLines(n,u,d[0],r,s)),u=d[d.length-1],a=0;a<d.length;a+=1)o=d[a],h&&pointEqual(o.points[0],h)?n.setXYAt(o.points[1][0],o.points[1][1],"o",n.length()-1):n.setTripleAt(o.points[0][0],o.points[0][1],o.points[1][0],o.points[1][1],o.points[0][0],o.points[0][1],n.length()),n.setTripleAt(o.points[3][0],o.points[3][1],o.points[3][0],o.points[3][1],o.points[2][0],o.points[2][1],n.length()),h=o.points[3]}return c.length&&joinLines(n,u,c[0][0],r,s),n},OffsetPathModifier.prototype.processShapes=function(e){var t,r,s,n,i,a,o=this.shapes.length,l=this.amount.v,c=this.miterLimit.v,h=this.lineJoin;if(0!==l)for(r=0;r<o;r+=1){if(a=(i=this.shapes[r]).localShapeCollection,i.shape._mdf||this._mdf||e)for(a.releaseShapes(),i.shape._mdf=!0,t=i.shape.paths.shapes,n=i.shape.paths._length,s=0;s<n;s+=1)a.addShape(this.processPath(t[s],l,h,c));i.shape.paths=i.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var FontManager=function(){var e={w:0,size:0,shapes:[],data:{shapes:[]}},t=[];t=t.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var r=127988,s=127462,n=127487,i=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function a(e,t){var r=createTag("span");r.setAttribute("aria-hidden",!0),r.style.fontFamily=t;var s=createTag("span");s.innerText="giItT1WQy@!-/#",r.style.position="absolute",r.style.left="-10000px",r.style.top="-10000px",r.style.fontSize="300px",r.style.fontVariant="normal",r.style.fontStyle="normal",r.style.fontWeight="normal",r.style.letterSpacing="0",r.appendChild(s),document.body.appendChild(r);var n=s.offsetWidth;return s.style.fontFamily=function(e){var t,r=e.split(","),s=r.length,n=[];for(t=0;t<s;t+=1)"sans-serif"!==r[t]&&"monospace"!==r[t]&&n.push(r[t]);return n.join(",")}(e)+", "+t,{node:s,w:n,parent:r}}function o(e,t){var r,s=document.body&&t?"svg":"canvas",n=getFontProperties(e);if("svg"===s){var i=createNS("text");i.style.fontSize="100px",i.setAttribute("font-family",e.fFamily),i.setAttribute("font-style",n.style),i.setAttribute("font-weight",n.weight),i.textContent="1",e.fClass?(i.style.fontFamily="inherit",i.setAttribute("class",e.fClass)):i.style.fontFamily=e.fFamily,t.appendChild(i),r=i}else{var a=new OffscreenCanvas(500,500).getContext("2d");a.font=n.style+" "+n.weight+" 100px "+e.fFamily,r=a}return{measureText:function(e){return"svg"===s?(r.textContent=e,r.getComputedTextLength()):r.measureText(e).width}}}function l(e){var t=0,r=e.charCodeAt(0);if(r>=55296&&r<=56319){var s=e.charCodeAt(1);s>=56320&&s<=57343&&(t=1024*(r-55296)+s-56320+65536)}return t}function c(e){var t=l(e);return t>=s&&t<=n}var h=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};h.isModifier=function(e,t){var r=e.toString(16)+t.toString(16);return-1!==i.indexOf(r)},h.isZeroWidthJoiner=function(e){return 8205===e},h.isFlagEmoji=function(e){return c(e.substr(0,2))&&c(e.substr(2,2))},h.isRegionalCode=c,h.isCombinedCharacter=function(e){return-1!==t.indexOf(e)},h.isRegionalFlag=function(e,t){var s=l(e.substr(t,2));if(s!==r)return!1;var n=0;for(t+=2;n<5;){if((s=l(e.substr(t,2)))<917601||s>917626)return!1;n+=1,t+=2}return 917631===l(e.substr(t,2))},h.isVariationSelector=function(e){return 65039===e},h.BLACK_FLAG_CODE_POINT=r;var u={addChars:function(e){if(e){var t;this.chars||(this.chars=[]);var r,s,n=e.length,i=this.chars.length;for(t=0;t<n;t+=1){for(r=0,s=!1;r<i;)this.chars[r].style===e[t].style&&this.chars[r].fFamily===e[t].fFamily&&this.chars[r].ch===e[t].ch&&(s=!0),r+=1;s||(this.chars.push(e[t]),i+=1)}}},addFonts:function(e,t){if(e){if(this.chars)return this.isLoaded=!0,void(this.fonts=e.list);if(!document.body)return this.isLoaded=!0,e.list.forEach((function(e){e.helper=o(e),e.cache={}})),void(this.fonts=e.list);var r,s=e.list,n=s.length,i=n;for(r=0;r<n;r+=1){var l,c,h=!0;if(s[r].loaded=!1,s[r].monoCase=a(s[r].fFamily,"monospace"),s[r].sansCase=a(s[r].fFamily,"sans-serif"),s[r].fPath){if("p"===s[r].fOrigin||3===s[r].origin){if((l=document.querySelectorAll('style[f-forigin="p"][f-family="'+s[r].fFamily+'"], style[f-origin="3"][f-family="'+s[r].fFamily+'"]')).length>0&&(h=!1),h){var u=createTag("style");u.setAttribute("f-forigin",s[r].fOrigin),u.setAttribute("f-origin",s[r].origin),u.setAttribute("f-family",s[r].fFamily),u.type="text/css",u.innerText="@font-face {font-family: "+s[r].fFamily+"; font-style: normal; src: url('"+s[r].fPath+"');}",t.appendChild(u)}}else if("g"===s[r].fOrigin||1===s[r].origin){for(l=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),c=0;c<l.length;c+=1)-1!==l[c].href.indexOf(s[r].fPath)&&(h=!1);if(h){var d=createTag("link");d.setAttribute("f-forigin",s[r].fOrigin),d.setAttribute("f-origin",s[r].origin),d.type="text/css",d.rel="stylesheet",d.href=s[r].fPath,document.body.appendChild(d)}}else if("t"===s[r].fOrigin||2===s[r].origin){for(l=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),c=0;c<l.length;c+=1)s[r].fPath===l[c].src&&(h=!1);if(h){var p=createTag("link");p.setAttribute("f-forigin",s[r].fOrigin),p.setAttribute("f-origin",s[r].origin),p.setAttribute("rel","stylesheet"),p.setAttribute("href",s[r].fPath),t.appendChild(p)}}}else s[r].loaded=!0,i-=1;s[r].helper=o(s[r],t),s[r].cache={},this.fonts.push(s[r])}0===i?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(t,r,s){for(var n=0,i=this.chars.length;n<i;){if(this.chars[n].ch===t&&this.chars[n].style===r&&this.chars[n].fFamily===s)return this.chars[n];n+=1}return("string"==typeof t&&13!==t.charCodeAt(0)||!t)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",t,r,s)),e},getFontByName:function(e){for(var t=0,r=this.fonts.length;t<r;){if(this.fonts[t].fName===e)return this.fonts[t];t+=1}return this.fonts[0]},measureText:function(e,t,r){var s=this.getFontByName(t),n=e;if(!s.cache[n]){var i=s.helper;if(" "===e){var a=i.measureText("|"+e+"|"),o=i.measureText("||");s.cache[n]=(a-o)/100}else s.cache[n]=i.measureText(e)/100}return s.cache[n]*r},checkLoadedFonts:function(){var e,t,r,s=this.fonts.length,n=s;for(e=0;e<s;e+=1)this.fonts[e].loaded?n-=1:"n"===this.fonts[e].fOrigin||0===this.fonts[e].origin?this.fonts[e].loaded=!0:(t=this.fonts[e].monoCase.node,r=this.fonts[e].monoCase.w,t.offsetWidth!==r?(n-=1,this.fonts[e].loaded=!0):(t=this.fonts[e].sansCase.node,r=this.fonts[e].sansCase.w,t.offsetWidth!==r&&(n-=1,this.fonts[e].loaded=!0)),this.fonts[e].loaded&&(this.fonts[e].sansCase.parent.parentNode.removeChild(this.fonts[e].sansCase.parent),this.fonts[e].monoCase.parent.parentNode.removeChild(this.fonts[e].monoCase.parent)));0!==n&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}};return h.prototype=u,h}();function SlotManager(e){this.animationData=e}function slotFactory(e){return new SlotManager(e)}function RenderableElement(){}SlotManager.prototype.getProp=function(e){return this.animationData.slots&&this.animationData.slots[e.sid]?Object.assign(e,this.animationData.slots[e.sid].p):e},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(e){-1===this.renderableComponents.indexOf(e)&&this.renderableComponents.push(e)},removeRenderableComponent:function(e){-1!==this.renderableComponents.indexOf(e)&&this.renderableComponents.splice(this.renderableComponents.indexOf(e),1)},prepareRenderableFrame:function(e){this.checkLayerLimits(e)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(e){this.data.ip-this.data.st<=e&&this.data.op-this.data.st>e?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var e,t=this.renderableComponents.length;for(e=0;e<t;e+=1)this.renderableComponents[e].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(e){return blendModeEnums[e]||""}),blendModeEnums;function SliderEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function AngleEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function ColorEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,1,0,r)}function PointEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,1,0,r)}function LayerIndexEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function MaskIndexEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function CheckboxEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function NoValueEffect(){this.p={}}function EffectsManager(e,t){var r,s=e.ef||[];this.effectElements=[];var n,i=s.length;for(r=0;r<i;r+=1)n=new GroupEffect(s[r],t),this.effectElements.push(n)}function GroupEffect(e,t){this.init(e,t)}function BaseElement(){}function FrameElement(){}function FootageElement(e,t,r){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(e.refId),this.footageData=t.imageLoader.getAsset(this.assetData),this.initBaseData(e,t,r)}function AudioElement(e,t,r){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(e.refId),this.initBaseData(e,t,r),this._isPlaying=!1,this._canPlay=!1;var s=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(s),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,e.au&&e.au.lv?e.au.lv:{k:[100]},1,.01,this)}function BaseRenderer(){}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(e,t){var r;this.data=e,this.effectElements=[],this.initDynamicPropertyContainer(t);var s,n=this.data.ef.length,i=this.data.ef;for(r=0;r<n;r+=1){switch(s=null,i[r].ty){case 0:s=new SliderEffect(i[r],t,this);break;case 1:s=new AngleEffect(i[r],t,this);break;case 2:s=new ColorEffect(i[r],t,this);break;case 3:s=new PointEffect(i[r],t,this);break;case 4:case 7:s=new CheckboxEffect(i[r],t,this);break;case 10:s=new LayerIndexEffect(i[r],t,this);break;case 11:s=new MaskIndexEffect(i[r],t,this);break;case 5:s=new EffectsManager(i[r],t,this);break;default:s=new NoValueEffect(i[r],t,this)}s&&this.effectElements.push(s)}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var e=0,t=this.data.masksProperties.length;e<t;){if("n"!==this.data.masksProperties[e].mode&&!1!==this.data.masksProperties[e].cl)return!0;e+=1}return!1},initExpressions:function(){var e=getExpressionInterfaces();if(e){var t=e("layer"),r=e("effects"),s=e("shape"),n=e("text"),i=e("comp");this.layerInterface=t(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var a=r.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(a),0===this.data.ty||this.data.xt?this.compInterface=i(this):4===this.data.ty?(this.layerInterface.shapeInterface=s(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=n(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var e=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=e},initBaseData:function(e,t,r){this.globalData=t,this.comp=r,this.data=e,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(e,t){var r,s=this.dynamicProperties.length;for(r=0;r<s;r+=1)(t||this._isParent&&"transform"===this.dynamicProperties[r].propType)&&(this.dynamicProperties[r].getValue(),this.dynamicProperties[r]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(e){-1===this.dynamicProperties.indexOf(e)&&this.dynamicProperties.push(e)}},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var e=getExpressionInterfaces();if(e){var t=e("footage");this.layerInterface=t(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(e){if(this.prepareRenderableFrame(e,!0),this.prepareProperties(e,!0),this.tm._placeholder)this._currentTime=e/this.data.sr;else{var t=this.tm.v;this._currentTime=t}this._volume=this.lv.v[0];var r=this._volume*this._volumeMultiplier;this._previousVolume!==r&&(this._previousVolume=r,this.audio.volume(r))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(e){this.audio.rate(e)},AudioElement.prototype.volume=function(e){this._volumeMultiplier=e,this._previousVolume=e*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(e){var t,r,s=this.layers.length;for(this.completeLayers=!0,t=s-1;t>=0;t-=1)this.elements[t]||(r=this.layers[t]).ip-r.st<=e-this.layers[t].st&&r.op-r.st>e-this.layers[t].st&&this.buildItem(t),this.completeLayers=!!this.elements[t]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(e){switch(e.ty){case 2:return this.createImage(e);case 0:return this.createComp(e);case 1:return this.createSolid(e);case 3:default:return this.createNull(e);case 4:return this.createShape(e);case 5:return this.createText(e);case 6:return this.createAudio(e);case 13:return this.createCamera(e);case 15:return this.createFootage(e)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(e){return new AudioElement(e,this.globalData,this)},BaseRenderer.prototype.createFootage=function(e){return new FootageElement(e,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.buildItem(e);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(e){var t;this.completeLayers=!1;var r,s=e.length,n=this.layers.length;for(t=0;t<s;t+=1)for(r=0;r<n;){if(this.layers[r].id===e[t].id){this.layers[r]=e[t];break}r+=1}},BaseRenderer.prototype.setProjectInterface=function(e){this.globalData.projectInterface=e},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(e,t,r){for(var s=this.elements,n=this.layers,i=0,a=n.length;i<a;)n[i].ind==t&&(s[i]&&!0!==s[i]?(r.push(s[i]),s[i].setAsParent(),void 0!==n[i].parent?this.buildElementParenting(e,n[i].parent,r):e.setHierarchy(r)):(this.buildItem(i),this.addPendingElement(e))),i+=1},BaseRenderer.prototype.addPendingElement=function(e){this.pendingElements.push(e)},BaseRenderer.prototype.searchExtraCompositions=function(e){var t,r=e.length;for(t=0;t<r;t+=1)if(e[t].xt){var s=this.createComp(e[t]);s.initExpressions(),this.globalData.projectInterface.registerComposition(s)}},BaseRenderer.prototype.getElementById=function(e){var t,r=this.elements.length;for(t=0;t<r;t+=1)if(this.elements[t].data.ind===e)return this.elements[t];return null},BaseRenderer.prototype.getElementByPath=function(e){var t,r=e.shift();if("number"==typeof r)t=this.elements[r];else{var s,n=this.elements.length;for(s=0;s<n;s+=1)if(this.elements[s].data.nm===r){t=this.elements[s];break}}return 0===e.length?t:t.getElementByPath(e)},BaseRenderer.prototype.setupGlobalData=function(e,t){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(e),this.globalData.fontManager.addChars(e.chars),this.globalData.fontManager.addFonts(e.fonts,t),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=e.fr,this.globalData.nm=e.nm,this.globalData.compSize={w:e.w,h:e.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}function MaskElement(e,t,r){this.data=e,this.element=t,this.globalData=r,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var s,n,i=this.globalData.defs,a=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(a),this.solidPath="";var o,l,c,h,u,d,p=this.masksProperties,f=0,m=[],g=createElementID(),y="clipPath",b="clip-path";for(s=0;s<a;s+=1)if(("a"!==p[s].mode&&"n"!==p[s].mode||p[s].inv||100!==p[s].o.k||p[s].o.x)&&(y="mask",b="mask"),"s"!==p[s].mode&&"i"!==p[s].mode||0!==f?c=null:((c=createNS("rect")).setAttribute("fill","#ffffff"),c.setAttribute("width",this.element.comp.data.w||0),c.setAttribute("height",this.element.comp.data.h||0),m.push(c)),n=createNS("path"),"n"===p[s].mode)this.viewData[s]={op:PropertyFactory.getProp(this.element,p[s].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[s],3),elem:n,lastPath:""},i.appendChild(n);else{var v;if(f+=1,n.setAttribute("fill","s"===p[s].mode?"#000000":"#ffffff"),n.setAttribute("clip-rule","nonzero"),0!==p[s].x.k?(y="mask",b="mask",d=PropertyFactory.getProp(this.element,p[s].x,0,null,this.element),v=createElementID(),(h=createNS("filter")).setAttribute("id",v),(u=createNS("feMorphology")).setAttribute("operator","erode"),u.setAttribute("in","SourceGraphic"),u.setAttribute("radius","0"),h.appendChild(u),i.appendChild(h),n.setAttribute("stroke","s"===p[s].mode?"#000000":"#ffffff")):(u=null,d=null),this.storedData[s]={elem:n,x:d,expan:u,lastPath:"",lastOperator:"",filterId:v,lastRadius:0},"i"===p[s].mode){l=m.length;var w=createNS("g");for(o=0;o<l;o+=1)w.appendChild(m[o]);var A=createNS("mask");A.setAttribute("mask-type","alpha"),A.setAttribute("id",g+"_"+f),A.appendChild(n),i.appendChild(A),w.setAttribute("mask","url("+getLocationHref()+"#"+g+"_"+f+")"),m.length=0,m.push(w)}else m.push(n);p[s].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[s]={elem:n,lastPath:"",op:PropertyFactory.getProp(this.element,p[s].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[s],3),invRect:c},this.viewData[s].prop.k||this.drawPath(p[s],this.viewData[s].prop.v,this.viewData[s])}for(this.maskElement=createNS(y),a=m.length,s=0;s<a;s+=1)this.maskElement.appendChild(m[s]);f>0&&(this.maskElement.setAttribute("id",g),this.element.maskedElement.setAttribute(b,"url("+getLocationHref()+"#"+g+")"),i.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}TransformElement.prototype={initTransform:function(){var e=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:e,localMat:e,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var e,t=this.finalTransform.mat,r=0,s=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;r<s;){if(this.hierarchy[r].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}r+=1}if(this.finalTransform._matMdf)for(e=this.finalTransform.mProp.v.props,t.cloneFromProps(e),r=0;r<s;r+=1)t.multiply(this.hierarchy[r].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var e=0,t=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;e<t;)this.localTransforms[e]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[e]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),e+=1;if(this.finalTransform._localMatMdf){var r=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(r),e=1;e<t;e+=1){var s=this.localTransforms[e].matrix;r.multiply(s)}r.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var n=this.finalTransform.localOpacity;for(e=0;e<t;e+=1)n*=.01*this.localTransforms[e].opacity;this.finalTransform.localOpacity=n}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var e=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(e.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var t=0,r=e.length;for(t=0;t<r;t+=1)this.localTransforms.push(e[t])}}},globalToLocal:function(e){var t=[];t.push(this.finalTransform);for(var r,s=!0,n=this.comp;s;)n.finalTransform?(n.data.hasMask&&t.splice(0,0,n.finalTransform),n=n.comp):s=!1;var i,a=t.length;for(r=0;r<a;r+=1)i=t[r].mat.applyToPointArray(0,0,0),e=[e[0]-i[0],e[1]-i[1],0];return e},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(e){return this.viewData[e].prop},MaskElement.prototype.renderFrame=function(e){var t,r=this.element.finalTransform.mat,s=this.masksProperties.length;for(t=0;t<s;t+=1)if((this.viewData[t].prop._mdf||e)&&this.drawPath(this.masksProperties[t],this.viewData[t].prop.v,this.viewData[t]),(this.viewData[t].op._mdf||e)&&this.viewData[t].elem.setAttribute("fill-opacity",this.viewData[t].op.v),"n"!==this.masksProperties[t].mode&&(this.viewData[t].invRect&&(this.element.finalTransform.mProp._mdf||e)&&this.viewData[t].invRect.setAttribute("transform",r.getInverseMatrix().to2dCSS()),this.storedData[t].x&&(this.storedData[t].x._mdf||e))){var n=this.storedData[t].expan;this.storedData[t].x.v<0?("erode"!==this.storedData[t].lastOperator&&(this.storedData[t].lastOperator="erode",this.storedData[t].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[t].filterId+")")),n.setAttribute("radius",-this.storedData[t].x.v)):("dilate"!==this.storedData[t].lastOperator&&(this.storedData[t].lastOperator="dilate",this.storedData[t].elem.setAttribute("filter",null)),this.storedData[t].elem.setAttribute("stroke-width",2*this.storedData[t].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var e="M0,0 ";return e+=" h"+this.globalData.compSize.w,e+=" v"+this.globalData.compSize.h,e+=" h-"+this.globalData.compSize.w,e+=" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(e,t,r){var s,n,i=" M"+t.v[0][0]+","+t.v[0][1];for(n=t._length,s=1;s<n;s+=1)i+=" C"+t.o[s-1][0]+","+t.o[s-1][1]+" "+t.i[s][0]+","+t.i[s][1]+" "+t.v[s][0]+","+t.v[s][1];if(t.c&&n>1&&(i+=" C"+t.o[s-1][0]+","+t.o[s-1][1]+" "+t.i[0][0]+","+t.i[0][1]+" "+t.v[0][0]+","+t.v[0][1]),r.lastPath!==i){var a="";r.elem&&(t.c&&(a=e.inv?this.solidPath+i:i),r.elem.setAttribute("d",a)),r.lastPath=i}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var e={createFilter:function(e,t){var r=createNS("filter");return r.setAttribute("id",e),!0!==t&&(r.setAttribute("filterUnits","objectBoundingBox"),r.setAttribute("x","0%"),r.setAttribute("y","0%"),r.setAttribute("width","100%"),r.setAttribute("height","100%")),r},createAlphaToLuminanceFilter:function(){var e=createNS("feColorMatrix");return e.setAttribute("type","matrix"),e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),e}};return e}(),featureSupport=function(){var e={maskType:!0,svgLumaHidden:!0,offscreenCanvas:"undefined"!=typeof OffscreenCanvas};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(e.maskType=!1),/firefox/i.test(navigator.userAgent)&&(e.svgLumaHidden=!1),e}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(e){var t,r,s="SourceGraphic",n=e.data.ef?e.data.ef.length:0,i=createElementID(),a=filtersFactory.createFilter(i,!0),o=0;for(this.filters=[],t=0;t<n;t+=1){r=null;var l=e.data.ef[t].ty;registeredEffects$1[l]&&(r=new(0,registeredEffects$1[l].effect)(a,e.effectsManager.effectElements[t],e,idPrefix+o,s),s=idPrefix+o,registeredEffects$1[l].countsAsEffect&&(o+=1)),r&&this.filters.push(r)}o&&(e.globalData.defs.appendChild(a),e.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+i+")")),this.filters.length&&e.addRenderableComponent(this)}function registerEffect$1(e,t,r){registeredEffects$1[e]={effect:t,countsAsEffect:r}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(e,t,r){this.assetData=t.getAssetData(e.refId),this.assetData&&this.assetData.sid&&(this.assetData=t.slotManager.getProp(this.assetData)),this.initElement(e,t,r),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(e,t){this.elem=e,this.pos=t}function IShapeElement(){}SVGEffects.prototype.renderFrame=function(e){var t,r=this.filters.length;for(t=0;t<r;t+=1)this.filters[t].renderFrame(e)},SVGEffects.prototype.getEffects=function(e){var t,r=this.filters.length,s=[];for(t=0;t<r;t+=1)this.filters[t].type===e&&s.push(this.filters[t]);return s},SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var e=null;if(this.data.td){this.matteMasks={};var t=createNS("g");t.setAttribute("id",this.layerId),t.appendChild(this.layerElement),e=t,this.globalData.defs.appendChild(t)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),e=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var r=createNS("clipPath"),s=createNS("path");s.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var n=createElementID();if(r.setAttribute("id",n),r.appendChild(s),this.globalData.defs.appendChild(r),this.checkMasks()){var i=createNS("g");i.setAttribute("clip-path","url("+getLocationHref()+"#"+n+")"),i.appendChild(this.layerElement),this.transformedElement=i,e?e.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+n+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(e){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[e]){var t,r,s,n,i=this.layerId+"_"+e;if(1===e||3===e){var a=createNS("mask");a.setAttribute("id",i),a.setAttribute("mask-type",3===e?"luminance":"alpha"),(s=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),a.appendChild(s),this.globalData.defs.appendChild(a),featureSupport.maskType||1!==e||(a.setAttribute("mask-type","luminance"),t=createElementID(),r=filtersFactory.createFilter(t),this.globalData.defs.appendChild(r),r.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(n=createNS("g")).appendChild(s),a.appendChild(n),n.setAttribute("filter","url("+getLocationHref()+"#"+t+")"))}else if(2===e){var o=createNS("mask");o.setAttribute("id",i),o.setAttribute("mask-type","alpha");var l=createNS("g");o.appendChild(l),t=createElementID(),r=filtersFactory.createFilter(t);var c=createNS("feComponentTransfer");c.setAttribute("in","SourceGraphic"),r.appendChild(c);var h=createNS("feFuncA");h.setAttribute("type","table"),h.setAttribute("tableValues","1.0 0.0"),c.appendChild(h),this.globalData.defs.appendChild(r);var u=createNS("rect");u.setAttribute("width",this.comp.data.w),u.setAttribute("height",this.comp.data.h),u.setAttribute("x","0"),u.setAttribute("y","0"),u.setAttribute("fill","#ffffff"),u.setAttribute("opacity","0"),l.setAttribute("filter","url("+getLocationHref()+"#"+t+")"),l.appendChild(u),(s=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),l.appendChild(s),featureSupport.maskType||(o.setAttribute("mask-type","luminance"),r.appendChild(filtersFactory.createAlphaToLuminanceFilter()),n=createNS("g"),l.appendChild(u),n.appendChild(this.layerElement),l.appendChild(n)),this.globalData.defs.appendChild(o)}this.matteMasks[e]=i}return this.matteMasks[e]},setMatte:function(e){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+e+")")}},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(e){this.hierarchy=e},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initTransform(e,t,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function(e){var t,r=this.shapeModifiers.length;for(t=0;t<r;t+=1)this.shapeModifiers[t].addShape(e)},isShapeInAnimatedModifiers:function(e){for(var t=this.shapeModifiers.length;0<t;)if(this.shapeModifiers[0].isAnimatedWithShape(e))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var e,t=this.shapes.length;for(e=0;e<t;e+=1)this.shapes[e].sh.reset();for(e=(t=this.shapeModifiers.length)-1;e>=0&&!this.shapeModifiers[e].processShapes(this._isFirstFrame);e-=1);}},searchProcessedElement:function(e){for(var t=this.processedElements,r=0,s=t.length;r<s;){if(t[r].elem===e)return t[r].pos;r+=1}return 0},addProcessedElement:function(e,t){for(var r=this.processedElements,s=r.length;s;)if(r[s-=1].elem===e)return void(r[s].pos=t);r.push(new ProcessedElement(e,t))},prepareFrame:function(e){this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(e,t,r){this.caches=[],this.styles=[],this.transformers=e,this.lStr="",this.sh=r,this.lvl=t,this._isAnimated=!!r.k;for(var s=0,n=e.length;s<n;){if(e[s].mProps.dynamicProperties.length){this._isAnimated=!0;break}s+=1}}function SVGStyleData(e,t){this.data=e,this.type=e.ty,this.d="",this.lvl=t,this._mdf=!1,this.closed=!0===e.hd,this.pElem=createNS("path"),this.msElem=null}function DashProperty(e,t,r,s){var n;this.elem=e,this.frameId=-1,this.dataProps=createSizedArray(t.length),this.renderer=r,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",t.length?t.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(s);var i,a=t.length||0;for(n=0;n<a;n+=1)i=PropertyFactory.getProp(e,t[n].v,0,0,this),this.k=i.k||this.k,this.dataProps[n]={n:t[n].n,p:i};this.k||this.getValue(!0),this._isAnimated=this.k}function SVGStrokeStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=r,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=r}function SVGNoStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.style=r}function GradientProperty(e,t,r){this.data=t,this.c=createTypedArray("uint8c",4*t.p);var s=t.k.k[0].s?t.k.k[0].s.length-4*t.p:t.k.k.length-4*t.p;this.o=createTypedArray("float32",s),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=s,this.initDynamicPropertyContainer(r),this.prop=PropertyFactory.getProp(e,t.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.initGradientData(e,t,r)}function SVGGradientStrokeStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.initGradientData(e,t,r),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(e,t,r){this.transform={mProps:e,op:t,container:r},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(e){if((this.elem.globalData.frameId!==this.frameId||e)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||e,this._mdf)){var t=0,r=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),t=0;t<r;t+=1)"o"!==this.dataProps[t].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[t].p.v:this.dashArray[t]=this.dataProps[t].p.v:this.dashoffset[0]=this.dataProps[t].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(e,t){for(var r=0,s=this.o.length/2;r<s;){if(Math.abs(e[4*r]-e[4*t+2*r])>.01)return!1;r+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var e=0,t=this.data.k.k.length;e<t;){if(!this.comparePoints(this.data.k.k[e].s,this.data.p))return!1;e+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(e){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||e){var t,r,s,n=4*this.data.p;for(t=0;t<n;t+=1)r=t%4==0?100:255,s=Math.round(this.prop.v[t]*r),this.c[t]!==s&&(this.c[t]=s,this._cmdf=!e);if(this.o.length)for(n=this.prop.v.length,t=4*this.data.p;t<n;t+=1)r=t%2==0?100:1,s=t%2==0?Math.round(100*this.prop.v[t]):this.prop.v[t],this.o[t-4*this.data.p]!==s&&(this.o[t-4*this.data.p]=s,this._omdf=!e);this._mdf=!e}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(e,t,r){this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.s=PropertyFactory.getProp(e,t.s,1,null,this),this.e=PropertyFactory.getProp(e,t.e,1,null,this),this.h=PropertyFactory.getProp(e,t.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(e,t.a||{k:0},0,degToRads,this),this.g=new GradientProperty(e,t.g,this),this.style=r,this.stops=[],this.setGradientData(r.pElem,t),this.setGradientOpacity(t,r),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(e,t){var r=createElementID(),s=createNS(1===t.t?"linearGradient":"radialGradient");s.setAttribute("id",r),s.setAttribute("spreadMethod","pad"),s.setAttribute("gradientUnits","userSpaceOnUse");var n,i,a,o=[];for(a=4*t.g.p,i=0;i<a;i+=4)n=createNS("stop"),s.appendChild(n),o.push(n);e.setAttribute("gf"===t.ty?"fill":"stroke","url("+getLocationHref()+"#"+r+")"),this.gf=s,this.cst=o},SVGGradientFillStyleData.prototype.setGradientOpacity=function(e,t){if(this.g._hasOpacity&&!this.g._collapsable){var r,s,n,i=createNS("mask"),a=createNS("path");i.appendChild(a);var o=createElementID(),l=createElementID();i.setAttribute("id",l);var c=createNS(1===e.t?"linearGradient":"radialGradient");c.setAttribute("id",o),c.setAttribute("spreadMethod","pad"),c.setAttribute("gradientUnits","userSpaceOnUse"),n=e.g.k.k[0].s?e.g.k.k[0].s.length:e.g.k.k.length;var h=this.stops;for(s=4*e.g.p;s<n;s+=2)(r=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),c.appendChild(r),h.push(r);a.setAttribute("gf"===e.ty?"fill":"stroke","url("+getLocationHref()+"#"+o+")"),"gs"===e.ty&&(a.setAttribute("stroke-linecap",lineCapEnum[e.lc||2]),a.setAttribute("stroke-linejoin",lineJoinEnum[e.lj||2]),1===e.lj&&a.setAttribute("stroke-miterlimit",e.ml)),this.of=c,this.ms=i,this.ost=h,this.maskId=l,t.msElem=a}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var buildShapeString=function(e,t,r,s){if(0===t)return"";var n,i=e.o,a=e.i,o=e.v,l=" M"+s.applyToPointStringified(o[0][0],o[0][1]);for(n=1;n<t;n+=1)l+=" C"+s.applyToPointStringified(i[n-1][0],i[n-1][1])+" "+s.applyToPointStringified(a[n][0],a[n][1])+" "+s.applyToPointStringified(o[n][0],o[n][1]);return r&&t&&(l+=" C"+s.applyToPointStringified(i[n-1][0],i[n-1][1])+" "+s.applyToPointStringified(a[0][0],a[0][1])+" "+s.applyToPointStringified(o[0][0],o[0][1]),l+="z"),l},SVGElementsRenderer=function(){var e=new Matrix,t=new Matrix;function r(e,t,r){(r||t.transform.op._mdf)&&t.transform.container.setAttribute("opacity",t.transform.op.v),(r||t.transform.mProps._mdf)&&t.transform.container.setAttribute("transform",t.transform.mProps.v.to2dCSS())}function s(){}function n(r,s,n){var i,a,o,l,c,h,u,d,p,f,m=s.styles.length,g=s.lvl;for(h=0;h<m;h+=1){if(l=s.sh._mdf||n,s.styles[h].lvl<g){for(d=t.reset(),p=g-s.styles[h].lvl,f=s.transformers.length-1;!l&&p>0;)l=s.transformers[f].mProps._mdf||l,p-=1,f-=1;if(l)for(p=g-s.styles[h].lvl,f=s.transformers.length-1;p>0;)d.multiply(s.transformers[f].mProps.v),p-=1,f-=1}else d=e;if(a=(u=s.sh.paths)._length,l){for(o="",i=0;i<a;i+=1)(c=u.shapes[i])&&c._length&&(o+=buildShapeString(c,c._length,c.c,d));s.caches[h]=o}else o=s.caches[h];s.styles[h].d+=!0===r.hd?"":o,s.styles[h]._mdf=l||s.styles[h]._mdf}}function i(e,t,r){var s=t.style;(t.c._mdf||r)&&s.pElem.setAttribute("fill","rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||r)&&s.pElem.setAttribute("fill-opacity",t.o.v)}function a(e,t,r){o(e,t,r),l(0,t,r)}function o(e,t,r){var s,n,i,a,o,l=t.gf,c=t.g._hasOpacity,h=t.s.v,u=t.e.v;if(t.o._mdf||r){var d="gf"===e.ty?"fill-opacity":"stroke-opacity";t.style.pElem.setAttribute(d,t.o.v)}if(t.s._mdf||r){var p=1===e.t?"x1":"cx",f="x1"===p?"y1":"cy";l.setAttribute(p,h[0]),l.setAttribute(f,h[1]),c&&!t.g._collapsable&&(t.of.setAttribute(p,h[0]),t.of.setAttribute(f,h[1]))}if(t.g._cmdf||r){s=t.cst;var m=t.g.c;for(i=s.length,n=0;n<i;n+=1)(a=s[n]).setAttribute("offset",m[4*n]+"%"),a.setAttribute("stop-color","rgb("+m[4*n+1]+","+m[4*n+2]+","+m[4*n+3]+")")}if(c&&(t.g._omdf||r)){var g=t.g.o;for(i=(s=t.g._collapsable?t.cst:t.ost).length,n=0;n<i;n+=1)a=s[n],t.g._collapsable||a.setAttribute("offset",g[2*n]+"%"),a.setAttribute("stop-opacity",g[2*n+1])}if(1===e.t)(t.e._mdf||r)&&(l.setAttribute("x2",u[0]),l.setAttribute("y2",u[1]),c&&!t.g._collapsable&&(t.of.setAttribute("x2",u[0]),t.of.setAttribute("y2",u[1])));else if((t.s._mdf||t.e._mdf||r)&&(o=Math.sqrt(Math.pow(h[0]-u[0],2)+Math.pow(h[1]-u[1],2)),l.setAttribute("r",o),c&&!t.g._collapsable&&t.of.setAttribute("r",o)),t.e._mdf||t.h._mdf||t.a._mdf||r){o||(o=Math.sqrt(Math.pow(h[0]-u[0],2)+Math.pow(h[1]-u[1],2)));var y=Math.atan2(u[1]-h[1],u[0]-h[0]),b=t.h.v;b>=1?b=.99:b<=-1&&(b=-.99);var v=o*b,w=Math.cos(y+t.a.v)*v+h[0],A=Math.sin(y+t.a.v)*v+h[1];l.setAttribute("fx",w),l.setAttribute("fy",A),c&&!t.g._collapsable&&(t.of.setAttribute("fx",w),t.of.setAttribute("fy",A))}}function l(e,t,r){var s=t.style,n=t.d;n&&(n._mdf||r)&&n.dashStr&&(s.pElem.setAttribute("stroke-dasharray",n.dashStr),s.pElem.setAttribute("stroke-dashoffset",n.dashoffset[0])),t.c&&(t.c._mdf||r)&&s.pElem.setAttribute("stroke","rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||r)&&s.pElem.setAttribute("stroke-opacity",t.o.v),(t.w._mdf||r)&&(s.pElem.setAttribute("stroke-width",t.w.v),s.msElem&&s.msElem.setAttribute("stroke-width",t.w.v))}return{createRenderFunction:function(e){switch(e.ty){case"fl":return i;case"gf":return o;case"gs":return a;case"st":return l;case"sh":case"el":case"rc":case"sr":return n;case"tr":return r;case"no":return s;default:return null}}}}();function SVGShapeElement(e,t,r){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(e,t,r),this.prevViewData=[]}function LetterProps(e,t,r,s,n,i){this.o=e,this.sw=t,this.sc=r,this.fc=s,this.m=n,this.p=i,this._mdf={o:!0,sw:!!t,sc:!!r,fc:!!s,m:!0,p:!0}}function TextProperty(e,t){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,t.d&&t.d.sid&&(t.d=e.globalData.slotManager.getProp(t.d)),this.data=t,this.elem=e,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var e,t,r,s,n=this.shapes.length,i=this.stylesList.length,a=[],o=!1;for(r=0;r<i;r+=1){for(s=this.stylesList[r],o=!1,a.length=0,e=0;e<n;e+=1)-1!==(t=this.shapes[e]).styles.indexOf(s)&&(a.push(t),o=t._isAnimated||o);a.length>1&&o&&this.setShapesAsAnimated(a)}},SVGShapeElement.prototype.setShapesAsAnimated=function(e){var t,r=e.length;for(t=0;t<r;t+=1)e[t].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(e,t){var r,s=new SVGStyleData(e,t),n=s.pElem;return"st"===e.ty?r=new SVGStrokeStyleData(this,e,s):"fl"===e.ty?r=new SVGFillStyleData(this,e,s):"gf"===e.ty||"gs"===e.ty?(r=new("gf"===e.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,e,s),this.globalData.defs.appendChild(r.gf),r.maskId&&(this.globalData.defs.appendChild(r.ms),this.globalData.defs.appendChild(r.of),n.setAttribute("mask","url("+getLocationHref()+"#"+r.maskId+")"))):"no"===e.ty&&(r=new SVGNoStyleData(this,e,s)),"st"!==e.ty&&"gs"!==e.ty||(n.setAttribute("stroke-linecap",lineCapEnum[e.lc||2]),n.setAttribute("stroke-linejoin",lineJoinEnum[e.lj||2]),n.setAttribute("fill-opacity","0"),1===e.lj&&n.setAttribute("stroke-miterlimit",e.ml)),2===e.r&&n.setAttribute("fill-rule","evenodd"),e.ln&&n.setAttribute("id",e.ln),e.cl&&n.setAttribute("class",e.cl),e.bm&&(n.style["mix-blend-mode"]=getBlendMode(e.bm)),this.stylesList.push(s),this.addToAnimatedContents(e,r),r},SVGShapeElement.prototype.createGroupElement=function(e){var t=new ShapeGroupData;return e.ln&&t.gr.setAttribute("id",e.ln),e.cl&&t.gr.setAttribute("class",e.cl),e.bm&&(t.gr.style["mix-blend-mode"]=getBlendMode(e.bm)),t},SVGShapeElement.prototype.createTransformElement=function(e,t){var r=TransformPropertyFactory.getTransformProperty(this,e,this),s=new SVGTransformData(r,r.o,t);return this.addToAnimatedContents(e,s),s},SVGShapeElement.prototype.createShapeElement=function(e,t,r){var s=4;"rc"===e.ty?s=5:"el"===e.ty?s=6:"sr"===e.ty&&(s=7);var n=new SVGShapeData(t,r,ShapePropertyFactory.getShapeProp(this,e,s,this));return this.shapes.push(n),this.addShapeToModifiers(n),this.addToAnimatedContents(e,n),n},SVGShapeElement.prototype.addToAnimatedContents=function(e,t){for(var r=0,s=this.animatedContents.length;r<s;){if(this.animatedContents[r].element===t)return;r+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(e),element:t,data:e})},SVGShapeElement.prototype.setElementStyles=function(e){var t,r=e.styles,s=this.stylesList.length;for(t=0;t<s;t+=1)this.stylesList[t].closed||r.push(this.stylesList[t])},SVGShapeElement.prototype.reloadShapes=function(){var e;this._isFirstFrame=!0;var t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(e,t,r,s,n,i,a){var o,l,c,h,u,d,p=[].concat(i),f=e.length-1,m=[],g=[];for(o=f;o>=0;o-=1){if((d=this.searchProcessedElement(e[o]))?t[o]=r[d-1]:e[o]._render=a,"fl"===e[o].ty||"st"===e[o].ty||"gf"===e[o].ty||"gs"===e[o].ty||"no"===e[o].ty)d?t[o].style.closed=!1:t[o]=this.createStyleElement(e[o],n),e[o]._render&&t[o].style.pElem.parentNode!==s&&s.appendChild(t[o].style.pElem),m.push(t[o].style);else if("gr"===e[o].ty){if(d)for(c=t[o].it.length,l=0;l<c;l+=1)t[o].prevViewData[l]=t[o].it[l];else t[o]=this.createGroupElement(e[o]);this.searchShapes(e[o].it,t[o].it,t[o].prevViewData,t[o].gr,n+1,p,a),e[o]._render&&t[o].gr.parentNode!==s&&s.appendChild(t[o].gr)}else"tr"===e[o].ty?(d||(t[o]=this.createTransformElement(e[o],s)),h=t[o].transform,p.push(h)):"sh"===e[o].ty||"rc"===e[o].ty||"el"===e[o].ty||"sr"===e[o].ty?(d||(t[o]=this.createShapeElement(e[o],p,n)),this.setElementStyles(t[o])):"tm"===e[o].ty||"rd"===e[o].ty||"ms"===e[o].ty||"pb"===e[o].ty||"zz"===e[o].ty||"op"===e[o].ty?(d?(u=t[o]).closed=!1:((u=ShapeModifiers.getModifier(e[o].ty)).init(this,e[o]),t[o]=u,this.shapeModifiers.push(u)),g.push(u)):"rp"===e[o].ty&&(d?(u=t[o]).closed=!0:(u=ShapeModifiers.getModifier(e[o].ty),t[o]=u,u.init(this,e,o,t),this.shapeModifiers.push(u),a=!1),g.push(u));this.addProcessedElement(e[o],o+1)}for(f=m.length,o=0;o<f;o+=1)m[o].closed=!0;for(f=g.length,o=0;o<f;o+=1)g[o].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){var e;this.renderModifiers();var t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].reset();for(this.renderShape(),e=0;e<t;e+=1)(this.stylesList[e]._mdf||this._isFirstFrame)&&(this.stylesList[e].msElem&&(this.stylesList[e].msElem.setAttribute("d",this.stylesList[e].d),this.stylesList[e].d="M0 0"+this.stylesList[e].d),this.stylesList[e].pElem.setAttribute("d",this.stylesList[e].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var e,t,r=this.animatedContents.length;for(e=0;e<r;e+=1)t=this.animatedContents[e],(this._isFirstFrame||t.element._isAnimated)&&!0!==t.data&&t.fn(t.data,t.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(e,t,r,s,n,i){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var a=!1;return this.o!==e&&(this.o=e,this._mdf.o=!0,a=!0),this.sw!==t&&(this.sw=t,this._mdf.sw=!0,a=!0),this.sc!==r&&(this.sc=r,this._mdf.sc=!0,a=!0),this.fc!==s&&(this.fc=s,this._mdf.fc=!0,a=!0),this.m!==n&&(this.m=n,this._mdf.m=!0,a=!0),!i.length||this.p[0]===i[0]&&this.p[1]===i[1]&&this.p[4]===i[4]&&this.p[5]===i[5]&&this.p[12]===i[12]&&this.p[13]===i[13]||(this.p=i,this._mdf.p=!0,a=!0),a},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},TextProperty.prototype.setCurrentData=function(e){e.__complete||this.completeTextData(e),this.currentData=e,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(e){this.effectsSequence.push(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(e){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||e){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var t=this.currentData,r=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var s;this.lock=!0,this._mdf=!1;var n=this.effectsSequence.length,i=e||this.data.d.k[this.keysIndex].s;for(s=0;s<n;s+=1)i=r!==this.keysIndex?this.effectsSequence[s](i,i.t):this.effectsSequence[s](this.currentData,i.t);t!==i&&this.setCurrentData(i),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var e=this.data.d.k,t=this.elem.comp.renderedFrame,r=0,s=e.length;r<=s-1&&!(r===s-1||e[r+1].t>t);)r+=1;return this.keysIndex!==r&&(this.keysIndex=r),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(e){for(var t,r,s=[],n=0,i=e.length,a=!1,o=!1,l="";n<i;)a=o,o=!1,t=e.charCodeAt(n),l=e.charAt(n),FontManager.isCombinedCharacter(t)?a=!0:t>=55296&&t<=56319?FontManager.isRegionalFlag(e,n)?l=e.substr(n,14):(r=e.charCodeAt(n+1))>=56320&&r<=57343&&(FontManager.isModifier(t,r)?(l=e.substr(n,2),a=!0):l=FontManager.isFlagEmoji(e.substr(n,4))?e.substr(n,4):e.substr(n,2)):t>56319?(r=e.charCodeAt(n+1),FontManager.isVariationSelector(t)&&(a=!0)):FontManager.isZeroWidthJoiner(t)&&(a=!0,o=!0),a?(s[s.length-1]+=l,a=!1):s.push(l),n+=l.length;return s},TextProperty.prototype.completeTextData=function(e){e.__complete=!0;var t,r,s,n,i,a,o,l=this.elem.globalData.fontManager,c=this.data,h=[],u=0,d=c.m.g,p=0,f=0,m=0,g=[],y=0,b=0,v=l.getFontByName(e.f),w=0,A=getFontProperties(v);e.fWeight=A.weight,e.fStyle=A.style,e.finalSize=e.s,e.finalText=this.buildFinalText(e.t),r=e.finalText.length,e.finalLineHeight=e.lh;var k,E=e.tr/1e3*e.finalSize;if(e.sz)for(var x,P,C=!0,S=e.sz[0],I=e.sz[1];C;){x=0,y=0,r=(P=this.buildFinalText(e.t)).length,E=e.tr/1e3*e.finalSize;var _=-1;for(t=0;t<r;t+=1)k=P[t].charCodeAt(0),s=!1," "===P[t]?_=t:13!==k&&3!==k||(y=0,s=!0,x+=e.finalLineHeight||1.2*e.finalSize),l.chars?(o=l.getCharData(P[t],v.fStyle,v.fFamily),w=s?0:o.w*e.finalSize/100):w=l.measureText(P[t],e.f,e.finalSize),y+w>S&&" "!==P[t]?(-1===_?r+=1:t=_,x+=e.finalLineHeight||1.2*e.finalSize,P.splice(t,_===t?1:0,"\r"),_=-1,y=0):(y+=w,y+=E);x+=v.ascent*e.finalSize/100,this.canResize&&e.finalSize>this.minimumFontSize&&I<x?(e.finalSize-=1,e.finalLineHeight=e.finalSize*e.lh/e.s):(e.finalText=P,r=e.finalText.length,C=!1)}y=-E,w=0;var T,M=0;for(t=0;t<r;t+=1)if(s=!1,13===(k=(T=e.finalText[t]).charCodeAt(0))||3===k?(M=0,g.push(y),b=y>b?y:b,y=-2*E,n="",s=!0,m+=1):n=T,l.chars?(o=l.getCharData(T,v.fStyle,l.getFontByName(e.f).fFamily),w=s?0:o.w*e.finalSize/100):w=l.measureText(n,e.f,e.finalSize)," "===T?M+=w+E:(y+=w+E+M,M=0),h.push({l:w,an:w,add:p,n:s,anIndexes:[],val:n,line:m,animatorJustifyOffset:0}),2==d){if(p+=w,""===n||" "===n||t===r-1){for(""!==n&&" "!==n||(p-=w);f<=t;)h[f].an=p,h[f].ind=u,h[f].extra=w,f+=1;u+=1,p=0}}else if(3==d){if(p+=w,""===n||t===r-1){for(""===n&&(p-=w);f<=t;)h[f].an=p,h[f].ind=u,h[f].extra=w,f+=1;p=0,u+=1}}else h[u].ind=u,h[u].extra=0,u+=1;if(e.l=h,b=y>b?y:b,g.push(y),e.sz)e.boxWidth=e.sz[0],e.justifyOffset=0;else switch(e.boxWidth=b,e.j){case 1:e.justifyOffset=-e.boxWidth;break;case 2:e.justifyOffset=-e.boxWidth/2;break;default:e.justifyOffset=0}e.lineWidths=g;var D,B,O,F,N=c.a;a=N.length;var R=[];for(i=0;i<a;i+=1){for((D=N[i]).a.sc&&(e.strokeColorAnim=!0),D.a.sw&&(e.strokeWidthAnim=!0),(D.a.fc||D.a.fh||D.a.fs||D.a.fb)&&(e.fillColorAnim=!0),F=0,O=D.s.b,t=0;t<r;t+=1)(B=h[t]).anIndexes[i]=F,(1==O&&""!==B.val||2==O&&""!==B.val&&" "!==B.val||3==O&&(B.n||" "==B.val||t==r-1)||4==O&&(B.n||t==r-1))&&(1===D.s.rn&&R.push(F),F+=1);c.a[i].s.totalChars=F;var L,U=-1;if(1===D.s.rn)for(t=0;t<r;t+=1)U!=(B=h[t]).anIndexes[i]&&(U=B.anIndexes[i],L=R.splice(Math.floor(Math.random()*R.length),1)[0]),B.anIndexes[i]=L}e.yOffset=e.finalLineHeight||1.2*e.finalSize,e.ls=e.ls||0,e.ascent=v.ascent*e.finalSize/100},TextProperty.prototype.updateDocumentData=function(e,t){t=void 0===t?this.keysIndex:t;var r=this.copyData({},this.data.d.k[t].s);r=this.copyData(r,e),this.data.d.k[t].s=r,this.recalculate(t),this.setCurrentData(r),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(e){var t=this.data.d.k[e].s;t.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(t)},TextProperty.prototype.canResizeFont=function(e){this.canResize=e,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(e){this.minimumFontSize=Math.floor(e)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var e=Math.max,t=Math.min,r=Math.floor;function s(e,t){this._currentTextLength=-1,this.k=!1,this.data=t,this.elem=e,this.comp=e.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(e),this.s=PropertyFactory.getProp(e,t.s||{k:0},0,0,this),this.e="e"in t?PropertyFactory.getProp(e,t.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(e,t.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(e,t.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(e,t.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(e,t.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(e,t.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return s.prototype={getMult:function(s){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var n=0,i=0,a=1,o=1;this.ne.v>0?n=this.ne.v/100:i=-this.ne.v/100,this.xe.v>0?a=1-this.xe.v/100:o=1+this.xe.v/100;var l=BezierFactory.getBezierEasing(n,i,a,o).get,c=0,h=this.finalS,u=this.finalE,d=this.data.sh;if(2===d)c=l(c=u===h?s>=u?1:0:e(0,t(.5/(u-h)+(s-h)/(u-h),1)));else if(3===d)c=l(c=u===h?s>=u?0:1:1-e(0,t(.5/(u-h)+(s-h)/(u-h),1)));else if(4===d)u===h?c=0:(c=e(0,t(.5/(u-h)+(s-h)/(u-h),1)))<.5?c*=2:c=1-2*(c-.5),c=l(c);else if(5===d){if(u===h)c=0;else{var p=u-h,f=-p/2+(s=t(e(0,s+.5-h),u-h)),m=p/2;c=Math.sqrt(1-f*f/(m*m))}c=l(c)}else 6===d?(u===h?c=0:(s=t(e(0,s+.5-h),u-h),c=(1+Math.cos(Math.PI+2*Math.PI*s/(u-h)))/2),c=l(c)):(s>=r(h)&&(c=e(0,t(s-h<0?t(u,1)-(h-s):u-s,1))),c=l(c));if(100!==this.sm.v){var g=.01*this.sm.v;0===g&&(g=1e-8);var y=.5-.5*g;c<y?c=0:(c=(c-y)/g)>1&&(c=1)}return c*this.a.v},getValue:function(e){this.iterateDynamicProperties(),this._mdf=e||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,e&&2===this.data.r&&(this.e.v=this._currentTextLength);var t=2===this.data.r?1:100/this.data.totalChars,r=this.o.v/t,s=this.s.v/t+r,n=this.e.v/t+r;if(s>n){var i=s;s=n,n=i}this.finalS=s,this.finalE=n}},extendPrototype([DynamicPropertyContainer],s),{getTextSelectorProp:function(e,t,r){return new s(e,t,r)}}}();function TextAnimatorDataProperty(e,t,r){var s={propType:!1},n=PropertyFactory.getProp,i=t.a;this.a={r:i.r?n(e,i.r,0,degToRads,r):s,rx:i.rx?n(e,i.rx,0,degToRads,r):s,ry:i.ry?n(e,i.ry,0,degToRads,r):s,sk:i.sk?n(e,i.sk,0,degToRads,r):s,sa:i.sa?n(e,i.sa,0,degToRads,r):s,s:i.s?n(e,i.s,1,.01,r):s,a:i.a?n(e,i.a,1,0,r):s,o:i.o?n(e,i.o,0,.01,r):s,p:i.p?n(e,i.p,1,0,r):s,sw:i.sw?n(e,i.sw,0,0,r):s,sc:i.sc?n(e,i.sc,1,0,r):s,fc:i.fc?n(e,i.fc,1,0,r):s,fh:i.fh?n(e,i.fh,0,0,r):s,fs:i.fs?n(e,i.fs,0,.01,r):s,fb:i.fb?n(e,i.fb,0,.01,r):s,t:i.t?n(e,i.t,0,0,r):s},this.s=TextSelectorProp.getTextSelectorProp(e,t.s,r),this.s.t=t.s.t}function TextAnimatorProperty(e,t,r){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=e,this._renderType=t,this._elem=r,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(r)}function ITextElement(){}TextAnimatorProperty.prototype.searchProperties=function(){var e,t,r=this._textData.a.length,s=PropertyFactory.getProp;for(e=0;e<r;e+=1)t=this._textData.a[e],this._animatorsData[e]=new TextAnimatorDataProperty(this._elem,t,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:s(this._elem,this._textData.p.a,0,0,this),f:s(this._elem,this._textData.p.f,0,0,this),l:s(this._elem,this._textData.p.l,0,0,this),r:s(this._elem,this._textData.p.r,0,0,this),p:s(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=s(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(e,t){if(this.lettersChangedFlag=t,this._mdf||this._isFirstFrame||t||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var r,s,n,i,a,o,l,c,h,u,d,p,f,m,g,y,b,v,w,A=this._moreOptions.alignment.v,k=this._animatorsData,E=this._textData,x=this.mHelper,P=this._renderType,C=this.renderedLetters.length,S=e.l;if(this._hasMaskedPath){if(w=this._pathData.m,!this._pathData.n||this._pathData._mdf){var I,_=w.v;for(this._pathData.r.v&&(_=_.reverse()),a={tLength:0,segments:[]},i=_._length-1,y=0,n=0;n<i;n+=1)I=bez.buildBezierData(_.v[n],_.v[n+1],[_.o[n][0]-_.v[n][0],_.o[n][1]-_.v[n][1]],[_.i[n+1][0]-_.v[n+1][0],_.i[n+1][1]-_.v[n+1][1]]),a.tLength+=I.segmentLength,a.segments.push(I),y+=I.segmentLength;n=i,w.v.c&&(I=bez.buildBezierData(_.v[n],_.v[0],[_.o[n][0]-_.v[n][0],_.o[n][1]-_.v[n][1]],[_.i[0][0]-_.v[0][0],_.i[0][1]-_.v[0][1]]),a.tLength+=I.segmentLength,a.segments.push(I),y+=I.segmentLength),this._pathData.pi=a}if(a=this._pathData.pi,o=this._pathData.f.v,d=0,u=1,c=0,h=!0,m=a.segments,o<0&&w.v.c)for(a.tLength<Math.abs(o)&&(o=-Math.abs(o)%a.tLength),u=(f=m[d=m.length-1].points).length-1;o<0;)o+=f[u].partialLength,(u-=1)<0&&(u=(f=m[d-=1].points).length-1);p=(f=m[d].points)[u-1],g=(l=f[u]).partialLength}i=S.length,r=0,s=0;var T,M,D,B,O,F=1.2*e.finalSize*.714,N=!0;D=k.length;var R,L,U,j,G,V,z,Q,H,K,q,W,J=-1,Y=o,Z=d,$=u,X=-1,ee="",te=this.defaultPropsArray;if(2===e.j||1===e.j){var re=0,se=0,ne=2===e.j?-.5:-1,ie=0,ae=!0;for(n=0;n<i;n+=1)if(S[n].n){for(re&&(re+=se);ie<n;)S[ie].animatorJustifyOffset=re,ie+=1;re=0,ae=!0}else{for(M=0;M<D;M+=1)(T=k[M].a).t.propType&&(ae&&2===e.j&&(se+=T.t.v*ne),(O=k[M].s.getMult(S[n].anIndexes[M],E.a[M].s.totalChars)).length?re+=T.t.v*O[0]*ne:re+=T.t.v*O*ne);ae=!1}for(re&&(re+=se);ie<n;)S[ie].animatorJustifyOffset=re,ie+=1}for(n=0;n<i;n+=1){if(x.reset(),j=1,S[n].n)r=0,s+=e.yOffset,s+=N?1:0,o=Y,N=!1,this._hasMaskedPath&&(u=$,p=(f=m[d=Z].points)[u-1],g=(l=f[u]).partialLength,c=0),ee="",q="",H="",W="",te=this.defaultPropsArray;else{if(this._hasMaskedPath){if(X!==S[n].line){switch(e.j){case 1:o+=y-e.lineWidths[S[n].line];break;case 2:o+=(y-e.lineWidths[S[n].line])/2}X=S[n].line}J!==S[n].ind&&(S[J]&&(o+=S[J].extra),o+=S[n].an/2,J=S[n].ind),o+=A[0]*S[n].an*.005;var oe=0;for(M=0;M<D;M+=1)(T=k[M].a).p.propType&&((O=k[M].s.getMult(S[n].anIndexes[M],E.a[M].s.totalChars)).length?oe+=T.p.v[0]*O[0]:oe+=T.p.v[0]*O),T.a.propType&&((O=k[M].s.getMult(S[n].anIndexes[M],E.a[M].s.totalChars)).length?oe+=T.a.v[0]*O[0]:oe+=T.a.v[0]*O);for(h=!0,this._pathData.a.v&&(o=.5*S[0].an+(y-this._pathData.f.v-.5*S[0].an-.5*S[S.length-1].an)*J/(i-1),o+=this._pathData.f.v);h;)c+g>=o+oe||!f?(b=(o+oe-c)/l.partialLength,L=p.point[0]+(l.point[0]-p.point[0])*b,U=p.point[1]+(l.point[1]-p.point[1])*b,x.translate(-A[0]*S[n].an*.005,-A[1]*F*.01),h=!1):f&&(c+=l.partialLength,(u+=1)>=f.length&&(u=0,m[d+=1]?f=m[d].points:w.v.c?(u=0,f=m[d=0].points):(c-=l.partialLength,f=null)),f&&(p=l,g=(l=f[u]).partialLength));R=S[n].an/2-S[n].add,x.translate(-R,0,0)}else R=S[n].an/2-S[n].add,x.translate(-R,0,0),x.translate(-A[0]*S[n].an*.005,-A[1]*F*.01,0);for(M=0;M<D;M+=1)(T=k[M].a).t.propType&&(O=k[M].s.getMult(S[n].anIndexes[M],E.a[M].s.totalChars),0===r&&0===e.j||(this._hasMaskedPath?O.length?o+=T.t.v*O[0]:o+=T.t.v*O:O.length?r+=T.t.v*O[0]:r+=T.t.v*O));for(e.strokeWidthAnim&&(V=e.sw||0),e.strokeColorAnim&&(G=e.sc?[e.sc[0],e.sc[1],e.sc[2]]:[0,0,0]),e.fillColorAnim&&e.fc&&(z=[e.fc[0],e.fc[1],e.fc[2]]),M=0;M<D;M+=1)(T=k[M].a).a.propType&&((O=k[M].s.getMult(S[n].anIndexes[M],E.a[M].s.totalChars)).length?x.translate(-T.a.v[0]*O[0],-T.a.v[1]*O[1],T.a.v[2]*O[2]):x.translate(-T.a.v[0]*O,-T.a.v[1]*O,T.a.v[2]*O));for(M=0;M<D;M+=1)(T=k[M].a).s.propType&&((O=k[M].s.getMult(S[n].anIndexes[M],E.a[M].s.totalChars)).length?x.scale(1+(T.s.v[0]-1)*O[0],1+(T.s.v[1]-1)*O[1],1):x.scale(1+(T.s.v[0]-1)*O,1+(T.s.v[1]-1)*O,1));for(M=0;M<D;M+=1){if(T=k[M].a,O=k[M].s.getMult(S[n].anIndexes[M],E.a[M].s.totalChars),T.sk.propType&&(O.length?x.skewFromAxis(-T.sk.v*O[0],T.sa.v*O[1]):x.skewFromAxis(-T.sk.v*O,T.sa.v*O)),T.r.propType&&(O.length?x.rotateZ(-T.r.v*O[2]):x.rotateZ(-T.r.v*O)),T.ry.propType&&(O.length?x.rotateY(T.ry.v*O[1]):x.rotateY(T.ry.v*O)),T.rx.propType&&(O.length?x.rotateX(T.rx.v*O[0]):x.rotateX(T.rx.v*O)),T.o.propType&&(O.length?j+=(T.o.v*O[0]-j)*O[0]:j+=(T.o.v*O-j)*O),e.strokeWidthAnim&&T.sw.propType&&(O.length?V+=T.sw.v*O[0]:V+=T.sw.v*O),e.strokeColorAnim&&T.sc.propType)for(Q=0;Q<3;Q+=1)O.length?G[Q]+=(T.sc.v[Q]-G[Q])*O[0]:G[Q]+=(T.sc.v[Q]-G[Q])*O;if(e.fillColorAnim&&e.fc){if(T.fc.propType)for(Q=0;Q<3;Q+=1)O.length?z[Q]+=(T.fc.v[Q]-z[Q])*O[0]:z[Q]+=(T.fc.v[Q]-z[Q])*O;T.fh.propType&&(z=O.length?addHueToRGB(z,T.fh.v*O[0]):addHueToRGB(z,T.fh.v*O)),T.fs.propType&&(z=O.length?addSaturationToRGB(z,T.fs.v*O[0]):addSaturationToRGB(z,T.fs.v*O)),T.fb.propType&&(z=O.length?addBrightnessToRGB(z,T.fb.v*O[0]):addBrightnessToRGB(z,T.fb.v*O))}}for(M=0;M<D;M+=1)(T=k[M].a).p.propType&&(O=k[M].s.getMult(S[n].anIndexes[M],E.a[M].s.totalChars),this._hasMaskedPath?O.length?x.translate(0,T.p.v[1]*O[0],-T.p.v[2]*O[1]):x.translate(0,T.p.v[1]*O,-T.p.v[2]*O):O.length?x.translate(T.p.v[0]*O[0],T.p.v[1]*O[1],-T.p.v[2]*O[2]):x.translate(T.p.v[0]*O,T.p.v[1]*O,-T.p.v[2]*O));if(e.strokeWidthAnim&&(H=V<0?0:V),e.strokeColorAnim&&(K="rgb("+Math.round(255*G[0])+","+Math.round(255*G[1])+","+Math.round(255*G[2])+")"),e.fillColorAnim&&e.fc&&(q="rgb("+Math.round(255*z[0])+","+Math.round(255*z[1])+","+Math.round(255*z[2])+")"),this._hasMaskedPath){if(x.translate(0,-e.ls),x.translate(0,A[1]*F*.01+s,0),this._pathData.p.v){v=(l.point[1]-p.point[1])/(l.point[0]-p.point[0]);var le=180*Math.atan(v)/Math.PI;l.point[0]<p.point[0]&&(le+=180),x.rotate(-le*Math.PI/180)}x.translate(L,U,0),o-=A[0]*S[n].an*.005,S[n+1]&&J!==S[n+1].ind&&(o+=S[n].an/2,o+=.001*e.tr*e.finalSize)}else{switch(x.translate(r,s,0),e.ps&&x.translate(e.ps[0],e.ps[1]+e.ascent,0),e.j){case 1:x.translate(S[n].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[S[n].line]),0,0);break;case 2:x.translate(S[n].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[S[n].line])/2,0,0)}x.translate(0,-e.ls),x.translate(R,0,0),x.translate(A[0]*S[n].an*.005,A[1]*F*.01,0),r+=S[n].l+.001*e.tr*e.finalSize}"html"===P?ee=x.toCSS():"svg"===P?ee=x.to2dCSS():te=[x.props[0],x.props[1],x.props[2],x.props[3],x.props[4],x.props[5],x.props[6],x.props[7],x.props[8],x.props[9],x.props[10],x.props[11],x.props[12],x.props[13],x.props[14],x.props[15]],W=j}C<=n?(B=new LetterProps(W,H,K,q,ee,te),this.renderedLetters.push(B),C+=1,this.lettersChangedFlag=!0):(B=this.renderedLetters[n],this.lettersChangedFlag=B.update(W,H,K,q,ee,te)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(e,t,r){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(e,t,r),this.textProperty=new TextProperty(this,e.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(e.t,this.renderType,this),this.initTransform(e,t,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)},ITextElement.prototype.createPathShape=function(e,t){var r,s,n=t.length,i="";for(r=0;r<n;r+=1)"sh"===t[r].ty&&(s=t[r].ks.k,i+=buildShapeString(s,s.i.length,!0,e));return i},ITextElement.prototype.updateDocumentData=function(e,t){this.textProperty.updateDocumentData(e,t)},ITextElement.prototype.canResizeFont=function(e){this.textProperty.canResizeFont(e)},ITextElement.prototype.setMinimumFontSize=function(e){this.textProperty.setMinimumFontSize(e)},ITextElement.prototype.applyTextPropertiesToMatrix=function(e,t,r,s,n){switch(e.ps&&t.translate(e.ps[0],e.ps[1]+e.ascent,0),t.translate(0,-e.ls,0),e.j){case 1:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[r]),0,0);break;case 2:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[r])/2,0,0)}t.translate(s,n,0)},ITextElement.prototype.buildColor=function(e){return"rgb("+Math.round(255*e[0])+","+Math.round(255*e[1])+","+Math.round(255*e[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(e,t,r){this.textSpans=[],this.renderType="svg",this.initElement(e,t,r)}function ISolidElement(e,t,r){this.initElement(e,t,r)}function NullElement(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initFrame(),this.initTransform(e,t,r),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(e,t,r){this.layers=e.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,r),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function SVGRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var r="";if(t&&t.title){var s=createNS("title"),n=createElementID();s.setAttribute("id",n),s.textContent=t.title,this.svgElement.appendChild(s),r+=n}if(t&&t.description){var i=createNS("desc"),a=createElementID();i.setAttribute("id",a),i.textContent=t.description,this.svgElement.appendChild(i),r+=" "+a}r&&this.svgElement.setAttribute("aria-labelledby",r);var o=createNS("defs");this.svgElement.appendChild(o);var l=createNS("g");this.svgElement.appendChild(l),this.layerElement=l,this.renderConfig={preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",progressiveLoad:t&&t.progressiveLoad||!1,hideOnTransparent:!(t&&!1===t.hideOnTransparent),viewBoxOnly:t&&t.viewBoxOnly||!1,viewBoxSize:t&&t.viewBoxSize||!1,className:t&&t.className||"",id:t&&t.id||"",focusable:t&&t.focusable,filterSize:{width:t&&t.filterSize&&t.filterSize.width||"100%",height:t&&t.filterSize&&t.filterSize.height||"100%",x:t&&t.filterSize&&t.filterSize.x||"0%",y:t&&t.filterSize&&t.filterSize.y||"0%"},width:t&&t.width,height:t&&t.height,runExpressions:!t||void 0===t.runExpressions||t.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:o,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(e){for(var t=0,r=e.length,s=[],n="";t<r;)e[t]===String.fromCharCode(13)||e[t]===String.fromCharCode(3)?(s.push(n),n=""):n+=e[t],t+=1;return s.push(n),s},SVGTextLottieElement.prototype.buildShapeData=function(e,t){if(e.shapes&&e.shapes.length){var r=e.shapes[0];if(r.it){var s=r.it[r.it.length-1];s.s&&(s.s.k[0]=t,s.s.k[1]=t)}}return e},SVGTextLottieElement.prototype.buildNewText=function(){var e,t;this.addDynamicProperty(this);var r=this.textProperty.currentData;this.renderedLetters=createSizedArray(r?r.l.length:0),r.fc?this.layerElement.setAttribute("fill",this.buildColor(r.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),r.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(r.sc)),this.layerElement.setAttribute("stroke-width",r.sw)),this.layerElement.setAttribute("font-size",r.finalSize);var s=this.globalData.fontManager.getFontByName(r.f);if(s.fClass)this.layerElement.setAttribute("class",s.fClass);else{this.layerElement.setAttribute("font-family",s.fFamily);var n=r.fWeight,i=r.fStyle;this.layerElement.setAttribute("font-style",i),this.layerElement.setAttribute("font-weight",n)}this.layerElement.setAttribute("aria-label",r.t);var a,o=r.l||[],l=!!this.globalData.fontManager.chars;t=o.length;var c=this.mHelper,h=this.data.singleShape,u=0,d=0,p=!0,f=.001*r.tr*r.finalSize;if(!h||l||r.sz){var m,g=this.textSpans.length;for(e=0;e<t;e+=1){if(this.textSpans[e]||(this.textSpans[e]={span:null,childSpan:null,glyph:null}),!l||!h||0===e){if(a=g>e?this.textSpans[e].span:createNS(l?"g":"text"),g<=e){if(a.setAttribute("stroke-linecap","butt"),a.setAttribute("stroke-linejoin","round"),a.setAttribute("stroke-miterlimit","4"),this.textSpans[e].span=a,l){var y=createNS("g");a.appendChild(y),this.textSpans[e].childSpan=y}this.textSpans[e].span=a,this.layerElement.appendChild(a)}a.style.display="inherit"}if(c.reset(),h&&(o[e].n&&(u=-f,d+=r.yOffset,d+=p?1:0,p=!1),this.applyTextPropertiesToMatrix(r,c,o[e].line,u,d),u+=o[e].l||0,u+=f),l){var b;if(1===(m=this.globalData.fontManager.getCharData(r.finalText[e],s.fStyle,this.globalData.fontManager.getFontByName(r.f).fFamily)).t)b=new SVGCompElement(m.data,this.globalData,this);else{var v=emptyShapeData;m.data&&m.data.shapes&&(v=this.buildShapeData(m.data,r.finalSize)),b=new SVGShapeElement(v,this.globalData,this)}if(this.textSpans[e].glyph){var w=this.textSpans[e].glyph;this.textSpans[e].childSpan.removeChild(w.layerElement),w.destroy()}this.textSpans[e].glyph=b,b._debug=!0,b.prepareFrame(0),b.renderFrame(),this.textSpans[e].childSpan.appendChild(b.layerElement),1===m.t&&this.textSpans[e].childSpan.setAttribute("transform","scale("+r.finalSize/100+","+r.finalSize/100+")")}else h&&a.setAttribute("transform","translate("+c.props[12]+","+c.props[13]+")"),a.textContent=o[e].val,a.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}h&&a&&a.setAttribute("d","")}else{var A=this.textContainer,k="start";switch(r.j){case 1:k="end";break;case 2:k="middle";break;default:k="start"}A.setAttribute("text-anchor",k),A.setAttribute("letter-spacing",f);var E=this.buildTextContents(r.finalText);for(t=E.length,d=r.ps?r.ps[1]+r.ascent:0,e=0;e<t;e+=1)(a=this.textSpans[e].span||createNS("tspan")).textContent=E[e],a.setAttribute("x",0),a.setAttribute("y",d),a.style.display="inherit",A.appendChild(a),this.textSpans[e]||(this.textSpans[e]={span:null,glyph:null}),this.textSpans[e].span=a,d+=r.finalLineHeight;this.layerElement.appendChild(A)}for(;e<this.textSpans.length;)this.textSpans[e].span.style.display="none",e+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var e=this.layerElement.getBBox();this.bbox={top:e.y,left:e.x,width:e.width,height:e.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var e,t,r=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,e=0;e<r;e+=1)(t=this.textSpans[e].glyph)&&(t.prepareFrame(this.comp.renderedFrame-this.data.st),t._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var e,t;this._sizeChanged=!0;var r,s,n,i=this.textAnimator.renderedLetters,a=this.textProperty.currentData.l;for(t=a.length,e=0;e<t;e+=1)a[e].n||(r=i[e],s=this.textSpans[e].span,(n=this.textSpans[e].glyph)&&n.renderFrame(),r._mdf.m&&s.setAttribute("transform",r.m),r._mdf.o&&s.setAttribute("opacity",r.o),r._mdf.sw&&s.setAttribute("stroke-width",r.sw),r._mdf.sc&&s.setAttribute("stroke",r.sc),r._mdf.fc&&s.setAttribute("fill",r.fc))}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var e=createNS("rect");e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.layerElement.appendChild(e)},NullElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(e){return new NullElement(e,this.globalData,this)},SVGRendererBase.prototype.createShape=function(e){return new SVGShapeElement(e,this.globalData,this)},SVGRendererBase.prototype.createText=function(e){return new SVGTextLottieElement(e,this.globalData,this)},SVGRendererBase.prototype.createImage=function(e){return new IImageElement(e,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(e){return new ISolidElement(e,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(e){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+e.w+" "+e.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",e.w),this.svgElement.setAttribute("height",e.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var t=this.globalData.defs;this.setupGlobalData(e,t),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=e;var r=createNS("clipPath"),s=createNS("rect");s.setAttribute("width",e.w),s.setAttribute("height",e.h),s.setAttribute("x",0),s.setAttribute("y",0);var n=createElementID();r.setAttribute("id",n),r.appendChild(s),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+n+")"),t.appendChild(r),this.layers=e.layers,this.elements=createSizedArray(e.layers.length)},SVGRendererBase.prototype.destroy=function(){var e;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var t=this.layers?this.layers.length:0;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(e){var t=0,r=this.layers.length;for(t=0;t<r;t+=1)if(this.layers[t].ind===e)return t;return-1},SVGRendererBase.prototype.buildItem=function(e){var t=this.elements;if(!t[e]&&99!==this.layers[e].ty){t[e]=!0;var r=this.createItem(this.layers[e]);if(t[e]=r,getExpressionsPlugin()&&(0===this.layers[e].ty&&this.globalData.projectInterface.registerComposition(r),r.initExpressions()),this.appendElementInPos(r,e),this.layers[e].tt){var s="tp"in this.layers[e]?this.findIndexByInd(this.layers[e].tp):e-1;if(-1===s)return;if(this.elements[s]&&!0!==this.elements[s]){var n=t[s].getMatte(this.layers[e].tt);r.setMatte(n)}else this.buildItem(s),this.addPendingElement(r)}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();if(e.checkParenting(),e.data.tt)for(var t=0,r=this.elements.length;t<r;){if(this.elements[t]===e){var s="tp"in e.data?this.findIndexByInd(e.data.tp):t-1,n=this.elements[s].getMatte(this.layers[t].tt);e.setMatte(n);break}t+=1}}},SVGRendererBase.prototype.renderFrame=function(e){if(this.renderedFrame!==e&&!this.destroyed){var t;null===e?e=this.renderedFrame:this.renderedFrame=e,this.globalData.frameNum=e,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=e,this.globalData._mdf=!1;var r=this.layers.length;for(this.completeLayers||this.checkLayers(e),t=r-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].prepareFrame(e-this.layers[t].st);if(this.globalData._mdf)for(t=0;t<r;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(e,t){var r=e.getBaseElement();if(r){for(var s,n=0;n<t;)this.elements[n]&&!0!==this.elements[n]&&this.elements[n].getBaseElement()&&(s=this.elements[n].getBaseElement()),n+=1;s?this.layerElement.insertBefore(r,s):this.layerElement.appendChild(r)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initTransform(e,t,r),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&t.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(e){if(this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=e/this.data.sr;else{var t=this.tm.v;t===this.data.op&&(t=this.data.op-1),this.renderedFrame=t}var r,s=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),r=s-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&(this.elements[r].prepareFrame(this.renderedFrame-this.layers[r].st),this.elements[r]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},ICompElement.prototype.setElements=function(e){this.elements=e},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)},ShapeTransformManager.prototype={addTransformSequence:function(e){var t,r=e.length,s="_";for(t=0;t<r;t+=1)s+=e[t].transform.key+"_";var n=this.sequences[s];return n||(n={transforms:[].concat(e),finalTransform:new Matrix,_mdf:!1},this.sequences[s]=n,this.sequenceList.push(n)),n},processSequence:function(e,t){for(var r=0,s=e.transforms.length,n=t;r<s&&!t;){if(e.transforms[r].transform.mProps._mdf){n=!0;break}r+=1}if(n)for(e.finalTransform.reset(),r=s-1;r>=0;r-=1)e.finalTransform.multiply(e.transforms[r].transform.mProps.v);e._mdf=n},processSequences:function(e){var t,r=this.sequenceList.length;for(t=0;t<r;t+=1)this.processSequence(this.sequenceList[t],e)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var e="__lottie_element_luma_buffer",t=null,r=null,s=null;function n(){var n,i,a;t||(n=createNS("svg"),i=createNS("filter"),a=createNS("feColorMatrix"),i.setAttribute("id",e),a.setAttribute("type","matrix"),a.setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),i.appendChild(a),n.appendChild(i),n.setAttribute("id",e+"_svg"),featureSupport.svgLumaHidden&&(n.style.display="none"),s=n,document.body.appendChild(s),t=createTag("canvas"),(r=t.getContext("2d")).filter="url(#"+e+")",r.fillStyle="rgba(0,0,0,0)",r.fillRect(0,0,1,1))}return{load:n,get:function(s){return t||n(),t.width=s.width,t.height=s.height,r.filter="url(#"+e+")",t}}};function createCanvas(e,t){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(e,t);var r=createTag("canvas");return r.width=e,r.height=t,r}var assetLoader={loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas},registeredEffects={};function CVEffects(e){var t,r,s=e.data.ef?e.data.ef.length:0;for(this.filters=[],t=0;t<s;t+=1){r=null;var n=e.data.ef[t].ty;registeredEffects[n]&&(r=new(0,registeredEffects[n].effect)(e.effectsManager.effectElements[t],e)),r&&this.filters.push(r)}this.filters.length&&e.addRenderableComponent(this)}function registerEffect(e,t){registeredEffects[e]={effect:t}}function CVMaskElement(e,t){var r;this.data=e,this.element=t,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var s=this.masksProperties.length,n=!1;for(r=0;r<s;r+=1)"n"!==this.masksProperties[r].mode&&(n=!0),this.viewData[r]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[r],3);this.hasMasks=n,n&&this.element.addRenderableComponent(this)}function CVBaseElement(){}CVEffects.prototype.renderFrame=function(e){var t,r=this.filters.length;for(t=0;t<r;t+=1)this.filters[t].renderFrame(e)},CVEffects.prototype.getEffects=function(e){var t,r=this.filters.length,s=[];for(t=0;t<r;t+=1)this.filters[t].type===e&&s.push(this.filters[t]);return s},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var e,t,r,s,n=this.element.finalTransform.mat,i=this.element.canvasContext,a=this.masksProperties.length;for(i.beginPath(),e=0;e<a;e+=1)if("n"!==this.masksProperties[e].mode){var o;this.masksProperties[e].inv&&(i.moveTo(0,0),i.lineTo(this.element.globalData.compSize.w,0),i.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),i.lineTo(0,this.element.globalData.compSize.h),i.lineTo(0,0)),s=this.viewData[e].v,t=n.applyToPointArray(s.v[0][0],s.v[0][1],0),i.moveTo(t[0],t[1]);var l=s._length;for(o=1;o<l;o+=1)r=n.applyToTriplePoints(s.o[o-1],s.i[o],s.v[o]),i.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);r=n.applyToTriplePoints(s.o[o-1],s.i[0],s.v[0]),i.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5])}this.element.globalData.renderer.save(!0),i.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};function CVShapeData(e,t,r,s){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var n,i=4;"rc"===t.ty?i=5:"el"===t.ty?i=6:"sr"===t.ty&&(i=7),this.sh=ShapePropertyFactory.getShapeProp(e,t,i,e);var a,o=r.length;for(n=0;n<o;n+=1)r[n].closed||(a={transforms:s.addTransformSequence(r[n].transforms),trNodes:[]},this.styledShapes.push(a),r[n].elements.push(a))}function CVShapeElement(e,t,r){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(e,t,r)}function CVTextElement(e,t,r){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(e,t,r)}function CVImageElement(e,t,r){this.assetData=t.getAssetData(e.refId),this.img=t.imageLoader.getAsset(this.assetData),this.initElement(e,t,r)}function CVSolidElement(e,t,r){this.initElement(e,t,r)}function CanvasRendererBase(){}function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){var e;for(this.stack=[],this.cArrPos=0,this.cTr=new Matrix,e=0;e<15;e+=1){var t=new CanvasContext;this.stack[e]=t}this._length=15,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}function CVCompElement(e,t,r){this.completeLayers=!1,this.layers=e.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(e,t,r),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function CanvasRenderer(e,t){this.animationItem=e,this.renderConfig={clearCanvas:!t||void 0===t.clearCanvas||t.clearCanvas,context:t&&t.context||null,progressiveLoad:t&&t.progressiveLoad||!1,preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",className:t&&t.className||"",id:t&&t.id||"",runExpressions:!t||void 0===t.runExpressions||t.runExpressions},this.renderConfig.dpr=t&&t.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=t&&t.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}function HBaseElement(){}function HSolidElement(e,t,r){this.initElement(e,t,r)}function HShapeElement(e,t,r){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(e,t,r),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(e,t,r){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(e,t,r)}function HCameraElement(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initHierarchy();var s=PropertyFactory.getProp;if(this.pe=s(this,e.pe,0,0,this),e.ks.p.s?(this.px=s(this,e.ks.p.x,1,0,this),this.py=s(this,e.ks.p.y,1,0,this),this.pz=s(this,e.ks.p.z,1,0,this)):this.p=s(this,e.ks.p,1,0,this),e.ks.a&&(this.a=s(this,e.ks.a,1,0,this)),e.ks.or.k.length&&e.ks.or.k[0].to){var n,i=e.ks.or.k.length;for(n=0;n<i;n+=1)e.ks.or.k[n].to=null,e.ks.or.k[n].ti=null}this.or=s(this,e.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=s(this,e.ks.rx,0,degToRads,this),this.ry=s(this,e.ks.ry,0,degToRads,this),this.rz=s(this,e.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HImageElement(e,t,r){this.assetData=t.getAssetData(e.refId),this.initElement(e,t,r)}function HybridRendererBase(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(t&&!1===t.hideOnTransparent),filterSize:{width:t&&t.filterSize&&t.filterSize.width||"400%",height:t&&t.filterSize&&t.filterSize.height||"400%",x:t&&t.filterSize&&t.filterSize.x||"-100%",y:t&&t.filterSize&&t.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function HCompElement(e,t,r){this.layers=e.layers,this.supports3d=!e.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,r),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function HybridRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(t&&!1===t.hideOnTransparent),filterSize:{width:t&&t.filterSize&&t.filterSize.width||"400%",height:t&&t.filterSize&&t.filterSize.height||"400%",x:t&&t.filterSize&&t.filterSize.x||"-100%",y:t&&t.filterSize&&t.filterSize.y||"-100%"},runExpressions:!t||void 0===t.runExpressions||t.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var e=this.globalData.canvasContext,t=assetLoader.createCanvas(e.canvas.width,e.canvas.height);this.buffers.push(t);var r=assetLoader.createCanvas(e.canvas.width,e.canvas.height);this.buffers.push(r),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var e=this.globalData;if(e.blendMode!==this.data.bm){e.blendMode=this.data.bm;var t=getBlendMode(this.data.bm);e.canvasContext.globalCompositeOperation=t}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(e){e.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var e=this.buffers[0].getContext("2d");this.clearCanvas(e),e.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var e=this.buffers[1],t=e.getContext("2d");if(this.clearCanvas(t),t.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform),this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1).renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var r=assetLoader.getLumaCanvas(this.canvasContext.canvas);r.getContext("2d").drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(r,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(e,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(e){if(!this.hidden&&!this.data.hd&&(1!==this.data.td||e)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var t=0===this.data.ty;this.prepareLayer(),this.globalData.renderer.save(t),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(t),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(e,t){var r={data:e,type:e.ty,preTransforms:this.transformsManager.addTransformSequence(t),transforms:[],elements:[],closed:!0===e.hd},s={};if("fl"===e.ty||"st"===e.ty?(s.c=PropertyFactory.getProp(this,e.c,1,255,this),s.c.k||(r.co="rgb("+bmFloor(s.c.v[0])+","+bmFloor(s.c.v[1])+","+bmFloor(s.c.v[2])+")")):"gf"!==e.ty&&"gs"!==e.ty||(s.s=PropertyFactory.getProp(this,e.s,1,null,this),s.e=PropertyFactory.getProp(this,e.e,1,null,this),s.h=PropertyFactory.getProp(this,e.h||{k:0},0,.01,this),s.a=PropertyFactory.getProp(this,e.a||{k:0},0,degToRads,this),s.g=new GradientProperty(this,e.g,this)),s.o=PropertyFactory.getProp(this,e.o,0,.01,this),"st"===e.ty||"gs"===e.ty){if(r.lc=lineCapEnum[e.lc||2],r.lj=lineJoinEnum[e.lj||2],1==e.lj&&(r.ml=e.ml),s.w=PropertyFactory.getProp(this,e.w,0,null,this),s.w.k||(r.wi=s.w.v),e.d){var n=new DashProperty(this,e.d,"canvas",this);s.d=n,s.d.k||(r.da=s.d.dashArray,r.do=s.d.dashoffset[0])}}else r.r=2===e.r?"evenodd":"nonzero";return this.stylesList.push(r),s.style=r,s},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(e){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,e.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,e,this)}}},CVShapeElement.prototype.createShapeElement=function(e){var t=new CVShapeData(this,e,this.stylesList,this.transformsManager);return this.shapes.push(t),this.addShapeToModifiers(t),t},CVShapeElement.prototype.reloadShapes=function(){var e;this._isFirstFrame=!0;var t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(e){var t,r=this.stylesList.length;for(t=0;t<r;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.push(e)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var e,t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.pop()},CVShapeElement.prototype.closeStyles=function(e){var t,r=e.length;for(t=0;t<r;t+=1)e[t].closed=!0},CVShapeElement.prototype.searchShapes=function(e,t,r,s,n){var i,a,o,l,c,h,u=e.length-1,d=[],p=[],f=[].concat(n);for(i=u;i>=0;i-=1){if((l=this.searchProcessedElement(e[i]))?t[i]=r[l-1]:e[i]._shouldRender=s,"fl"===e[i].ty||"st"===e[i].ty||"gf"===e[i].ty||"gs"===e[i].ty)l?t[i].style.closed=!1:t[i]=this.createStyleElement(e[i],f),d.push(t[i].style);else if("gr"===e[i].ty){if(l)for(o=t[i].it.length,a=0;a<o;a+=1)t[i].prevViewData[a]=t[i].it[a];else t[i]=this.createGroupElement(e[i]);this.searchShapes(e[i].it,t[i].it,t[i].prevViewData,s,f)}else"tr"===e[i].ty?(l||(h=this.createTransformElement(e[i]),t[i]=h),f.push(t[i]),this.addTransformToStyleList(t[i])):"sh"===e[i].ty||"rc"===e[i].ty||"el"===e[i].ty||"sr"===e[i].ty?l||(t[i]=this.createShapeElement(e[i])):"tm"===e[i].ty||"rd"===e[i].ty||"pb"===e[i].ty||"zz"===e[i].ty||"op"===e[i].ty?(l?(c=t[i]).closed=!1:((c=ShapeModifiers.getModifier(e[i].ty)).init(this,e[i]),t[i]=c,this.shapeModifiers.push(c)),p.push(c)):"rp"===e[i].ty&&(l?(c=t[i]).closed=!0:(c=ShapeModifiers.getModifier(e[i].ty),t[i]=c,c.init(this,e,i,t),this.shapeModifiers.push(c),s=!1),p.push(c));this.addProcessedElement(e[i],i+1)}for(this.removeTransformFromStyleList(),this.closeStyles(d),u=p.length,i=0;i<u;i+=1)p[i].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(e,t){(e._opMdf||t.op._mdf||this._isFirstFrame)&&(t.opacity=e.opacity,t.opacity*=t.op.v,t._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var e,t,r,s,n,i,a,o,l,c=this.stylesList.length,h=this.globalData.renderer,u=this.globalData.canvasContext;for(e=0;e<c;e+=1)if(("st"!==(o=(l=this.stylesList[e]).type)&&"gs"!==o||0!==l.wi)&&l.data._shouldRender&&0!==l.coOp&&0!==this.globalData.currentGlobalAlpha){for(h.save(),i=l.elements,"st"===o||"gs"===o?(h.ctxStrokeStyle("st"===o?l.co:l.grd),h.ctxLineWidth(l.wi),h.ctxLineCap(l.lc),h.ctxLineJoin(l.lj),h.ctxMiterLimit(l.ml||0)):h.ctxFillStyle("fl"===o?l.co:l.grd),h.ctxOpacity(l.coOp),"st"!==o&&"gs"!==o&&u.beginPath(),h.ctxTransform(l.preTransforms.finalTransform.props),r=i.length,t=0;t<r;t+=1){for("st"!==o&&"gs"!==o||(u.beginPath(),l.da&&(u.setLineDash(l.da),u.lineDashOffset=l.do)),n=(a=i[t].trNodes).length,s=0;s<n;s+=1)"m"===a[s].t?u.moveTo(a[s].p[0],a[s].p[1]):"c"===a[s].t?u.bezierCurveTo(a[s].pts[0],a[s].pts[1],a[s].pts[2],a[s].pts[3],a[s].pts[4],a[s].pts[5]):u.closePath();"st"!==o&&"gs"!==o||(h.ctxStroke(),l.da&&u.setLineDash(this.dashResetter))}"st"!==o&&"gs"!==o&&this.globalData.renderer.ctxFill(l.r),h.restore()}},CVShapeElement.prototype.renderShape=function(e,t,r,s){var n,i;for(i=e,n=t.length-1;n>=0;n-=1)"tr"===t[n].ty?(i=r[n].transform,this.renderShapeTransform(e,i)):"sh"===t[n].ty||"el"===t[n].ty||"rc"===t[n].ty||"sr"===t[n].ty?this.renderPath(t[n],r[n]):"fl"===t[n].ty?this.renderFill(t[n],r[n],i):"st"===t[n].ty?this.renderStroke(t[n],r[n],i):"gf"===t[n].ty||"gs"===t[n].ty?this.renderGradientFill(t[n],r[n],i):"gr"===t[n].ty?this.renderShape(i,t[n].it,r[n].it):t[n].ty;s&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(e,t){if(this._isFirstFrame||t._mdf||e.transforms._mdf){var r,s,n,i=e.trNodes,a=t.paths,o=a._length;i.length=0;var l=e.transforms.finalTransform;for(n=0;n<o;n+=1){var c=a.shapes[n];if(c&&c.v){for(s=c._length,r=1;r<s;r+=1)1===r&&i.push({t:"m",p:l.applyToPointArray(c.v[0][0],c.v[0][1],0)}),i.push({t:"c",pts:l.applyToTriplePoints(c.o[r-1],c.i[r],c.v[r])});1===s&&i.push({t:"m",p:l.applyToPointArray(c.v[0][0],c.v[0][1],0)}),c.c&&s&&(i.push({t:"c",pts:l.applyToTriplePoints(c.o[r-1],c.i[0],c.v[0])}),i.push({t:"z"}))}}e.trNodes=i}},CVShapeElement.prototype.renderPath=function(e,t){if(!0!==e.hd&&e._shouldRender){var r,s=t.styledShapes.length;for(r=0;r<s;r+=1)this.renderStyledShape(t.styledShapes[r],t.sh)}},CVShapeElement.prototype.renderFill=function(e,t,r){var s=t.style;(t.c._mdf||this._isFirstFrame)&&(s.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||r._opMdf||this._isFirstFrame)&&(s.coOp=t.o.v*r.opacity)},CVShapeElement.prototype.renderGradientFill=function(e,t,r){var s,n=t.style;if(!n.grd||t.g._mdf||t.s._mdf||t.e._mdf||1!==e.t&&(t.h._mdf||t.a._mdf)){var i,a=this.globalData.canvasContext,o=t.s.v,l=t.e.v;if(1===e.t)s=a.createLinearGradient(o[0],o[1],l[0],l[1]);else{var c=Math.sqrt(Math.pow(o[0]-l[0],2)+Math.pow(o[1]-l[1],2)),h=Math.atan2(l[1]-o[1],l[0]-o[0]),u=t.h.v;u>=1?u=.99:u<=-1&&(u=-.99);var d=c*u,p=Math.cos(h+t.a.v)*d+o[0],f=Math.sin(h+t.a.v)*d+o[1];s=a.createRadialGradient(p,f,0,o[0],o[1],c)}var m=e.g.p,g=t.g.c,y=1;for(i=0;i<m;i+=1)t.g._hasOpacity&&t.g._collapsable&&(y=t.g.o[2*i+1]),s.addColorStop(g[4*i]/100,"rgba("+g[4*i+1]+","+g[4*i+2]+","+g[4*i+3]+","+y+")");n.grd=s}n.coOp=t.o.v*r.opacity},CVShapeElement.prototype.renderStroke=function(e,t,r){var s=t.style,n=t.d;n&&(n._mdf||this._isFirstFrame)&&(s.da=n.dashArray,s.do=n.dashoffset[0]),(t.c._mdf||this._isFirstFrame)&&(s.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||r._opMdf||this._isFirstFrame)&&(s.coOp=t.o.v*r.opacity),(t.w._mdf||this._isFirstFrame)&&(s.wi=t.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=!1;e.fc?(t=!0,this.values.fill=this.buildColor(e.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=t;var r=!1;e.sc&&(r=!0,this.values.stroke=this.buildColor(e.sc),this.values.sWidth=e.sw);var s,n,i,a,o,l,c,h,u,d,p,f,m=this.globalData.fontManager.getFontByName(e.f),g=e.l,y=this.mHelper;this.stroke=r,this.values.fValue=e.finalSize+"px "+this.globalData.fontManager.getFontByName(e.f).fFamily,n=e.finalText.length;var b=this.data.singleShape,v=.001*e.tr*e.finalSize,w=0,A=0,k=!0,E=0;for(s=0;s<n;s+=1){a=(i=this.globalData.fontManager.getCharData(e.finalText[s],m.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily))&&i.data||{},y.reset(),b&&g[s].n&&(w=-v,A+=e.yOffset,A+=k?1:0,k=!1),u=(c=a.shapes?a.shapes[0].it:[]).length,y.scale(e.finalSize/100,e.finalSize/100),b&&this.applyTextPropertiesToMatrix(e,y,g[s].line,w,A),p=createSizedArray(u-1);var x=0;for(h=0;h<u;h+=1)if("sh"===c[h].ty){for(l=c[h].ks.k.i.length,d=c[h].ks.k,f=[],o=1;o<l;o+=1)1===o&&f.push(y.applyToX(d.v[0][0],d.v[0][1],0),y.applyToY(d.v[0][0],d.v[0][1],0)),f.push(y.applyToX(d.o[o-1][0],d.o[o-1][1],0),y.applyToY(d.o[o-1][0],d.o[o-1][1],0),y.applyToX(d.i[o][0],d.i[o][1],0),y.applyToY(d.i[o][0],d.i[o][1],0),y.applyToX(d.v[o][0],d.v[o][1],0),y.applyToY(d.v[o][0],d.v[o][1],0));f.push(y.applyToX(d.o[o-1][0],d.o[o-1][1],0),y.applyToY(d.o[o-1][0],d.o[o-1][1],0),y.applyToX(d.i[0][0],d.i[0][1],0),y.applyToY(d.i[0][0],d.i[0][1],0),y.applyToX(d.v[0][0],d.v[0][1],0),y.applyToY(d.v[0][0],d.v[0][1],0)),p[x]=f,x+=1}b&&(w+=g[s].l,w+=v),this.textSpans[E]?this.textSpans[E].elem=p:this.textSpans[E]={elem:p},E+=1}},CVTextElement.prototype.renderInnerContent=function(){var e,t,r,s,n,i;this.validateText(),this.canvasContext.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var a,o=this.textAnimator.renderedLetters,l=this.textProperty.currentData.l;t=l.length;var c,h,u=null,d=null,p=null,f=this.globalData.renderer;for(e=0;e<t;e+=1)if(!l[e].n){if((a=o[e])&&(f.save(),f.ctxTransform(a.p),f.ctxOpacity(a.o)),this.fill){for(a&&a.fc?u!==a.fc&&(f.ctxFillStyle(a.fc),u=a.fc):u!==this.values.fill&&(u=this.values.fill,f.ctxFillStyle(this.values.fill)),s=(c=this.textSpans[e].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<s;r+=1)for(i=(h=c[r]).length,this.globalData.canvasContext.moveTo(h[0],h[1]),n=2;n<i;n+=6)this.globalData.canvasContext.bezierCurveTo(h[n],h[n+1],h[n+2],h[n+3],h[n+4],h[n+5]);this.globalData.canvasContext.closePath(),f.ctxFill()}if(this.stroke){for(a&&a.sw?p!==a.sw&&(p=a.sw,f.ctxLineWidth(a.sw)):p!==this.values.sWidth&&(p=this.values.sWidth,f.ctxLineWidth(this.values.sWidth)),a&&a.sc?d!==a.sc&&(d=a.sc,f.ctxStrokeStyle(a.sc)):d!==this.values.stroke&&(d=this.values.stroke,f.ctxStrokeStyle(this.values.stroke)),s=(c=this.textSpans[e].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<s;r+=1)for(i=(h=c[r]).length,this.globalData.canvasContext.moveTo(h[0],h[1]),n=2;n<i;n+=6)this.globalData.canvasContext.bezierCurveTo(h[n],h[n+1],h[n+2],h[n+3],h[n+4],h[n+5]);this.globalData.canvasContext.closePath(),f.ctxStroke()}a&&this.globalData.renderer.restore()}},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var e=createTag("canvas");e.width=this.assetData.w,e.height=this.assetData.h;var t,r,s=e.getContext("2d"),n=this.img.width,i=this.img.height,a=n/i,o=this.assetData.w/this.assetData.h,l=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;a>o&&"xMidYMid slice"===l||a<o&&"xMidYMid slice"!==l?t=(r=i)*o:r=(t=n)/o,s.drawImage(this.img,(n-t)/2,(i-r)/2,t,r,0,0,this.assetData.w,this.assetData.h),this.img=e}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(e){return new CVShapeElement(e,this.globalData,this)},CanvasRendererBase.prototype.createText=function(e){return new CVTextElement(e,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(e){return new CVImageElement(e,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(e){return new CVSolidElement(e,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(e){1===e[0]&&0===e[1]&&0===e[4]&&1===e[5]&&0===e[12]&&0===e[13]||this.canvasContext.transform(e[0],e[1],e[4],e[5],e[12],e[13])},CanvasRendererBase.prototype.ctxOpacity=function(e){this.canvasContext.globalAlpha*=e<0?0:e},CanvasRendererBase.prototype.ctxFillStyle=function(e){this.canvasContext.fillStyle=e},CanvasRendererBase.prototype.ctxStrokeStyle=function(e){this.canvasContext.strokeStyle=e},CanvasRendererBase.prototype.ctxLineWidth=function(e){this.canvasContext.lineWidth=e},CanvasRendererBase.prototype.ctxLineCap=function(e){this.canvasContext.lineCap=e},CanvasRendererBase.prototype.ctxLineJoin=function(e){this.canvasContext.lineJoin=e},CanvasRendererBase.prototype.ctxMiterLimit=function(e){this.canvasContext.miterLimit=e},CanvasRendererBase.prototype.ctxFill=function(e){this.canvasContext.fill(e)},CanvasRendererBase.prototype.ctxFillRect=function(e,t,r,s){this.canvasContext.fillRect(e,t,r,s)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(e){this.renderConfig.clearCanvas?(e&&(this.globalData.blendMode="source-over"),this.contextData.restore(e)):this.canvasContext.restore()},CanvasRendererBase.prototype.configAnimation=function(e){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var t=this.animationItem.container.style;t.width="100%",t.height="100%";var r="0px 0px 0px";t.transformOrigin=r,t.mozTransformOrigin=r,t.webkitTransformOrigin=r,t["-webkit-transform"]=r,t.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=e,this.layers=e.layers,this.transformCanvas={w:e.w,h:e.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(e,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(e.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(e,t){var r,s,n,i;if(this.reset(),e?(r=e,s=t,this.canvasContext.canvas.width=r,this.canvasContext.canvas.height=s):(this.animationItem.wrapper&&this.animationItem.container?(r=this.animationItem.wrapper.offsetWidth,s=this.animationItem.wrapper.offsetHeight):(r=this.canvasContext.canvas.width,s=this.canvasContext.canvas.height),this.canvasContext.canvas.width=r*this.renderConfig.dpr,this.canvasContext.canvas.height=s*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var a=this.renderConfig.preserveAspectRatio.split(" "),o=a[1]||"meet",l=a[0]||"xMidYMid",c=l.substr(0,4),h=l.substr(4);n=r/s,(i=this.transformCanvas.w/this.transformCanvas.h)>n&&"meet"===o||i<n&&"slice"===o?(this.transformCanvas.sx=r/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=r/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=s/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=s/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===c&&(i<n&&"meet"===o||i>n&&"slice"===o)?(r-this.transformCanvas.w*(s/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===c&&(i<n&&"meet"===o||i>n&&"slice"===o)?(r-this.transformCanvas.w*(s/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===h&&(i>n&&"meet"===o||i<n&&"slice"===o)?(s-this.transformCanvas.h*(r/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===h&&(i>n&&"meet"===o||i<n&&"slice"===o)?(s-this.transformCanvas.h*(r/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"===this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=r/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=s/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){var e;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),e=(this.layers?this.layers.length:0)-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy&&this.elements[e].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(e,t){if((this.renderedFrame!==e||!0!==this.renderConfig.clearCanvas||t)&&!this.destroyed&&-1!==e){var r;this.renderedFrame=e,this.globalData.frameNum=e-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||t,this.globalData.projectInterface.currentFrame=e;var s=this.layers.length;for(this.completeLayers||this.checkLayers(e),r=s-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].prepareFrame(e-this.layers[r].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),r=s-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(e){var t=this.elements;if(!t[e]&&99!==this.layers[e].ty){var r=this.createItem(this.layers[e],this,this.globalData);t[e]=r,r.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"},CVContextData.prototype.duplicate=function(){var e=2*this._length,t=0;for(t=this._length;t<e;t+=1)this.stack[t]=new CanvasContext;this._length=e},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(e){this.cArrPos-=1;var t,r=this.stack[this.cArrPos],s=r.transform,n=this.cTr.props;for(t=0;t<16;t+=1)n[t]=s[t];if(e){this.nativeContext.restore();var i=this.stack[this.cArrPos+1];this.appliedFillStyle=i.fillStyle,this.appliedStrokeStyle=i.strokeStyle,this.appliedLineWidth=i.lineWidth,this.appliedLineCap=i.lineCap,this.appliedLineJoin=i.lineJoin,this.appliedMiterLimit=i.miterLimit}this.nativeContext.setTransform(s[0],s[1],s[4],s[5],s[12],s[13]),(e||-1!==r.opacity&&this.currentOpacity!==r.opacity)&&(this.nativeContext.globalAlpha=r.opacity,this.currentOpacity=r.opacity),this.currentFillStyle=r.fillStyle,this.currentStrokeStyle=r.strokeStyle,this.currentLineWidth=r.lineWidth,this.currentLineCap=r.lineCap,this.currentLineJoin=r.lineJoin,this.currentMiterLimit=r.miterLimit},CVContextData.prototype.save=function(e){e&&this.nativeContext.save();var t=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var r,s=this.stack[this.cArrPos];for(r=0;r<16;r+=1)s.transform[r]=t[r];this.cArrPos+=1;var n=this.stack[this.cArrPos];n.opacity=s.opacity,n.fillStyle=s.fillStyle,n.strokeStyle=s.strokeStyle,n.lineWidth=s.lineWidth,n.lineCap=s.lineCap,n.lineJoin=s.lineJoin,n.miterLimit=s.miterLimit},CVContextData.prototype.setOpacity=function(e){this.stack[this.cArrPos].opacity=e},CVContextData.prototype.setContext=function(e){this.nativeContext=e},CVContextData.prototype.fillStyle=function(e){this.stack[this.cArrPos].fillStyle!==e&&(this.currentFillStyle=e,this.stack[this.cArrPos].fillStyle=e)},CVContextData.prototype.strokeStyle=function(e){this.stack[this.cArrPos].strokeStyle!==e&&(this.currentStrokeStyle=e,this.stack[this.cArrPos].strokeStyle=e)},CVContextData.prototype.lineWidth=function(e){this.stack[this.cArrPos].lineWidth!==e&&(this.currentLineWidth=e,this.stack[this.cArrPos].lineWidth=e)},CVContextData.prototype.lineCap=function(e){this.stack[this.cArrPos].lineCap!==e&&(this.currentLineCap=e,this.stack[this.cArrPos].lineCap=e)},CVContextData.prototype.lineJoin=function(e){this.stack[this.cArrPos].lineJoin!==e&&(this.currentLineJoin=e,this.stack[this.cArrPos].lineJoin=e)},CVContextData.prototype.miterLimit=function(e){this.stack[this.cArrPos].miterLimit!==e&&(this.currentMiterLimit=e,this.stack[this.cArrPos].miterLimit=e)},CVContextData.prototype.transform=function(e){this.transformMat.cloneFromProps(e);var t=this.cTr;this.transformMat.multiply(t),t.cloneFromProps(this.transformMat.props);var r=t.props;this.nativeContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13])},CVContextData.prototype.opacity=function(e){var t=this.stack[this.cArrPos].opacity;t*=e<0?0:e,this.stack[this.cArrPos].opacity!==t&&(this.currentOpacity!==e&&(this.nativeContext.globalAlpha=e,this.currentOpacity=e),this.stack[this.cArrPos].opacity=t)},CVContextData.prototype.fill=function(e){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(e)},CVContextData.prototype.fillRect=function(e,t,r,s){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(e,t,r,s)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()},extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var e,t=this.canvasContext;for(t.beginPath(),t.moveTo(0,0),t.lineTo(this.data.w,0),t.lineTo(this.data.w,this.data.h),t.lineTo(0,this.data.h),t.lineTo(0,0),t.clip(),e=this.layers.length-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},CVCompElement.prototype.destroy=function(){var e;for(e=this.layers.length-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)},extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){var e=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var t=this.finalTransform.mat.toCSS();e.transform=t,e.webkitTransform=t}this.finalTransform._opMdf&&(e.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var e;this.data.hasMask?((e=createNS("rect")).setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((e=createTag("div")).style.width=this.data.sw+"px",e.style.height=this.data.sh+"px",e.style.backgroundColor=this.data.sc),this.layerElement.appendChild(e)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var e;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),e=this.svgElement;else{e=createNS("svg");var t=this.comp.data?this.comp.data:this.globalData.compSize;e.setAttribute("width",t.w),e.setAttribute("height",t.h),e.appendChild(this.shapesContainer),this.layerElement.appendChild(e)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=e},HShapeElement.prototype.getTransformedPoint=function(e,t){var r,s=e.length;for(r=0;r<s;r+=1)t=e[r].mProps.v.applyToPointArray(t[0],t[1],0);return t},HShapeElement.prototype.calculateShapeBoundingBox=function(e,t){var r,s,n,i,a,o=e.sh.v,l=e.transformers,c=o._length;if(!(c<=1)){for(r=0;r<c-1;r+=1)s=this.getTransformedPoint(l,o.v[r]),n=this.getTransformedPoint(l,o.o[r]),i=this.getTransformedPoint(l,o.i[r+1]),a=this.getTransformedPoint(l,o.v[r+1]),this.checkBounds(s,n,i,a,t);o.c&&(s=this.getTransformedPoint(l,o.v[r]),n=this.getTransformedPoint(l,o.o[r]),i=this.getTransformedPoint(l,o.i[0]),a=this.getTransformedPoint(l,o.v[0]),this.checkBounds(s,n,i,a,t))}},HShapeElement.prototype.checkBounds=function(e,t,r,s,n){this.getBoundsOfCurve(e,t,r,s);var i=this.shapeBoundingBox;n.x=bmMin(i.left,n.x),n.xMax=bmMax(i.right,n.xMax),n.y=bmMin(i.top,n.y),n.yMax=bmMax(i.bottom,n.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(e,t,r,s){for(var n,i,a,o,l,c,h,u=[[e[0],s[0]],[e[1],s[1]]],d=0;d<2;++d)i=6*e[d]-12*t[d]+6*r[d],n=-3*e[d]+9*t[d]-9*r[d]+3*s[d],a=3*t[d]-3*e[d],i|=0,a|=0,0==(n|=0)&&0===i||(0===n?(o=-a/i)>0&&o<1&&u[d].push(this.calculateF(o,e,t,r,s,d)):(l=i*i-4*a*n)>=0&&((c=(-i+bmSqrt(l))/(2*n))>0&&c<1&&u[d].push(this.calculateF(c,e,t,r,s,d)),(h=(-i-bmSqrt(l))/(2*n))>0&&h<1&&u[d].push(this.calculateF(h,e,t,r,s,d))));this.shapeBoundingBox.left=bmMin.apply(null,u[0]),this.shapeBoundingBox.top=bmMin.apply(null,u[1]),this.shapeBoundingBox.right=bmMax.apply(null,u[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,u[1])},HShapeElement.prototype.calculateF=function(e,t,r,s,n,i){return bmPow(1-e,3)*t[i]+3*bmPow(1-e,2)*e*r[i]+3*(1-e)*bmPow(e,2)*s[i]+bmPow(e,3)*n[i]},HShapeElement.prototype.calculateBoundingBox=function(e,t){var r,s=e.length;for(r=0;r<s;r+=1)e[r]&&e[r].sh?this.calculateShapeBoundingBox(e[r],t):e[r]&&e[r].it?this.calculateBoundingBox(e[r].it,t):e[r]&&e[r].style&&e[r].w&&this.expandStrokeBoundingBox(e[r].w,t)},HShapeElement.prototype.expandStrokeBoundingBox=function(e,t){var r=0;if(e.keyframes){for(var s=0;s<e.keyframes.length;s+=1){var n=e.keyframes[s].s;n>r&&(r=n)}r*=e.mult}else r=e.v*e.mult;t.x-=r,t.xMax+=r,t.y-=r,t.yMax+=r},HShapeElement.prototype.currentBoxContains=function(e){return this.currentBBox.x<=e.x&&this.currentBBox.y<=e.y&&this.currentBBox.width+this.currentBBox.x>=e.x+e.width&&this.currentBBox.height+this.currentBBox.y>=e.y+e.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var e=this.tempBoundingBox,t=999999;if(e.x=t,e.xMax=-t,e.y=t,e.yMax=-t,this.calculateBoundingBox(this.itemsData,e),e.width=e.xMax<e.x?0:e.xMax-e.x,e.height=e.yMax<e.y?0:e.yMax-e.y,this.currentBoxContains(e))return;var r=!1;if(this.currentBBox.w!==e.width&&(this.currentBBox.w=e.width,this.shapeCont.setAttribute("width",e.width),r=!0),this.currentBBox.h!==e.height&&(this.currentBBox.h=e.height,this.shapeCont.setAttribute("height",e.height),r=!0),r||this.currentBBox.x!==e.x||this.currentBBox.y!==e.y){this.currentBBox.w=e.width,this.currentBBox.h=e.height,this.currentBBox.x=e.x,this.currentBBox.y=e.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var s=this.shapeCont.style,n="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";s.transform=n,s.webkitTransform=n}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var e=createNS("g");this.maskedElement.appendChild(e),this.innerElem=e}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=this.innerElem.style,r=e.fc?this.buildColor(e.fc):"rgba(0,0,0,0)";t.fill=r,t.color=r,e.sc&&(t.stroke=this.buildColor(e.sc),t.strokeWidth=e.sw+"px");var s,n,i=this.globalData.fontManager.getFontByName(e.f);if(!this.globalData.fontManager.chars)if(t.fontSize=e.finalSize+"px",t.lineHeight=e.finalSize+"px",i.fClass)this.innerElem.className=i.fClass;else{t.fontFamily=i.fFamily;var a=e.fWeight,o=e.fStyle;t.fontStyle=o,t.fontWeight=a}var l,c,h,u=e.l;n=u.length;var d,p=this.mHelper,f="",m=0;for(s=0;s<n;s+=1){if(this.globalData.fontManager.chars?(this.textPaths[m]?l=this.textPaths[m]:((l=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),l.setAttribute("stroke-linejoin",lineJoinEnum[2]),l.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[m]?h=(c=this.textSpans[m]).children[0]:((c=createTag("div")).style.lineHeight=0,(h=createNS("svg")).appendChild(l),styleDiv(c)))):this.isMasked?l=this.textPaths[m]?this.textPaths[m]:createNS("text"):this.textSpans[m]?(c=this.textSpans[m],l=this.textPaths[m]):(styleDiv(c=createTag("span")),styleDiv(l=createTag("span")),c.appendChild(l)),this.globalData.fontManager.chars){var g,y=this.globalData.fontManager.getCharData(e.finalText[s],i.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily);if(g=y?y.data:null,p.reset(),g&&g.shapes&&g.shapes.length&&(d=g.shapes[0].it,p.scale(e.finalSize/100,e.finalSize/100),f=this.createPathShape(p,d),l.setAttribute("d",f)),this.isMasked)this.innerElem.appendChild(l);else{if(this.innerElem.appendChild(c),g&&g.shapes){document.body.appendChild(h);var b=h.getBBox();h.setAttribute("width",b.width+2),h.setAttribute("height",b.height+2),h.setAttribute("viewBox",b.x-1+" "+(b.y-1)+" "+(b.width+2)+" "+(b.height+2));var v=h.style,w="translate("+(b.x-1)+"px,"+(b.y-1)+"px)";v.transform=w,v.webkitTransform=w,u[s].yOffset=b.y-1}else h.setAttribute("width",1),h.setAttribute("height",1);c.appendChild(h)}}else if(l.textContent=u[s].val,l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(l);else{this.innerElem.appendChild(c);var A=l.style,k="translate3d(0,"+-e.finalSize/1.2+"px,0)";A.transform=k,A.webkitTransform=k}this.isMasked?this.textSpans[m]=l:this.textSpans[m]=c,this.textSpans[m].style.display="block",this.textPaths[m]=l,m+=1}for(;m<this.textSpans.length;)this.textSpans[m].style.display="none",m+=1},HTextElement.prototype.renderInnerContent=function(){var e;if(this.validateText(),this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),e=this.svgElement.style;var t="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";e.transform=t,e.webkitTransform=t}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var r,s,n,i,a,o=0,l=this.textAnimator.renderedLetters,c=this.textProperty.currentData.l;for(s=c.length,r=0;r<s;r+=1)c[r].n?o+=1:(i=this.textSpans[r],a=this.textPaths[r],n=l[o],o+=1,n._mdf.m&&(this.isMasked?i.setAttribute("transform",n.m):(i.style.webkitTransform=n.m,i.style.transform=n.m)),i.style.opacity=n.o,n.sw&&n._mdf.sw&&a.setAttribute("stroke-width",n.sw),n.sc&&n._mdf.sc&&a.setAttribute("stroke",n.sc),n.fc&&n._mdf.fc&&(a.setAttribute("fill",n.fc),a.style.color=n.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var h=this.innerElem.getBBox();if(this.currentBBox.w!==h.width&&(this.currentBBox.w=h.width,this.svgElement.setAttribute("width",h.width)),this.currentBBox.h!==h.height&&(this.currentBBox.h=h.height,this.svgElement.setAttribute("height",h.height)),this.currentBBox.w!==h.width+2||this.currentBBox.h!==h.height+2||this.currentBBox.x!==h.x-1||this.currentBBox.y!==h.y-1){this.currentBBox.w=h.width+2,this.currentBBox.h=h.height+2,this.currentBBox.x=h.x-1,this.currentBBox.y=h.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),e=this.svgElement.style;var u="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";e.transform=u,e.webkitTransform=u}}}},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var e,t,r,s,n=this.comp.threeDElements.length;for(e=0;e<n;e+=1)if("3d"===(t=this.comp.threeDElements[e]).type){r=t.perspectiveElem.style,s=t.container.style;var i=this.pe.v+"px",a="0px 0px 0px",o="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";r.perspective=i,r.webkitPerspective=i,s.transformOrigin=a,s.mozTransformOrigin=a,s.webkitTransformOrigin=a,r.transform=o,r.webkitTransform=o}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var e,t,r=this._isFirstFrame;if(this.hierarchy)for(t=this.hierarchy.length,e=0;e<t;e+=1)r=this.hierarchy[e].finalTransform.mProp._mdf||r;if(r||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(e=t=this.hierarchy.length-1;e>=0;e-=1){var s=this.hierarchy[e].finalTransform.mProp;this.mat.translate(-s.p.v[0],-s.p.v[1],s.p.v[2]),this.mat.rotateX(-s.or.v[0]).rotateY(-s.or.v[1]).rotateZ(s.or.v[2]),this.mat.rotateX(-s.rx.v).rotateY(-s.ry.v).rotateZ(s.rz.v),this.mat.scale(1/s.s.v[0],1/s.s.v[1],1/s.s.v[2]),this.mat.translate(s.a.v[0],s.a.v[1],s.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var n;n=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var i=Math.sqrt(Math.pow(n[0],2)+Math.pow(n[1],2)+Math.pow(n[2],2)),a=[n[0]/i,n[1]/i,n[2]/i],o=Math.sqrt(a[2]*a[2]+a[0]*a[0]),l=Math.atan2(a[1],o),c=Math.atan2(a[0],-a[2]);this.mat.rotateY(c).rotateX(-l)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var h=!this._prevMat.equals(this.mat);if((h||this.pe._mdf)&&this.comp.threeDElements){var u,d,p;for(t=this.comp.threeDElements.length,e=0;e<t;e+=1)if("3d"===(u=this.comp.threeDElements[e]).type){if(h){var f=this.mat.toCSS();(p=u.container.style).transform=f,p.webkitTransform=f}this.pe._mdf&&((d=u.perspectiveElem.style).perspective=this.pe.v+"px",d.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData),t=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(t),t.crossOrigin="anonymous",t.src=e,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRendererBase.prototype.appendElementInPos=function(e,t){var r=e.getBaseElement();if(r){var s=this.layers[t];if(s.ddd&&this.supports3d)this.addTo3dContainer(r,t);else if(this.threeDElements)this.addTo3dContainer(r,t);else{for(var n,i,a=0;a<t;)this.elements[a]&&!0!==this.elements[a]&&this.elements[a].getBaseElement&&(i=this.elements[a],n=(this.layers[a].ddd?this.getThreeDContainerByPos(a):i.getBaseElement())||n),a+=1;n?s.ddd&&this.supports3d||this.layerElement.insertBefore(r,n):s.ddd&&this.supports3d||this.layerElement.appendChild(r)}}},HybridRendererBase.prototype.createShape=function(e){return this.supports3d?new HShapeElement(e,this.globalData,this):new SVGShapeElement(e,this.globalData,this)},HybridRendererBase.prototype.createText=function(e){return this.supports3d?new HTextElement(e,this.globalData,this):new SVGTextLottieElement(e,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(e){return this.camera=new HCameraElement(e,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(e){return this.supports3d?new HImageElement(e,this.globalData,this):new IImageElement(e,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(e){return this.supports3d?new HSolidElement(e,this.globalData,this):new ISolidElement(e,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(e){for(var t=0,r=this.threeDElements.length;t<r;){if(this.threeDElements[t].startPos<=e&&this.threeDElements[t].endPos>=e)return this.threeDElements[t].perspectiveElem;t+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(e,t){var r,s,n=createTag("div");styleDiv(n);var i=createTag("div");if(styleDiv(i),"3d"===t){(r=n.style).width=this.globalData.compSize.w+"px",r.height=this.globalData.compSize.h+"px";var a="50% 50%";r.webkitTransformOrigin=a,r.mozTransformOrigin=a,r.transformOrigin=a;var o="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(s=i.style).transform=o,s.webkitTransform=o}n.appendChild(i);var l={container:i,perspectiveElem:n,startPos:e,endPos:e,type:t};return this.threeDElements.push(l),l},HybridRendererBase.prototype.build3dContainers=function(){var e,t,r=this.layers.length,s="";for(e=0;e<r;e+=1)this.layers[e].ddd&&3!==this.layers[e].ty?("3d"!==s&&(s="3d",t=this.createThreeDContainer(e,"3d")),t.endPos=Math.max(t.endPos,e)):("2d"!==s&&(s="2d",t=this.createThreeDContainer(e,"2d")),t.endPos=Math.max(t.endPos,e));for(e=(r=this.threeDElements.length)-1;e>=0;e-=1)this.resizerElem.appendChild(this.threeDElements[e].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(e,t){for(var r=0,s=this.threeDElements.length;r<s;){if(t<=this.threeDElements[r].endPos){for(var n,i=this.threeDElements[r].startPos;i<t;)this.elements[i]&&this.elements[i].getBaseElement&&(n=this.elements[i].getBaseElement()),i+=1;n?this.threeDElements[r].container.insertBefore(e,n):this.threeDElements[r].container.appendChild(e);break}r+=1}},HybridRendererBase.prototype.configAnimation=function(e){var t=createTag("div"),r=this.animationItem.wrapper,s=t.style;s.width=e.w+"px",s.height=e.h+"px",this.resizerElem=t,styleDiv(t),s.transformStyle="flat",s.mozTransformStyle="flat",s.webkitTransformStyle="flat",this.renderConfig.className&&t.setAttribute("class",this.renderConfig.className),r.appendChild(t),s.overflow="hidden";var n=createNS("svg");n.setAttribute("width","1"),n.setAttribute("height","1"),styleDiv(n),this.resizerElem.appendChild(n);var i=createNS("defs");n.appendChild(i),this.data=e,this.setupGlobalData(e,n),this.globalData.defs=i,this.layers=e.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){var e;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var t=this.layers?this.layers.length:0;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var e,t,r,s,n=this.animationItem.wrapper.offsetWidth,i=this.animationItem.wrapper.offsetHeight,a=n/i;this.globalData.compSize.w/this.globalData.compSize.h>a?(e=n/this.globalData.compSize.w,t=n/this.globalData.compSize.w,r=0,s=(i-this.globalData.compSize.h*(n/this.globalData.compSize.w))/2):(e=i/this.globalData.compSize.h,t=i/this.globalData.compSize.h,r=(n-this.globalData.compSize.w*(i/this.globalData.compSize.h))/2,s=0);var o=this.resizerElem.style;o.webkitTransform="matrix3d("+e+",0,0,0,0,"+t+",0,0,0,0,1,0,"+r+","+s+",0,1)",o.transform=o.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var e,t=this.globalData.compSize.w,r=this.globalData.compSize.h,s=this.threeDElements.length;for(e=0;e<s;e+=1){var n=this.threeDElements[e].perspectiveElem.style;n.webkitPerspective=Math.sqrt(Math.pow(t,2)+Math.pow(r,2))+"px",n.perspective=n.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(e){var t,r=e.length,s=createTag("div");for(t=0;t<r;t+=1)if(e[t].xt){var n=this.createComp(e[t],s,this.globalData.comp,null);n.initExpressions(),this.globalData.projectInterface.registerComposition(n)}},extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(e,t){for(var r,s=0;s<t;)this.elements[s]&&this.elements[s].getBaseElement&&(r=this.elements[s].getBaseElement()),s+=1;r?this.layerElement.insertBefore(e,r):this.layerElement.appendChild(e)},HCompElement.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)},extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)};var CompExpressionInterface=function(e){function t(t){for(var r=0,s=e.layers.length;r<s;){if(e.layers[r].nm===t||e.layers[r].ind===t)return e.elements[r].layerInterface;r+=1}return null}return Object.defineProperty(t,"_name",{value:e.data.nm}),t.layer=t,t.pixelAspect=1,t.height=e.data.h||e.globalData.compSize.h,t.width=e.data.w||e.globalData.compSize.w,t.pixelAspect=1,t.frameDuration=1/e.globalData.frameRate,t.displayStartTime=0,t.numLayers=e.layers.length,t};function _typeof$2(e){return _typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$2(e)}function seedRandom(e,t){var r,s=this,n=256,i="random",a=t.pow(n,6),o=t.pow(2,52),l=2*o,c=n-1;function h(e){var t,r=e.length,s=this,i=0,a=s.i=s.j=0,o=s.S=[];for(r||(e=[r++]);i<n;)o[i]=i++;for(i=0;i<n;i++)o[i]=o[a=c&a+e[i%r]+(t=o[i])],o[a]=t;s.g=function(e){for(var t,r=0,i=s.i,a=s.j,o=s.S;e--;)t=o[i=c&i+1],r=r*n+o[c&(o[i]=o[a=c&a+t])+(o[a]=t)];return s.i=i,s.j=a,r}}function u(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function d(e,t){var r,s=[],n=_typeof$2(e);if(t&&"object"==n)for(r in e)try{s.push(d(e[r],t-1))}catch(e){}return s.length?s:"string"==n?e:e+"\0"}function p(e,t){for(var r,s=e+"",n=0;n<s.length;)t[c&n]=c&(r^=19*t[c&n])+s.charCodeAt(n++);return f(t)}function f(e){return String.fromCharCode.apply(0,e)}t["seed"+i]=function(c,m,g){var y=[],b=p(d((m=!0===m?{entropy:!0}:m||{}).entropy?[c,f(e)]:null===c?function(){try{if(r)return f(r.randomBytes(n));var t=new Uint8Array(n);return(s.crypto||s.msCrypto).getRandomValues(t),f(t)}catch(t){var i=s.navigator,a=i&&i.plugins;return[+new Date,s,a,s.screen,f(e)]}}():c,3),y),v=new h(y),w=function(){for(var e=v.g(6),t=a,r=0;e<o;)e=(e+r)*n,t*=n,r=v.g(1);for(;e>=l;)e/=2,t/=2,r>>>=1;return(e+r)/t};return w.int32=function(){return 0|v.g(4)},w.quick=function(){return v.g(4)/4294967296},w.double=w,p(f(v.S),e),(m.pass||g||function(e,r,s,n){return n&&(n.S&&u(n,v),e.state=function(){return u(v,{})}),s?(t[i]=e,r):e})(w,b,"global"in m?m.global:this==t,m.state)},p(t.random(),e)}function initialize$2(e){seedRandom([],e)}var propTypes={SHAPE:"shape"};function _typeof$1(e){return _typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1(e)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(e){return e.constructor===Array||e.constructor===Float32Array}function isNumerable(e,t){return"number"===e||t instanceof Number||"boolean"===e||"string"===e}function $bm_neg(e){var t=_typeof$1(e);if("number"===t||e instanceof Number||"boolean"===t)return-e;if($bm_isInstanceOfArray(e)){var r,s=e.length,n=[];for(r=0;r<s;r+=1)n[r]=-e[r];return n}return e.propType?e.v:-e}initialize$2(BMMath);var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(e,t){var r=_typeof$1(e),s=_typeof$1(t);if(isNumerable(r,e)&&isNumerable(s,t)||"string"===r||"string"===s)return e+t;if($bm_isInstanceOfArray(e)&&isNumerable(s,t))return(e=e.slice(0))[0]+=t,e;if(isNumerable(r,e)&&$bm_isInstanceOfArray(t))return(t=t.slice(0))[0]=e+t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var n=0,i=e.length,a=t.length,o=[];n<i||n<a;)("number"==typeof e[n]||e[n]instanceof Number)&&("number"==typeof t[n]||t[n]instanceof Number)?o[n]=e[n]+t[n]:o[n]=void 0===t[n]?e[n]:e[n]||t[n],n+=1;return o}return 0}var add=sum;function sub(e,t){var r=_typeof$1(e),s=_typeof$1(t);if(isNumerable(r,e)&&isNumerable(s,t))return"string"===r&&(e=parseInt(e,10)),"string"===s&&(t=parseInt(t,10)),e-t;if($bm_isInstanceOfArray(e)&&isNumerable(s,t))return(e=e.slice(0))[0]-=t,e;if(isNumerable(r,e)&&$bm_isInstanceOfArray(t))return(t=t.slice(0))[0]=e-t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var n=0,i=e.length,a=t.length,o=[];n<i||n<a;)("number"==typeof e[n]||e[n]instanceof Number)&&("number"==typeof t[n]||t[n]instanceof Number)?o[n]=e[n]-t[n]:o[n]=void 0===t[n]?e[n]:e[n]||t[n],n+=1;return o}return 0}function mul(e,t){var r,s,n,i=_typeof$1(e),a=_typeof$1(t);if(isNumerable(i,e)&&isNumerable(a,t))return e*t;if($bm_isInstanceOfArray(e)&&isNumerable(a,t)){for(n=e.length,r=createTypedArray("float32",n),s=0;s<n;s+=1)r[s]=e[s]*t;return r}if(isNumerable(i,e)&&$bm_isInstanceOfArray(t)){for(n=t.length,r=createTypedArray("float32",n),s=0;s<n;s+=1)r[s]=e*t[s];return r}return 0}function div(e,t){var r,s,n,i=_typeof$1(e),a=_typeof$1(t);if(isNumerable(i,e)&&isNumerable(a,t))return e/t;if($bm_isInstanceOfArray(e)&&isNumerable(a,t)){for(n=e.length,r=createTypedArray("float32",n),s=0;s<n;s+=1)r[s]=e[s]/t;return r}if(isNumerable(i,e)&&$bm_isInstanceOfArray(t)){for(n=t.length,r=createTypedArray("float32",n),s=0;s<n;s+=1)r[s]=e/t[s];return r}return 0}function mod(e,t){return"string"==typeof e&&(e=parseInt(e,10)),"string"==typeof t&&(t=parseInt(t,10)),e%t}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(e,t,r){if(t>r){var s=r;r=t,t=s}return Math.min(Math.max(e,t),r)}function radiansToDegrees(e){return e/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(e){return e*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(e,t){if("number"==typeof e||e instanceof Number)return t=t||0,Math.abs(e-t);var r;t||(t=helperLengthArray);var s=Math.min(e.length,t.length),n=0;for(r=0;r<s;r+=1)n+=Math.pow(t[r]-e[r],2);return Math.sqrt(n)}function normalize(e){return div(e,length(e))}function rgbToHsl(e){var t,r,s=e[0],n=e[1],i=e[2],a=Math.max(s,n,i),o=Math.min(s,n,i),l=(a+o)/2;if(a===o)t=0,r=0;else{var c=a-o;switch(r=l>.5?c/(2-a-o):c/(a+o),a){case s:t=(n-i)/c+(n<i?6:0);break;case n:t=(i-s)/c+2;break;case i:t=(s-n)/c+4}t/=6}return[t,r,l,e[3]]}function hue2rgb(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function hslToRgb(e){var t,r,s,n=e[0],i=e[1],a=e[2];if(0===i)t=a,s=a,r=a;else{var o=a<.5?a*(1+i):a+i-a*i,l=2*a-o;t=hue2rgb(l,o,n+1/3),r=hue2rgb(l,o,n),s=hue2rgb(l,o,n-1/3)}return[t,r,s,e[3]]}function linear(e,t,r,s,n){if(void 0!==s&&void 0!==n||(s=t,n=r,t=0,r=1),r<t){var i=r;r=t,t=i}if(e<=t)return s;if(e>=r)return n;var a,o=r===t?0:(e-t)/(r-t);if(!s.length)return s+(n-s)*o;var l=s.length,c=createTypedArray("float32",l);for(a=0;a<l;a+=1)c[a]=s[a]+(n[a]-s[a])*o;return c}function random(e,t){if(void 0===t&&(void 0===e?(e=0,t=1):(t=e,e=void 0)),t.length){var r,s=t.length;e||(e=createTypedArray("float32",s));var n=createTypedArray("float32",s),i=BMMath.random();for(r=0;r<s;r+=1)n[r]=e[r]+i*(t[r]-e[r]);return n}return void 0===e&&(e=0),e+BMMath.random()*(t-e)}function createPath(e,t,r,s){var n,i=e.length,a=shapePool.newElement();a.setPathData(!!s,i);var o,l,c=[0,0];for(n=0;n<i;n+=1)o=t&&t[n]?t[n]:c,l=r&&r[n]?r[n]:c,a.setTripleAt(e[n][0],e[n][1],l[0]+e[n][0],l[1]+e[n][1],o[0]+e[n][0],o[1]+e[n][1],n,!0);return a}function initiateExpression(elem,data,property){function noOp(e){return e}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function(e,t){var r,s,n=this.pv.length?this.pv.length:1,i=createTypedArray("float32",n),a=Math.floor(5*time);for(r=0,s=0;r<a;){for(s=0;s<n;s+=1)i[s]+=-t+2*t*BMMath.random();r+=1}var o=5*time,l=o-Math.floor(o),c=createTypedArray("float32",n);if(n>1){for(s=0;s<n;s+=1)c[s]=this.pv[s]+i[s]+(-t+2*t*BMMath.random())*l;return c}return this.pv+i[0]+(-t+2*t*BMMath.random())*l}.bind(this);function loopInDuration(e,t){return loopIn(e,t,!0)}function loopOutDuration(e,t){return loopOut(e,t,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(e,t){var r=[t[0]-e[0],t[1]-e[1],t[2]-e[2]],s=Math.atan2(r[0],Math.sqrt(r[1]*r[1]+r[2]*r[2]))/degToRads;return[-Math.atan2(r[1],r[2])/degToRads,s,0]}function easeOut(e,t,r,s,n){return applyEase(easeOutBez,e,t,r,s,n)}function easeIn(e,t,r,s,n){return applyEase(easeInBez,e,t,r,s,n)}function ease(e,t,r,s,n){return applyEase(easeInOutBez,e,t,r,s,n)}function applyEase(e,t,r,s,n,i){void 0===n?(n=r,i=s):t=(t-r)/(s-r),t>1?t=1:t<0&&(t=0);var a=e(t);if($bm_isInstanceOfArray(n)){var o,l=n.length,c=createTypedArray("float32",l);for(o=0;o<l;o+=1)c[o]=(i[o]-n[o])*a+n[o];return c}return(i-n)*a+n}function nearestKey(e){var t,r,s,n=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(r=-1,(e*=elem.comp.globalData.frameRate)<data.k[0].t)r=1,s=data.k[0].t;else{for(t=0;t<n-1;t+=1){if(e===data.k[t].t){r=t+1,s=data.k[t].t;break}if(e>data.k[t].t&&e<data.k[t+1].t){e-data.k[t].t>data.k[t+1].t-e?(r=t+2,s=data.k[t+1].t):(r=t+1,s=data.k[t].t);break}}-1===r&&(r=t+1,s=data.k[t].t)}else r=0,s=0;var i={};return i.index=r,i.time=s/elem.comp.globalData.frameRate,i}function key(e){var t,r,s;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+e);e-=1,t={time:data.k[e].t/elem.comp.globalData.frameRate,value:[]};var n=Object.prototype.hasOwnProperty.call(data.k[e],"s")?data.k[e].s:data.k[e-1].e;for(s=n.length,r=0;r<s;r+=1)t[r]=n[r],t.value[r]=n[r];return t}function framesToTime(e,t){return t||(t=elem.comp.globalData.frameRate),e/t}function timeToFrames(e,t){return e||0===e||(e=time),t||(t=elem.comp.globalData.frameRate),e*t}function seedRandom(e){BMMath.seedrandom(randSeed+e)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(e,t){return"string"==typeof value?void 0===t?value.substring(e):value.substring(e,t):""}function substr(e,t){return"string"==typeof value?void 0===t?value.substr(e):value.substr(e,t):""}function posterizeTime(e){time=0===e?0:Math.floor(time*e)/e,value=valueAtTime(time)}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(e){return value=e,this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var e={initExpressions:function(e){var t=0,r=[];e.renderer.compInterface=CompExpressionInterface(e.renderer),e.renderer.globalData.projectInterface.registerComposition(e.renderer),e.renderer.globalData.pushExpression=function(){t+=1},e.renderer.globalData.popExpression=function(){0==(t-=1)&&function(){var e,t=r.length;for(e=0;e<t;e+=1)r[e].release();r.length=0}()},e.renderer.globalData.registerExpressionProperty=function(e){-1===r.indexOf(e)&&r.push(e)}}};return e.resetFrame=ExpressionManager.resetFrame,e}(),MaskManagerInterface=function(){function e(e,t){this._mask=e,this._data=t}return Object.defineProperty(e.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(e.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(t){var r,s=createSizedArray(t.viewData.length),n=t.viewData.length;for(r=0;r<n;r+=1)s[r]=new e(t.viewData[r],t.masksProperties[r]);return function(e){for(r=0;r<n;){if(t.masksProperties[r].nm===e)return s[r];r+=1}return null}}}(),ExpressionPropertyInterface=function(){var e={pv:0,v:0,mult:1},t={pv:[0,0,0],v:[0,0,0],mult:1};function r(e,t,r){Object.defineProperty(e,"velocity",{get:function(){return t.getVelocityAtTime(t.comp.currentFrame)}}),e.numKeys=t.keyframes?t.keyframes.length:0,e.key=function(s){if(!e.numKeys)return 0;var n="";n="s"in t.keyframes[s-1]?t.keyframes[s-1].s:"e"in t.keyframes[s-2]?t.keyframes[s-2].e:t.keyframes[s-2].s;var i="unidimensional"===r?new Number(n):Object.assign({},n);return i.time=t.keyframes[s-1].t/t.elem.comp.globalData.frameRate,i.value="unidimensional"===r?n[0]:n,i},e.valueAtTime=t.getValueAtTime,e.speedAtTime=t.getSpeedAtTime,e.velocityAtTime=t.getVelocityAtTime,e.propertyGroup=t.propertyGroup}function s(){return e}return function(n){return n?"unidimensional"===n.propType?function(t){t&&"pv"in t||(t=e);var s=1/t.mult,n=t.pv*s,i=new Number(n);return i.value=n,r(i,t,"unidimensional"),function(){return t.k&&t.getValue(),n=t.v*s,i.value!==n&&((i=new Number(n)).value=n,r(i,t,"unidimensional")),i}}(n):function(e){e&&"pv"in e||(e=t);var s=1/e.mult,n=e.data&&e.data.l||e.pv.length,i=createTypedArray("float32",n),a=createTypedArray("float32",n);return i.value=a,r(i,e,"multidimensional"),function(){e.k&&e.getValue();for(var t=0;t<n;t+=1)a[t]=e.v[t]*s,i[t]=a[t];return i}}(n):s}}(),TransformExpressionInterface=function(e){function t(e){switch(e){case"scale":case"Scale":case"ADBE Scale":case 6:return t.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return t.rotation;case"ADBE Rotate X":return t.xRotation;case"ADBE Rotate Y":return t.yRotation;case"position":case"Position":case"ADBE Position":case 2:return t.position;case"ADBE Position_0":return t.xPosition;case"ADBE Position_1":return t.yPosition;case"ADBE Position_2":return t.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return t.anchorPoint;case"opacity":case"Opacity":case 11:return t.opacity;default:return null}}var r,s,n,i;return Object.defineProperty(t,"rotation",{get:ExpressionPropertyInterface(e.r||e.rz)}),Object.defineProperty(t,"zRotation",{get:ExpressionPropertyInterface(e.rz||e.r)}),Object.defineProperty(t,"xRotation",{get:ExpressionPropertyInterface(e.rx)}),Object.defineProperty(t,"yRotation",{get:ExpressionPropertyInterface(e.ry)}),Object.defineProperty(t,"scale",{get:ExpressionPropertyInterface(e.s)}),e.p?i=ExpressionPropertyInterface(e.p):(r=ExpressionPropertyInterface(e.px),s=ExpressionPropertyInterface(e.py),e.pz&&(n=ExpressionPropertyInterface(e.pz))),Object.defineProperty(t,"position",{get:function(){return e.p?i():[r(),s(),n?n():0]}}),Object.defineProperty(t,"xPosition",{get:ExpressionPropertyInterface(e.px)}),Object.defineProperty(t,"yPosition",{get:ExpressionPropertyInterface(e.py)}),Object.defineProperty(t,"zPosition",{get:ExpressionPropertyInterface(e.pz)}),Object.defineProperty(t,"anchorPoint",{get:ExpressionPropertyInterface(e.a)}),Object.defineProperty(t,"opacity",{get:ExpressionPropertyInterface(e.o)}),Object.defineProperty(t,"skew",{get:ExpressionPropertyInterface(e.sk)}),Object.defineProperty(t,"skewAxis",{get:ExpressionPropertyInterface(e.sa)}),Object.defineProperty(t,"orientation",{get:ExpressionPropertyInterface(e.or)}),t},LayerExpressionInterface=function(){function e(e){var t=new Matrix;return void 0!==e?this._elem.finalTransform.mProp.getValueAtTime(e).clone(t):this._elem.finalTransform.mProp.applyToMatrix(t),t}function t(e,t){var r=this.getMatrix(t);return r.props[12]=0,r.props[13]=0,r.props[14]=0,this.applyPoint(r,e)}function r(e,t){var r=this.getMatrix(t);return this.applyPoint(r,e)}function s(e,t){var r=this.getMatrix(t);return r.props[12]=0,r.props[13]=0,r.props[14]=0,this.invertPoint(r,e)}function n(e,t){var r=this.getMatrix(t);return this.invertPoint(r,e)}function i(e,t){if(this._elem.hierarchy&&this._elem.hierarchy.length){var r,s=this._elem.hierarchy.length;for(r=0;r<s;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(e)}return e.applyToPointArray(t[0],t[1],t[2]||0)}function a(e,t){if(this._elem.hierarchy&&this._elem.hierarchy.length){var r,s=this._elem.hierarchy.length;for(r=0;r<s;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(e)}return e.inversePoint(t)}function o(e){var t=new Matrix;if(t.reset(),this._elem.finalTransform.mProp.applyToMatrix(t),this._elem.hierarchy&&this._elem.hierarchy.length){var r,s=this._elem.hierarchy.length;for(r=0;r<s;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(t);return t.inversePoint(e)}return t.inversePoint(e)}function l(){return[1,1,1,1]}return function(c){var h;function u(e){switch(e){case"ADBE Root Vectors Group":case"Contents":case 2:return u.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return h;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return u.effect;case"ADBE Text Properties":return u.textInterface;default:return null}}u.getMatrix=e,u.invertPoint=a,u.applyPoint=i,u.toWorld=r,u.toWorldVec=t,u.fromWorld=n,u.fromWorldVec=s,u.toComp=r,u.fromComp=o,u.sampleImage=l,u.sourceRectAtTime=c.sourceRectAtTime.bind(c),u._elem=c;var d=getDescriptor(h=TransformExpressionInterface(c.finalTransform.mProp),"anchorPoint");return Object.defineProperties(u,{hasParent:{get:function(){return c.hierarchy.length}},parent:{get:function(){return c.hierarchy[0].layerInterface}},rotation:getDescriptor(h,"rotation"),scale:getDescriptor(h,"scale"),position:getDescriptor(h,"position"),opacity:getDescriptor(h,"opacity"),anchorPoint:d,anchor_point:d,transform:{get:function(){return h}},active:{get:function(){return c.isInRange}}}),u.startTime=c.data.st,u.index=c.data.ind,u.source=c.data.refId,u.height=0===c.data.ty?c.data.h:100,u.width=0===c.data.ty?c.data.w:100,u.inPoint=c.data.ip/c.comp.globalData.frameRate,u.outPoint=c.data.op/c.comp.globalData.frameRate,u._name=c.data.nm,u.registerMaskInterface=function(e){u.mask=new MaskManagerInterface(e,c)},u.registerEffectsInterface=function(e){u.effect=e},u}}(),propertyGroupFactory=function(e,t){return function(r){return(r=void 0===r?1:r)<=0?e:t(r-1)}},PropertyInterface=function(e,t){var r={_name:e};return function(e){return(e=void 0===e?1:e)<=0?r:t(e-1)}},EffectsExpressionInterface=function(){function e(r,s,n,i){function a(e){for(var t=r.ef,s=0,n=t.length;s<n;){if(e===t[s].nm||e===t[s].mn||e===t[s].ix)return 5===t[s].ty?c[s]:c[s]();s+=1}throw new Error}var o,l=propertyGroupFactory(a,n),c=[],h=r.ef.length;for(o=0;o<h;o+=1)5===r.ef[o].ty?c.push(e(r.ef[o],s.effectElements[o],s.effectElements[o].propertyGroup,i)):c.push(t(s.effectElements[o],r.ef[o].ty,i,l));return"ADBE Color Control"===r.mn&&Object.defineProperty(a,"color",{get:function(){return c[0]()}}),Object.defineProperties(a,{numProperties:{get:function(){return r.np}},_name:{value:r.nm},propertyGroup:{value:l}}),a.enabled=0!==r.en,a.active=a.enabled,a}function t(e,t,r,s){var n=ExpressionPropertyInterface(e.p);return e.p.setGroupProperty&&e.p.setGroupProperty(PropertyInterface("",s)),function(){return 10===t?r.comp.compInterface(e.p.v):n()}}return{createEffectsInterface:function(t,r){if(t.effectsManager){var s,n=[],i=t.data.ef,a=t.effectsManager.effectElements.length;for(s=0;s<a;s+=1)n.push(e(i[s],t.effectsManager.effectElements[s],r,t));var o=t.data.ef||[],l=function(e){for(s=0,a=o.length;s<a;){if(e===o[s].nm||e===o[s].mn||e===o[s].ix)return n[s];s+=1}return null};return Object.defineProperty(l,"numProperties",{get:function(){return o.length}}),l}return null}}}(),ShapePathInterface=function(e,t,r){var s=t.sh;function n(e){return"Shape"===e||"shape"===e||"Path"===e||"path"===e||"ADBE Vector Shape"===e||2===e?n.path:null}var i=propertyGroupFactory(n,r);return s.setGroupProperty(PropertyInterface("Path",i)),Object.defineProperties(n,{path:{get:function(){return s.k&&s.getValue(),s}},shape:{get:function(){return s.k&&s.getValue(),s}},_name:{value:e.nm},ix:{value:e.ix},propertyIndex:{value:e.ix},mn:{value:e.mn},propertyGroup:{value:r}}),n},ShapeExpressionInterface=function(){function e(e,a,d){var p,f=[],m=e?e.length:0;for(p=0;p<m;p+=1)"gr"===e[p].ty?f.push(t(e[p],a[p],d)):"fl"===e[p].ty?f.push(r(e[p],a[p],d)):"st"===e[p].ty?f.push(n(e[p],a[p],d)):"tm"===e[p].ty?f.push(i(e[p],a[p],d)):"tr"===e[p].ty||("el"===e[p].ty?f.push(o(e[p],a[p],d)):"sr"===e[p].ty?f.push(l(e[p],a[p],d)):"sh"===e[p].ty?f.push(ShapePathInterface(e[p],a[p],d)):"rc"===e[p].ty?f.push(c(e[p],a[p],d)):"rd"===e[p].ty?f.push(h(e[p],a[p],d)):"rp"===e[p].ty?f.push(u(e[p],a[p],d)):"gf"===e[p].ty?f.push(s(e[p],a[p],d)):f.push((e[p],a[p],function(){return null})));return f}function t(t,r,s){var n=function(e){switch(e){case"ADBE Vectors Group":case"Contents":case 2:return n.content;default:return n.transform}};n.propertyGroup=propertyGroupFactory(n,s);var i=function(t,r,s){var n,i=function(e){for(var t=0,r=n.length;t<r;){if(n[t]._name===e||n[t].mn===e||n[t].propertyIndex===e||n[t].ix===e||n[t].ind===e)return n[t];t+=1}return"number"==typeof e?n[e-1]:null};i.propertyGroup=propertyGroupFactory(i,s),n=e(t.it,r.it,i.propertyGroup),i.numProperties=n.length;var o=a(t.it[t.it.length-1],r.it[r.it.length-1],i.propertyGroup);return i.transform=o,i.propertyIndex=t.cix,i._name=t.nm,i}(t,r,n.propertyGroup),o=a(t.it[t.it.length-1],r.it[r.it.length-1],n.propertyGroup);return n.content=i,n.transform=o,Object.defineProperty(n,"_name",{get:function(){return t.nm}}),n.numProperties=t.np,n.propertyIndex=t.ix,n.nm=t.nm,n.mn=t.mn,n}function r(e,t,r){function s(e){return"Color"===e||"color"===e?s.color:"Opacity"===e||"opacity"===e?s.opacity:null}return Object.defineProperties(s,{color:{get:ExpressionPropertyInterface(t.c)},opacity:{get:ExpressionPropertyInterface(t.o)},_name:{value:e.nm},mn:{value:e.mn}}),t.c.setGroupProperty(PropertyInterface("Color",r)),t.o.setGroupProperty(PropertyInterface("Opacity",r)),s}function s(e,t,r){function s(e){return"Start Point"===e||"start point"===e?s.startPoint:"End Point"===e||"end point"===e?s.endPoint:"Opacity"===e||"opacity"===e?s.opacity:null}return Object.defineProperties(s,{startPoint:{get:ExpressionPropertyInterface(t.s)},endPoint:{get:ExpressionPropertyInterface(t.e)},opacity:{get:ExpressionPropertyInterface(t.o)},type:{get:function(){return"a"}},_name:{value:e.nm},mn:{value:e.mn}}),t.s.setGroupProperty(PropertyInterface("Start Point",r)),t.e.setGroupProperty(PropertyInterface("End Point",r)),t.o.setGroupProperty(PropertyInterface("Opacity",r)),s}function n(e,t,r){var s,n=propertyGroupFactory(c,r),i=propertyGroupFactory(l,n);function a(r){Object.defineProperty(l,e.d[r].nm,{get:ExpressionPropertyInterface(t.d.dataProps[r].p)})}var o=e.d?e.d.length:0,l={};for(s=0;s<o;s+=1)a(s),t.d.dataProps[s].p.setGroupProperty(i);function c(e){return"Color"===e||"color"===e?c.color:"Opacity"===e||"opacity"===e?c.opacity:"Stroke Width"===e||"stroke width"===e?c.strokeWidth:null}return Object.defineProperties(c,{color:{get:ExpressionPropertyInterface(t.c)},opacity:{get:ExpressionPropertyInterface(t.o)},strokeWidth:{get:ExpressionPropertyInterface(t.w)},dash:{get:function(){return l}},_name:{value:e.nm},mn:{value:e.mn}}),t.c.setGroupProperty(PropertyInterface("Color",n)),t.o.setGroupProperty(PropertyInterface("Opacity",n)),t.w.setGroupProperty(PropertyInterface("Stroke Width",n)),c}function i(e,t,r){function s(t){return t===e.e.ix||"End"===t||"end"===t?s.end:t===e.s.ix?s.start:t===e.o.ix?s.offset:null}var n=propertyGroupFactory(s,r);return s.propertyIndex=e.ix,t.s.setGroupProperty(PropertyInterface("Start",n)),t.e.setGroupProperty(PropertyInterface("End",n)),t.o.setGroupProperty(PropertyInterface("Offset",n)),s.propertyIndex=e.ix,s.propertyGroup=r,Object.defineProperties(s,{start:{get:ExpressionPropertyInterface(t.s)},end:{get:ExpressionPropertyInterface(t.e)},offset:{get:ExpressionPropertyInterface(t.o)},_name:{value:e.nm}}),s.mn=e.mn,s}function a(e,t,r){function s(t){return e.a.ix===t||"Anchor Point"===t?s.anchorPoint:e.o.ix===t||"Opacity"===t?s.opacity:e.p.ix===t||"Position"===t?s.position:e.r.ix===t||"Rotation"===t||"ADBE Vector Rotation"===t?s.rotation:e.s.ix===t||"Scale"===t?s.scale:e.sk&&e.sk.ix===t||"Skew"===t?s.skew:e.sa&&e.sa.ix===t||"Skew Axis"===t?s.skewAxis:null}var n=propertyGroupFactory(s,r);return t.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",n)),t.transform.mProps.p.setGroupProperty(PropertyInterface("Position",n)),t.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",n)),t.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",n)),t.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",n)),t.transform.mProps.sk&&(t.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",n)),t.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",n))),t.transform.op.setGroupProperty(PropertyInterface("Opacity",n)),Object.defineProperties(s,{opacity:{get:ExpressionPropertyInterface(t.transform.mProps.o)},position:{get:ExpressionPropertyInterface(t.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(t.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(t.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(t.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(t.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(t.transform.mProps.sa)},_name:{value:e.nm}}),s.ty="tr",s.mn=e.mn,s.propertyGroup=r,s}function o(e,t,r){function s(t){return e.p.ix===t?s.position:e.s.ix===t?s.size:null}var n=propertyGroupFactory(s,r);s.propertyIndex=e.ix;var i="tm"===t.sh.ty?t.sh.prop:t.sh;return i.s.setGroupProperty(PropertyInterface("Size",n)),i.p.setGroupProperty(PropertyInterface("Position",n)),Object.defineProperties(s,{size:{get:ExpressionPropertyInterface(i.s)},position:{get:ExpressionPropertyInterface(i.p)},_name:{value:e.nm}}),s.mn=e.mn,s}function l(e,t,r){function s(t){return e.p.ix===t?s.position:e.r.ix===t?s.rotation:e.pt.ix===t?s.points:e.or.ix===t||"ADBE Vector Star Outer Radius"===t?s.outerRadius:e.os.ix===t?s.outerRoundness:!e.ir||e.ir.ix!==t&&"ADBE Vector Star Inner Radius"!==t?e.is&&e.is.ix===t?s.innerRoundness:null:s.innerRadius}var n=propertyGroupFactory(s,r),i="tm"===t.sh.ty?t.sh.prop:t.sh;return s.propertyIndex=e.ix,i.or.setGroupProperty(PropertyInterface("Outer Radius",n)),i.os.setGroupProperty(PropertyInterface("Outer Roundness",n)),i.pt.setGroupProperty(PropertyInterface("Points",n)),i.p.setGroupProperty(PropertyInterface("Position",n)),i.r.setGroupProperty(PropertyInterface("Rotation",n)),e.ir&&(i.ir.setGroupProperty(PropertyInterface("Inner Radius",n)),i.is.setGroupProperty(PropertyInterface("Inner Roundness",n))),Object.defineProperties(s,{position:{get:ExpressionPropertyInterface(i.p)},rotation:{get:ExpressionPropertyInterface(i.r)},points:{get:ExpressionPropertyInterface(i.pt)},outerRadius:{get:ExpressionPropertyInterface(i.or)},outerRoundness:{get:ExpressionPropertyInterface(i.os)},innerRadius:{get:ExpressionPropertyInterface(i.ir)},innerRoundness:{get:ExpressionPropertyInterface(i.is)},_name:{value:e.nm}}),s.mn=e.mn,s}function c(e,t,r){function s(t){return e.p.ix===t?s.position:e.r.ix===t?s.roundness:e.s.ix===t||"Size"===t||"ADBE Vector Rect Size"===t?s.size:null}var n=propertyGroupFactory(s,r),i="tm"===t.sh.ty?t.sh.prop:t.sh;return s.propertyIndex=e.ix,i.p.setGroupProperty(PropertyInterface("Position",n)),i.s.setGroupProperty(PropertyInterface("Size",n)),i.r.setGroupProperty(PropertyInterface("Rotation",n)),Object.defineProperties(s,{position:{get:ExpressionPropertyInterface(i.p)},roundness:{get:ExpressionPropertyInterface(i.r)},size:{get:ExpressionPropertyInterface(i.s)},_name:{value:e.nm}}),s.mn=e.mn,s}function h(e,t,r){function s(t){return e.r.ix===t||"Round Corners 1"===t?s.radius:null}var n=propertyGroupFactory(s,r),i=t;return s.propertyIndex=e.ix,i.rd.setGroupProperty(PropertyInterface("Radius",n)),Object.defineProperties(s,{radius:{get:ExpressionPropertyInterface(i.rd)},_name:{value:e.nm}}),s.mn=e.mn,s}function u(e,t,r){function s(t){return e.c.ix===t||"Copies"===t?s.copies:e.o.ix===t||"Offset"===t?s.offset:null}var n=propertyGroupFactory(s,r),i=t;return s.propertyIndex=e.ix,i.c.setGroupProperty(PropertyInterface("Copies",n)),i.o.setGroupProperty(PropertyInterface("Offset",n)),Object.defineProperties(s,{copies:{get:ExpressionPropertyInterface(i.c)},offset:{get:ExpressionPropertyInterface(i.o)},_name:{value:e.nm}}),s.mn=e.mn,s}return function(t,r,s){var n;function i(e){if("number"==typeof e)return 0===(e=void 0===e?1:e)?s:n[e-1];for(var t=0,r=n.length;t<r;){if(n[t]._name===e)return n[t];t+=1}return null}return i.propertyGroup=propertyGroupFactory(i,(function(){return s})),n=e(t,r,i.propertyGroup),i.numProperties=n.length,i._name="Contents",i}}(),TextExpressionInterface=function(e){var t;function r(e){return"ADBE Text Document"===e?r.sourceText:null}return Object.defineProperty(r,"sourceText",{get:function(){e.textProperty.getValue();var r=e.textProperty.currentData.t;return t&&r===t.value||((t=new String(r)).value=r||new String(r),Object.defineProperty(t,"style",{get:function(){return{fillColor:e.textProperty.currentData.fc}}})),t}}),r};function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}var FootageInterface=(dataInterfaceFactory=function(e){function t(e){return"Outline"===e?t.outlineInterface():null}return t._name="Outline",t.outlineInterface=function(e){var t="",r=e.getFootageData();function s(e){if(r[e])return t=e,"object"===_typeof(r=r[e])?s:r;var n=e.indexOf(t);if(-1!==n){var i=parseInt(e.substr(n+t.length),10);return"object"===_typeof(r=r[i])?s:r}return""}return function(){return t="",r=e.getFootageData(),s}}(e),t},function(e){function t(e){return"Data"===e?t.dataInterface:null}return t._name="Data",t.dataInterface=dataInterfaceFactory(e),t}),dataInterfaceFactory,interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(e){return interfaces[e]||null}var expressionHelpers={searchExpressions:function(e,t,r){t.x&&(r.k=!0,r.x=!0,r.initiateExpression=ExpressionManager.initiateExpression,r.effectsSequence.push(r.initiateExpression(e,t,r).bind(r)))},getSpeedAtTime:function(e){var t=this.getValueAtTime(e),r=this.getValueAtTime(e+-.01),s=0;if(t.length){var n;for(n=0;n<t.length;n+=1)s+=Math.pow(r[n]-t[n],2);s=100*Math.sqrt(s)}else s=0;return s},getVelocityAtTime:function(e){if(void 0!==this.vel)return this.vel;var t,r,s=-.001,n=this.getValueAtTime(e),i=this.getValueAtTime(e+s);if(n.length)for(t=createTypedArray("float32",n.length),r=0;r<n.length;r+=1)t[r]=(i[r]-n[r])/s;else t=(i-n)/s;return t},getValueAtTime:function(e){return e*=this.elem.globalData.frameRate,(e-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<e?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(e,this._cachingAtTime),this._cachingAtTime.lastFrame=e),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(e){this.propertyGroup=e}};function addPropertyDecorator(){function e(e,t,r){if(!this.k||!this.keyframes)return this.pv;e=e?e.toLowerCase():"";var s,n,i,a,o,l=this.comp.renderedFrame,c=this.keyframes,h=c[c.length-1].t;if(l<=h)return this.pv;if(r?n=h-(s=t?Math.abs(h-this.elem.comp.globalData.frameRate*t):Math.max(0,h-this.elem.data.ip)):((!t||t>c.length-1)&&(t=c.length-1),s=h-(n=c[c.length-1-t].t)),"pingpong"===e){if(Math.floor((l-n)/s)%2!=0)return this.getValueAtTime((s-(l-n)%s+n)/this.comp.globalData.frameRate,0)}else{if("offset"===e){var u=this.getValueAtTime(n/this.comp.globalData.frameRate,0),d=this.getValueAtTime(h/this.comp.globalData.frameRate,0),p=this.getValueAtTime(((l-n)%s+n)/this.comp.globalData.frameRate,0),f=Math.floor((l-n)/s);if(this.pv.length){for(a=(o=new Array(u.length)).length,i=0;i<a;i+=1)o[i]=(d[i]-u[i])*f+p[i];return o}return(d-u)*f+p}if("continue"===e){var m=this.getValueAtTime(h/this.comp.globalData.frameRate,0),g=this.getValueAtTime((h-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(a=(o=new Array(m.length)).length,i=0;i<a;i+=1)o[i]=m[i]+(m[i]-g[i])*((l-h)/this.comp.globalData.frameRate)/5e-4;return o}return m+(l-h)/.001*(m-g)}}return this.getValueAtTime(((l-n)%s+n)/this.comp.globalData.frameRate,0)}function t(e,t,r){if(!this.k)return this.pv;e=e?e.toLowerCase():"";var s,n,i,a,o,l=this.comp.renderedFrame,c=this.keyframes,h=c[0].t;if(l>=h)return this.pv;if(r?n=h+(s=t?Math.abs(this.elem.comp.globalData.frameRate*t):Math.max(0,this.elem.data.op-h)):((!t||t>c.length-1)&&(t=c.length-1),s=(n=c[t].t)-h),"pingpong"===e){if(Math.floor((h-l)/s)%2==0)return this.getValueAtTime(((h-l)%s+h)/this.comp.globalData.frameRate,0)}else{if("offset"===e){var u=this.getValueAtTime(h/this.comp.globalData.frameRate,0),d=this.getValueAtTime(n/this.comp.globalData.frameRate,0),p=this.getValueAtTime((s-(h-l)%s+h)/this.comp.globalData.frameRate,0),f=Math.floor((h-l)/s)+1;if(this.pv.length){for(a=(o=new Array(u.length)).length,i=0;i<a;i+=1)o[i]=p[i]-(d[i]-u[i])*f;return o}return p-(d-u)*f}if("continue"===e){var m=this.getValueAtTime(h/this.comp.globalData.frameRate,0),g=this.getValueAtTime((h+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(a=(o=new Array(m.length)).length,i=0;i<a;i+=1)o[i]=m[i]+(m[i]-g[i])*(h-l)/.001;return o}return m+(m-g)*(h-l)/.001}}return this.getValueAtTime((s-((h-l)%s+h))/this.comp.globalData.frameRate,0)}function r(e,t){if(!this.k)return this.pv;if(e=.5*(e||.4),(t=Math.floor(t||5))<=1)return this.pv;var r,s,n=this.comp.renderedFrame/this.comp.globalData.frameRate,i=n-e,a=t>1?(n+e-i)/(t-1):1,o=0,l=0;for(r=this.pv.length?createTypedArray("float32",this.pv.length):0;o<t;){if(s=this.getValueAtTime(i+o*a),this.pv.length)for(l=0;l<this.pv.length;l+=1)r[l]+=s[l];else r+=s;o+=1}if(this.pv.length)for(l=0;l<this.pv.length;l+=1)r[l]/=t;else r/=t;return r}function s(e){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var t=this._transformCachingAtTime.v;if(t.cloneFromProps(this.pre.props),this.appliedTransformations<1){var r=this.a.getValueAtTime(e);t.translate(-r[0]*this.a.mult,-r[1]*this.a.mult,r[2]*this.a.mult)}if(this.appliedTransformations<2){var s=this.s.getValueAtTime(e);t.scale(s[0]*this.s.mult,s[1]*this.s.mult,s[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var n=this.sk.getValueAtTime(e),i=this.sa.getValueAtTime(e);t.skewFromAxis(-n*this.sk.mult,i*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var a=this.r.getValueAtTime(e);t.rotate(-a*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var o=this.rz.getValueAtTime(e),l=this.ry.getValueAtTime(e),c=this.rx.getValueAtTime(e),h=this.or.getValueAtTime(e);t.rotateZ(-o*this.rz.mult).rotateY(l*this.ry.mult).rotateX(c*this.rx.mult).rotateZ(-h[2]*this.or.mult).rotateY(h[1]*this.or.mult).rotateX(h[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var u=this.px.getValueAtTime(e),d=this.py.getValueAtTime(e);if(this.data.p.z){var p=this.pz.getValueAtTime(e);t.translate(u*this.px.mult,d*this.py.mult,-p*this.pz.mult)}else t.translate(u*this.px.mult,d*this.py.mult,0)}else{var f=this.p.getValueAtTime(e);t.translate(f[0]*this.p.mult,f[1]*this.p.mult,-f[2]*this.p.mult)}return t}function n(){return this.v.clone(new Matrix)}var i=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(e,t,r){var a=i(e,t,r);return a.dynamicProperties.length?a.getValueAtTime=s.bind(a):a.getValueAtTime=n.bind(a),a.setGroupProperty=expressionHelpers.setGroupProperty,a};var a=PropertyFactory.getProp;PropertyFactory.getProp=function(s,n,i,o,l){var c=a(s,n,i,o,l);c.kf?c.getValueAtTime=expressionHelpers.getValueAtTime.bind(c):c.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(c),c.setGroupProperty=expressionHelpers.setGroupProperty,c.loopOut=e,c.loopIn=t,c.smooth=r,c.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(c),c.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(c),c.numKeys=1===n.a?n.k.length:0,c.propertyIndex=n.ix;var h=0;return 0!==i&&(h=createTypedArray("float32",1===n.a?n.k[0].s.length:n.k.length)),c._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:h},expressionHelpers.searchExpressions(s,n,c),c.k&&l.addDynamicProperty(c),c};var o=ShapePropertyFactory.getConstructorFunction(),l=ShapePropertyFactory.getKeyframedConstructorFunction();function c(){}c.prototype={vertices:function(e,t){this.k&&this.getValue();var r,s=this.v;void 0!==t&&(s=this.getValueAtTime(t,0));var n=s._length,i=s[e],a=s.v,o=createSizedArray(n);for(r=0;r<n;r+=1)o[r]="i"===e||"o"===e?[i[r][0]-a[r][0],i[r][1]-a[r][1]]:[i[r][0],i[r][1]];return o},points:function(e){return this.vertices("v",e)},inTangents:function(e){return this.vertices("i",e)},outTangents:function(e){return this.vertices("o",e)},isClosed:function(){return this.v.c},pointOnPath:function(e,t){var r=this.v;void 0!==t&&(r=this.getValueAtTime(t,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(r));for(var s,n=this._segmentsLength,i=n.lengths,a=n.totalLength*e,o=0,l=i.length,c=0;o<l;){if(c+i[o].addedLength>a){var h=o,u=r.c&&o===l-1?0:o+1,d=(a-c)/i[o].addedLength;s=bez.getPointInSegment(r.v[h],r.v[u],r.o[h],r.i[u],d,i[o]);break}c+=i[o].addedLength,o+=1}return s||(s=r.c?[r.v[0][0],r.v[0][1]]:[r.v[r._length-1][0],r.v[r._length-1][1]]),s},vectorOnPath:function(e,t,r){1==e?e=this.v.c:0==e&&(e=.999);var s=this.pointOnPath(e,t),n=this.pointOnPath(e+.001,t),i=n[0]-s[0],a=n[1]-s[1],o=Math.sqrt(Math.pow(i,2)+Math.pow(a,2));return 0===o?[0,0]:"tangent"===r?[i/o,a/o]:[-a/o,i/o]},tangentOnPath:function(e,t){return this.vectorOnPath(e,t,"tangent")},normalOnPath:function(e,t){return this.vectorOnPath(e,t,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([c],o),extendPrototype([c],l),l.prototype.getValueAtTime=function(e){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),e*=this.elem.globalData.frameRate,(e-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<e?this._caching.lastIndex:0,this._cachingAtTime.lastTime=e,this.interpolateShape(e,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},l.prototype.initiateExpression=ExpressionManager.initiateExpression;var h=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(e,t,r,s,n){var i=h(e,t,r,s,n);return i.propertyIndex=t.ix,i.lock=!1,3===r?expressionHelpers.searchExpressions(e,t.pt,i):4===r&&expressionHelpers.searchExpressions(e,t.ks,i),i.k&&e.addDynamicProperty(i),i}}function initialize$1(){addPropertyDecorator()}function addDecorator(){TextProperty.prototype.getExpressionValue=function(e,t){var r=this.calculateExpression(t);if(e.t!==r){var s={};return this.copyData(s,e),s.t=r.toString(),s.__complete=!1,s}return e},TextProperty.prototype.searchProperty=function(){var e=this.searchKeyframes(),t=this.searchExpressions();return this.kf=e||t,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function(e,t){var r,s,n=createNS("feMerge");for(n.setAttribute("result",e),s=0;s<t.length;s+=1)(r=createNS("feMergeNode")).setAttribute("in",t[s]),n.appendChild(r),n.appendChild(r);return n}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(e,t,r,s,n){this.filterManager=t;var i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","linearRGB"),i.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=i,i.setAttribute("result",s+"_tint_1"),e.appendChild(i),(i=createNS("feColorMatrix")).setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),i.setAttribute("result",s+"_tint_2"),e.appendChild(i),this.matrixFilter=i;var a=this.createMergeNode(s,[n,s+"_tint_1",s+"_tint_2"]);e.appendChild(a)}function SVGFillFilter(e,t,r,s){this.filterManager=t;var n=createNS("feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),n.setAttribute("result",s),e.appendChild(n),this.matrixFilter=n}function SVGStrokeEffect(e,t,r){this.initialized=!1,this.filterManager=t,this.elem=r,this.paths=[]}function SVGTritoneFilter(e,t,r,s){this.filterManager=t;var n=createNS("feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","linearRGB"),n.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),e.appendChild(n);var i=createNS("feComponentTransfer");i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("result",s),this.matrixFilter=i;var a=createNS("feFuncR");a.setAttribute("type","table"),i.appendChild(a),this.feFuncR=a;var o=createNS("feFuncG");o.setAttribute("type","table"),i.appendChild(o),this.feFuncG=o;var l=createNS("feFuncB");l.setAttribute("type","table"),i.appendChild(l),this.feFuncB=l,e.appendChild(i)}function SVGProLevelsFilter(e,t,r,s){this.filterManager=t;var n=this.filterManager.effectElements,i=createNS("feComponentTransfer");(n[10].p.k||0!==n[10].p.v||n[11].p.k||1!==n[11].p.v||n[12].p.k||1!==n[12].p.v||n[13].p.k||0!==n[13].p.v||n[14].p.k||1!==n[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",i)),(n[17].p.k||0!==n[17].p.v||n[18].p.k||1!==n[18].p.v||n[19].p.k||1!==n[19].p.v||n[20].p.k||0!==n[20].p.v||n[21].p.k||1!==n[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",i)),(n[24].p.k||0!==n[24].p.v||n[25].p.k||1!==n[25].p.v||n[26].p.k||1!==n[26].p.v||n[27].p.k||0!==n[27].p.v||n[28].p.k||1!==n[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",i)),(n[31].p.k||0!==n[31].p.v||n[32].p.k||1!==n[32].p.v||n[33].p.k||1!==n[33].p.v||n[34].p.k||0!==n[34].p.v||n[35].p.k||1!==n[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",i)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(i.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(i)),(n[3].p.k||0!==n[3].p.v||n[4].p.k||1!==n[4].p.v||n[5].p.k||1!==n[5].p.v||n[6].p.k||0!==n[6].p.v||n[7].p.k||1!==n[7].p.v)&&((i=createNS("feComponentTransfer")).setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("result",s),e.appendChild(i),this.feFuncRComposed=this.createFeFunc("feFuncR",i),this.feFuncGComposed=this.createFeFunc("feFuncG",i),this.feFuncBComposed=this.createFeFunc("feFuncB",i))}function SVGDropShadowEffect(e,t,r,s,n){var i=t.container.globalData.renderConfig.filterSize,a=t.data.fs||i;e.setAttribute("x",a.x||i.x),e.setAttribute("y",a.y||i.y),e.setAttribute("width",a.width||i.width),e.setAttribute("height",a.height||i.height),this.filterManager=t;var o=createNS("feGaussianBlur");o.setAttribute("in","SourceAlpha"),o.setAttribute("result",s+"_drop_shadow_1"),o.setAttribute("stdDeviation","0"),this.feGaussianBlur=o,e.appendChild(o);var l=createNS("feOffset");l.setAttribute("dx","25"),l.setAttribute("dy","0"),l.setAttribute("in",s+"_drop_shadow_1"),l.setAttribute("result",s+"_drop_shadow_2"),this.feOffset=l,e.appendChild(l);var c=createNS("feFlood");c.setAttribute("flood-color","#00ff00"),c.setAttribute("flood-opacity","1"),c.setAttribute("result",s+"_drop_shadow_3"),this.feFlood=c,e.appendChild(c);var h=createNS("feComposite");h.setAttribute("in",s+"_drop_shadow_3"),h.setAttribute("in2",s+"_drop_shadow_2"),h.setAttribute("operator","in"),h.setAttribute("result",s+"_drop_shadow_4"),e.appendChild(h);var u=this.createMergeNode(s,[s+"_drop_shadow_4",n]);e.appendChild(u)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,s=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+s+" 0"),this.matrixFilter.setAttribute("values",r[0]-t[0]+" 0 0 0 "+t[0]+" "+(r[1]-t[1])+" 0 0 0 "+t[1]+" "+(r[2]-t[2])+" 0 0 0 "+t[2]+" 0 0 0 1 0")}},SVGFillFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[2].p.v,r=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+t[0]+" 0 0 0 0 "+t[1]+" 0 0 0 0 "+t[2]+" 0 0 0 "+r+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var e,t,r,s,n=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(s=this.elem.maskManager.masksProperties.length,r=0):s=1+(r=this.filterManager.effectElements[0].p.v-1),(t=createNS("g")).setAttribute("fill","none"),t.setAttribute("stroke-linecap","round"),t.setAttribute("stroke-dashoffset",1);r<s;r+=1)e=createNS("path"),t.appendChild(e),this.paths.push({p:e,m:r});if(3===this.filterManager.effectElements[10].p.v){var i=createNS("mask"),a=createElementID();i.setAttribute("id",a),i.setAttribute("mask-type","alpha"),i.appendChild(t),this.elem.globalData.defs.appendChild(i);var o=createNS("g");for(o.setAttribute("mask","url("+getLocationHref()+"#"+a+")");n[0];)o.appendChild(n[0]);this.elem.layerElement.appendChild(o),this.masker=i,t.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(n=this.elem.layerElement.children||this.elem.layerElement.childNodes;n.length;)this.elem.layerElement.removeChild(n[0]);this.elem.layerElement.appendChild(t),this.elem.layerElement.removeAttribute("mask"),t.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=t},SVGStrokeEffect.prototype.renderFrame=function(e){var t;this.initialized||this.initialize();var r,s,n=this.paths.length;for(t=0;t<n;t+=1)if(-1!==this.paths[t].m&&(r=this.elem.maskManager.viewData[this.paths[t].m],s=this.paths[t].p,(e||this.filterManager._mdf||r.prop._mdf)&&s.setAttribute("d",r.lastPath),e||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||r.prop._mdf)){var i;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var a=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),o=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),l=s.getTotalLength();i="0 0 0 "+l*a+" ";var c,h=l*(o-a),u=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01,d=Math.floor(h/u);for(c=0;c<d;c+=1)i+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";i+="0 "+10*l+" 0 0"}else i="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;s.setAttribute("stroke-dasharray",i)}if((e||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(e||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(e||this.filterManager.effectElements[3].p._mdf)){var p=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*p[0])+","+bmFloor(255*p[1])+","+bmFloor(255*p[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,s=this.filterManager.effectElements[2].p.v,n=s[0]+" "+r[0]+" "+t[0],i=s[1]+" "+r[1]+" "+t[1],a=s[2]+" "+r[2]+" "+t[2];this.feFuncR.setAttribute("tableValues",n),this.feFuncG.setAttribute("tableValues",i),this.feFuncB.setAttribute("tableValues",a)}},SVGProLevelsFilter.prototype.createFeFunc=function(e,t){var r=createNS(e);return r.setAttribute("type","table"),t.appendChild(r),r},SVGProLevelsFilter.prototype.getTableValue=function(e,t,r,s,n){for(var i,a,o=0,l=Math.min(e,t),c=Math.max(e,t),h=Array.call(null,{length:256}),u=0,d=n-s,p=t-e;o<=256;)a=(i=o/256)<=l?p<0?n:s:i>=c?p<0?s:n:s+d*Math.pow((i-e)/p,1/r),h[u]=a,u+=1,o+=256/255;return h.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t,r=this.filterManager.effectElements;this.feFuncRComposed&&(e||r[3].p._mdf||r[4].p._mdf||r[5].p._mdf||r[6].p._mdf||r[7].p._mdf)&&(t=this.getTableValue(r[3].p.v,r[4].p.v,r[5].p.v,r[6].p.v,r[7].p.v),this.feFuncRComposed.setAttribute("tableValues",t),this.feFuncGComposed.setAttribute("tableValues",t),this.feFuncBComposed.setAttribute("tableValues",t)),this.feFuncR&&(e||r[10].p._mdf||r[11].p._mdf||r[12].p._mdf||r[13].p._mdf||r[14].p._mdf)&&(t=this.getTableValue(r[10].p.v,r[11].p.v,r[12].p.v,r[13].p.v,r[14].p.v),this.feFuncR.setAttribute("tableValues",t)),this.feFuncG&&(e||r[17].p._mdf||r[18].p._mdf||r[19].p._mdf||r[20].p._mdf||r[21].p._mdf)&&(t=this.getTableValue(r[17].p.v,r[18].p.v,r[19].p.v,r[20].p.v,r[21].p.v),this.feFuncG.setAttribute("tableValues",t)),this.feFuncB&&(e||r[24].p._mdf||r[25].p._mdf||r[26].p._mdf||r[27].p._mdf||r[28].p._mdf)&&(t=this.getTableValue(r[24].p.v,r[25].p.v,r[26].p.v,r[27].p.v,r[28].p.v),this.feFuncB.setAttribute("tableValues",t)),this.feFuncA&&(e||r[31].p._mdf||r[32].p._mdf||r[33].p._mdf||r[34].p._mdf||r[35].p._mdf)&&(t=this.getTableValue(r[31].p.v,r[32].p.v,r[33].p.v,r[34].p.v,r[35].p.v),this.feFuncA.setAttribute("tableValues",t))}},extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){if((e||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),e||this.filterManager.effectElements[0].p._mdf){var t=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*t[0]),Math.round(255*t[1]),Math.round(255*t[2])))}if((e||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),e||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var r=this.filterManager.effectElements[3].p.v,s=(this.filterManager.effectElements[2].p.v-90)*degToRads,n=r*Math.cos(s),i=r*Math.sin(s);this.feOffset.setAttribute("dx",n),this.feOffset.setAttribute("dy",i)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(e,t,r){this.initialized=!1,this.filterManager=t,this.filterElem=e,this.elem=r,r.matteElement=createNS("g"),r.matteElement.appendChild(r.layerElement),r.matteElement.appendChild(r.transformedElement),r.baseElement=r.matteElement}function SVGGaussianBlurEffect(e,t,r,s){e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width","300%"),e.setAttribute("height","300%"),this.filterManager=t;var n=createNS("feGaussianBlur");n.setAttribute("result",s),e.appendChild(n),this.feGaussianBlur=n}function TransformEffect(){}function SVGTransformEffect(e,t){this.init(t)}function CVTransformEffect(e){this.init(e)}return SVGMatte3Effect.prototype.findSymbol=function(e){for(var t=0,r=_svgMatteSymbols.length;t<r;){if(_svgMatteSymbols[t]===e)return _svgMatteSymbols[t];t+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(e,t){var r=e.layerElement.parentNode;if(r){for(var s,n=r.children,i=0,a=n.length;i<a&&n[i]!==e.layerElement;)i+=1;i<=a-2&&(s=n[i+1]);var o=createNS("use");o.setAttribute("href","#"+t),s?r.insertBefore(o,s):r.appendChild(o)}},SVGMatte3Effect.prototype.setElementAsMask=function(e,t){if(!this.findSymbol(t)){var r=createElementID(),s=createNS("mask");s.setAttribute("id",t.layerId),s.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(t);var n=e.globalData.defs;n.appendChild(s);var i=createNS("symbol");i.setAttribute("id",r),this.replaceInParent(t,r),i.appendChild(t.layerElement),n.appendChild(i);var a=createNS("use");a.setAttribute("href","#"+r),s.appendChild(a),t.data.hd=!1,t.show()}e.setMatte(t.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var e=this.filterManager.effectElements[0].p.v,t=this.elem.comp.elements,r=0,s=t.length;r<s;)t[r]&&t[r].data.ind===e&&this.setElementAsMask(this.elem,t[r]),r+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGGaussianBlurEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=.3*this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,s=3==r?0:t,n=2==r?0:t;this.feGaussianBlur.setAttribute("stdDeviation",s+" "+n);var i=1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",i)}},TransformEffect.prototype.init=function(e){this.effectsManager=e,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(e){if(this._opMdf=!1,this._mdf=!1,e||this.effectsManager._mdf){var t=this.effectsManager.effectElements,r=t[0].p.v,s=t[1].p.v,n=1===t[2].p.v,i=t[3].p.v,a=n?i:t[4].p.v,o=t[5].p.v,l=t[6].p.v,c=t[7].p.v;this.matrix.reset(),this.matrix.translate(-r[0],-r[1],r[2]),this.matrix.scale(.01*a,.01*i,1),this.matrix.rotate(-c*degToRads),this.matrix.skewFromAxis(-o*degToRads,(l+90)*degToRads),this.matrix.translate(s[0],s[1],0),this._mdf=!0,this.opacity!==t[8].p.v&&(this.opacity=t[8].p.v,this._opMdf=!0)}},extendPrototype([TransformEffect],SVGTransformEffect),extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie},module.exports=factory())},9724:e=>{var t=function(e){null==e&&(e=(new Date).getTime()),this.N=624,this.M=397,this.MATRIX_A=2567483615,this.UPPER_MASK=2147483648,this.LOWER_MASK=2147483647,this.mt=new Array(this.N),this.mti=this.N+1,e.constructor==Array?this.init_by_array(e,e.length):this.init_seed(e)};t.prototype.init_seed=function(e){for(this.mt[0]=e>>>0,this.mti=1;this.mti<this.N;this.mti++){e=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30;this.mt[this.mti]=(1812433253*((4294901760&e)>>>16)<<16)+1812433253*(65535&e)+this.mti,this.mt[this.mti]>>>=0}},t.prototype.init_by_array=function(e,t){var r,s,n;for(this.init_seed(19650218),r=1,s=0,n=this.N>t?this.N:t;n;n--){var i=this.mt[r-1]^this.mt[r-1]>>>30;this.mt[r]=(this.mt[r]^(1664525*((4294901760&i)>>>16)<<16)+1664525*(65535&i))+e[s]+s,this.mt[r]>>>=0,s++,++r>=this.N&&(this.mt[0]=this.mt[this.N-1],r=1),s>=t&&(s=0)}for(n=this.N-1;n;n--){i=this.mt[r-1]^this.mt[r-1]>>>30;this.mt[r]=(this.mt[r]^(1566083941*((4294901760&i)>>>16)<<16)+1566083941*(65535&i))-r,this.mt[r]>>>=0,++r>=this.N&&(this.mt[0]=this.mt[this.N-1],r=1)}this.mt[0]=2147483648},t.prototype.random_int=function(){var e,t=new Array(0,this.MATRIX_A);if(this.mti>=this.N){var r;for(this.mti==this.N+1&&this.init_seed(5489),r=0;r<this.N-this.M;r++)e=this.mt[r]&this.UPPER_MASK|this.mt[r+1]&this.LOWER_MASK,this.mt[r]=this.mt[r+this.M]^e>>>1^t[1&e];for(;r<this.N-1;r++)e=this.mt[r]&this.UPPER_MASK|this.mt[r+1]&this.LOWER_MASK,this.mt[r]=this.mt[r+(this.M-this.N)]^e>>>1^t[1&e];e=this.mt[this.N-1]&this.UPPER_MASK|this.mt[0]&this.LOWER_MASK,this.mt[this.N-1]=this.mt[this.M-1]^e>>>1^t[1&e],this.mti=0}return e=this.mt[this.mti++],e^=e>>>11,e^=e<<7&2636928640,e^=e<<15&4022730752,(e^=e>>>18)>>>0},t.prototype.random_int31=function(){return this.random_int()>>>1},t.prototype.random_incl=function(){return this.random_int()*(1/4294967295)},t.prototype.random=function(){return this.random_int()*(1/4294967296)},t.prototype.random_excl=function(){return(this.random_int()+.5)*(1/4294967296)},t.prototype.random_long=function(){return(67108864*(this.random_int()>>>5)+(this.random_int()>>>6))*(1/9007199254740992)},e.exports=t},3360:(e,t,r)=>{"use strict";var s=r(7632),n=Array.prototype.concat,i=Array.prototype.slice,a=e.exports=function(e){for(var t=[],r=0,a=e.length;r<a;r++){var o=e[r];s(o)?t=n.call(t,i.call(o)):t.push(o)}return t};a.wrap=function(e){return function(){return e(a(arguments))}}},2851:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(1848);function n(e,t,r){return void 0===t&&(t=new Uint8Array(2)),void 0===r&&(r=0),t[r+0]=e>>>8,t[r+1]=e>>>0,t}function i(e,t,r){return void 0===t&&(t=new Uint8Array(2)),void 0===r&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t}function a(e,t){return void 0===t&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function o(e,t){return void 0===t&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function l(e,t){return void 0===t&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function c(e,t){return void 0===t&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}function h(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),t[r+0]=e>>>24,t[r+1]=e>>>16,t[r+2]=e>>>8,t[r+3]=e>>>0,t}function u(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24,t}function d(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),h(e/4294967296>>>0,t,r),h(e>>>0,t,r+4),t}function p(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),u(e>>>0,t,r),u(e/4294967296>>>0,t,r+4),t}t.readInt16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16},t.readUint16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])>>>0},t.readInt16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])<<16>>16},t.readUint16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])>>>0},t.writeUint16BE=n,t.writeInt16BE=n,t.writeUint16LE=i,t.writeInt16LE=i,t.readInt32BE=a,t.readUint32BE=o,t.readInt32LE=l,t.readUint32LE=c,t.writeUint32BE=h,t.writeInt32BE=h,t.writeUint32LE=u,t.writeInt32LE=u,t.readInt64BE=function(e,t){void 0===t&&(t=0);var r=a(e,t),s=a(e,t+4);return 4294967296*r+s-4294967296*(s>>31)},t.readUint64BE=function(e,t){return void 0===t&&(t=0),4294967296*o(e,t)+o(e,t+4)},t.readInt64LE=function(e,t){void 0===t&&(t=0);var r=l(e,t);return 4294967296*l(e,t+4)+r-4294967296*(r>>31)},t.readUint64LE=function(e,t){void 0===t&&(t=0);var r=c(e,t);return 4294967296*c(e,t+4)+r},t.writeUint64BE=d,t.writeInt64BE=d,t.writeUint64LE=p,t.writeInt64LE=p,t.readUintBE=function(e,t,r){if(void 0===r&&(r=0),e%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var s=0,n=1,i=e/8+r-1;i>=r;i--)s+=t[i]*n,n*=256;return s},t.readUintLE=function(e,t,r){if(void 0===r&&(r=0),e%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var s=0,n=1,i=r;i<r+e/8;i++)s+=t[i]*n,n*=256;return s},t.writeUintBE=function(e,t,r,n){if(void 0===r&&(r=new Uint8Array(e/8)),void 0===n&&(n=0),e%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!s.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var i=1,a=e/8+n-1;a>=n;a--)r[a]=t/i&255,i*=256;return r},t.writeUintLE=function(e,t,r,n){if(void 0===r&&(r=new Uint8Array(e/8)),void 0===n&&(n=0),e%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!s.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var i=1,a=n;a<n+e/8;a++)r[a]=t/i&255,i*=256;return r},t.readFloat32BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t)},t.readFloat32LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},t.readFloat64BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t)},t.readFloat64LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},t.writeFloat32BE=function(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(r,e),t},t.writeFloat32LE=function(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(r,e,!0),t},t.writeFloat64BE=function(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(r,e),t},t.writeFloat64LE=function(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(r,e,!0),t}},6180:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(2851),n=r(524),i=20;function a(e,t,r){for(var n=1634760805,a=857760878,o=2036477234,l=1797285236,c=r[3]<<24|r[2]<<16|r[1]<<8|r[0],h=r[7]<<24|r[6]<<16|r[5]<<8|r[4],u=r[11]<<24|r[10]<<16|r[9]<<8|r[8],d=r[15]<<24|r[14]<<16|r[13]<<8|r[12],p=r[19]<<24|r[18]<<16|r[17]<<8|r[16],f=r[23]<<24|r[22]<<16|r[21]<<8|r[20],m=r[27]<<24|r[26]<<16|r[25]<<8|r[24],g=r[31]<<24|r[30]<<16|r[29]<<8|r[28],y=t[3]<<24|t[2]<<16|t[1]<<8|t[0],b=t[7]<<24|t[6]<<16|t[5]<<8|t[4],v=t[11]<<24|t[10]<<16|t[9]<<8|t[8],w=t[15]<<24|t[14]<<16|t[13]<<8|t[12],A=n,k=a,E=o,x=l,P=c,C=h,S=u,I=d,_=p,T=f,M=m,D=g,B=y,O=b,F=v,N=w,R=0;R<i;R+=2)P=(P^=_=_+(B=(B^=A=A+P|0)>>>16|B<<16)|0)>>>20|P<<12,C=(C^=T=T+(O=(O^=k=k+C|0)>>>16|O<<16)|0)>>>20|C<<12,S=(S^=M=M+(F=(F^=E=E+S|0)>>>16|F<<16)|0)>>>20|S<<12,I=(I^=D=D+(N=(N^=x=x+I|0)>>>16|N<<16)|0)>>>20|I<<12,S=(S^=M=M+(F=(F^=E=E+S|0)>>>24|F<<8)|0)>>>25|S<<7,I=(I^=D=D+(N=(N^=x=x+I|0)>>>24|N<<8)|0)>>>25|I<<7,C=(C^=T=T+(O=(O^=k=k+C|0)>>>24|O<<8)|0)>>>25|C<<7,P=(P^=_=_+(B=(B^=A=A+P|0)>>>24|B<<8)|0)>>>25|P<<7,C=(C^=M=M+(N=(N^=A=A+C|0)>>>16|N<<16)|0)>>>20|C<<12,S=(S^=D=D+(B=(B^=k=k+S|0)>>>16|B<<16)|0)>>>20|S<<12,I=(I^=_=_+(O=(O^=E=E+I|0)>>>16|O<<16)|0)>>>20|I<<12,P=(P^=T=T+(F=(F^=x=x+P|0)>>>16|F<<16)|0)>>>20|P<<12,I=(I^=_=_+(O=(O^=E=E+I|0)>>>24|O<<8)|0)>>>25|I<<7,P=(P^=T=T+(F=(F^=x=x+P|0)>>>24|F<<8)|0)>>>25|P<<7,S=(S^=D=D+(B=(B^=k=k+S|0)>>>24|B<<8)|0)>>>25|S<<7,C=(C^=M=M+(N=(N^=A=A+C|0)>>>24|N<<8)|0)>>>25|C<<7;s.writeUint32LE(A+n|0,e,0),s.writeUint32LE(k+a|0,e,4),s.writeUint32LE(E+o|0,e,8),s.writeUint32LE(x+l|0,e,12),s.writeUint32LE(P+c|0,e,16),s.writeUint32LE(C+h|0,e,20),s.writeUint32LE(S+u|0,e,24),s.writeUint32LE(I+d|0,e,28),s.writeUint32LE(_+p|0,e,32),s.writeUint32LE(T+f|0,e,36),s.writeUint32LE(M+m|0,e,40),s.writeUint32LE(D+g|0,e,44),s.writeUint32LE(B+y|0,e,48),s.writeUint32LE(O+b|0,e,52),s.writeUint32LE(F+v|0,e,56),s.writeUint32LE(N+w|0,e,60)}function o(e,t,r,s,i){if(void 0===i&&(i=0),32!==e.length)throw new Error("ChaCha: key size must be 32 bytes");if(s.length<r.length)throw new Error("ChaCha: destination is shorter than source");var o,c;if(0===i){if(8!==t.length&&12!==t.length)throw new Error("ChaCha nonce must be 8 or 12 bytes");c=(o=new Uint8Array(16)).length-t.length,o.set(t,c)}else{if(16!==t.length)throw new Error("ChaCha nonce with counter must be 16 bytes");o=t,c=i}for(var h=new Uint8Array(64),u=0;u<r.length;u+=64){a(h,o,e);for(var d=u;d<u+64&&d<r.length;d++)s[d]=r[d]^h[d-u];l(o,0,c)}return n.wipe(h),0===i&&n.wipe(o),s}function l(e,t,r){for(var s=1;r--;)s=s+(255&e[t])|0,e[t]=255&s,s>>>=8,t++;if(s>0)throw new Error("ChaCha: counter overflow")}t.streamXOR=o,t.stream=function(e,t,r,s){return void 0===s&&(s=0),n.wipe(r),o(e,t,r,r,s)}},4572:(e,t,r)=>{"use strict";var s=r(6180),n=r(5573),i=r(524),a=r(2851),o=r(9128);t.yq=32,t.Wy=12,t.s7=16;var l=new Uint8Array(16),c=function(){function e(e){if(this.nonceLength=t.Wy,this.tagLength=t.s7,e.length!==t.yq)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return e.prototype.seal=function(e,t,r,n){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var a=new Uint8Array(16);a.set(e,a.length-e.length);var o=new Uint8Array(32);s.stream(this._key,a,o,4);var l,c=t.length+this.tagLength;if(n){if(n.length!==c)throw new Error("ChaCha20Poly1305: incorrect destination length");l=n}else l=new Uint8Array(c);return s.streamXOR(this._key,a,t,l,4),this._authenticate(l.subarray(l.length-this.tagLength,l.length),o,l.subarray(0,l.length-this.tagLength),r),i.wipe(a),l},e.prototype.open=function(e,t,r,n){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(t.length<this.tagLength)return null;var a=new Uint8Array(16);a.set(e,a.length-e.length);var l=new Uint8Array(32);s.stream(this._key,a,l,4);var c=new Uint8Array(this.tagLength);if(this._authenticate(c,l,t.subarray(0,t.length-this.tagLength),r),!o.equal(c,t.subarray(t.length-this.tagLength,t.length)))return null;var h,u=t.length-this.tagLength;if(n){if(n.length!==u)throw new Error("ChaCha20Poly1305: incorrect destination length");h=n}else h=new Uint8Array(u);return s.streamXOR(this._key,a,t.subarray(0,t.length-this.tagLength),h,4),i.wipe(a),h},e.prototype.clean=function(){return i.wipe(this._key),this},e.prototype._authenticate=function(e,t,r,s){var o=new n.Poly1305(t);s&&(o.update(s),s.length%16>0&&o.update(l.subarray(s.length%16))),o.update(r),r.length%16>0&&o.update(l.subarray(r.length%16));var c=new Uint8Array(8);s&&a.writeUint64LE(s.length,c),o.update(c),a.writeUint64LE(r.length,c),o.update(c);for(var h=o.digest(),u=0;u<h.length;u++)e[u]=h[u];o.clean(),i.wipe(h),i.wipe(c)},e}();t.as=c},9128:(e,t)=>{"use strict";function r(e,t){if(e.length!==t.length)return 0;for(var r=0,s=0;s<e.length;s++)r|=e[s]^t[s];return 1&r-1>>>8}Object.defineProperty(t,"__esModule",{value:!0}),t.select=function(e,t,r){return~(e-1)&t|e-1&r},t.lessOrEqual=function(e,t){return(0|e)-(0|t)-1>>>31&1},t.compare=r,t.equal=function(e,t){return 0!==e.length&&0!==t.length&&0!==r(e,t)}},716:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSerializableHash=function(e){return void 0!==e.saveState&&void 0!==e.restoreState&&void 0!==e.cleanSavedState}},9680:(e,t,r)=>{"use strict";var s=r(5428),n=r(524),i=function(){function e(e,t,r,n){void 0===r&&(r=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=n;var i=s.hmac(this._hash,r,t);this._hmac=new s.HMAC(e,i),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return e.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(0===e)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},e.prototype.expand=function(e){for(var t=new Uint8Array(e),r=0;r<t.length;r++)this._bufpos===this._buffer.length&&this._fillBuffer(),t[r]=this._buffer[this._bufpos++];return t},e.prototype.clean=function(){this._hmac.clean(),n.wipe(this._buffer),n.wipe(this._counter),this._bufpos=0},e}();t.A=i},5428:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(716),n=r(9128),i=r(524),a=function(){function e(e,t){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var r=new Uint8Array(this.blockSize);t.length>this.blockSize?this._inner.update(t).finish(r).clean():r.set(t);for(var n=0;n<r.length;n++)r[n]^=54;this._inner.update(r);for(n=0;n<r.length;n++)r[n]^=106;this._outer.update(r),s.isSerializableHash(this._inner)&&s.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),i.wipe(r)}return e.prototype.reset=function(){if(!s.isSerializableHash(this._inner)||!s.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.clean=function(){s.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),s.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},e.prototype.update=function(e){return this._inner.update(e),this},e.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(!s.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},e.prototype.restoreState=function(e){if(!s.isSerializableHash(this._inner)||!s.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.cleanSavedState=function(e){if(!s.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},e}();t.HMAC=a,t.hmac=function(e,t,r){var s=new a(e,t);s.update(r);var n=s.digest();return s.clean(),n},t.equal=n.equal},1848:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mul=Math.imul||function(e,t){var r=65535&e,s=65535&t;return r*s+((e>>>16&65535)*s+r*(t>>>16&65535)<<16>>>0)|0},t.add=function(e,t){return e+t|0},t.sub=function(e,t){return e-t|0},t.rotl=function(e,t){return e<<t|e>>>32-t},t.rotr=function(e,t){return e<<32-t|e>>>t},t.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(e){return t.isInteger(e)&&e>=-t.MAX_SAFE_INTEGER&&e<=t.MAX_SAFE_INTEGER}},5573:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(9128),n=r(524);t.DIGEST_LENGTH=16;var i=function(){function e(e){this.digestLength=t.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var r=e[0]|e[1]<<8;this._r[0]=8191&r;var s=e[2]|e[3]<<8;this._r[1]=8191&(r>>>13|s<<3);var n=e[4]|e[5]<<8;this._r[2]=7939&(s>>>10|n<<6);var i=e[6]|e[7]<<8;this._r[3]=8191&(n>>>7|i<<9);var a=e[8]|e[9]<<8;this._r[4]=255&(i>>>4|a<<12),this._r[5]=a>>>1&8190;var o=e[10]|e[11]<<8;this._r[6]=8191&(a>>>14|o<<2);var l=e[12]|e[13]<<8;this._r[7]=8065&(o>>>11|l<<5);var c=e[14]|e[15]<<8;this._r[8]=8191&(l>>>8|c<<8),this._r[9]=c>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}return e.prototype._blocks=function(e,t,r){for(var s=this._fin?0:2048,n=this._h[0],i=this._h[1],a=this._h[2],o=this._h[3],l=this._h[4],c=this._h[5],h=this._h[6],u=this._h[7],d=this._h[8],p=this._h[9],f=this._r[0],m=this._r[1],g=this._r[2],y=this._r[3],b=this._r[4],v=this._r[5],w=this._r[6],A=this._r[7],k=this._r[8],E=this._r[9];r>=16;){var x=e[t+0]|e[t+1]<<8;n+=8191&x;var P=e[t+2]|e[t+3]<<8;i+=8191&(x>>>13|P<<3);var C=e[t+4]|e[t+5]<<8;a+=8191&(P>>>10|C<<6);var S=e[t+6]|e[t+7]<<8;o+=8191&(C>>>7|S<<9);var I=e[t+8]|e[t+9]<<8;l+=8191&(S>>>4|I<<12),c+=I>>>1&8191;var _=e[t+10]|e[t+11]<<8;h+=8191&(I>>>14|_<<2);var T=e[t+12]|e[t+13]<<8;u+=8191&(_>>>11|T<<5);var M=e[t+14]|e[t+15]<<8,D=0,B=D;B+=n*f,B+=i*(5*E),B+=a*(5*k),B+=o*(5*A),D=(B+=l*(5*w))>>>13,B&=8191,B+=c*(5*v),B+=h*(5*b),B+=u*(5*y),B+=(d+=8191&(T>>>8|M<<8))*(5*g);var O=D+=(B+=(p+=M>>>5|s)*(5*m))>>>13;O+=n*m,O+=i*f,O+=a*(5*E),O+=o*(5*k),D=(O+=l*(5*A))>>>13,O&=8191,O+=c*(5*w),O+=h*(5*v),O+=u*(5*b),O+=d*(5*y),D+=(O+=p*(5*g))>>>13,O&=8191;var F=D;F+=n*g,F+=i*m,F+=a*f,F+=o*(5*E),D=(F+=l*(5*k))>>>13,F&=8191,F+=c*(5*A),F+=h*(5*w),F+=u*(5*v),F+=d*(5*b);var N=D+=(F+=p*(5*y))>>>13;N+=n*y,N+=i*g,N+=a*m,N+=o*f,D=(N+=l*(5*E))>>>13,N&=8191,N+=c*(5*k),N+=h*(5*A),N+=u*(5*w),N+=d*(5*v);var R=D+=(N+=p*(5*b))>>>13;R+=n*b,R+=i*y,R+=a*g,R+=o*m,D=(R+=l*f)>>>13,R&=8191,R+=c*(5*E),R+=h*(5*k),R+=u*(5*A),R+=d*(5*w);var L=D+=(R+=p*(5*v))>>>13;L+=n*v,L+=i*b,L+=a*y,L+=o*g,D=(L+=l*m)>>>13,L&=8191,L+=c*f,L+=h*(5*E),L+=u*(5*k),L+=d*(5*A);var U=D+=(L+=p*(5*w))>>>13;U+=n*w,U+=i*v,U+=a*b,U+=o*y,D=(U+=l*g)>>>13,U&=8191,U+=c*m,U+=h*f,U+=u*(5*E),U+=d*(5*k);var j=D+=(U+=p*(5*A))>>>13;j+=n*A,j+=i*w,j+=a*v,j+=o*b,D=(j+=l*y)>>>13,j&=8191,j+=c*g,j+=h*m,j+=u*f,j+=d*(5*E);var G=D+=(j+=p*(5*k))>>>13;G+=n*k,G+=i*A,G+=a*w,G+=o*v,D=(G+=l*b)>>>13,G&=8191,G+=c*y,G+=h*g,G+=u*m,G+=d*f;var V=D+=(G+=p*(5*E))>>>13;V+=n*E,V+=i*k,V+=a*A,V+=o*w,D=(V+=l*v)>>>13,V&=8191,V+=c*b,V+=h*y,V+=u*g,V+=d*m,n=B=8191&(D=(D=((D+=(V+=p*f)>>>13)<<2)+D|0)+(B&=8191)|0),i=O+=D>>>=13,a=F&=8191,o=N&=8191,l=R&=8191,c=L&=8191,h=U&=8191,u=j&=8191,d=G&=8191,p=V&=8191,t+=16,r-=16}this._h[0]=n,this._h[1]=i,this._h[2]=a,this._h[3]=o,this._h[4]=l,this._h[5]=c,this._h[6]=h,this._h[7]=u,this._h[8]=d,this._h[9]=p},e.prototype.finish=function(e,t){void 0===t&&(t=0);var r,s,n,i,a=new Uint16Array(10);if(this._leftover){for(i=this._leftover,this._buffer[i++]=1;i<16;i++)this._buffer[i]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(r=this._h[1]>>>13,this._h[1]&=8191,i=2;i<10;i++)this._h[i]+=r,r=this._h[i]>>>13,this._h[i]&=8191;for(this._h[0]+=5*r,r=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=r,r=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=r,a[0]=this._h[0]+5,r=a[0]>>>13,a[0]&=8191,i=1;i<10;i++)a[i]=this._h[i]+r,r=a[i]>>>13,a[i]&=8191;for(a[9]-=8192,s=(1^r)-1,i=0;i<10;i++)a[i]&=s;for(s=~s,i=0;i<10;i++)this._h[i]=this._h[i]&s|a[i];for(this._h[0]=65535&(this._h[0]|this._h[1]<<13),this._h[1]=65535&(this._h[1]>>>3|this._h[2]<<10),this._h[2]=65535&(this._h[2]>>>6|this._h[3]<<7),this._h[3]=65535&(this._h[3]>>>9|this._h[4]<<4),this._h[4]=65535&(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14),this._h[5]=65535&(this._h[6]>>>2|this._h[7]<<11),this._h[6]=65535&(this._h[7]>>>5|this._h[8]<<8),this._h[7]=65535&(this._h[8]>>>8|this._h[9]<<5),n=this._h[0]+this._pad[0],this._h[0]=65535&n,i=1;i<8;i++)n=(this._h[i]+this._pad[i]|0)+(n>>>16)|0,this._h[i]=65535&n;return e[t+0]=this._h[0]>>>0,e[t+1]=this._h[0]>>>8,e[t+2]=this._h[1]>>>0,e[t+3]=this._h[1]>>>8,e[t+4]=this._h[2]>>>0,e[t+5]=this._h[2]>>>8,e[t+6]=this._h[3]>>>0,e[t+7]=this._h[3]>>>8,e[t+8]=this._h[4]>>>0,e[t+9]=this._h[4]>>>8,e[t+10]=this._h[5]>>>0,e[t+11]=this._h[5]>>>8,e[t+12]=this._h[6]>>>0,e[t+13]=this._h[6]>>>8,e[t+14]=this._h[7]>>>0,e[t+15]=this._h[7]>>>8,this._finished=!0,this},e.prototype.update=function(e){var t,r=0,s=e.length;if(this._leftover){(t=16-this._leftover)>s&&(t=s);for(var n=0;n<t;n++)this._buffer[this._leftover+n]=e[r+n];if(s-=t,r+=t,this._leftover+=t,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(s>=16&&(t=s-s%16,this._blocks(e,r,t),r+=t,s-=t),s){for(n=0;n<s;n++)this._buffer[this._leftover+n]=e[r+n];this._leftover+=s}return this},e.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},e.prototype.clean=function(){return n.wipe(this._buffer),n.wipe(this._r),n.wipe(this._h),n.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},e}();t.Poly1305=i,t.oneTimeAuth=function(e,t){var r=new i(e);r.update(t);var s=r.digest();return r.clean(),s},t.equal=function(e,r){return e.length===t.DIGEST_LENGTH&&r.length===t.DIGEST_LENGTH&&s.equal(e,r)}},8620:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomStringForEntropy=t.randomString=t.randomUint32=t.randomBytes=t.defaultRandomSource=void 0;const s=r(2948),n=r(2851),i=r(524);function a(e,r=t.defaultRandomSource){return r.randomBytes(e)}t.defaultRandomSource=new s.SystemRandomSource,t.randomBytes=a,t.randomUint32=function(e=t.defaultRandomSource){const r=a(4,e),s=(0,n.readUint32LE)(r);return(0,i.wipe)(r),s};const o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function l(e,r=o,s=t.defaultRandomSource){if(r.length<2)throw new Error("randomString charset is too short");if(r.length>256)throw new Error("randomString charset is too long");let n="";const l=r.length,c=256-256%l;for(;e>0;){const t=a(Math.ceil(256*e/c),s);for(let s=0;s<t.length&&e>0;s++){const i=t[s];i<c&&(n+=r.charAt(i%l),e--)}(0,i.wipe)(t)}return n}t.randomString=l,t.randomStringForEntropy=function(e,r=o,s=t.defaultRandomSource){return l(Math.ceil(e/(Math.log(r.length)/Math.LN2)),r,s)}},976:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserRandomSource=void 0;t.BrowserRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e="undefined"!=typeof self?self.crypto||self.msCrypto:null;e&&void 0!==e.getRandomValues&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const t=new Uint8Array(e);for(let e=0;e<t.length;e+=65536)this._crypto.getRandomValues(t.subarray(e,e+Math.min(t.length-e,65536)));return t}}},2252:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeRandomSource=void 0;const s=r(524);t.NodeRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{const e=r(5924);e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const r=new Uint8Array(e);for(let e=0;e<r.length;e++)r[e]=t[e];return(0,s.wipe)(t),r}}},2948:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SystemRandomSource=void 0;const s=r(976),n=r(2252);t.SystemRandomSource=class{constructor(){return this.isAvailable=!1,this.name="",this._source=new s.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new n.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}},1064:(e,t,r)=>{"use strict";var s=r(2851),n=r(524);t.yi=32,t.MJ=64;var i=function(){function e(){this.digestLength=t.yi,this.blockSize=t.MJ,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return e.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},e.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},e.prototype.clean=function(){n.wipe(this._buffer),n.wipe(this._temp),this.reset()},e.prototype.update=function(e,t){if(void 0===t&&(t=e.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var r=0;if(this._bytesHashed+=t,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&t>0;)this._buffer[this._bufferLength++]=e[r++],t--;this._bufferLength===this.blockSize&&(o(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(r=o(this._temp,this._state,e,r,t),t%=this.blockSize);t>0;)this._buffer[this._bufferLength++]=e[r++],t--;return this},e.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,r=this._bufferLength,n=t/536870912|0,i=t<<3,a=t%64<56?64:128;this._buffer[r]=128;for(var l=r+1;l<a-8;l++)this._buffer[l]=0;s.writeUint32BE(n,this._buffer,a-8),s.writeUint32BE(i,this._buffer,a-4),o(this._temp,this._state,this._buffer,0,a),this._finished=!0}for(l=0;l<this.digestLength/4;l++)s.writeUint32BE(this._state[l],e,4*l);return this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},e.prototype.restoreState=function(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},e.prototype.cleanSavedState=function(e){n.wipe(e.state),e.buffer&&n.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},e}();t.sP=i;var a=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function o(e,t,r,n,i){for(;i>=64;){for(var o=t[0],l=t[1],c=t[2],h=t[3],u=t[4],d=t[5],p=t[6],f=t[7],m=0;m<16;m++){var g=n+4*m;e[m]=s.readUint32BE(r,g)}for(m=16;m<64;m++){var y=e[m-2],b=(y>>>17|y<<15)^(y>>>19|y<<13)^y>>>10,v=((y=e[m-15])>>>7|y<<25)^(y>>>18|y<<14)^y>>>3;e[m]=(b+e[m-7]|0)+(v+e[m-16]|0)}for(m=0;m<64;m++){b=(((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))+(u&d^~u&p)|0)+(f+(a[m]+e[m]|0)|0)|0,v=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&l^o&c^l&c)|0;f=p,p=d,d=u,u=h+b|0,h=c,c=l,l=o,o=b+v|0}t[0]+=o,t[1]+=l,t[2]+=c,t[3]+=h,t[4]+=u,t[5]+=d,t[6]+=p,t[7]+=f,n+=64,i-=64}return n}t.Az=function(e){var t=new i;t.update(e);var r=t.digest();return t.clean(),r}},524:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wipe=function(e){for(var t=0;t<e.length;t++)e[t]=0;return e}},9776:(e,t,r)=>{"use strict";t.O0=t.G0=t.gf=t.G8=void 0;const s=r(8620),n=r(524);function i(e){const t=new Float64Array(16);if(e)for(let r=0;r<e.length;r++)t[r]=e[r];return t}t.G8=32,t.gf=32;const a=new Uint8Array(32);a[0]=9;const o=i([56129,1]);function l(e){let t=1;for(let r=0;r<16;r++){let s=e[r]+t+65535;t=Math.floor(s/65536),e[r]=s-65536*t}e[0]+=t-1+37*(t-1)}function c(e,t,r){const s=~(r-1);for(let r=0;r<16;r++){const n=s&(e[r]^t[r]);e[r]^=n,t[r]^=n}}function h(e,t,r){for(let s=0;s<16;s++)e[s]=t[s]+r[s]}function u(e,t,r){for(let s=0;s<16;s++)e[s]=t[s]-r[s]}function d(e,t,r){let s,n,i=0,a=0,o=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,m=0,g=0,y=0,b=0,v=0,w=0,A=0,k=0,E=0,x=0,P=0,C=0,S=0,I=0,_=0,T=0,M=0,D=0,B=0,O=0,F=0,N=r[0],R=r[1],L=r[2],U=r[3],j=r[4],G=r[5],V=r[6],z=r[7],Q=r[8],H=r[9],K=r[10],q=r[11],W=r[12],J=r[13],Y=r[14],Z=r[15];s=t[0],i+=s*N,a+=s*R,o+=s*L,l+=s*U,c+=s*j,h+=s*G,u+=s*V,d+=s*z,p+=s*Q,f+=s*H,m+=s*K,g+=s*q,y+=s*W,b+=s*J,v+=s*Y,w+=s*Z,s=t[1],a+=s*N,o+=s*R,l+=s*L,c+=s*U,h+=s*j,u+=s*G,d+=s*V,p+=s*z,f+=s*Q,m+=s*H,g+=s*K,y+=s*q,b+=s*W,v+=s*J,w+=s*Y,A+=s*Z,s=t[2],o+=s*N,l+=s*R,c+=s*L,h+=s*U,u+=s*j,d+=s*G,p+=s*V,f+=s*z,m+=s*Q,g+=s*H,y+=s*K,b+=s*q,v+=s*W,w+=s*J,A+=s*Y,k+=s*Z,s=t[3],l+=s*N,c+=s*R,h+=s*L,u+=s*U,d+=s*j,p+=s*G,f+=s*V,m+=s*z,g+=s*Q,y+=s*H,b+=s*K,v+=s*q,w+=s*W,A+=s*J,k+=s*Y,E+=s*Z,s=t[4],c+=s*N,h+=s*R,u+=s*L,d+=s*U,p+=s*j,f+=s*G,m+=s*V,g+=s*z,y+=s*Q,b+=s*H,v+=s*K,w+=s*q,A+=s*W,k+=s*J,E+=s*Y,x+=s*Z,s=t[5],h+=s*N,u+=s*R,d+=s*L,p+=s*U,f+=s*j,m+=s*G,g+=s*V,y+=s*z,b+=s*Q,v+=s*H,w+=s*K,A+=s*q,k+=s*W,E+=s*J,x+=s*Y,P+=s*Z,s=t[6],u+=s*N,d+=s*R,p+=s*L,f+=s*U,m+=s*j,g+=s*G,y+=s*V,b+=s*z,v+=s*Q,w+=s*H,A+=s*K,k+=s*q,E+=s*W,x+=s*J,P+=s*Y,C+=s*Z,s=t[7],d+=s*N,p+=s*R,f+=s*L,m+=s*U,g+=s*j,y+=s*G,b+=s*V,v+=s*z,w+=s*Q,A+=s*H,k+=s*K,E+=s*q,x+=s*W,P+=s*J,C+=s*Y,S+=s*Z,s=t[8],p+=s*N,f+=s*R,m+=s*L,g+=s*U,y+=s*j,b+=s*G,v+=s*V,w+=s*z,A+=s*Q,k+=s*H,E+=s*K,x+=s*q,P+=s*W,C+=s*J,S+=s*Y,I+=s*Z,s=t[9],f+=s*N,m+=s*R,g+=s*L,y+=s*U,b+=s*j,v+=s*G,w+=s*V,A+=s*z,k+=s*Q,E+=s*H,x+=s*K,P+=s*q,C+=s*W,S+=s*J,I+=s*Y,_+=s*Z,s=t[10],m+=s*N,g+=s*R,y+=s*L,b+=s*U,v+=s*j,w+=s*G,A+=s*V,k+=s*z,E+=s*Q,x+=s*H,P+=s*K,C+=s*q,S+=s*W,I+=s*J,_+=s*Y,T+=s*Z,s=t[11],g+=s*N,y+=s*R,b+=s*L,v+=s*U,w+=s*j,A+=s*G,k+=s*V,E+=s*z,x+=s*Q,P+=s*H,C+=s*K,S+=s*q,I+=s*W,_+=s*J,T+=s*Y,M+=s*Z,s=t[12],y+=s*N,b+=s*R,v+=s*L,w+=s*U,A+=s*j,k+=s*G,E+=s*V,x+=s*z,P+=s*Q,C+=s*H,S+=s*K,I+=s*q,_+=s*W,T+=s*J,M+=s*Y,D+=s*Z,s=t[13],b+=s*N,v+=s*R,w+=s*L,A+=s*U,k+=s*j,E+=s*G,x+=s*V,P+=s*z,C+=s*Q,S+=s*H,I+=s*K,_+=s*q,T+=s*W,M+=s*J,D+=s*Y,B+=s*Z,s=t[14],v+=s*N,w+=s*R,A+=s*L,k+=s*U,E+=s*j,x+=s*G,P+=s*V,C+=s*z,S+=s*Q,I+=s*H,_+=s*K,T+=s*q,M+=s*W,D+=s*J,B+=s*Y,O+=s*Z,s=t[15],w+=s*N,A+=s*R,k+=s*L,E+=s*U,x+=s*j,P+=s*G,C+=s*V,S+=s*z,I+=s*Q,_+=s*H,T+=s*K,M+=s*q,D+=s*W,B+=s*J,O+=s*Y,F+=s*Z,i+=38*A,a+=38*k,o+=38*E,l+=38*x,c+=38*P,h+=38*C,u+=38*S,d+=38*I,p+=38*_,f+=38*T,m+=38*M,g+=38*D,y+=38*B,b+=38*O,v+=38*F,n=1,s=i+n+65535,n=Math.floor(s/65536),i=s-65536*n,s=a+n+65535,n=Math.floor(s/65536),a=s-65536*n,s=o+n+65535,n=Math.floor(s/65536),o=s-65536*n,s=l+n+65535,n=Math.floor(s/65536),l=s-65536*n,s=c+n+65535,n=Math.floor(s/65536),c=s-65536*n,s=h+n+65535,n=Math.floor(s/65536),h=s-65536*n,s=u+n+65535,n=Math.floor(s/65536),u=s-65536*n,s=d+n+65535,n=Math.floor(s/65536),d=s-65536*n,s=p+n+65535,n=Math.floor(s/65536),p=s-65536*n,s=f+n+65535,n=Math.floor(s/65536),f=s-65536*n,s=m+n+65535,n=Math.floor(s/65536),m=s-65536*n,s=g+n+65535,n=Math.floor(s/65536),g=s-65536*n,s=y+n+65535,n=Math.floor(s/65536),y=s-65536*n,s=b+n+65535,n=Math.floor(s/65536),b=s-65536*n,s=v+n+65535,n=Math.floor(s/65536),v=s-65536*n,s=w+n+65535,n=Math.floor(s/65536),w=s-65536*n,i+=n-1+37*(n-1),n=1,s=i+n+65535,n=Math.floor(s/65536),i=s-65536*n,s=a+n+65535,n=Math.floor(s/65536),a=s-65536*n,s=o+n+65535,n=Math.floor(s/65536),o=s-65536*n,s=l+n+65535,n=Math.floor(s/65536),l=s-65536*n,s=c+n+65535,n=Math.floor(s/65536),c=s-65536*n,s=h+n+65535,n=Math.floor(s/65536),h=s-65536*n,s=u+n+65535,n=Math.floor(s/65536),u=s-65536*n,s=d+n+65535,n=Math.floor(s/65536),d=s-65536*n,s=p+n+65535,n=Math.floor(s/65536),p=s-65536*n,s=f+n+65535,n=Math.floor(s/65536),f=s-65536*n,s=m+n+65535,n=Math.floor(s/65536),m=s-65536*n,s=g+n+65535,n=Math.floor(s/65536),g=s-65536*n,s=y+n+65535,n=Math.floor(s/65536),y=s-65536*n,s=b+n+65535,n=Math.floor(s/65536),b=s-65536*n,s=v+n+65535,n=Math.floor(s/65536),v=s-65536*n,s=w+n+65535,n=Math.floor(s/65536),w=s-65536*n,i+=n-1+37*(n-1),e[0]=i,e[1]=a,e[2]=o,e[3]=l,e[4]=c,e[5]=h,e[6]=u,e[7]=d,e[8]=p,e[9]=f,e[10]=m,e[11]=g,e[12]=y,e[13]=b,e[14]=v,e[15]=w}function p(e,t){d(e,t,t)}function f(e,t){const r=new Uint8Array(32),s=new Float64Array(80),n=i(),a=i(),f=i(),m=i(),g=i(),y=i();for(let t=0;t<31;t++)r[t]=e[t];r[31]=127&e[31]|64,r[0]&=248,function(e,t){for(let r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}(s,t);for(let e=0;e<16;e++)a[e]=s[e];n[0]=m[0]=1;for(let e=254;e>=0;--e){const t=r[e>>>3]>>>(7&e)&1;c(n,a,t),c(f,m,t),h(g,n,f),u(n,n,f),h(f,a,m),u(a,a,m),p(m,g),p(y,n),d(n,f,n),d(f,a,g),h(g,n,f),u(n,n,f),p(a,n),u(f,m,y),d(n,f,o),h(n,n,m),d(f,f,n),d(n,m,y),d(m,a,s),p(a,g),c(n,a,t),c(f,m,t)}for(let e=0;e<16;e++)s[e+16]=n[e],s[e+32]=f[e],s[e+48]=a[e],s[e+64]=m[e];const b=s.subarray(32),v=s.subarray(16);!function(e,t){const r=i();for(let e=0;e<16;e++)r[e]=t[e];for(let e=253;e>=0;e--)p(r,r),2!==e&&4!==e&&d(r,r,t);for(let t=0;t<16;t++)e[t]=r[t]}(b,b),d(v,v,b);const w=new Uint8Array(32);return function(e,t){const r=i(),s=i();for(let e=0;e<16;e++)s[e]=t[e];l(s),l(s),l(s);for(let e=0;e<2;e++){r[0]=s[0]-65517;for(let e=1;e<15;e++)r[e]=s[e]-65535-(r[e-1]>>16&1),r[e-1]&=65535;r[15]=s[15]-32767-(r[14]>>16&1);const e=r[15]>>16&1;r[14]&=65535,c(s,r,1-e)}for(let t=0;t<16;t++)e[2*t]=255&s[t],e[2*t+1]=s[t]>>8}(w,v),w}function m(e){return f(e,a)}function g(e){if(e.length!==t.gf)throw new Error(`x25519: seed must be ${t.gf} bytes`);const r=new Uint8Array(e);return{publicKey:m(r),secretKey:r}}t.G0=function(e){const t=(0,s.randomBytes)(32,e),r=g(t);return(0,n.wipe)(t),r},t.O0=function(e,r,s=!1){if(e.length!==t.G8)throw new Error("X25519: incorrect secret key length");if(r.length!==t.G8)throw new Error("X25519: incorrect public key length");const n=f(e,r);if(s){let e=0;for(let t=0;t<n.length;t++)e|=n[t];if(0===e)throw new Error("X25519: invalid shared key")}return n}},8216:()=>{},2856:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(2388);s.__exportStar(r(7696),t),s.__exportStar(r(5891),t)},7696:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_THOUSAND=t.ONE_HUNDRED=void 0,t.ONE_HUNDRED=100,t.ONE_THOUSAND=1e3},5891:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=5*t.ONE_MINUTE,t.TEN_MINUTES=10*t.ONE_MINUTE,t.THIRTY_MINUTES=30*t.ONE_MINUTE,t.SIXTY_MINUTES=60*t.ONE_MINUTE,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=3*t.ONE_HOUR,t.SIX_HOURS=6*t.ONE_HOUR,t.TWELVE_HOURS=12*t.ONE_HOUR,t.TWENTY_FOUR_HOURS=24*t.ONE_HOUR,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=3*t.ONE_DAY,t.FIVE_DAYS=5*t.ONE_DAY,t.SEVEN_DAYS=7*t.ONE_DAY,t.THIRTY_DAYS=30*t.ONE_DAY,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=2*t.ONE_WEEK,t.THREE_WEEKS=3*t.ONE_WEEK,t.FOUR_WEEKS=4*t.ONE_WEEK,t.ONE_YEAR=365*t.ONE_DAY},1260:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(2388);s.__exportStar(r(6551),t),s.__exportStar(r(6592),t),s.__exportStar(r(1084),t),s.__exportStar(r(2856),t)},1084:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});r(2388).__exportStar(r(1320),t)},1320:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IWatch=void 0;t.IWatch=class{}},7804:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromMiliseconds=t.toMiliseconds=void 0;const s=r(2856);t.toMiliseconds=function(e){return e*s.ONE_THOUSAND},t.fromMiliseconds=function(e){return Math.floor(e/s.ONE_THOUSAND)}},4504:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0,t.delay=function(e){return new Promise((t=>{setTimeout((()=>{t(!0)}),e)}))}},6551:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(2388);s.__exportStar(r(4504),t),s.__exportStar(r(7804),t)},6592:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Watch=void 0;class r{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw new Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){const t=this.get(e);if(void 0!==t.elapsed)throw new Error(`Watch already stopped for label: ${e}`);const r=Date.now()-t.started;this.timestamps.set(e,{started:t.started,elapsed:r})}get(e){const t=this.timestamps.get(e);if(void 0===t)throw new Error(`No timestamp found for label: ${e}`);return t}elapsed(e){const t=this.get(e);return t.elapsed||Date.now()-t.started}}t.Watch=r,t.default=r},2388:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>v,__asyncValues:()=>A,__await:()=>b,__awaiter:()=>h,__classPrivateFieldGet:()=>P,__classPrivateFieldSet:()=>C,__createBinding:()=>d,__decorate:()=>o,__exportStar:()=>p,__extends:()=>n,__generator:()=>u,__importDefault:()=>x,__importStar:()=>E,__makeTemplateObject:()=>k,__metadata:()=>c,__param:()=>l,__read:()=>m,__rest:()=>a,__spread:()=>g,__spreadArrays:()=>y,__values:()=>f});var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},s(e,t)};function n(e,t){function r(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var i=function(){return i=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},i.apply(this,arguments)};function a(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(r[s[n]]=e[s[n]])}return r}function o(e,t,r,s){var n,i=arguments.length,a=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,s);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(a=(i<3?n(a):i>3?n(t,r,a):n(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}function l(e,t){return function(r,s){t(r,s,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function h(e,t,r,s){return new(r||(r=Promise))((function(n,i){function a(e){try{l(s.next(e))}catch(e){i(e)}}function o(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,o)}l((s=s.apply(e,t||[])).next())}))}function u(e,t){var r,s,n,i,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,s&&(n=2&i[0]?s.return:i[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,i[1])).done)return n;switch(s=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,s=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(n=a.trys,(n=n.length>0&&n[n.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){a.label=i[1];break}if(6===i[0]&&a.label<n[1]){a.label=n[1],n=i;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(i);break}n[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],s=0}finally{r=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}}function d(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}function p(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])}function f(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],s=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var s,n,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(s=i.next()).done;)a.push(s.value)}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function y(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var s=Array(e),n=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,o=i.length;a<o;a++,n++)s[n]=i[a];return s}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function v(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,n=r.apply(e,t||[]),i=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(e){n[e]&&(s[e]=function(t){return new Promise((function(r,s){i.push([e,t,r,s])>1||o(e,t)}))})}function o(e,t){try{(r=n[e](t)).value instanceof b?Promise.resolve(r.value.v).then(l,c):h(i[0][2],r)}catch(e){h(i[0][3],e)}var r}function l(e){o("next",e)}function c(e){o("throw",e)}function h(e,t){e(t),i.shift(),i.length&&o(i[0][0],i[0][1])}}function w(e){var t,r;return t={},s("next"),s("throw",(function(e){throw e})),s("return"),t[Symbol.iterator]=function(){return this},t;function s(s,n){t[s]=e[s]?function(t){return(r=!r)?{value:b(e[s](t)),done:"return"===s}:n?n(t):t}:n}}function A(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=f(e),t={},s("next"),s("throw"),s("return"),t[Symbol.asyncIterator]=function(){return this},t);function s(r){t[r]=e[r]&&function(t){return new Promise((function(s,n){(function(e,t,r,s){Promise.resolve(s).then((function(t){e({value:t,done:r})}),t)})(s,n,(t=e[r](t)).done,t.value)}))}}}function k(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function C(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}},2824:(e,t,r)=>{"use strict";r.d(t,{Yv:()=>O,M3:()=>Qt,Wy:()=>L,cP:()=>Se,oK:()=>Ae,WA:()=>ke,CQ:()=>W,eA:()=>Y,tG:()=>H,OW:()=>Z,Ux:()=>J,Ev:()=>_e,Ex:()=>Pe,ch:()=>ye,CM:()=>xe,wb:()=>He,G0:()=>z,aG:()=>Q,gr:()=>M,O_:()=>me,zz:()=>fe,s5:()=>De,El:()=>lt,qk:()=>Fe,_0:()=>Oe,s1:()=>rt,aK:()=>ct,Gk:()=>Me,Gg:()=>K,S:()=>q,uH:()=>de,Cs:()=>st,q2:()=>Lt,uK:()=>Ie,yW:()=>he,gf:()=>Gt,QB:()=>bt,ho:()=>ue,mG:()=>mt,aE:()=>vt,aI:()=>ee,Y3:()=>dt,kD:()=>ht,qq:()=>wt,eZ:()=>Mt,A7:()=>Ot,ug:()=>_t,eC:()=>Ct,EF:()=>Ft,IH:()=>Rt,S8:()=>Nt,CY:()=>ut,YJ:()=>Tt,AD:()=>St,o7:()=>It,EJ:()=>Dt,op:()=>jt,Sq:()=>Pt,Cr:()=>Bt,E$:()=>pt,i0:()=>yt,Ku:()=>ve,Cy:()=>Te,qc:()=>it,_M:()=>we,GA:()=>T,K6:()=>Ce,k5:()=>nt,TH:()=>ze,wV:()=>Vt,WQ:()=>$,aA:()=>X});var s=r(4572),n=r(9680),i=r(8620),a=r(1064),o=r(9776),l=r(428),c=r(6512),h=function(e,t,r){if(r||2===arguments.length)for(var s,n=0,i=t.length;n<i;n++)!s&&n in t||(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))},u=function(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"},d=function(e){this.version=e,this.type="node",this.name="node",this.os=c.platform},p=function(e,t,r,s){this.name=e,this.version=t,this.os=r,this.bot=s,this.type="bot-device"},f=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},m=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},g=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,y=3,b=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],v=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function w(e){return e?k(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new m:"undefined"!=typeof navigator?k(navigator.userAgent):void 0!==c&&c.version?new d(c.version.slice(1)):null}function A(e){return""!==e&&b.reduce((function(t,r){var s=r[0],n=r[1];if(t)return t;var i=n.exec(e);return!!i&&[s,i]}),!1)}function k(e){var t=A(e);if(!t)return null;var r=t[0],s=t[1];if("searchbot"===r)return new f;var n=s[1]&&s[1].split(".").join("_").split("_").slice(0,3);n?n.length<y&&(n=h(h([],n,!0),function(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}(y-n.length),!0)):n=[];var i=n.join("."),a=function(e){for(var t=0,r=v.length;t<r;t++){var s=v[t],n=s[0];if(s[1].exec(e))return n}return null}(e),o=g.exec(e);return o&&o[1]?new p(r,i,a,o[1]):new u(r,i,a)}var E=r(1260),x=r(1824),P=r(9260),C=r(6788);r(8216);const S={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}};var I=r(6512);const _=":";function T(e){const[t,r]=e.split(_);return{namespace:t,reference:r}}function M(e,t=[]){const r=[];return Object.keys(e).forEach((s=>{if(t.length&&!t.includes(s))return;const n=e[s];r.push(...n.accounts)})),r}function D(e,t){return e.includes(":")?[e]:t.chains||[]}const B="base10",O="base16",F="base64pad",N="utf8",R=0,L=1,U=0,j=1,G=12,V=32;function z(){const e=o.G0();return{privateKey:(0,l.MR)(e.secretKey,O),publicKey:(0,l.MR)(e.publicKey,O)}}function Q(){const e=(0,i.randomBytes)(V);return(0,l.MR)(e,O)}function H(e,t){const r=o.O0((0,l.K0)(e,O),(0,l.K0)(t,O),!0),s=new n.A(a.sP,r).expand(V);return(0,l.MR)(s,O)}function K(e){const t=(0,a.Az)((0,l.K0)(e,O));return(0,l.MR)(t,O)}function q(e){const t=(0,a.Az)((0,l.K0)(e,N));return(0,l.MR)(t,O)}function W(e){return Number((0,l.MR)(e,B))}function J(e){const t=function(e){return(0,l.K0)(`${e}`,B)}(typeof e.type<"u"?e.type:R);if(W(t)===L&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof e.senderPublicKey<"u"?(0,l.K0)(e.senderPublicKey,O):void 0,n=typeof e.iv<"u"?(0,l.K0)(e.iv,O):(0,i.randomBytes)(G);return function(e){if(W(e.type)===L){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return(0,l.MR)((0,l.WU)([e.type,e.senderPublicKey,e.iv,e.sealed]),F)}return(0,l.MR)((0,l.WU)([e.type,e.iv,e.sealed]),F)}({type:t,sealed:new s.as((0,l.K0)(e.symKey,O)).seal(n,(0,l.K0)(e.message,N)),iv:n,senderPublicKey:r})}function Y(e){const t=new s.as((0,l.K0)(e.symKey,O)),{sealed:r,iv:n}=Z(e.encoded),i=t.open(n,r);if(null===i)throw new Error("Failed to decrypt");return(0,l.MR)(i,N)}function Z(e){const t=(0,l.K0)(e,F),r=t.slice(U,j),s=j;if(W(r)===L){const e=s+V,n=e+G,i=t.slice(s,e),a=t.slice(e,n);return{type:r,sealed:t.slice(n),iv:a,senderPublicKey:i}}const n=s+G,i=t.slice(s,n);return{type:r,sealed:t.slice(n),iv:i}}function $(e,t){const r=Z(e);return X({type:W(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?(0,l.MR)(r.senderPublicKey,O):void 0,receiverPublicKey:t?.receiverPublicKey})}function X(e){const t=e?.type||R;if(t===L){if(typeof e?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof e?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function ee(e){return e.type===L&&"string"==typeof e.senderPublicKey&&"string"==typeof e.receiverPublicKey}var te=Object.defineProperty,re=Object.getOwnPropertySymbols,se=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable,ie=(e,t,r)=>t in e?te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ae=(e,t)=>{for(var r in t||(t={}))se.call(t,r)&&ie(e,r,t[r]);if(re)for(var r of re(t))ne.call(t,r)&&ie(e,r,t[r]);return e};const oe="ReactNative",le={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},ce="js";function he(){return typeof I<"u"&&typeof I.versions<"u"&&typeof I.versions.node<"u"}function ue(){return!(0,x.getDocument)()&&!!(0,x.getNavigator)()&&navigator.product===oe}function de(){return!he()&&!!(0,x.getNavigator)()&&!!(0,x.getDocument)()}function pe(){return ue()?le.reactNative:he()?le.node:de()?le.browser:le.unknown}function fe(){var e;try{return ue()&&typeof r.g<"u"&&typeof(null==r.g?void 0:r.g.Application)<"u"?null==(e=r.g.Application)?void 0:e.applicationId:void 0}catch{return}}function me(){return(0,P.G)()||{name:"",description:"",url:"",icons:[""]}}function ge(e,t,s){const n=function(){if(pe()===le.reactNative&&typeof r.g<"u"&&typeof(null==r.g?void 0:r.g.Platform)<"u"){const{OS:e,Version:t}=r.g.Platform;return[e,t].join("-")}const e=w();if(null===e)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return"browser"===e.type?[t,e.name,e.version].join("-"):[t,e.version].join("-")}(),i=function(){var e;const t=pe();return t===le.browser?[t,(null==(e=(0,x.getLocation)())?void 0:e.host)||"unknown"].join(":"):t}();return[[e,t].join("-"),[ce,s].join("-"),n,i].join("/")}function ye({protocol:e,version:t,relayUrl:r,sdkVersion:s,auth:n,projectId:i,useOnCloseEvent:a,bundleId:o}){const l=r.split("?"),c={auth:n,ua:ge(e,t,s),projectId:i,useOnCloseEvent:a||void 0,origin:o||void 0},h=function(e,t){let r=C.parse(e);return r=ae(ae({},r),t),C.stringify(r)}(l[1]||"",c);return l[0]+"?"+h}function be(e,t){return e.filter((e=>t.includes(e))).length===e.length}function ve(e){return Object.fromEntries(e.entries())}function we(e){return new Map(Object.entries(e))}function Ae(e=E.FIVE_MINUTES,t){const r=(0,E.toMiliseconds)(e||E.FIVE_MINUTES);let s,n,i;return{resolve:e=>{i&&s&&(clearTimeout(i),s(e))},reject:e=>{i&&n&&(clearTimeout(i),n(e))},done:()=>new Promise(((e,a)=>{i=setTimeout((()=>{a(new Error(t))}),r),s=e,n=a}))}}function ke(e,t,r){return new Promise((async(s,n)=>{const i=setTimeout((()=>n(new Error(r))),t);try{s(await e)}catch(e){n(e)}clearTimeout(i)}))}function Ee(e,t){if("string"==typeof t&&t.startsWith(`${e}:`))return t;if("topic"===e.toLowerCase()){if("string"!=typeof t)throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}if("id"===e.toLowerCase()){if("number"!=typeof t)throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function xe(e){return Ee("topic",e)}function Pe(e){return Ee("id",e)}function Ce(e){const[t,r]=e.split(":"),s={id:void 0,topic:void 0};if("topic"===t&&"string"==typeof r)s.topic=r;else{if("id"!==t||!Number.isInteger(Number(r)))throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`);s.id=Number(r)}return s}function Se(e,t){return(0,E.fromMiliseconds)((t||Date.now())+(0,E.toMiliseconds)(e))}function Ie(e){return Date.now()>=(0,E.toMiliseconds)(e)}function _e(e,t){return`${e}${t?`:${t}`:""}`}function Te(e=[],t=[]){return[...new Set([...e,...t])]}async function Me({id:e,topic:t,wcDeepLink:s}){try{if(!s)return;const n="string"==typeof s?JSON.parse(s):s;let i=n?.href;if("string"!=typeof i)return;i.endsWith("/")&&(i=i.slice(0,-1));const a=`${i}/wc?requestId=${e}&sessionTopic=${t}`,o=pe();o===le.browser?a.startsWith("https://")?window.open(a,"_blank","noreferrer noopener"):window.open(a,"_self","noreferrer noopener"):o===le.reactNative&&typeof(null==r.g?void 0:r.g.Linking)<"u"&&await r.g.Linking.openURL(a)}catch(e){console.error(e)}}async function De(e,t){try{return await e.getItem(t)||(de()?localStorage.getItem(t):void 0)}catch(e){console.error(e)}}const Be="irn";function Oe(e){return e?.relay||{protocol:Be}}function Fe(e){const t=S[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}var Ne=Object.defineProperty,Re=Object.getOwnPropertySymbols,Le=Object.prototype.hasOwnProperty,Ue=Object.prototype.propertyIsEnumerable,je=(e,t,r)=>t in e?Ne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ge=(e,t)=>{for(var r in t||(t={}))Le.call(t,r)&&je(e,r,t[r]);if(Re)for(var r of Re(t))Ue.call(t,r)&&je(e,r,t[r]);return e};function Ve(e,t="-"){const r={},s="relay"+t;return Object.keys(e).forEach((t=>{if(t.startsWith(s)){const n=t.replace(s,""),i=e[t];r[n]=i}})),r}function ze(e){const t=(e=(e=e.includes("wc://")?e.replace("wc://",""):e).includes("wc:")?e.replace("wc:",""):e).indexOf(":"),r=-1!==e.indexOf("?")?e.indexOf("?"):void 0,s=e.substring(0,t),n=e.substring(t+1,r).split("@"),i=typeof r<"u"?e.substring(r):"",a=C.parse(i);return{protocol:s,topic:Qe(n[0]),version:parseInt(n[1],10),symKey:a.symKey,relay:Ve(a)}}function Qe(e){return e.startsWith("//")?e.substring(2):e}function He(e){return`${e.protocol}:${e.topic}@${e.version}?`+C.stringify(Ge({symKey:e.symKey},function(e,t="-"){const r={};return Object.keys(e).forEach((s=>{const n="relay"+t+s;e[s]&&(r[n]=e[s])})),r}(e.relay)))}var Ke=Object.defineProperty,qe=Object.defineProperties,We=Object.getOwnPropertyDescriptors,Je=Object.getOwnPropertySymbols,Ye=Object.prototype.hasOwnProperty,Ze=Object.prototype.propertyIsEnumerable,$e=(e,t,r)=>t in e?Ke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Xe=(e,t)=>{for(var r in t||(t={}))Ye.call(t,r)&&$e(e,r,t[r]);if(Je)for(var r of Je(t))Ze.call(t,r)&&$e(e,r,t[r]);return e},et=(e,t)=>qe(e,We(t));function tt(e){const t=[];return e.forEach((e=>{const[r,s]=e.split(":");t.push(`${r}:${s}`)})),t}function rt(e,t){const r=Ct(e,t);if(r)throw new Error(r.message);const s={};for(const[t,r]of Object.entries(e))s[t]={methods:r.methods,events:r.events,chains:r.accounts.map((e=>`${e.split(":")[0]}:${e.split(":")[1]}`))};return s}function st(e){return e.includes(":")}function nt(e){return st(e)?e.split(":")[0]:e}function it(e){var t,r,s;const n={};if(!ut(e))return n;for(const[i,a]of Object.entries(e)){const e=st(i)?[i]:a.chains,o=a.methods||[],l=a.events||[],c=nt(i);n[c]=et(Xe({},n[c]),{chains:Te(e,null==(t=n[c])?void 0:t.chains),methods:Te(o,null==(r=n[c])?void 0:r.methods),events:Te(l,null==(s=n[c])?void 0:s.events)})}return n}const at={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},ot={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function lt(e,t){const{message:r,code:s}=ot[e];return{message:t?`${r} ${t}`:r,code:s}}function ct(e,t){const{message:r,code:s}=at[e];return{message:t?`${r} ${t}`:r,code:s}}function ht(e,t){return!!Array.isArray(e)&&(!(typeof t<"u"&&e.length)||e.every(t))}function ut(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function dt(e){return typeof e>"u"}function pt(e,t){return!(!t||!dt(e))||"string"==typeof e&&!!e.trim().length}function ft(e,t){return!(!t||!dt(e))||"number"==typeof e&&!isNaN(e)}function mt(e,t){const{requiredNamespaces:r}=t,s=Object.keys(e.namespaces),n=Object.keys(r);let i=!0;return!!be(n,s)&&(s.forEach((t=>{const{accounts:s,methods:n,events:a}=e.namespaces[t],o=tt(s),l=r[t];be(D(t,l),o)&&be(l.methods,n)&&be(l.events,a)||(i=!1)})),i)}function gt(e){return!(!pt(e,!1)||!e.includes(":"))&&2===e.split(":").length}function yt(e){if(pt(e,!1))try{return typeof new URL(e)<"u"}catch{return!1}return!1}function bt(e){var t;return null==(t=e?.proposer)?void 0:t.publicKey}function vt(e){return e?.topic}function wt(e,t){let r=null;return pt(e?.publicKey,!1)||(r=lt("MISSING_OR_INVALID",`${t} controller public key should be a string`)),r}function At(e){let t=!0;return ht(e)?e.length&&(t=e.every((e=>pt(e,!1)))):t=!1,t}function kt(e,t,r){let s=null;return Object.entries(e).forEach((([e,n])=>{if(s)return;const i=function(e,t,r){let s=null;return ht(t)&&t.length?t.forEach((e=>{s||gt(e)||(s=ct("UNSUPPORTED_CHAINS",`${r}, chain ${e} should be a string and conform to "namespace:chainId" format`))})):gt(e)||(s=ct("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),s}(e,D(e,n),`${t} ${r}`);i&&(s=i)})),s}function Et(e,t){let r=null;return ht(e)?e.forEach((e=>{r||function(e){if(pt(e,!1)&&e.includes(":")){const t=e.split(":");if(3===t.length){const e=t[0]+":"+t[1];return!!t[2]&&gt(e)}}return!1}(e)||(r=ct("UNSUPPORTED_ACCOUNTS",`${t}, account ${e} should be a string and conform to "namespace:chainId:address" format`))})):r=ct("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function xt(e,t){let r=null;return Object.values(e).forEach((e=>{if(r)return;const s=function(e,t){let r=null;return At(e?.methods)?At(e?.events)||(r=ct("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):r=ct("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),r}(e,`${t}, namespace`);s&&(r=s)})),r}function Pt(e,t,r){let s=null;if(e&&ut(e)){const n=xt(e,t);n&&(s=n);const i=kt(e,t,r);i&&(s=i)}else s=lt("MISSING_OR_INVALID",`${t}, ${r} should be an object with data`);return s}function Ct(e,t){let r=null;if(e&&ut(e)){const s=xt(e,t);s&&(r=s);const n=function(e,t){let r=null;return Object.values(e).forEach((e=>{if(r)return;const s=Et(e?.accounts,`${t} namespace`);s&&(r=s)})),r}(e,t);n&&(r=n)}else r=lt("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return r}function St(e){return pt(e.protocol,!0)}function It(e,t){let r=!1;return t&&!e?r=!0:e&&ht(e)&&e.length&&e.forEach((e=>{r=St(e)})),r}function _t(e){return"number"==typeof e}function Tt(e){return typeof e<"u"&&null!==typeof e}function Mt(e){return!!(e&&"object"==typeof e&&e.code&&ft(e.code,!1)&&e.message&&pt(e.message,!1))}function Dt(e){return!(dt(e)||!pt(e.method,!1))}function Bt(e){return!(dt(e)||dt(e.result)&&dt(e.error)||!ft(e.id,!1)||!pt(e.jsonrpc,!1))}function Ot(e){return!(dt(e)||!pt(e.name,!1))}function Ft(e,t){return!(!gt(t)||!function(e){const t=[];return Object.values(e).forEach((e=>{t.push(...tt(e.accounts))})),t}(e).includes(t))}function Nt(e,t,r){return!!pt(r,!1)&&function(e,t){const r=[];return Object.values(e).forEach((e=>{tt(e.accounts).includes(t)&&r.push(...e.methods)})),r}(e,t).includes(r)}function Rt(e,t,r){return!!pt(r,!1)&&function(e,t){const r=[];return Object.values(e).forEach((e=>{tt(e.accounts).includes(t)&&r.push(...e.events)})),r}(e,t).includes(r)}function Lt(e,t,r){let s=null;const n=function(e){const t={};return Object.keys(e).forEach((r=>{var s;r.includes(":")?t[r]=e[r]:null==(s=e[r].chains)||s.forEach((s=>{t[s]={methods:e[r].methods,events:e[r].events}}))})),t}(e),i=function(e){const t={};return Object.keys(e).forEach((r=>{if(r.includes(":"))t[r]=e[r];else{const s=tt(e[r].accounts);s?.forEach((s=>{t[s]={accounts:e[r].accounts.filter((e=>e.includes(`${s}:`))),methods:e[r].methods,events:e[r].events}}))}})),t}(t),a=Object.keys(n),o=Object.keys(i),l=Ut(Object.keys(e)),c=Ut(Object.keys(t)),h=l.filter((e=>!c.includes(e)));return h.length&&(s=lt("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.\n      Required: ${h.toString()}\n      Received: ${Object.keys(t).toString()}`)),be(a,o)||(s=lt("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.\n      Required: ${a.toString()}\n      Approved: ${o.toString()}`)),Object.keys(t).forEach((e=>{if(!e.includes(":")||s)return;const n=tt(t[e].accounts);n.includes(e)||(s=lt("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${e}\n        Required: ${e}\n        Approved: ${n.toString()}`))})),a.forEach((e=>{s||(be(n[e].methods,i[e].methods)?be(n[e].events,i[e].events)||(s=lt("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${e}`)):s=lt("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${e}`))})),s}function Ut(e){return[...new Set(e.map((e=>e.includes(":")?e.split(":")[0]:e)))]}function jt(e,t){return ft(e,!1)&&e<=t.max&&e>=t.min}function Gt(){const e=pe();return new Promise((t=>{switch(e){case le.browser:t(de()&&navigator?.onLine);break;case le.reactNative:t(async function(){if(ue()&&typeof r.g<"u"&&null!=r.g&&r.g.NetInfo){const e=await(null==r.g?void 0:r.g.NetInfo.fetch());return e?.isConnected}return!0}());break;case le.node:default:t(!0)}}))}function Vt(e){switch(pe()){case le.browser:!function(e){!ue()&&de()&&(window.addEventListener("online",(()=>e(!0))),window.addEventListener("offline",(()=>e(!1))))}(e);break;case le.reactNative:!function(e){ue()&&typeof r.g<"u"&&null!=r.g&&r.g.NetInfo&&r.g?.NetInfo.addEventListener((t=>e(t?.isConnected)))}(e);case le.node:}}const zt={};class Qt{static get(e){return zt[e]}static set(e,t){zt[e]=t}static delete(e){delete zt[e]}}},6788:(e,t,r)=>{"use strict";const s=r(1932),n=r(7140),i=r(444),a=r(9600),o=Symbol("encodeFragmentIdentifier");function l(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function c(e,t){return t.encode?t.strict?s(e):encodeURIComponent(e):e}function h(e,t){return t.decode?n(e):e}function u(e){return Array.isArray(e)?e.sort():"object"==typeof e?u(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function d(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function p(e){const t=(e=d(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function f(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function m(e,t){l((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,s)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===s[e]&&(s[e]={}),s[e][t[1]]=r):s[e]=r};case"bracket":return(e,r,s)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==s[e]?s[e]=[].concat(s[e],r):s[e]=[r]:s[e]=r};case"colon-list-separator":return(e,r,s)=>{t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),t?void 0!==s[e]?s[e]=[].concat(s[e],r):s[e]=[r]:s[e]=r};case"comma":case"separator":return(t,r,s)=>{const n="string"==typeof r&&r.includes(e.arrayFormatSeparator),i="string"==typeof r&&!n&&h(r,e).includes(e.arrayFormatSeparator);r=i?h(r,e):r;const a=n||i?r.split(e.arrayFormatSeparator).map((t=>h(t,e))):null===r?r:h(r,e);s[t]=a};case"bracket-separator":return(t,r,s)=>{const n=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!n)return void(s[t]=r?h(r,e):r);const i=null===r?[]:r.split(e.arrayFormatSeparator).map((t=>h(t,e)));void 0!==s[t]?s[t]=[].concat(s[t],i):s[t]=i};default:return(e,t,r)=>{void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t),s=Object.create(null);if("string"!=typeof e)return s;if(!(e=e.trim().replace(/^[?#&]/,"")))return s;for(const n of e.split("&")){if(""===n)continue;let[e,a]=i(t.decode?n.replace(/\+/g," "):n,"=");a=void 0===a?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?a:h(a,t),r(h(e,t),a,s)}for(const e of Object.keys(s)){const r=s[e];if("object"==typeof r&&null!==r)for(const e of Object.keys(r))r[e]=f(r[e],t);else s[e]=f(r,t)}return!1===t.sort?s:(!0===t.sort?Object.keys(s).sort():Object.keys(s).sort(t.sort)).reduce(((e,t)=>{const r=s[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=u(r):e[t]=r,e}),Object.create(null))}t.extract=p,t.parse=m,t.stringify=(e,t)=>{if(!e)return"";l((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const r=r=>t.skipNull&&null==e[r]||t.skipEmptyString&&""===e[r],s=function(e){switch(e.arrayFormat){case"index":return t=>(r,s)=>{const n=r.length;return void 0===s||e.skipNull&&null===s||e.skipEmptyString&&""===s?r:null===s?[...r,[c(t,e),"[",n,"]"].join("")]:[...r,[c(t,e),"[",c(n,e),"]=",c(s,e)].join("")]};case"bracket":return t=>(r,s)=>void 0===s||e.skipNull&&null===s||e.skipEmptyString&&""===s?r:null===s?[...r,[c(t,e),"[]"].join("")]:[...r,[c(t,e),"[]=",c(s,e)].join("")];case"colon-list-separator":return t=>(r,s)=>void 0===s||e.skipNull&&null===s||e.skipEmptyString&&""===s?r:null===s?[...r,[c(t,e),":list="].join("")]:[...r,[c(t,e),":list=",c(s,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t="bracket-separator"===e.arrayFormat?"[]=":"=";return r=>(s,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?s:(n=null===n?"":n,0===s.length?[[c(r,e),t,c(n,e)].join("")]:[[s,c(n,e)].join(e.arrayFormatSeparator)])}default:return t=>(r,s)=>void 0===s||e.skipNull&&null===s||e.skipEmptyString&&""===s?r:null===s?[...r,c(t,e)]:[...r,[c(t,e),"=",c(s,e)].join("")]}}(t),n={};for(const t of Object.keys(e))r(t)||(n[t]=e[t]);const i=Object.keys(n);return!1!==t.sort&&i.sort(t.sort),i.map((r=>{const n=e[r];return void 0===n?"":null===n?c(r,t):Array.isArray(n)?0===n.length&&"bracket-separator"===t.arrayFormat?c(r,t)+"[]":n.reduce(s(r),[]).join("&"):c(r,t)+"="+c(n,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[r,s]=i(e,"#");return Object.assign({url:r.split("?")[0]||"",query:m(p(e),t)},t&&t.parseFragmentIdentifier&&s?{fragmentIdentifier:h(s,t)}:{})},t.stringifyUrl=(e,r)=>{r=Object.assign({encode:!0,strict:!0,[o]:!0},r);const s=d(e.url).split("?")[0]||"",n=t.extract(e.url),i=t.parse(n,{sort:!1}),a=Object.assign(i,e.query);let l=t.stringify(a,r);l&&(l=`?${l}`);let h=function(e){let t="";const r=e.indexOf("#");return-1!==r&&(t=e.slice(r)),t}(e.url);return e.fragmentIdentifier&&(h=`#${r[o]?c(e.fragmentIdentifier,r):e.fragmentIdentifier}`),`${s}${l}${h}`},t.pick=(e,r,s)=>{s=Object.assign({parseFragmentIdentifier:!0,[o]:!1},s);const{url:n,query:i,fragmentIdentifier:l}=t.parseUrl(e,s);return t.stringifyUrl({url:n,query:a(i,r),fragmentIdentifier:l},s)},t.exclude=(e,r,s)=>{const n=Array.isArray(r)?e=>!r.includes(e):(e,t)=>!r(e,t);return t.pick(e,n,s)}},1824:(e,t)=>{"use strict";function r(e){let t;return"undefined"!=typeof window&&void 0!==window[e]&&(t=window[e]),t}function s(e){const t=r(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalStorage=t.getLocalStorageOrThrow=t.getCrypto=t.getCryptoOrThrow=t.getLocation=t.getLocationOrThrow=t.getNavigator=t.getNavigatorOrThrow=t.getDocument=t.getDocumentOrThrow=t.getFromWindowOrThrow=t.getFromWindow=void 0,t.getFromWindow=r,t.getFromWindowOrThrow=s,t.getDocumentOrThrow=function(){return s("document")},t.getDocument=function(){return r("document")},t.getNavigatorOrThrow=function(){return s("navigator")},t.getNavigator=function(){return r("navigator")},t.getLocationOrThrow=function(){return s("location")},t.getLocation=function(){return r("location")},t.getCryptoOrThrow=function(){return s("crypto")},t.getCrypto=function(){return r("crypto")},t.getLocalStorageOrThrow=function(){return s("localStorage")},t.getLocalStorage=function(){return r("localStorage")}},9260:(e,t,r)=>{"use strict";t.G=void 0;const s=r(1824);t.G=function(){let e,t;try{e=s.getDocumentOrThrow(),t=s.getLocationOrThrow()}catch(e){return null}function r(...t){const r=e.getElementsByTagName("meta");for(let e=0;e<r.length;e++){const s=r[e],n=["itemprop","property","name"].map((e=>s.getAttribute(e))).filter((e=>!!e&&t.includes(e)));if(n.length&&n){const e=s.getAttribute("content");if(e)return e}}return""}const n=function(){let t=r("name","og:site_name","og:title","twitter:title");return t||(t=e.title),t}();return{description:r("description","og:description","twitter:description","keywords"),url:t.origin,icons:function(){const r=e.getElementsByTagName("link"),s=[];for(let e=0;e<r.length;e++){const n=r[e],i=n.getAttribute("rel");if(i&&i.toLowerCase().indexOf("icon")>-1){const e=n.getAttribute("href");if(e)if(-1===e.toLowerCase().indexOf("https:")&&-1===e.toLowerCase().indexOf("http:")&&0!==e.indexOf("//")){let r=t.protocol+"//"+t.host;if(0===e.indexOf("/"))r+=e;else{const s=t.pathname.split("/");s.pop();r+=s.join("/")+"/"+e}s.push(r)}else if(0===e.indexOf("//")){const r=t.protocol+e;s.push(r)}else s.push(e)}}return s}(),name:n}}},7140:e=>{"use strict";var t="%[a-f0-9]{2}",r=new RegExp("("+t+")|([^%]+?)","gi"),s=new RegExp("("+t+")+","gi");function n(e,t){try{return[decodeURIComponent(e.join(""))]}catch(e){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),s=e.slice(t);return Array.prototype.concat.call([],n(r),n(s))}function i(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(r)||[],s=1;s<t.length;s++)t=(e=n(t,s).join("")).match(r)||[];return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},r=s.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(e){var n=i(r[0]);n!==r[0]&&(t[r[0]]=n)}r=s.exec(e)}t["%C2"]="�";for(var a=Object.keys(t),o=0;o<a.length;o++){var l=a[o];e=e.replace(new RegExp(l,"g"),t[l])}return e}(e)}}},9328:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function s(){}function n(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function i(e,t,s,i,a){if("function"!=typeof s)throw new TypeError("The listener must be a function");var o=new n(s,i||e,a),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new s:delete e._events[t]}function o(){this._events=new s,this._eventsCount=0}Object.create&&(s.prototype=Object.create(null),(new s).__proto__||(r=!1)),o.prototype.eventNames=function(){var e,s,n=[];if(0===this._eventsCount)return n;for(s in e=this._events)t.call(e,s)&&n.push(r?s.slice(1):s);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},o.prototype.listeners=function(e){var t=r?r+e:e,s=this._events[t];if(!s)return[];if(s.fn)return[s.fn];for(var n=0,i=s.length,a=new Array(i);n<i;n++)a[n]=s[n].fn;return a},o.prototype.listenerCount=function(e){var t=r?r+e:e,s=this._events[t];return s?s.fn?1:s.length:0},o.prototype.emit=function(e,t,s,n,i,a){var o=r?r+e:e;if(!this._events[o])return!1;var l,c,h=this._events[o],u=arguments.length;if(h.fn){switch(h.once&&this.removeListener(e,h.fn,void 0,!0),u){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,t),!0;case 3:return h.fn.call(h.context,t,s),!0;case 4:return h.fn.call(h.context,t,s,n),!0;case 5:return h.fn.call(h.context,t,s,n,i),!0;case 6:return h.fn.call(h.context,t,s,n,i,a),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];h.fn.apply(h.context,l)}else{var d,p=h.length;for(c=0;c<p;c++)switch(h[c].once&&this.removeListener(e,h[c].fn,void 0,!0),u){case 1:h[c].fn.call(h[c].context);break;case 2:h[c].fn.call(h[c].context,t);break;case 3:h[c].fn.call(h[c].context,t,s);break;case 4:h[c].fn.call(h[c].context,t,s,n);break;default:if(!l)for(d=1,l=new Array(u-1);d<u;d++)l[d-1]=arguments[d];h[c].fn.apply(h[c].context,l)}}return!0},o.prototype.on=function(e,t,r){return i(this,e,t,r,!1)},o.prototype.once=function(e,t,r){return i(this,e,t,r,!0)},o.prototype.removeListener=function(e,t,s,n){var i=r?r+e:e;if(!this._events[i])return this;if(!t)return a(this,i),this;var o=this._events[i];if(o.fn)o.fn!==t||n&&!o.once||s&&o.context!==s||a(this,i);else{for(var l=0,c=[],h=o.length;l<h;l++)(o[l].fn!==t||n&&!o[l].once||s&&o[l].context!==s)&&c.push(o[l]);c.length?this._events[i]=1===c.length?c[0]:c:a(this,i)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&a(this,t)):(this._events=new s,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o},9600:e=>{"use strict";e.exports=function(e,t){for(var r={},s=Object.keys(e),n=Array.isArray(t),i=0;i<s.length;i++){var a=s[i],o=e[a];(n?-1!==t.indexOf(a):t(a,o,e))&&(r[a]=o)}return r}},6512:e=>{var t,r,s=e.exports={};function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===n||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:n}catch(e){t=n}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var o,l=[],c=!1,h=-1;function u(){c&&o&&(c=!1,o.length?l=o.concat(l):h=-1,l.length&&d())}function d(){if(!c){var e=a(u);c=!0;for(var t=l.length;t;){for(o=l,l=[];++h<t;)o&&o[h].run();h=-1,t=l.length}o=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function f(){}s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new p(e,t)),1!==l.length||c||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=f,s.addListener=f,s.once=f,s.off=f,s.removeListener=f,s.removeAllListeners=f,s.emit=f,s.prependListener=f,s.prependOnceListener=f,s.listeners=function(e){return[]},s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},6276:(e,t,r)=>{"use strict";r.d(t,{Gm:()=>l,iC:()=>o});Symbol();const s=Symbol();const n=Object.getPrototypeOf,i=new WeakMap,a=e=>e&&(i.has(e)?i.get(e):n(e)===Object.prototype||n(e)===Array.prototype),o=e=>a(e)&&e[s]||null,l=(e,t=!0)=>{i.set(e,t)}},444:e=>{"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}},1932:e=>{"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},9669:(e,t,r)=>{"use strict";r.d(t,{c:()=>kw});var s={};r.r(s),r.d(s,{yA:()=>Lo,EH:()=>Io,bytesToNumberBE:()=>Mo,MH:()=>Do,Q7:()=>No,c1:()=>Go,qG:()=>Fo,e8:()=>Ro,hexToBytes:()=>To,e_:()=>Bo,Gs:()=>Oo,El:()=>zo});class n extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class i extends n{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class a extends n{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class o extends n{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var l;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(l||(l={}));var c=function(e,t,r,s){return new(r||(r=Promise))((function(n,i){function a(e){try{l(s.next(e))}catch(e){i(e)}}function o(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,o)}l((s=s.apply(e,t||[])).next())}))};class h{constructor(e,{headers:t={},customFetch:s,region:n=l.Any}={}){this.url=e,this.headers=t,this.region=n,this.fetch=(e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(r.bind(r,4760)).then((({default:t})=>t(...e))):fetch),(...e)=>t(...e)})(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return c(this,void 0,void 0,(function*(){try{const{headers:s,method:n,body:l}=t;let c,h={},{region:u}=t;u||(u=this.region),u&&"any"!==u&&(h["x-region"]=u),l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&("undefined"!=typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",c=l):"string"==typeof l?(h["Content-Type"]="text/plain",c=l):"undefined"!=typeof FormData&&l instanceof FormData?c=l:(h["Content-Type"]="application/json",c=JSON.stringify(l)));const d=yield this.fetch(`${this.url}/${e}`,{method:n||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:c}).catch((e=>{throw new i(e)})),p=d.headers.get("x-relay-error");if(p&&"true"===p)throw new a(d);if(!d.ok)throw new o(d);let f,m=(null!==(r=d.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return f="application/json"===m?yield d.json():"application/octet-stream"===m?yield d.blob():"multipart/form-data"===m?yield d.formData():yield d.text(),{data:f,error:null}}catch(e){return{data:null,error:e}}}))}}var u=r(4760);class d extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}class p{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"==typeof fetch?this.fetch=u.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then((async e=>{var t,r,s;let n=null,i=null,a=null,o=e.status,l=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(i="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const s=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),c=null===(r=e.headers.get("content-range"))||void 0===r?void 0:r.split("/");s&&c&&c.length>1&&(a=parseInt(c[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(i)&&(i.length>1?(n={code:"PGRST116",details:`Results contain ${i.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},i=null,a=null,o=406,l="Not Acceptable"):i=1===i.length?i[0]:null)}else{const t=await e.text();try{n=JSON.parse(t),Array.isArray(n)&&404===e.status&&(i=[],n=null,o=200,l="OK")}catch(r){404===e.status&&""===t?(o=204,l="No Content"):n={message:t}}if(n&&this.isMaybeSingle&&(null===(s=null==n?void 0:n.details)||void 0===s?void 0:s.includes("0 rows"))&&(n=null,o=200,l="OK"),n&&this.shouldThrowOnError)throw new d(n)}return{error:n,data:i,count:a,status:o,statusText:l}}));return this.shouldThrowOnError||(r=r.catch((e=>{var t,r,s;return{error:{message:`${null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null==e?void 0:e.message}`,details:`${null!==(r=null==e?void 0:e.stack)&&void 0!==r?r:""}`,hint:"",code:`${null!==(s=null==e?void 0:e.code)&&void 0!==s?s:""}`},data:null,count:null,status:0,statusText:""}}))),r.then(e,t)}}class f extends p{select(e){let t=!1;const r=(null!=e?e:"*").split("").map((e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e))).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:s,referencedTable:n=s}={}){const i=n?`${n}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${void 0===r?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const s=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:s=r}={}){const n=void 0===s?"offset":`${s}.offset`,i=void 0===s?"limit":`${s}.limit`;return this.url.searchParams.set(n,`${e}`),this.url.searchParams.set(i,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:s=!1,wal:n=!1,format:i="text"}={}){var a;const o=[e?"analyze":null,t?"verbose":null,r?"settings":null,s?"buffers":null,n?"wal":null].filter(Boolean).join("|"),l=null!==(a=this.headers.Accept)&&void 0!==a?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${l}"; options=${o};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class m extends f{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map((e=>"string"==typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`)).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:s}={}){let n="";"plain"===s?n="pl":"phrase"===s?n="ph":"websearch"===s&&(n="w");const i=void 0===r?"":`(${r})`;return this.url.searchParams.append(e,`${n}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach((([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)})),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}}class g{constructor(e,{headers:t={},schema:r,fetch:s}){this.url=e,this.headers=t,this.schema=r,this.fetch=s}select(e,{head:t=!1,count:r}={}){const s=t?"HEAD":"GET";let n=!1;const i=(null!=e?e:"*").split("").map((e=>/\s/.test(e)&&!n?"":('"'===e&&(n=!n),e))).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),new m({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:r=!0}={}){const s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),t&&s.push(`count=${t}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));this.url.searchParams.set("columns",e.join(","))}}return new m({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:s,defaultToNull:n=!0}={}){const i=[`resolution=${r?"ignore":"merge"}-duplicates`];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));this.url.searchParams.set("columns",e.join(","))}}return new m({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),this.headers.Prefer=r.join(","),new m({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t=[];return e&&t.push(`count=${e}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new m({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const y={"X-Client-Info":"postgrest-js/1.11.0"};class b{constructor(e,{headers:t={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},y),t),this.schemaName=r,this.fetch=s}from(e){const t=new URL(`${this.url}/${e}`);return new g(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new b(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,count:s}={}){let n;const i=new URL(`${this.url}/rpc/${e}`);let a;r?(n="HEAD",Object.entries(t).forEach((([e,t])=>{i.searchParams.append(e,`${t}`)}))):(n="POST",a=t);const o=Object.assign({},this.headers);return s&&(o.Prefer=`count=${s}`),new m({method:n,url:i,headers:o,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}}const v={"X-Client-Info":"realtime-js/2.9.3"};var w,A,k,E,x,P,C;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(w||(w={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(A||(A={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(k||(k={})),function(e){e.websocket="websocket"}(E||(E={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(x||(x={}));class S{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}}class I{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"==typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const s=t.getUint8(1),n=t.getUint8(2);let i=this.HEADER_LENGTH+2;const a=r.decode(e.slice(i,i+s));i+=s;const o=r.decode(e.slice(i,i+n));i+=n;return{ref:null,topic:a,event:o,payload:JSON.parse(r.decode(e.slice(i,e.byteLength)))}}}class _{constructor(e,t,r={},s=1e4){this.channel=e,this.event=t,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},(e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)})),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter((t=>t.status===e)).forEach((e=>e.callback(t)))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(P||(P={}));class T{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},(e=>{const{onJoin:t,onLeave:r,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=T.syncState(this.state,e,t,r),this.pendingDiffs.forEach((e=>{this.state=T.syncDiff(this.state,e,t,r)})),this.pendingDiffs=[],s()})),this.channel._on(r.diff,{},(e=>{const{onJoin:t,onLeave:r,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=T.syncDiff(this.state,e,t,r),s())})),this.onJoin(((e,t,r)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})})),this.onLeave(((e,t,r)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})})),this.onSync((()=>{this.channel._trigger("presence",{event:"sync"})}))}static syncState(e,t,r,s){const n=this.cloneDeep(e),i=this.transformState(t),a={},o={};return this.map(n,((e,t)=>{i[e]||(o[e]=t)})),this.map(i,((e,t)=>{const r=n[e];if(r){const s=t.map((e=>e.presence_ref)),n=r.map((e=>e.presence_ref)),i=t.filter((e=>n.indexOf(e.presence_ref)<0)),l=r.filter((e=>s.indexOf(e.presence_ref)<0));i.length>0&&(a[e]=i),l.length>0&&(o[e]=l)}else a[e]=t})),this.syncDiff(n,{joins:a,leaves:o},r,s)}static syncDiff(e,t,r,s){const{joins:n,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(n,((t,s)=>{var n;const i=null!==(n=e[t])&&void 0!==n?n:[];if(e[t]=this.cloneDeep(s),i.length>0){const r=e[t].map((e=>e.presence_ref)),s=i.filter((e=>r.indexOf(e.presence_ref)<0));e[t].unshift(...s)}r(t,i,s)})),this.map(i,((t,r)=>{let n=e[t];if(!n)return;const i=r.map((e=>e.presence_ref));n=n.filter((e=>i.indexOf(e.presence_ref)<0)),e[t]=n,s(t,n,r),0===n.length&&delete e[t]})),e}static map(e,t){return Object.getOwnPropertyNames(e).map((r=>t(r,e[r])))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce(((t,r)=>{const s=e[r];return t[r]="metas"in s?s.metas.map((e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e))):s,t}),{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(C||(C={}));const M=(e,t,r={})=>{var s;const n=null!==(s=r.skipTypes)&&void 0!==s?s:[];return Object.keys(t).reduce(((r,s)=>(r[s]=D(s,e,t,n),r)),{})},D=(e,t,r,s)=>{const n=t.find((t=>t.name===e)),i=null==n?void 0:n.type,a=r[e];return i&&!s.includes(i)?B(i,a):O(a)},B=(e,t)=>{if("_"===e.charAt(0)){const r=e.slice(1,e.length);return L(t,r)}switch(e){case C.bool:return F(t);case C.float4:case C.float8:case C.int2:case C.int4:case C.int8:case C.numeric:case C.oid:return N(t);case C.json:case C.jsonb:return R(t);case C.timestamp:return U(t);case C.abstime:case C.date:case C.daterange:case C.int4range:case C.int8range:case C.money:case C.reltime:case C.text:case C.time:case C.timestamptz:case C.timetz:case C.tsrange:case C.tstzrange:default:return O(t)}},O=e=>e,F=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},N=e=>{if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},R=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},L=(e,t)=>{if("string"!=typeof e)return e;const r=e.length-1,s=e[r];if("{"===e[0]&&"}"===s){let s;const n=e.slice(1,r);try{s=JSON.parse("["+n+"]")}catch(e){s=n?n.split(","):[]}return s.map((e=>B(t,e)))}return e},U=e=>"string"==typeof e?e.replace(" ","T"):e;var j,G,V;!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(j||(j={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes"}(G||(G={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(V||(V={}));class z{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=A.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},t.config),this.timeout=this.socket.timeout,this.joinPush=new _(this,k.join,this.params,this.timeout),this.rejoinTimer=new S((()=>this._rejoinUntilConnected()),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(()=>{this.state=A.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach((e=>e.send())),this.pushBuffer=[]})),this._onClose((()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=A.closed,this.socket._remove(this)})),this._onError((e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=A.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=A.errored,this.rejoinTimer.scheduleTimeout())})),this._on(k.reply,{},((e,t)=>{this._trigger(this._replyEventName(t),e)})),this.presence=new T(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(e,t=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:n,presence:i}}=this.params;this._onError((t=>e&&e("CHANNEL_ERROR",t))),this._onClose((()=>e&&e("CLOSED")));const a={},o={broadcast:n,presence:i,postgres_changes:null!==(s=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map((e=>e.filter)))&&void 0!==s?s:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:o},a)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",(({postgres_changes:t})=>{var r;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),void 0!==t){const s=this.bindings.postgres_changes,n=null!==(r=null==s?void 0:s.length)&&void 0!==r?r:0,i=[];for(let r=0;r<n;r++){const n=s[r],{filter:{event:a,schema:o,table:l,filter:c}}=n,h=t&&t[r];if(!h||h.event!==a||h.schema!==o||h.table!==l||h.filter!==c)return this.unsubscribe(),void(e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes")));i.push(Object.assign(Object.assign({},n),{id:h.id}))}return this.bindings.postgres_changes=i,void(e&&e("SUBSCRIBED"))}e&&e("SUBSCRIBED")})).receive("error",(t=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(t).join(", ")||"error")))})).receive("timeout",(()=>{e&&e("TIMED_OUT")}))}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this._on(e,t,r)}async send(e,t={}){var r,s;if(this._canPush()||"broadcast"!==e.type)return new Promise((r=>{var s,n,i;const a=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(i=null===(n=null===(s=this.params)||void 0===s?void 0:s.config)||void 0===n?void 0:n.broadcast)||void 0===i?void 0:i.ack)||r("ok"),a.receive("ok",(()=>r("ok"))),a.receive("timeout",(()=>r("timed out")))}));{const{event:n,payload:i}=e,a={method:"POST",headers:{apikey:null!==(r=this.socket.apiKey)&&void 0!==r?r:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:i}]})};try{return(await this._fetchWithTimeout(this.broadcastEndpointURL,a,null!==(s=t.timeout)&&void 0!==s?s:this.timeout)).ok?"ok":"error"}catch(e){return"AbortError"===e.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=A.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(k.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise((r=>{const s=new _(this,k.leave,{},e);s.receive("ok",(()=>{t(),r("ok")})).receive("timeout",(()=>{t(),r("timed out")})).receive("error",(()=>{r("error")})),s.send(),this._canPush()||s.trigger("ok",{})}))}_broadcastEndpointURL(){let e=this.socket.endPoint;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(e,t,r){const s=new AbortController,n=setTimeout((()=>s.abort()),r),i=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(n),i}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new _(this,e,t,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var s,n;const i=e.toLocaleLowerCase(),{close:a,error:o,leave:l,join:c}=k;if(r&&[a,o,l,c].indexOf(i)>=0&&r!==this._joinRef())return;let h=this._onMessage(i,t,r);if(t&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?null===(s=this.bindings.postgres_changes)||void 0===s||s.filter((e=>{var t,r,s;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(s=null===(r=e.filter)||void 0===r?void 0:r.event)||void 0===s?void 0:s.toLocaleLowerCase())===i})).map((e=>e.callback(h,r))):null===(n=this.bindings[i])||void 0===n||n.filter((e=>{var r,s,n,a,o,l;if(["broadcast","presence","postgres_changes"].includes(i)){if("id"in e){const i=e.id,a=null===(r=e.filter)||void 0===r?void 0:r.event;return i&&(null===(s=t.ids)||void 0===s?void 0:s.includes(i))&&("*"===a||(null==a?void 0:a.toLocaleLowerCase())===(null===(n=t.data)||void 0===n?void 0:n.type.toLocaleLowerCase()))}{const r=null===(o=null===(a=null==e?void 0:e.filter)||void 0===a?void 0:a.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===r||r===(null===(l=null==t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===i})).map((e=>{if("object"==typeof h&&"ids"in h){const e=h.data,{schema:t,table:r,commit_timestamp:s,type:n,errors:i}=e,a={schema:t,table:r,commit_timestamp:s,eventType:n,new:{},old:{},errors:i};h=Object.assign(Object.assign({},a),this._getPayloadRecords(e))}e.callback(h,r)}))}_isClosed(){return this.state===A.closed}_isJoined(){return this.state===A.joined}_isJoining(){return this.state===A.joining}_isLeaving(){return this.state===A.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const s=e.toLocaleLowerCase(),n={type:s,filter:t,callback:r};return this.bindings[s]?this.bindings[s].push(n):this.bindings[s]=[n],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter((e=>{var s;return!((null===(s=e.type)||void 0===s?void 0:s.toLocaleLowerCase())===r&&z.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(k.close,{},e)}_onError(e){this._on(k.error,{},(t=>e(t)))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=A.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=M(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=M(e.columns,e.old_record)),t}}const Q=()=>{},H="undefined"!=typeof WebSocket;class K{constructor(e,t){var s;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.headers=v,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Q,this.conn=null,this.sendBuffer=[],this.serializer=new I,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(r.bind(r,4760)).then((({default:t})=>t(...e))):fetch),(...e)=>t(...e)},this.endPoint=`${e}/${E.websocket}`,(null==t?void 0:t.transport)?this.transport=t.transport:this.transport=null,(null==t?void 0:t.params)&&(this.params=t.params),(null==t?void 0:t.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),(null==t?void 0:t.timeout)&&(this.timeout=t.timeout),(null==t?void 0:t.logger)&&(this.logger=t.logger),(null==t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const n=null===(s=null==t?void 0:t.params)||void 0===s?void 0:s.apikey;n&&(this.accessToken=n,this.apiKey=n),this.reconnectAfterMs=(null==t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null==t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null==t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new S((async()=>{this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(null==t?void 0:t.fetch)}connect(){if(!this.conn)if(this.transport)this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});else{if(H)return this.conn=new WebSocket(this._endPointURL()),void this.setupConnection();this.conn=new q(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),r.e(696).then(r.t.bind(r,5316,23)).then((({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()}))}}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!=t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map((e=>e.unsubscribe())));return this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case w.connecting:return x.Connecting;case w.open:return x.Open;case w.closing:return x.Closing;default:return x.Closed}}isConnected(){return this.connectionState()===x.Open}channel(e,t={config:{}}){const r=new z(`realtime:${e}`,t,this);return this.channels.push(r),r}push(e){const{topic:t,event:r,payload:s,ref:n}=e,i=()=>{this.encode(e,(e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)}))};this.log("push",`${t} ${r} (${n})`,s),this.isConnected()?i():this.sendBuffer.push(i)}setAuth(e){this.accessToken=e,this.channels.forEach((t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(k.access_token,{access_token:e})}))}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find((t=>t.topic===e&&(t._isJoined()||t._isJoining())));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter((t=>t._joinRef()!==e._joinRef()))}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}_onConnMessage(e){this.decode(e.data,(e=>{let{topic:t,event:r,payload:s,ref:n}=e;(n&&n===this.pendingHeartbeatRef||r===(null==s?void 0:s.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${t} ${r} ${n&&"("+n+")"||""}`,s),this.channels.filter((e=>e._isMember(t))).forEach((e=>e._trigger(r,s,n))),this.stateChangeCallbacks.message.forEach((t=>t(e)))}))}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((()=>this._sendHeartbeat()),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach((e=>e()))}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((t=>t(e)))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((t=>t(e)))}_triggerChanError(){this.channels.forEach((e=>e._trigger(k.error)))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const r=e.match(/\?/)?"&":"?";return`${e}${r}${new URLSearchParams(t)}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((e=>e())),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class q{constructor(e,t,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=w.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class W extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function J(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class Y extends W{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Z extends W{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var $=function(e,t,r,s){return new(r||(r=Promise))((function(n,i){function a(e){try{l(s.next(e))}catch(e){i(e)}}function o(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,o)}l((s=s.apply(e,t||[])).next())}))};const X=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(r.bind(r,4760)).then((({default:t})=>t(...e))):fetch),(...e)=>t(...e)};var ee=function(e,t,r,s){return new(r||(r=Promise))((function(n,i){function a(e){try{l(s.next(e))}catch(e){i(e)}}function o(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,o)}l((s=s.apply(e,t||[])).next())}))};const te=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),re=(e,t)=>ee(void 0,void 0,void 0,(function*(){const s=yield $(void 0,void 0,void 0,(function*(){return"undefined"==typeof Response?(yield Promise.resolve().then(r.bind(r,4760))).Response:Response}));e instanceof s?e.json().then((r=>{t(new Y(te(r),e.status||500))})).catch((e=>{t(new Z(te(e),e))})):t(new Z(te(e),e))})),se=(e,t,r,s)=>{const n={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?n:(n.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),n.body=JSON.stringify(s),Object.assign(Object.assign({},n),r))};function ne(e,t,r,s,n,i){return ee(this,void 0,void 0,(function*(){return new Promise(((a,o)=>{e(r,se(t,s,n,i)).then((e=>{if(!e.ok)throw e;return(null==s?void 0:s.noResolveJson)?e:e.json()})).then((e=>a(e))).catch((e=>re(e,o)))}))}))}function ie(e,t,r,s){return ee(this,void 0,void 0,(function*(){return ne(e,"GET",t,r,s)}))}function ae(e,t,r,s,n){return ee(this,void 0,void 0,(function*(){return ne(e,"POST",t,s,n,r)}))}function oe(e,t,r,s,n){return ee(this,void 0,void 0,(function*(){return ne(e,"DELETE",t,s,n,r)}))}var le=function(e,t,r,s){return new(r||(r=Promise))((function(n,i){function a(e){try{l(s.next(e))}catch(e){i(e)}}function o(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,o)}l((s=s.apply(e,t||[])).next())}))};const ce={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},he={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ue{constructor(e,t={},r,s){this.url=e,this.headers=t,this.bucketId=r,this.fetch=X(s)}uploadOrUpdate(e,t,r,s){return le(this,void 0,void 0,(function*(){try{let n;const i=Object.assign(Object.assign({},he),s),a=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(i.upsert)});"undefined"!=typeof Blob&&r instanceof Blob?(n=new FormData,n.append("cacheControl",i.cacheControl),n.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(n=r,n.append("cacheControl",i.cacheControl)):(n=r,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType);const o=this._removeEmptyFolders(t),l=this._getFinalPath(o),c=yield this.fetch(`${this.url}/object/${l}`,Object.assign({method:e,body:n,headers:a},(null==i?void 0:i.duplex)?{duplex:i.duplex}:{})),h=yield c.json();if(c.ok)return{data:{path:o,id:h.Id,fullPath:h.Key},error:null};return{data:null,error:h}}catch(e){if(J(e))return{data:null,error:e};throw e}}))}upload(e,t,r){return le(this,void 0,void 0,(function*(){return this.uploadOrUpdate("POST",e,t,r)}))}uploadToSignedUrl(e,t,r,s){return le(this,void 0,void 0,(function*(){const n=this._removeEmptyFolders(e),i=this._getFinalPath(n),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:he.upsert},s),i=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!=typeof Blob&&r instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(e=r,e.append("cacheControl",t.cacheControl)):(e=r,i["cache-control"]=`max-age=${t.cacheControl}`,i["content-type"]=t.contentType);const o=yield this.fetch(a.toString(),{method:"PUT",body:e,headers:i}),l=yield o.json();if(o.ok)return{data:{path:n,fullPath:l.Key},error:null};return{data:null,error:l}}catch(e){if(J(e))return{data:null,error:e};throw e}}))}createSignedUploadUrl(e){return le(this,void 0,void 0,(function*(){try{let t=this._getFinalPath(e);const r=yield ae(this.fetch,`${this.url}/object/upload/sign/${t}`,{},{headers:this.headers}),s=new URL(this.url+r.url),n=s.searchParams.get("token");if(!n)throw new W("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:n},error:null}}catch(e){if(J(e))return{data:null,error:e};throw e}}))}update(e,t,r){return le(this,void 0,void 0,(function*(){return this.uploadOrUpdate("PUT",e,t,r)}))}move(e,t){return le(this,void 0,void 0,(function*(){try{return{data:yield ae(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(e){if(J(e))return{data:null,error:e};throw e}}))}copy(e,t){return le(this,void 0,void 0,(function*(){try{return{data:{path:(yield ae(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers})).Key},error:null}}catch(e){if(J(e))return{data:null,error:e};throw e}}))}createSignedUrl(e,t,r){return le(this,void 0,void 0,(function*(){try{let s=this._getFinalPath(e),n=yield ae(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:t},(null==r?void 0:r.transform)?{transform:r.transform}:{}),{headers:this.headers});const i=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return n={signedUrl:encodeURI(`${this.url}${n.signedURL}${i}`)},{data:n,error:null}}catch(e){if(J(e))return{data:null,error:e};throw e}}))}createSignedUrls(e,t,r){return le(this,void 0,void 0,(function*(){try{const s=yield ae(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),n=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return{data:s.map((e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${n}`):null}))),error:null}}catch(e){if(J(e))return{data:null,error:e};throw e}}))}download(e,t){return le(this,void 0,void 0,(function*(){const r=void 0!==(null==t?void 0:t.transform)?"render/image/authenticated":"object",s=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),n=s?`?${s}`:"";try{const t=this._getFinalPath(e),s=yield ie(this.fetch,`${this.url}/${r}/${t}${n}`,{headers:this.headers,noResolveJson:!0});return{data:yield s.blob(),error:null}}catch(e){if(J(e))return{data:null,error:e};throw e}}))}getPublicUrl(e,t){const r=this._getFinalPath(e),s=[],n=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==n&&s.push(n);const i=void 0!==(null==t?void 0:t.transform)?"render/image":"object",a=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==a&&s.push(a);let o=s.join("&");return""!==o&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${o}`)}}}remove(e){return le(this,void 0,void 0,(function*(){try{return{data:yield oe(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(e){if(J(e))return{data:null,error:e};throw e}}))}list(e,t,r){return le(this,void 0,void 0,(function*(){try{const s=Object.assign(Object.assign(Object.assign({},ce),t),{prefix:e||""});return{data:yield ae(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(e){if(J(e))return{data:null,error:e};throw e}}))}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const de={"X-Client-Info":"storage-js/2.5.5"};var pe=function(e,t,r,s){return new(r||(r=Promise))((function(n,i){function a(e){try{l(s.next(e))}catch(e){i(e)}}function o(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,o)}l((s=s.apply(e,t||[])).next())}))};class fe{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},de),t),this.fetch=X(r)}listBuckets(){return pe(this,void 0,void 0,(function*(){try{return{data:yield ie(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(J(e))return{data:null,error:e};throw e}}))}getBucket(e){return pe(this,void 0,void 0,(function*(){try{return{data:yield ie(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(e){if(J(e))return{data:null,error:e};throw e}}))}createBucket(e,t={public:!1}){return pe(this,void 0,void 0,(function*(){try{return{data:yield ae(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(e){if(J(e))return{data:null,error:e};throw e}}))}updateBucket(e,t){return pe(this,void 0,void 0,(function*(){try{const r=yield function(e,t,r,s,n){return ee(this,void 0,void 0,(function*(){return ne(e,"PUT",t,s,n,r)}))}(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});return{data:r,error:null}}catch(e){if(J(e))return{data:null,error:e};throw e}}))}emptyBucket(e){return pe(this,void 0,void 0,(function*(){try{return{data:yield ae(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(J(e))return{data:null,error:e};throw e}}))}deleteBucket(e){return pe(this,void 0,void 0,(function*(){try{return{data:yield oe(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(e){if(J(e))return{data:null,error:e};throw e}}))}}class me extends fe{constructor(e,t={},r){super(e,t,r)}from(e){return new ue(this.url,this.headers,e,this.fetch)}}let ge="";ge="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const ye={"X-Client-Info":`supabase-js-${ge}/2.39.3`};var be=function(e,t,r,s){return new(r||(r=Promise))((function(n,i){function a(e){try{l(s.next(e))}catch(e){i(e)}}function o(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,o)}l((s=s.apply(e,t||[])).next())}))};const ve=e=>{let t;return t=e||("undefined"==typeof fetch?u.default:fetch),(...e)=>t(...e)},we=(e,t,r)=>{const s=ve(r),n="undefined"==typeof Headers?u.Headers:Headers;return(r,i)=>be(void 0,void 0,void 0,(function*(){var a;const o=null!==(a=yield t())&&void 0!==a?a:e;let l=new n(null==i?void 0:i.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${o}`),s(r,Object.assign(Object.assign({},i),{headers:l}))}))};const Ae=()=>"undefined"!=typeof document,ke={tested:!1,writable:!1},Ee=()=>{if(!Ae())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(e){return!1}if(ke.tested)return ke.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ke.tested=!0,ke.writable=!0}catch(e){ke.tested=!0,ke.writable=!1}return ke.writable};function xe(e){const t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach(((e,r)=>{t[r]=e}))}catch(e){}return r.searchParams.forEach(((e,r)=>{t[r]=e})),t}const Pe=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(r.bind(r,4760)).then((({default:t})=>t(...e))):fetch),(...e)=>t(...e)},Ce=e=>"object"==typeof e&&null!==e&&"status"in e&&"ok"in e&&"json"in e&&"function"==typeof e.json,Se=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ie=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(e){return r}},_e=async(e,t)=>{await e.removeItem(t)};class Te{constructor(){this.promise=new Te.promiseConstructor(((e,t)=>{this.resolve=e,this.reject=t}))}}function Me(e){const t=e.split(".");if(3!==t.length)throw new Error("JWT is not valid: not a JWT structure");if(!/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=t[1];return JSON.parse(function(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r,s,n,i,a,o,l,c="",h=0;for(e=e.replace("-","+").replace("_","/");h<e.length;)i=t.indexOf(e.charAt(h++)),a=t.indexOf(e.charAt(h++)),o=t.indexOf(e.charAt(h++)),l=t.indexOf(e.charAt(h++)),r=i<<2|a>>4,s=(15&a)<<4|o>>2,n=(3&o)<<6|l,c+=String.fromCharCode(r),64!=o&&0!=s&&(c+=String.fromCharCode(s)),64!=l&&0!=n&&(c+=String.fromCharCode(n));return c}(r))}function De(e){return("0"+e.toString(16)).substr(-2)}function Be(){const e=new Uint32Array(56);if("undefined"==typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let r="";for(let s=0;s<56;s++)r+=e.charAt(Math.floor(Math.random()*t));return r}return crypto.getRandomValues(e),Array.from(e,De).join("")}async function Oe(e){if(!("undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),r=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(r);return Array.from(s).map((e=>String.fromCharCode(e))).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}Te.promiseConstructor=Promise;class Fe extends Error{constructor(e,t){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t}}function Ne(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class Re extends Fe{constructor(e,t){super(e,t),this.name="AuthApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Le extends Fe{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Ue extends Fe{constructor(e,t,r){super(e),this.name=t,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class je extends Ue{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class Ge extends Ue{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class Ve extends Ue{constructor(e){super(e,"AuthInvalidCredentialsError",400)}}class ze extends Ue{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Qe extends Ue{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class He extends Ue{constructor(e,t){super(e,"AuthRetryableFetchError",t)}}function Ke(e){return Ne(e)&&"AuthRetryableFetchError"===e.name}class qe extends Ue{constructor(e,t,r){super(e,"AuthWeakPasswordError",t),this.reasons=r}}var We=function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(r[s[n]]=e[s[n]])}return r};const Je=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ye=[502,503,504];async function Ze(e){if(!Ce(e))throw new He(Je(e),0);if(Ye.includes(e.status))throw new He(Je(e),e.status);let t;try{t=await e.json()}catch(e){throw new Le(Je(e),e)}if("object"==typeof t&&t&&"object"==typeof t.weak_password&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce(((e,t)=>e&&"string"==typeof t),!0))throw new qe(Je(t),e.status,t.weak_password.reasons);throw new Re(Je(t),e.status||500)}const $e=(e,t,r,s)=>{const n={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),n.body=JSON.stringify(s),Object.assign(Object.assign({},n),r))};async function Xe(e,t,r,s){var n;const i=Object.assign({},null==s?void 0:s.headers);(null==s?void 0:s.jwt)&&(i.Authorization=`Bearer ${s.jwt}`);const a=null!==(n=null==s?void 0:s.query)&&void 0!==n?n:{};(null==s?void 0:s.redirectTo)&&(a.redirect_to=s.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await async function(e,t,r,s,n,i){const a=$e(t,s,n,i);let o;try{o=await e(r,a)}catch(e){throw console.error(e),new He(Je(e),0)}o.ok||await Ze(o);if(null==s?void 0:s.noResolveJson)return o;try{return await o.json()}catch(e){await Ze(e)}}(e,t,r+o,{headers:i,noResolveJson:null==s?void 0:s.noResolveJson},{},null==s?void 0:s.body);return(null==s?void 0:s.xform)?null==s?void 0:s.xform(l):{data:Object.assign({},l),error:null}}function et(e){var t;let r=null;var s;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=(s=e.expires_in,Math.round(Date.now()/1e3)+s)));return{data:{session:r,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function tt(e){const t=et(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce(((e,t)=>e&&"string"==typeof t),!0)&&(t.data.weak_password=e.weak_password),t}function rt(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function st(e){return{data:e,error:null}}function nt(e){const{action_link:t,email_otp:r,hashed_token:s,redirect_to:n,verification_type:i}=e,a=We(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:r,hashed_token:s,redirect_to:n,verification_type:i},user:Object.assign({},a)},error:null}}function it(e){return e}var at=function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(r[s[n]]=e[s[n]])}return r};class ot{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=Pe(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await Xe(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(e){if(Ne(e))return{data:null,error:e};throw e}}async inviteUserByEmail(e,t={}){try{return await Xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:rt})}catch(e){if(Ne(e))return{data:{user:null},error:e};throw e}}async generateLink(e){try{const{options:t}=e,r=at(e,["options"]),s=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(s.new_email=null==r?void 0:r.newEmail,delete s.newEmail),await Xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:nt,redirectTo:null==t?void 0:t.redirectTo})}catch(e){if(Ne(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(e){try{return await Xe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:rt})}catch(e){if(Ne(e))return{data:{user:null},error:e};throw e}}async listUsers(e){var t,r,s,n,i,a,o;try{const l={nextPage:null,lastPage:0,total:0},c=await Xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(n=null===(s=null==e?void 0:e.perPage)||void 0===s?void 0:s.toString())&&void 0!==n?n:""},xform:it});if(c.error)throw c.error;const h=await c.json(),u=null!==(i=c.headers.get("x-total-count"))&&void 0!==i?i:0,d=null!==(o=null===(a=c.headers.get("link"))||void 0===a?void 0:a.split(","))&&void 0!==o?o:[];return d.length>0&&(d.forEach((e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l[`${r}Page`]=t})),l.total=parseInt(u)),{data:Object.assign(Object.assign({},h),l),error:null}}catch(e){if(Ne(e))return{data:{users:[]},error:e};throw e}}async getUserById(e){try{return await Xe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:rt})}catch(e){if(Ne(e))return{data:{user:null},error:e};throw e}}async updateUserById(e,t){try{return await Xe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:rt})}catch(e){if(Ne(e))return{data:{user:null},error:e};throw e}}async deleteUser(e,t=!1){try{return await Xe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:rt})}catch(e){if(Ne(e))return{data:{user:null},error:e};throw e}}async _listFactors(e){try{const{data:t,error:r}=await Xe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(e){if(Ne(e))return{data:null,error:e};throw e}}async _deleteFactor(e){try{return{data:await Xe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(e){if(Ne(e))return{data:null,error:e};throw e}}}const lt="0.0.0",ct={"X-Client-Info":`gotrue-js/${lt}`},ht={getItem:e=>Ee()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ee()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ee()&&globalThis.localStorage.removeItem(e)}};function ut(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const dt=!!(globalThis&&Ee()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class pt extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ft extends pt{}async function mt(e,t,r){dt&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout((()=>{s.abort(),dt&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)}),t),await globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},(async s=>{if(!s){if(0===t)throw dt&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ft(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(dt)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(e){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",e)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}dt&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{dt&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}))}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}}();const gt={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ct,flowType:"implicit",debug:!1},yt=3e4;async function bt(e,t,r){return await r()}class vt{constructor(e){var t,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=vt.nextInstanceID,vt.nextInstanceID+=1,this.instanceID>0&&Ae()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},gt),e);if(this.logDebugMessages=!!s.debug,"function"==typeof s.debug&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new ot({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Pe(s.fetch),this.lock=s.lock||bt,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,s.lock?this.lock=s.lock:Ae()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=mt:this.lock=bt,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Ee()?this.storage=ht:(this.memoryStorage={},this.storage=ut(this.memoryStorage)):(this.memoryStorage={},this.storage=ut(this.memoryStorage)),Ae()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(e){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",e)}null===(r=this.broadcastChannel)||void 0===r||r.addEventListener("message",(async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)}))}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${lt}) ${(new Date).toISOString()}`,...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,(async()=>await this._initialize())))()),await this.initializePromise}async _initialize(){try{const e=!!Ae()&&await this._isPKCEFlow();if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:t,error:r}=await this._getSessionFromURL(e);if(r)return this._debug("#_initialize()","error detecting session from URL",r),"Identity is already linked"===(null==r?void 0:r.message)||"Identity is already linked to another user"===(null==r?void 0:r.message)||await this._removeSession(),{error:r};const{session:s,redirectType:n}=t;return this._debug("#_initialize()","detected session in URL",s,"redirect type",n),await this._saveSession(s),setTimeout((async()=>{"recovery"===n?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)}),0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return Ne(e)?{error:e}:{error:new Le("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signUp(e){var t,r,s;try{let n;if(await this._removeSession(),"email"in e){const{email:r,password:s,options:i}=e;let a=null,o=null;if("pkce"===this.flowType){const e=Be();await Se(this.storage,`${this.storageKey}-code-verifier`,e),a=await Oe(e),o=e===a?"plain":"s256"}n=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==i?void 0:i.emailRedirectTo,body:{email:r,password:s,data:null!==(t=null==i?void 0:i.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken},code_challenge:a,code_challenge_method:o},xform:et})}else{if(!("phone"in e))throw new Ve("You must provide either an email or phone number and a password");{const{phone:t,password:i,options:a}=e;n=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:i,data:null!==(r=null==a?void 0:a.data)&&void 0!==r?r:{},channel:null!==(s=null==a?void 0:a.channel)&&void 0!==s?s:"sms",gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},xform:et})}}const{data:i,error:a}=n;if(a||!i)return{data:{user:null,session:null},error:a};const o=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(e){if(Ne(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithPassword(e){try{let t;if(await this._removeSession(),"email"in e){const{email:r,password:s,options:n}=e;t=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:s,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},xform:tt})}else{if(!("phone"in e))throw new Ve("You must provide either an email or phone number and a password");{const{phone:r,password:s,options:n}=e;t=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:s,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},xform:tt})}}const{data:r,error:s}=t;return s?{data:{user:null,session:null},error:s}:r&&r.session&&r.user?(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s}):{data:{user:null,session:null},error:new Ge}}catch(e){if(Ne(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOAuth(e){var t,r,s,n;return await this._removeSession(),await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(s=e.options)||void 0===s?void 0:s.queryParams,skipBrowserRedirect:null===(n=e.options)||void 0===n?void 0:n.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,(async()=>this._exchangeCodeForSession(e)))}async _exchangeCodeForSession(e){const t=await Ie(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(null!=t?t:"").split("/"),{data:n,error:i}=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:et});return await _e(this.storage,`${this.storageKey}-code-verifier`),i?{data:{user:null,session:null,redirectType:null},error:i}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign(Object.assign({},n),{redirectType:null!=s?s:null}),error:i}):{data:{user:null,session:null,redirectType:null},error:new Ge}}async signInWithIdToken(e){await this._removeSession();try{const{options:t,provider:r,token:s,access_token:n,nonce:i}=e,a=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:n,nonce:i,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:et}),{data:o,error:l}=a;return l?{data:{user:null,session:null},error:l}:o&&o.session&&o.user?(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:l}):{data:{user:null,session:null},error:new Ge}}catch(e){if(Ne(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOtp(e){var t,r,s,n,i;try{if(await this._removeSession(),"email"in e){const{email:s,options:n}=e;let i=null,a=null;if("pkce"===this.flowType){const e=Be();await Se(this.storage,`${this.storageKey}-code-verifier`,e),i=await Oe(e),a=e===i?"plain":"s256"}const{error:o}=await Xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:null!==(t=null==n?void 0:n.data)&&void 0!==t?t:{},create_user:null===(r=null==n?void 0:n.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken},code_challenge:i,code_challenge_method:a},redirectTo:null==n?void 0:n.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){const{phone:t,options:r}=e,{data:a,error:o}=await Xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(s=null==r?void 0:r.data)&&void 0!==s?s:{},create_user:null===(n=null==r?void 0:r.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null==r?void 0:r.captchaToken},channel:null!==(i=null==r?void 0:r.channel)&&void 0!==i?i:"sms"}});return{data:{user:null,session:null,messageId:null==a?void 0:a.message_id},error:o}}throw new Ve("You must provide either an email or phone number.")}catch(e){if(Ne(e))return{data:{user:null,session:null},error:e};throw e}}async verifyOtp(e){var t,r;try{let s,n;"email_change"!==e.type&&"phone_change"!==e.type&&await this._removeSession(),"options"in e&&(s=null===(t=e.options)||void 0===t?void 0:t.redirectTo,n=null===(r=e.options)||void 0===r?void 0:r.captchaToken);const{data:i,error:a}=await Xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:n}}),redirectTo:s,xform:et});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const o=i.session,l=i.user;return(null==o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(e){if(Ne(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithSSO(e){var t,r,s;try{await this._removeSession();let n=null,i=null;if("pkce"===this.flowType){const e=Be();await Se(this.storage,`${this.storageKey}-code-verifier`,e),n=await Oe(e),i=e===n?"plain":"s256"}return await Xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==r?r:void 0}),(null===(s=null==e?void 0:e.options)||void 0===s?void 0:s.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:n,code_challenge_method:i}),headers:this.headers,xform:st})}catch(e){if(Ne(e))return{data:null,error:e};throw e}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._reauthenticate()))}async _reauthenticate(){try{return await this._useSession((async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new je;const{error:s}=await Xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:s}}))}catch(e){if(Ne(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{"email_change"!=e.type&&"phone_change"!=e.type&&await this._removeSession();const t=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:n}=e,{error:i}=await Xe(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},redirectTo:null==n?void 0:n.emailRedirectTo});return{data:{user:null,session:null},error:i}}if("phone"in e){const{phone:r,type:s,options:n}=e,{data:i,error:a}=await Xe(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}}});return{data:{user:null,session:null,messageId:null==i?void 0:i.message_id},error:a}}throw new Ve("You must provide either an email or phone number and a type")}catch(e){if(Ne(e))return{data:{user:null,session:null},error:e};throw e}}async getSession(){return await this.initializePromise,this._acquireLock(-1,(async()=>this._useSession((async e=>e))))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch(e){}})()),r}return await this.lock(`lock:${this.storageKey}`,e,(async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(e){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await Ie(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=!!e.expires_at&&e.expires_at<=Date.now()/1e3;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r)return{data:{session:e},error:null};const{session:s,error:n}=await this._callRefreshToken(e.refresh_token);return n?{data:{session:null},error:n}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,this._acquireLock(-1,(async()=>await this._getUser())))}async _getUser(e){try{return e?await Xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:rt}):await this._useSession((async e=>{var t,r;const{data:s,error:n}=e;if(n)throw n;return await Xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(r=null===(t=s.session)||void 0===t?void 0:t.access_token)&&void 0!==r?r:void 0,xform:rt})}))}catch(e){if(Ne(e))return{data:{user:null},error:e};throw e}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._updateUser(e,t)))}async _updateUser(e,t={}){try{return await this._useSession((async r=>{const{data:s,error:n}=r;if(n)throw n;if(!s.session)throw new je;const i=s.session;let a=null,o=null;if("pkce"===this.flowType&&null!=e.email){const e=Be();await Se(this.storage,`${this.storageKey}-code-verifier`,e),a=await Oe(e),o=e===a?"plain":"s256"}const{data:l,error:c}=await Xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:o}),jwt:i.access_token,xform:rt});if(c)throw c;return i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}}))}catch(e){if(Ne(e))return{data:{user:null},error:e};throw e}}_decodeJWT(e){return Me(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._setSession(e)))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new je;const t=Date.now()/1e3;let r=t,s=!0,n=null;const i=Me(e.access_token);if(i.exp&&(r=i.exp,s=r<=t),s){const{session:t,error:r}=await this._callRefreshToken(e.refresh_token);if(r)return{data:{user:null,session:null},error:r};if(!t)return{data:{user:null,session:null},error:null};n=t}else{const{data:s,error:i}=await this._getUser(e.access_token);if(i)throw i;n={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)}return{data:{user:n.user,session:n},error:null}}catch(e){if(Ne(e))return{data:{session:null,user:null},error:e};throw e}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._refreshSession(e)))}async _refreshSession(e){try{return await this._useSession((async t=>{var r;if(!e){const{data:s,error:n}=t;if(n)throw n;e=null!==(r=s.session)&&void 0!==r?r:void 0}if(!(null==e?void 0:e.refresh_token))throw new je;const{session:s,error:n}=await this._callRefreshToken(e.refresh_token);return n?{data:{user:null,session:null},error:n}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}}))}catch(e){if(Ne(e))return{data:{user:null,session:null},error:e};throw e}}async _getSessionFromURL(e){try{if(!Ae())throw new ze("No browser detected.");if("implicit"===this.flowType&&!this._isImplicitGrantFlow())throw new ze("Not a valid implicit grant flow url.");if("pkce"==this.flowType&&!e)throw new Qe("Not a valid PKCE flow url.");const t=xe(window.location.href);if(e){if(!t.code)throw new Qe("No code detected.");const{data:e,error:r}=await this._exchangeCodeForSession(t.code);if(r)throw r;const s=new URL(window.location.href);return s.searchParams.delete("code"),window.history.replaceState(window.history.state,"",s.toString()),{data:{session:e.session,redirectType:null},error:null}}if(t.error||t.error_description||t.error_code)throw new ze(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:s,access_token:n,refresh_token:i,expires_in:a,expires_at:o,token_type:l}=t;if(!(n&&a&&i&&l))throw new ze("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let u=c+h;o&&(u=parseInt(o));const d=u-c;1e3*d<=yt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${h}s`);const p=u-h;c-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,u,c):c-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",p,u,c);const{data:f,error:m}=await this._getUser(n);if(m)throw m;const g={provider_token:r,provider_refresh_token:s,access_token:n,expires_in:h,expires_at:u,refresh_token:i,token_type:l,user:f.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(e){if(Ne(e))return{data:{session:null,redirectType:null},error:e};throw e}}_isImplicitGrantFlow(){const e=xe(window.location.href);return!(!Ae()||!e.access_token&&!e.error_description)}async _isPKCEFlow(){const e=xe(window.location.href),t=await Ie(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._signOut(e)))}async _signOut({scope:e}={scope:"global"}){return await this._useSession((async t=>{var r;const{data:s,error:n}=t;if(n)return{error:n};const i=null===(r=s.session)||void 0===r?void 0:r.access_token;if(i){const{error:t}=await this.admin.signOut(i,e);if(t&&(!function(e){return Ne(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await _e(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}}))}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>{await this.initializePromise,await this._acquireLock(-1,(async()=>{this._emitInitialSession(t)}))})(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession((async t=>{var r,s;try{const{data:{session:s},error:n}=t;if(n)throw n;await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(t){await(null===(s=this.stateChangeEmitters.get(e))||void 0===s?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",t),console.error(t)}}))}async resetPasswordForEmail(e,t={}){let r=null,s=null;if("pkce"===this.flowType){const e=Be();await Se(this.storage,`${this.storageKey}-code-verifier`,`${e}/PASSWORD_RECOVERY`),r=await Oe(e),s=e===r?"plain":"s256"}try{return await Xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(e){if(Ne(e))return{data:null,error:e};throw e}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(e){if(Ne(e))return{data:null,error:e};throw e}}async linkIdentity(e){var t;try{const{data:r,error:s}=await this._useSession((async t=>{var r,s,n,i,a;const{data:o,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(r=e.options)||void 0===r?void 0:r.redirectTo,scopes:null===(s=e.options)||void 0===s?void 0:s.scopes,queryParams:null===(n=e.options)||void 0===n?void 0:n.queryParams,skipBrowserRedirect:!0});return await Xe(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(a=null===(i=o.session)||void 0===i?void 0:i.access_token)&&void 0!==a?a:void 0})}));if(s)throw s;return Ae()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null==r?void 0:r.url),{data:{provider:e.provider,url:null==r?void 0:r.url},error:null}}catch(t){if(Ne(t))return{data:{provider:e.provider,url:null},error:t};throw t}}async unlinkIdentity(e){try{return await this._useSession((async t=>{var r,s;const{data:n,error:i}=t;if(i)throw i;return await Xe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(s=null===(r=n.session)||void 0===r?void 0:r.access_token)&&void 0!==s?s:void 0})}))}catch(e){if(Ne(e))return{data:null,error:e};throw e}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await(r=async r=>(await async function(e){return await new Promise((t=>{setTimeout((()=>t(null)),e)}))}(200*r),this._debug(t,"refreshing attempt",r),await Xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:et})),s=(e,t,r)=>r&&r.error&&Ke(r.error)&&Date.now()+200*(e+1)-n<yt,new Promise(((e,t)=>{(async()=>{for(let n=0;n<1/0;n++)try{const t=await r(n);if(!s(n,null,t))return void e(t)}catch(e){if(!s(n,e))return void t(e)}})()})))}catch(e){if(this._debug(t,"error",e),Ne(e))return{data:{session:null,user:null},error:e};throw e}finally{this._debug(t,"end")}var r,s}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),Ae()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const r=await Ie(this.storage,this.storageKey);if(this._debug(t,"session from storage",r),!this._isValidSession(r))return this._debug(t,"session is not valid"),void(null!==r&&await this._removeSession());const s=Math.round(Date.now()/1e3),n=(null!==(e=r.expires_at)&&void 0!==e?e:1/0)<s+10;if(this._debug(t,`session has${n?"":" not"} expired with margin of 10s`),n){if(this.autoRefreshToken&&r.refresh_token){const{error:e}=await this._callRefreshToken(r.refresh_token);e&&(console.error(e),Ke(e)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(e){return this._debug(t,"error",e),void console.error(e)}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new je;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Te;const{data:t,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new je;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const s={session:t.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(e){if(this._debug(s,"error",e),Ne(e)){const r={session:null,error:e};return Ke(e)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(r),r}throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(e),e}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,t,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const s=[],n=Array.from(this.stateChangeEmitters.values()).map((async r=>{try{await r.callback(e,t)}catch(e){s.push(e)}}));if(await Promise.all(n),s.length>0){for(let e=0;e<s.length;e+=1)console.error(s[e]);throw s[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),await Se(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await _e(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ae()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(e){console.error("removing visibilitychange callback failed",e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval((()=>this._autoRefreshTokenTick()),yt);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout((async()=>{await this.initializePromise,await this._autoRefreshTokenTick()}),0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,(async()=>{try{const e=Date.now();try{return await this._useSession((async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const s=Math.floor((1e3*r.expires_at-e)/yt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),s<=3&&await this._callRefreshToken(r.refresh_token)}))}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(!(e.isAcquireTimeout||e instanceof pt))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ae()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,(async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const s=[`provider=${encodeURIComponent(t)}`];if((null==r?void 0:r.redirectTo)&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),(null==r?void 0:r.scopes)&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),"pkce"===this.flowType){const e=Be();await Se(this.storage,`${this.storageKey}-code-verifier`,e);const t=await Oe(e),r=e===t?"plain":"s256";this._debug("PKCE","code verifier",`${e.substring(0,5)}...`,"code challenge",t,"method",r);const n=new URLSearchParams({code_challenge:`${encodeURIComponent(t)}`,code_challenge_method:`${encodeURIComponent(r)}`});s.push(n.toString())}if(null==r?void 0:r.queryParams){const e=new URLSearchParams(r.queryParams);s.push(e.toString())}return(null==r?void 0:r.skipBrowserRedirect)&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession((async t=>{var r;const{data:s,error:n}=t;return n?{data:null,error:n}:await Xe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(r=null==s?void 0:s.session)||void 0===r?void 0:r.access_token})}))}catch(e){if(Ne(e))return{data:null,error:e};throw e}}async _enroll(e){try{return await this._useSession((async t=>{var r,s;const{data:n,error:i}=t;if(i)return{data:null,error:i};const{data:a,error:o}=await Xe(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:null===(r=null==n?void 0:n.session)||void 0===r?void 0:r.access_token});return o?{data:null,error:o}:((null===(s=null==a?void 0:a.totp)||void 0===s?void 0:s.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})}))}catch(e){if(Ne(e))return{data:null,error:e};throw e}}async _verify(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var r;const{data:s,error:n}=t;if(n)return{data:null,error:n};const{data:i,error:a}=await Xe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(r=null==s?void 0:s.session)||void 0===r?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:a})}))}catch(e){if(Ne(e))return{data:null,error:e};throw e}}))}async _challenge(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var r;const{data:s,error:n}=t;return n?{data:null,error:n}:await Xe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:null===(r=null==s?void 0:s.session)||void 0===r?void 0:r.access_token})}))}catch(e){if(Ne(e))return{data:null,error:e};throw e}}))}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(null==e?void 0:e.factors)||[],s=r.filter((e=>"totp"===e.factor_type&&"verified"===e.status));return{data:{all:r,totp:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,(async()=>await this._useSession((async e=>{var t,r;const{data:{session:s},error:n}=e;if(n)return{data:null,error:n};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const i=this._decodeJWT(s.access_token);let a=null;i.aal&&(a=i.aal);let o=a;(null!==(r=null===(t=s.user.factors)||void 0===t?void 0:t.filter((e=>"verified"===e.status)))&&void 0!==r?r:[]).length>0&&(o="aal2");return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:i.amr||[]},error:null}}))))}}vt.nextInstanceID=0;class wt extends vt{constructor(e){super(e)}}var At=function(e,t,r,s){return new(r||(r=Promise))((function(n,i){function a(e){try{l(s.next(e))}catch(e){i(e)}}function o(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,o)}l((s=s.apply(e,t||[])).next())}))};const kt={headers:ye},Et={schema:"public"},xt={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Pt={};class Ct{constructor(e,t,r){var s,n,i,a,o,l,c,h;if(this.supabaseUrl=e,this.supabaseKey=t,this.from=e=>this.rest.from(e),this.schema=e=>this.rest.schema(e),this.rpc=(e,t={},r)=>this.rest.rpc(e,t,r),!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const u=e.replace(/\/$/,"");this.realtimeUrl=`${u}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${u}/auth/v1`,this.storageUrl=`${u}/storage/v1`,this.functionsUrl=`${u}/functions/v1`;const d=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,p=function(e,t){const{db:r,auth:s,realtime:n,global:i}=e,{db:a,auth:o,realtime:l,global:c}=t;return{db:Object.assign(Object.assign({},a),r),auth:Object.assign(Object.assign({},o),s),realtime:Object.assign(Object.assign({},l),n),global:Object.assign(Object.assign({},c),i)}}(null!=r?r:{},{db:Et,realtime:Pt,auth:Object.assign(Object.assign({},xt),{storageKey:d}),global:kt});this.storageKey=null!==(n=null===(s=p.auth)||void 0===s?void 0:s.storageKey)&&void 0!==n?n:"",this.headers=null!==(a=null===(i=p.global)||void 0===i?void 0:i.headers)&&void 0!==a?a:{},this.auth=this._initSupabaseAuthClient(null!==(o=p.auth)&&void 0!==o?o:{},this.headers,null===(l=p.global)||void 0===l?void 0:l.fetch),this.fetch=we(t,this._getAccessToken.bind(this),null===(c=p.global)||void 0===c?void 0:c.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},p.realtime)),this.rest=new b(`${u}/rest/v1`,{headers:this.headers,schema:null===(h=p.db)||void 0===h?void 0:h.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new h(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new me(this.storageUrl,this.headers,this.fetch)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return At(this,void 0,void 0,(function*(){const{data:r}=yield this.auth.getSession();return null!==(t=null===(e=r.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null}))}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,storageKey:n,flowType:i,debug:a},o,l){const c={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new wt({url:this.authUrl,headers:Object.assign(Object.assign({},c),o),storageKey:n,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,flowType:i,debug:a,fetch:l})}_initRealtimeClient(e){return new K(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange(((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)}))}_handleTokenChanged(e,t,r){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===r?"SIGNED_OUT"===e&&(this.realtime.setAuth(this.supabaseKey),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.realtime.setAuth(null!=r?r:null),this.changedAccessToken=r)}}const St=new class{pull(e,...t){const r=new Set(t);for(let t=e.length-1;t>=0;t--)r.has(e[t])&&e.splice(t,1)}insert(e,t,r){e.splice(t,0,r)}shuffle(e){let t=e.length;for(;0!==t;){const r=Math.floor(Math.random()*t);t-=1,[e[t],e[r]]=[e[r],e[t]]}return e}checkSame(e,t){if(e.length!==t.length)return!1;const r=new Set(t);for(const t of e)if(!r.has(t))return!1;return!0}};class It{static NEXT_ID=0;id=It.NEXT_ID++;allowedEvents=["delete"];eventMap={};delegateEvents=[];deleted=!1;addAllowedEvents(...e){this.allowedEvents.push(...e)}addEventHandler(e,t){if(!this.allowedEvents.includes(e))throw new Error(`EventContainer ${this.constructor.name} does not allow event ${e}`);void 0===this.eventMap[e]&&(this.eventMap[e]=[]),this.eventMap[e].push(t)}removeDelegateEvents(e){for(const[t,r]of Object.entries(e.events))for(const s of r)e.delegate.off(t,s);St.pull(this.delegateEvents,e)}on(e,t){if(Array.isArray(e))for(const r of e)this.addEventHandler(r,t);else this.addEventHandler(e,t);return this}once(e,t){const r=(...s)=>{this.off(e,r),t(...s)};this.addEventHandler(e,r)}off(e,t){void 0!==this.eventMap?.[e]&&(St.pull(this.eventMap[e],t),0===this.eventMap[e].length&&delete this.eventMap[e])}async fireEvent(e,...t){if(!this.allowedEvents.includes(e))throw new Error(`EventContainer ${this.constructor.name} does not allow event ${e}`);const r=[],s=[],n=this.eventMap[e];if(void 0!==n)for(const e of[...n])if(n.includes(e)){const n=e(...t);n instanceof Promise?s.push(n):r.push(n)}return r.concat(await Promise.all(s))}onDelegate(e,t,r){let s=this.delegateEvents.find((t=>t.delegate===e));void 0===s&&(s={delegate:e,events:{}},this.delegateEvents.push(s)),"string"==typeof t&&(t=[t]);for(const n of t)void 0===s.events[n]&&(s.events[n]=[]),s.events[n].push(r),e.on(n,r)}offDelegate(e){const t=this.delegateEvents.find((t=>t.delegate===e));void 0!==t&&this.removeDelegateEvents(t)}offAll(){this.eventMap={};for(const e of[...this.delegateEvents])this.removeDelegateEvents(e);this.delegateEvents=[]}delete(){for(const e of[...this.delegateEvents])this.removeDelegateEvents(e);this.delegateEvents=void 0,this.fireEvent("delete"),this.allowedEvents=void 0,this.eventMap=void 0,this.deleted=!0}}const _t=new class extends It{client;devMode=!1;connect(e,t,r){this.devMode=r,this.client=((e,t,r)=>new Ct(e,t,r))(e,t,{auth:{autoRefreshToken:!0,persistSession:!0}})}async signIn(e){await this.client.auth.signInWithOAuth({provider:e,options:this.devMode?{redirectTo:"http://localhost:8413/"}:void 0})}async signOut(){const{error:e}=await this.client.auth.signOut();if(e)throw e}convertNullToUndefined(e){Object.keys(e).forEach((t=>{null===e[t]?e[t]=void 0:"object"==typeof e[t]&&null!==e[t]&&this.convertNullToUndefined(e[t])}))}safeResult(e){return Array.isArray(e)?e.forEach((e=>this.convertNullToUndefined(e))):this.convertNullToUndefined(e),e}async safeFetch(e,t){const{data:r,error:s}=await t(this.client.from(e));if(s)throw s;return this.safeResult(r)}};class Tt extends It{parent;children=[];append(...e){for(const t of e)void 0!==t&&t.appendTo(this);return this}appendTo(e,t){return this.parent===e&&void 0!==t&&this.parent.children.indexOf(this)<t&&(t-=1),this.removeFromParent(),void 0!==t&&t<e.children.length?e.children.splice(t,0,this):e.children.push(this),this.parent=e,this}removeFromParent(){void 0!==this.parent&&(St.pull(this.parent.children,this),this.parent=void 0)}empty(){for(;this.children.length>0;)this.children[0].delete();return this}checkChild(e){const t=[...this.children];for(;t.length>0;){const r=t.pop();if(r===e)return!0;t.push(...r.children)}return!1}delete(){super.delete(),this.removeFromParent(),this.empty(),this.children=void 0}}class Mt extends Tt{static NUMBER_STYLE_KEY=["zIndex","opacity","flexGrow","flexShrink","gridGap","order","zoom"];static keyframesCount=0;static createElement(e){let t;const r=e.indexOf("#");if(-1!==r){t=e.substring(r+1),e=e.substring(0,r);const s=t.indexOf(".");-1!==s&&(e+=t.substring(s),t=t.substring(0,s))}let s;const n=e.indexOf(".");-1!==n&&(s=e.substring(n+1).replace(/\./g," "),e=e.substring(0,n)),""===e&&(e="div");const i=document.createElement(e);return void 0!==t&&(i.id=t),void 0!==s&&(i.className=s),i}children=[];domEventMap={};windowEventMap={};domElement;constructor(e,...t){super(),this.addAllowedEvents("visible"),e instanceof HTMLElement?this.domElement=e:this.domElement=Mt.createElement(e),this.append(...t)}style(e){for(const[t,r]of Object.entries(e))void 0===r?this.domElement.style[t]=null:"number"==typeof r&&!0!==Mt.NUMBER_STYLE_KEY.includes(t)?this.domElement.style[t]=`${r}px`:this.domElement.style[t]=r;return this}get rect(){return this.domElement.getBoundingClientRect()}get innerScrollPosition(){let e=0,t=0;if(this.domElement!==document.body){let r=this.domElement.parentNode;for(;r!==document.body&&null!==r;)r instanceof HTMLElement&&(e+=r.scrollLeft,t+=r.scrollTop),r=r.parentNode}return{left:e,top:t}}onDom(e,t){void 0===this.domEventMap[e]&&(this.domEventMap[e]=[]);const r=e=>t(e,this);this.domEventMap[e].push({eventHandler:t,domEventHandler:r}),this.domElement.addEventListener(e,r)}onWindow(e,t){void 0===this.windowEventMap[e]&&(this.windowEventMap[e]=[]);const r=e=>t(e,this);this.windowEventMap[e].push({eventHandler:t,domEventHandler:r}),window.addEventListener(e,r)}offDom(e,t){const r=this.domEventMap[e];if(void 0!==r){const s=r.find((e=>e.eventHandler===t));void 0!==s&&(this.domElement.removeEventListener(e,s.domEventHandler),St.pull(r,s),0===r.length&&delete this.domEventMap[e])}}fireDomEvent(e){this.domElement.dispatchEvent(new Event(e))}appendText(e){if("TEXTAREA"===this.domElement.tagName)this.domElement.append(e);else{const t=new DocumentFragment,r=e.split("\n");for(const[e,s]of r.entries())e>0&&t.append(document.createElement("br")),t.append(s);this.domElement.append(t)}return this}set text(e){this.empty().appendText(e)}append(...e){for(const t of e)if(void 0!==t)if("string"==typeof t)this.appendText(t);else if(t instanceof Mt)t.appendTo(this);else for(const[e,r]of Object.entries(t))"function"==typeof r?this.onDom(e,r):"style"===e&&"object"==typeof r?this.style(r):void 0===r?this.domElement.removeAttribute(e):this.domElement.setAttribute(e,String(r));return this}prepend(...e){for(const t of e)if(void 0!==t)if("string"==typeof t)this.domElement.prepend(t);else if(t instanceof Mt)t.appendTo(this,0);else for(const[e,r]of Object.entries(t))"function"==typeof r?this.onDom(e,r):"style"===e&&"object"==typeof r?this.style(r):void 0===r?this.domElement.removeAttribute(e):this.domElement.setAttribute(e,String(r));return this}checkVisible(){return void 0!==this.parent&&(this.parent.domElement===document.body||this.parent.checkVisible())}fireVisible(){this.fireEvent("visible");for(const e of this.children)e.fireVisible()}appendTo(e,t){void 0!==t&&t<e.children.length?e.domElement.insertBefore(this.domElement,e.children[t].domElement):e.domElement.append(this.domElement);const r=super.appendTo(e,t);return!0===this.checkVisible()&&this.fireVisible(),r}empty(){for(super.empty();this.domElement.firstChild;)this.domElement.removeChild(this.domElement.firstChild);return this}addClass(e){return this.domElement.classList.add(e),this}deleteClass(...e){return this.domElement.classList.remove(...e),this}hasClass(e){return this.domElement.classList.contains(e)}toggleClass(e){this.domElement.classList.toggle(e)}clone(){return new Mt(this.domElement.cloneNode(!0))}delete(){this.domElement.remove(),this.domEventMap=void 0;for(const[e,t]of Object.entries(this.windowEventMap))for(const r of t)window.removeEventListener(e,r.domEventHandler);this.windowEventMap=void 0,super.delete(),this.domElement=void 0}animate({keyframes:e,duration:t=.5,timingFunction:r="ease",delay:s=0,iterationCount:n=1,direction:i="normal",onEnd:a=(()=>{})}){const o="__KEYFRAMES_"+Mt.keyframesCount++;let l="",c={};for(const[t,r]of Object.entries(e)){l+=`${t}{`;for(let[e,t]of Object.entries(r))"number"!=typeof t||["zIndex","opacity"].includes(e)||(t+="px"),l+=`${e.replace(/([A-Z])/g,"-$1").toLowerCase()}:${t};`;l+="}","from"===t||"0%"===t?c={...c,...r}:"to"!==t&&"100%"!==t||(c={...c,...r})}const h=document.createElement("style");h.setAttribute("type","text/css"),h.appendChild(document.createTextNode(`@keyframes ${o}{${l}}`)),document.head.appendChild(h),c={...c,animation:`${o} ${t}s ${r} ${s}s ${n} ${i}`},this.style(c),1===n&&setTimeout((()=>{this.deleted||a(),h.remove()}),1e3*t)}}const Dt=new class extends Mt{constructor(){super(document.body)}};const Bt=new class{paramRegex=/{(.+)}/;match(e,t,r){for(let s=0;s<e.length;s++){const n=t[s];if(void 0===n)return!1;let i=e[s];if("**"===n)return!0;const a=this.paramRegex.exec(n);if(!n.startsWith("{")){const e=n.indexOf("{");if(i.substring(0,e)!==n.substring(0,e))return!1;i=i.substring(e)}if(i&&a)r&&(r[a[1]]=i);else if("*"!==n&&n!==i)return!1;if(s===e.length-1&&s<t.length-1&&""!==t[t.length-1])return!1}return!0}parse(e,t,r){const s=e.split("/"),n=t.split("/");return this.match(s,n,r)}},Ot=e=>decodeURIComponent(e.endsWith("/")?e.slice(0,-1).substring(1):e.substring(1)),Ft=(e,t,r,s)=>t.some((t=>Bt.match(e,t.split("/"),s)))&&!r.some((t=>Bt.match(e,t.split("/"))));const Nt=new class extends It{routes=[];redirects=[];openingViews=[];forwarding=!1;constructor(){super(),this.addAllowedEvents("go"),window.addEventListener("popstate",(e=>{if(!0===this.forwarding)this.forwarding=!1;else{const t=Dt.children.findLast((e=>e.hasClass("exitable-fragment")));t?(this.forwarding=!0,window.history.forward(),t.delete()):this.check(e.state??void 0)}for(const e of Dt.children)e.hasClass("dropdown-menu")&&e.delete()}))}closeAllPopup(){for(const e of Dt.children)e.hasClass("exitable-fragment")&&e.delete()}check(e,t){const r=Ot(location.pathname),s=r.split("/");let n=!1;const i=[];for(const{patterns:r,excludes:n,to:i}of this.redirects){const a=e?{...e}:{};if(Ft(s,r,n,a)){let e=i;for(const[t,r]of Object.entries(a))e=e.replace(new RegExp(`{${t}}`,"g"),r??"");return void this.goNoHistory(`/${e}`,a,t)}}for(const{patterns:a,excludes:o,viewType:l}of this.routes){const c=e?{...e}:{},h=this.openingViews.find((e=>e instanceof l));Ft(s,a,o,c)?void 0===h?(this.openingViews.push(new l(c,r,t)),n=!0):h.changeParams(c,r,t):void 0!==h&&(i.push(h),St.pull(this.openingViews,h))}for(const e of i.reverse())e.close();!0===n&&this.fireEvent("go")}route(e,t,r=[]){"string"==typeof e&&(e=[e]),this.routes.push({patterns:e,excludes:r,viewType:t});const s=Ot(location.pathname),n=s.split("/"),i={};Ft(n,e,r,i)&&this.openingViews.push(new t(i,s))}redirect(e,t,r=[]){"string"==typeof e&&(e=[e]),this.redirects.push({patterns:e,excludes:r,to:t});const s=Ot(location.pathname).split("/"),n={};if(Ft(s,e,r,n)){let e=t;for(const[t,r]of Object.entries(n))e=e.replace(new RegExp(`{${t}}`,"g"),r??"");this.goNoHistory(`/${e}`)}}go(e,t,r){location.pathname!==e&&(history.pushState(void 0,"",e),this.check(t,r),window.scrollTo(0,0))}changeUri(e){history.replaceState(void 0,"",e)}goNoHistory(e,t,r){location.pathname!==e&&(history.replaceState(void 0,"",e),this.check(t,r),window.scrollTo(0,0))}waitAndGo(e,t,r){setTimeout((()=>this.go(e,t,r)))}refresh(){for(const e of this.openingViews.reverse())e.close();this.openingViews=[];const e=Ot(location.pathname),t=e.split("/");for(const{patterns:r,excludes:s,viewType:n}of this.routes){const i={};Ft(t,r,s,i)&&this.openingViews.push(new n(i,e))}}};const Rt=new class{initialize(e,t,r){sessionStorage.__spa_path&&(Nt.goNoHistory(sessionStorage.__spa_path),sessionStorage.removeItem("__spa_path")),_t.connect(e,t,r),_t.client.auth.onAuthStateChange((e=>{"SIGNED_IN"===e&&_t.client.functions.invoke("store-user-avatar")}))}},Lt="1970-01-01T00:00:00.000Z",Ut="-infinity";new class{map=new Map;cache(e,t){this.map.set(e,t)}get(e){return this.map.get(e)}};class jt extends Mt{constructor(e,...t){super(e+".component"),this.append(...t)}}class Gt extends jt{constructor(e){super(".splash-screen"),this.append(e).appendTo(Dt)}}const Vt=new class{async load(e,t){const r=new Gt(e);await Promise.all(t),r.delete()}};const zt=new class{parseWithUndefined(e){if(null!==e)return JSON.parse(e,((e,t)=>null===t?void 0:t))}};class Qt{name;constructor(e){this.name=e}selectStorage(e){return e?localStorage:sessionStorage}getKey(e){return`${this.name}/${e}`}set(e,t,r=!1){this.selectStorage(!r).removeItem(this.getKey(e));const s=this.selectStorage(r);try{s.setItem(this.getKey(e),JSON.stringify(t))}catch(e){if(!(e instanceof DOMException)||22!==e.code&&1014!==e.code&&"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name)throw e;s.clear(),location.reload()}}get(e,t){let r=sessionStorage.getItem(this.getKey(e))||localStorage.getItem(this.getKey(e));return null===r?t:zt.parseWithUndefined(r)}getAll(){const e={};for(let t=0;t<sessionStorage.length;t++){const r=sessionStorage.key(t);r&&r.startsWith(this.name)&&(e[r.substring(this.name.length+1)]=zt.parseWithUndefined(sessionStorage.getItem(r)))}for(let t=0;t<localStorage.length;t++){const r=localStorage.key(t);r&&r.startsWith(this.name)&&(e[r.substring(this.name.length+1)]=zt.parseWithUndefined(localStorage.getItem(r)))}return e}checkPermanently(e){return null!==localStorage.getItem(this.getKey(e))}delete(e){sessionStorage.removeItem(this.getKey(e)),localStorage.removeItem(this.getKey(e))}clear(){for(let e=0;e<sessionStorage.length;e++){const t=sessionStorage.key(e);t&&t.startsWith(this.name)&&sessionStorage.removeItem(t)}for(let e=0;e<localStorage.length;e++){const t=localStorage.key(e);t&&t.startsWith(this.name)&&localStorage.removeItem(t)}}}const Ht=new class{store=new Qt("__BROWSER_INFO_STORE");normalizeLanguage(e){return-1!==e.indexOf("-")&&"zh-TW"!==e&&"zh-HK"!==e&&(e=e.substring(0,e.indexOf("-"))),e}get language(){let e=this.store.get("lang")||navigator.language;return this.normalizeLanguage(e)}set language(e){this.store.set("lang",this.normalizeLanguage(e))}changeLanguage(e){if(!e)throw new Error("Invalid language code.");this.language=e,Nt.refresh()}get isPhoneSize(){return window.innerWidth<=859}},Kt=(e,...t)=>new Mt(Mt.createElement(e),...t),qt={};function Wt(){let e="",t="";return 2===Ht.language.length?e=Ht.language.toLowerCase():(e=Ht.language.substring(0,2).toLowerCase(),t=Ht.language.substring(3).toLowerCase()),{language:e,locale:t}}function Jt(e,t){const r="string"==typeof e?qt[e]:e;if(void 0!==r){let e=r[Ht.language];if(void 0===e){const{language:t,locale:s}=Wt();e=r[t],"object"==typeof e&&(e=void 0!==e[s]?e[s]:e[Object.keys(e)[0]])}if(void 0===e){const s=r[t];e=void 0!==s?s:r[Object.keys(r)[0]]}return void 0!==e&&"object"==typeof e&&(e=e[Object.keys(e)[0]]),void 0===e?"":e}return console.error(`message "${e}" not exists.`),""}function Yt(e,t={},r="en"){let s=Jt(e,r);for(const[e,r]of Object.entries(t)){const t=new RegExp(`{${e}}`,"g");s=s.replace(t,String(r??""))}return s}function Zt(e,t={},r="en"){const s=Jt(e,r).split(/\{|\}/),n=[];for(let e=0;e<s.length;e++){const r=s[e];e%2==0?n.push(r):n.push(t[r])}return n}Yt.setMessages=async e=>{for(const[t,r]of Object.entries(e))if(r)for(const[e,s]of Object.entries(r))void 0===qt[e]&&(qt[e]={}),qt[e][t]=s},Yt.setMessages({en:{"cancel-button":"Cancel","confirm-button":"Confirm","error-alert-title":"Error","getting-email-from-x-error-message":"Error getting user email from external provider. Please add an email in your X account settings and allow email access.\n"},ko:{"confirm-button":"확인"},es:{"confirm-button":"Confirmar"},fr:{"confirm-button":"Confirmer"},de:{"confirm-button":"Bestätigen"},it:{"confirm-button":"Conferma"},pt:{"confirm-button":"Confirmar"},ru:{"confirm-button":"Подтвердить"},zh:{"confirm-button":"确认"},"zh-tw":{"confirm-button":"確認"},"zh-hk":{"confirm-button":"確認"},ja:{"confirm-button":"確認"}}),Yt.getMessages=e=>qt[e],Yt.getLangMessages=(e,t="en")=>{const{language:r,locale:s}=Wt(),n="string"==typeof e?qt[e]:e;if(void 0!==n){let e=n[Ht.language];if(void 0===e&&(e=n[r],void 0!==e&&"object"==typeof e&&(e=void 0!==e[s]?e[s]:e[Object.keys(e)[0]])),void 0===e){const r=n[t];e=void 0!==r?r:n[Object.keys(n)[0]]}return void 0!==e&&"object"==typeof e&&(e=e[Object.keys(e)[0]]),{[r]:void 0===e?"":e}}return console.error(`message "${e}" not exists.`),{[r]:""}};const $t=Yt;const Xt=new class{baseIconTag="i.notranslate";createContent=e=>e};class er extends jt{constructor(e){super(Xt.baseIconTag),this.append(Xt.createContent(e))}}class tr extends jt{constructor(){super(".loading-spinner")}}class rr extends jt{options;_icon;titleContainer;constructor(e){super("button"+(void 0!==e.type?"."+e.type:".text")+(e.tag??"")),this.options=e,void 0!==e.icon&&this.append(this._icon=e.icon),void 0!==e.title&&this.append(this.titleContainer=Kt("span.title",e.title)),void 0!==e.href&&this.onDom("click",(()=>{"_blank"===e.target?window.open(e.href):window.location.href=e.href})),!0===e.disabled&&this.disable(),void 0!==e.click&&this.onDom("click",(t=>{!0!==this.hasClass("disabled")&&e.click(t,this)}))}set type(e){this.deleteClass("contained","outlined","text"),this.addClass(e)}set title(e){void 0!==this.titleContainer?this.titleContainer.empty().append(e):this.append(this.titleContainer=Kt("span.title",e))}set icon(e){this._icon?.delete(),this._icon=e.appendTo(this,0)}disable(){return this.domElement.setAttribute("disabled","disabled"),this.addClass("disabled"),this}enable(){return this.domElement.removeAttribute("disabled"),this.deleteClass("disabled"),this}set loading(e){e?(this.disable(),this.addClass("loading"),this.title=new tr):(this.enable(),this.deleteClass("loading"),this.title=this.options.title??"")}}class sr extends jt{ul;constructor(e){super(".dropdown-menu"),this.append(this.ul=Kt("ul"),e.footer);for(const t of e.items)this.ul.append(Kt("li",Kt("button",t.icon,t.title,{click:e=>{e.stopPropagation(),t.click(),this.delete()}})));this.style({left:e.left,top:e.top}),Dt.append(this),window.addEventListener("click",this.windowClickHandler)}windowClickHandler=e=>{this.domElement.contains(e.target)||this.delete()};delete(){window.removeEventListener("click",this.windowClickHandler),super.delete()}}var nr=r(8892),ir=r(9724);const ar=3,or=30,lr=["#01888C","#FC7500","#034F5D","#F73F01","#FC1960","#C7144C","#F3C100","#1598F2","#2465E1","#F19E02"];function cr(e,t=ar,r=or,s=lr){return"data:image/svg+xml;utf8,"+encodeURIComponent(function(e,t=ar,r=or,s=lr){if(!/^0x[0-9a-fA-F]{40}$/.test(e))throw new Error("Invalid address");if(t+1>s.length)throw new Error("Insufficient base colors");const n=parseInt(e.slice(2,10),16),i=new ir(n),a=30*i.random()-r/2,o=s.map((e=>nr(e).rotate(a).hex()));function l(){i.random();const e=i.random(),t=Math.floor(o.length*e),[r]=o.splice(t,1);return r||"#FFFFFF"}function c(e){const r=i.random(),s=i.random(),n=i.random(),a=2*Math.PI*r,o=100*(e+s)/t,l=Math.cos(a)*o,c=Math.sin(a)*o,h=360*r+180*n;return"translate("+l.toFixed(3)+" "+c.toFixed(3)+") rotate("+h.toFixed(1)+" 50 50)"}const h=[];h.push('<rect x="0" y="0" width="100%" height="100%" fill="'+l()+'" />');for(let e=0;e<t;e++)h.push('<rect x="0" y="0" width="100%" height="100%" transform="'+c(e)+'" fill="'+l()+'" />');return'<svg xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 100 100">'+h.join("")+"</svg>"}(e,t,r,s))}class hr extends jt{constructor(e,t){super("img.jazzicon"+e),this.domElement.src=cr(t)}}class ur extends jt{constructor(){super(".list-loading-bar")}}var dr=r(7820);class pr extends jt{animation;constructor(e,t){super(e+".lottie-animation"),this.animation=dr.loadAnimation({container:this.domElement,renderer:"svg",loop:!0,autoplay:!0,animationData:t})}delete(){this.animation.destroy(),super.delete()}}class fr extends jt{constructor(e){super("span.icon.material-icon.material-symbols-outlined.notranslate"),this.text=e}}const mr=new class{launch(){Xt.baseIconTag="span.icon.material-icon.material-symbols-outlined",Xt.createContent=e=>"x"===e?"close":"error"===e?"error":"warning"===e?"warning":"attachment"===e?"attach_file":"image"===e?"image":"section-menu"===e?"more_vert":"comment"===e?"comment":"repeat"===e?"repeat":"like"===e?"favorite_border":"back"===e?"arrow_back":e}};class gr extends jt{activated;constructor(e){super(".nav-bar"),this.append(e.logo?Kt("h1.logo",Kt("a",e.logo,{href:"/",click:e=>{e.preventDefault(),Nt.go("/")}})):void 0,...e.menu.map((e=>Kt(`a.menu.${e.id}`,e.icon,e.title,{href:e.uri,click:t=>{t.preventDefault(),Nt.go(e.uri)}}))))}active(e){this.activated?.deleteClass("active"),this.activated=this.children.find((t=>t.hasClass(e)))?.addClass("active")}}class yr extends Mt{constructor(e){super(".popup-background.exitable-fragment"),!0===e.barrierDismissible&&this.onDom("click",(e=>{e.target===this.domElement&&this.delete()})),Dt.append(this)}}var br;!function(e){e.Contained="contained",e.Text="text"}(br||(br={}));const vr=br;class wr extends jt{timeoutId;constructor(e){super(".snackbar"),this.append(Kt("main",Kt("p",e.message),e.action?new rr({tag:".action",type:vr.Text,title:e.action.title,click:()=>{e.action?.click(),this.delete()}}):void 0,new rr({tag:".close",type:vr.Text,icon:new er("x"),click:()=>this.delete()}))),Dt.append(this),this.timeoutId=setTimeout((()=>this.delete()),5e3)}delete(){clearTimeout(this.timeoutId),super.delete()}}class Ar extends yr{content;resolve;reject;constructor(e,t,r){super({barrierDismissible:!0}),this.append(this.content=new jt(".popup.confirm",Kt("header",Kt("h1",e.icon,e.title)),Kt("main",Kt("p",e.message)),Kt("footer",new rr({type:vr.Text,tag:".cancel-button",click:()=>{r&&r(),this.delete()},title:e.cancelTitle??$t("cancel-button")}),new rr({type:vr.Contained,tag:".confirm-button",click:async(e,r)=>{r.loading=!0;try{await t(),this.resolve?.(),this.reject=void 0,this.delete()}catch(e){console.error(e),r.loading=!1,this.reject?.()}},title:e.confirmTitle??$t("confirm-button")})))),this.on("delete",(()=>this.reject?.()))}async wait(){return new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class kr extends yr{content;constructor(e){super({barrierDismissible:!0}),this.append(this.content=new jt(".popup.error-alert",Kt("header",Kt("h1",new er("error"),e.title)),Kt("main",Kt("p",e.message)),Kt("footer",new rr({type:vr.Text,tag:".confirm-button",title:e.confirmTitle??"OK",click:()=>this.delete()}))))}}class Er extends jt{input;previousValue="";constructor(e){super("label.input"+(!0===e.disabled?".disabled":"")+(!0===e.required?".required":"")+(e.tag??"")),this.addAllowedEvents("change"),this.append(e.label,this.input=Kt(!0===e.multiline?"textarea":"input",{placeholder:e.placeholder,disabled:!0===e.disabled?"disabled":void 0,keyup:()=>{this.value!==this.previousValue&&(this.fireEvent("change"),this.previousValue=this.value)}})),void 0!==e.value&&(this.value=e.value)}get value(){return this.input.domElement.value}set value(e){this.input.domElement.value!==e&&(this.input.domElement.value=e,this.fireEvent("change"))}select(){this.input.domElement.select()}}const xr={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Pr;const Cr=new Uint8Array(16);function Sr(){if(!Pr&&(Pr="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Pr))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Pr(Cr)}const Ir=[];for(let e=0;e<256;++e)Ir.push((e+256).toString(16).slice(1));function _r(e,t=0){return Ir[e[t+0]]+Ir[e[t+1]]+Ir[e[t+2]]+Ir[e[t+3]]+"-"+Ir[e[t+4]]+Ir[e[t+5]]+"-"+Ir[e[t+6]]+Ir[e[t+7]]+"-"+Ir[e[t+8]]+Ir[e[t+9]]+"-"+Ir[e[t+10]]+Ir[e[t+11]]+Ir[e[t+12]]+Ir[e[t+13]]+Ir[e[t+14]]+Ir[e[t+15]]}const Tr=function(e,t,r){if(xr.randomUUID&&!t&&!e)return xr.randomUUID();const s=(e=e||{}).random||(e.rng||Sr)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=s[e];return t}return _r(s)};class Mr extends jt{_value;_options=[];valueDisplay;optionContainer;constructor(e){super(".select"),this.addAllowedEvents("change"),this.append(Kt("label",e.label,{click:()=>this.valueDisplay.fireDomEvent("mousedown")}),this.valueDisplay=Kt(".value"),this.optionContainer=Kt(".option-container")),e.placeholder&&this.valueDisplay.domElement.setAttribute("data-empty-message",e.placeholder),this.valueDisplay.onDom("mousedown",(e=>{e.stopPropagation(),this.toggleClass("open")})),this.onWindow("mousedown",(()=>this.deleteClass("open"))),this.options=e.options}get value(){return this._value}set value(e){if(this._value===e)return;this.valueDisplay.empty();const t=this._options.find((t=>t.value===e))?.dom.clone();t&&this.valueDisplay.append(t),(t||void 0===e)&&(this._value=e,this.fireEvent("change",e))}get options(){return this._options}set options(e){this._options=e,this.optionContainer.empty();for(const t of e)t.dom.clone().appendTo(this.optionContainer).onDom("mousedown",(()=>this.value=t.value));this.value=this._value}}class Dr extends jt{constructor(e,t){super(e.tag+".file-drop-area"),e.contenteditable&&(this.domElement.contentEditable="true",this.onDom("paste",(e=>{e.preventDefault();const t=e.clipboardData?.getData("text/plain");document.execCommand("insertText",!1,t)}))),this.onDom("dragenter",(e=>{e.preventDefault(),this.highlight()})),this.onDom("dragover",(e=>{e.preventDefault(),e.dataTransfer.dropEffect="copy",this.highlight()})),this.onDom("dragleave",(()=>this.unhighlight())),this.onDom("drop",(e=>{e.preventDefault(),t(Array.from(e.dataTransfer.files)),this.unhighlight()}))}highlight(){this.addClass("highlight")}unhighlight(){this.deleteClass("highlight")}}const Br=JSON.parse('{"nm":"Load Fae 2","ddd":0,"h":640,"w":640,"meta":{"g":"@lottiefiles/toolkit-js 0.33.2"},"layers":[{"ty":0,"nm":"Image Reverse","sr":1,"st":0,"op":120,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[84,84,0],"ix":1},"s":{"a":0,"k":[202.381,202.381,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[320,320,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[10],"t":0},{"s":[45],"t":119}],"ix":11}},"ef":[],"w":168,"h":168,"refId":"comp_0","ind":1},{"ty":0,"nm":"Faded","sr":1,"st":0,"op":120,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[84,84,0],"ix":1},"s":{"a":0,"k":[205,205,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[320,320,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":26,"ix":11}},"ef":[],"w":168,"h":168,"refId":"comp_1","ind":2},{"ty":4,"nm":"Shape Layer 1","sr":1,"st":0,"op":120,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[-75.008,597.195,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Rectangle 1","ix":1,"cix":2,"np":3,"it":[{"ty":"rc","bm":0,"hd":false,"mn":"ADBE Vector Shape - Rect","nm":"Rectangle Path 1","d":1,"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"s":{"a":0,"k":[506.453,927.828],"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":1,"lj":1,"ml":4,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"c":{"a":0,"k":[1,1,1],"ix":3}},{"ty":"fl","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[0.2667,0.2667,0.2667],"ix":4},"r":1,"o":{"a":0,"k":100,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[218.041,213.52],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[395.008,354.805],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":3}],"v":"5.1.16","fr":60,"op":120,"ip":0,"assets":[{"nm":"","id":"comp_0","layers":[{"ty":3,"nm":"Ã¢ÂÂ½ Mountain","sr":1,"st":0,"op":120,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[24,63,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"ind":1},{"ty":4,"nm":"Path 3","sr":1,"st":0,"op":120,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[28.515,16.515,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[91.515,40.545,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[19.01,11.01],[7.99,0],[0,8.02]]},"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"c":{"a":0,"k":[0.5922,0.5922,0.5922],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]},{"ty":"tm","bm":0,"hd":false,"mn":"ADBE Vector Filter - Trim","nm":"Trim Paths 1","ix":2,"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"s":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[100],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0],"t":55},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[100],"t":119},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0],"t":174},{"s":[100],"t":239}],"ix":1},"m":1}],"ind":2,"parent":1},{"ty":4,"nm":"Path 2","sr":1,"st":0,"op":120,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[35.505,17.85,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[35.835,20.7,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":3,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[23.67,11.9],[12.88,0],[0,11.9]]},"ix":2}},{"ty":"tm","bm":0,"hd":false,"mn":"ADBE Vector Filter - Trim","nm":"Trim Paths 1","ix":2,"e":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[100],"t":55},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0],"t":119},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[100],"t":174},{"s":[0],"t":239}],"ix":2},"o":{"a":0,"k":0,"ix":3},"s":{"a":0,"k":0,"ix":1},"m":1},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"c":{"a":0,"k":[0.5922,0.5922,0.5922],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":3,"parent":1},{"ty":3,"nm":"Ã¢ÂÂ½ Sun","sr":1,"st":0,"op":120,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[105,54,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"ind":4},{"ty":4,"nm":"Sun","sr":1,"st":0,"op":120,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[9,9,0],"ix":1},"s":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0,0,100],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[150,150,100],"t":29},{"o":{"x":0.333,"y":0},"i":{"x":0.833,"y":0.833},"s":[30,30,100],"t":44},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[100,100,100],"t":55},{"o":{"x":0.333,"y":0},"i":{"x":0.833,"y":0.833},"s":[30,30,100],"t":66},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[150,150,100],"t":80},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0,0,100],"t":119},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[150,150,100],"t":148},{"o":{"x":0.333,"y":0},"i":{"x":0.833,"y":0.833},"s":[30,30,100],"t":163},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[100,100,100],"t":174},{"o":{"x":0.333,"y":0},"i":{"x":0.833,"y":0.833},"s":[30,30,100],"t":185},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[150,150,100],"t":199},{"s":[0,0,100],"t":239}],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[9,9,0],"ix":2},"r":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0],"t":0},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":1},"s":[720],"t":44},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[720],"t":66},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0],"t":119},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":1},"s":[720],"t":163},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[720],"t":185},{"s":[0],"t":239}],"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[-1.66,0],[0,-1.66],[1.66,0],[0,1.66]],"o":[[1.66,0],[0,1.66],[-1.66,0],[0,-1.66]],"v":[[3,0],[6,3],[3,6],[0,3]]},"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":1,"ml":4,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"c":{"a":0,"k":[0.5922,0.5922,0.5922],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]},{"ty":"tm","bm":0,"hd":false,"mn":"ADBE Vector Filter - Trim","nm":"Trim Paths 1","ix":2,"e":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[1],"t":0},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":1},"s":[99],"t":49},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[99],"t":61},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[1],"t":119},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":1},"s":[99],"t":168},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[99],"t":180},{"s":[1],"t":239}],"ix":2},"o":{"a":0,"k":0,"ix":3},"s":{"a":0,"k":0,"ix":1},"m":1}],"ind":5,"parent":4},{"ty":4,"nm":"Inner.F","sr":1,"st":0,"op":121,"ip":0,"hd":false,"cl":"F","ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[84,84,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"cl":"F","hd":false,"mn":"ADBE Vector Group","nm":"Inner.F","ix":1,"cix":2,"np":2,"it":[{"ty":"rc","bm":0,"hd":false,"mn":"ADBE Vector Shape - Rect","nm":"Rectangle Path 1","d":1,"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"s":{"a":0,"k":[40,32],"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"c":{"a":0,"k":[0.5922,0.5922,0.5922],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]},{"ty":"tm","bm":0,"hd":false,"mn":"ADBE Vector Filter - Trim","nm":"Trim Paths 1","ix":2,"e":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[1],"t":0},{"s":[100],"t":119}],"ix":2},"o":{"a":0,"k":148,"ix":3},"s":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0.9],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[16],"t":23},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[27],"t":61},{"s":[99.9],"t":119}],"ix":1},"m":1}],"ind":6},{"ty":4,"nm":"Outer.F","sr":1,"st":0,"op":120,"ip":0,"hd":false,"cl":"F","ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[84,84,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"cl":"F","hd":false,"mn":"ADBE Vector Group","nm":"Outer.F","ix":1,"cix":2,"np":2,"it":[{"ty":"rc","bm":0,"hd":false,"mn":"ADBE Vector Shape - Rect","nm":"Rectangle Path 1","d":3,"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"s":{"a":0,"k":[48,40],"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":1,"ml":4,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"c":{"a":0,"k":[0.5922,0.5922,0.5922],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]},{"ty":"tm","bm":0,"hd":false,"mn":"ADBE Vector Filter - Trim","nm":"Trim Paths 1","ix":2,"e":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0.1],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[99.9],"t":119},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[100],"t":174},{"s":[29],"t":239}],"ix":2},"o":{"a":0,"k":107,"ix":3},"s":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0.2],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[8],"t":7},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[67.214],"t":45},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[100],"t":119},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[99.9],"t":174},{"s":[26],"t":239}],"ix":1},"m":1}],"ind":7}]},{"nm":"","id":"comp_1","layers":[{"ty":3,"nm":"Ã¢ÂÂ½ Mountain","sr":1,"st":0,"op":121,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[24,63,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"ind":1},{"ty":4,"nm":"Path 3","sr":1,"st":0,"op":121,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[28.515,16.515,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[91.515,40.545,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[0,8.02],[7.99,0],[19.01,11.01]]},"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"c":{"a":0,"k":[0.5922,0.5922,0.5922],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]},{"ty":"tm","bm":0,"hd":false,"mn":"ADBE Vector Filter - Trim","nm":"Trim Paths 1","ix":2,"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"s":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[100],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0],"t":55},{"s":[100],"t":119}],"ix":1},"m":1}],"ind":2,"parent":1},{"ty":4,"nm":"Path 2","sr":1,"st":0,"op":121,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[35.505,17.85,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[35.835,20.7,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":3,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[0,11.9],[12.88,0],[23.67,11.9]]},"ix":2}},{"ty":"tm","bm":0,"hd":false,"mn":"ADBE Vector Filter - Trim","nm":"Trim Paths 1","ix":2,"e":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[100],"t":55},{"s":[0],"t":119}],"ix":2},"o":{"a":0,"k":0,"ix":3},"s":{"a":0,"k":0,"ix":1},"m":1},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"c":{"a":0,"k":[0.5922,0.5922,0.5922],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":3,"parent":1},{"ty":3,"nm":"Ã¢ÂÂ½ Sun","sr":1,"st":0,"op":121,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[105,54,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"ind":4},{"ty":4,"nm":"Sun","sr":1,"st":0,"op":121,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[9,9,0],"ix":1},"s":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0,0,100],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[150,150,100],"t":29},{"o":{"x":0.333,"y":0},"i":{"x":0.833,"y":0.833},"s":[30,30,100],"t":44},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[100,100,100],"t":55},{"o":{"x":0.333,"y":0},"i":{"x":0.833,"y":0.833},"s":[30,30,100],"t":66},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[150,150,100],"t":80},{"s":[0,0,100],"t":119}],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[9,9,0],"ix":2},"r":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0],"t":0},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":1},"s":[720],"t":44},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[720],"t":66},{"s":[0],"t":119}],"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[1.66,0],[0,-1.66],[-1.66,0],[0,1.66]],"o":[[-1.66,0],[0,1.66],[1.66,0],[0,-1.66]],"v":[[3,0],[0,3],[3,6],[6,3]]},"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":1,"ml":4,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"c":{"a":0,"k":[0.5922,0.5922,0.5922],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]},{"ty":"tm","bm":0,"hd":false,"mn":"ADBE Vector Filter - Trim","nm":"Trim Paths 1","ix":2,"e":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[1],"t":0},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":1},"s":[99],"t":49},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[99],"t":61},{"s":[1],"t":119}],"ix":2},"o":{"a":0,"k":0,"ix":3},"s":{"a":0,"k":0,"ix":1},"m":1}],"ind":5,"parent":4},{"ty":4,"nm":"Inner.F 2","sr":1,"st":-2,"op":119,"ip":-2,"hd":false,"cl":"F","ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[84,84,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"cl":"F","hd":false,"mn":"ADBE Vector Group","nm":"Inner.F","ix":1,"cix":2,"np":2,"it":[{"ty":"rc","bm":0,"hd":false,"mn":"ADBE Vector Shape - Rect","nm":"Rectangle Path 1","d":1,"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"s":{"a":0,"k":[40,32],"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"c":{"a":0,"k":[0.5922,0.5922,0.5922],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":90,"ix":7}}]}],"ind":6},{"ty":4,"nm":"Outer.F","sr":1,"st":0,"op":121,"ip":0,"hd":false,"cl":"F","ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[84,84,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"cl":"F","hd":false,"mn":"ADBE Vector Group","nm":"Outer.F","ix":1,"cix":2,"np":2,"it":[{"ty":"rc","bm":0,"hd":false,"mn":"ADBE Vector Shape - Rect","nm":"Rectangle Path 1","d":3,"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"s":{"a":0,"k":[48,40],"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":1,"ml":4,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"c":{"a":0,"k":[0.5922,0.5922,0.5922],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]},{"ty":"tm","bm":0,"hd":false,"mn":"ADBE Vector Filter - Trim","nm":"Trim Paths 1","ix":2,"e":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[99.9],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[50],"t":45},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[24],"t":72},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0.09],"t":119},{"s":[24],"t":191}],"ix":2},"o":{"a":0,"k":0,"ix":3},"s":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[100],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[54],"t":45},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[36],"t":72},{"s":[1],"t":119}],"ix":1},"m":1}],"ind":7}]}]}');class Or extends jt{static NOT_FOUND_IMAGE="/images/image-not-found.png";constructor(e){if(super(".rich-display"),this.addAllowedEvents("imageLoaded"),e.files)for(const t of e.files)if(t.fileType.startsWith("image/")){let e=!1;const r=new pr(".image-loading-animation",Br),s=Kt("img.hidden",{src:t.url,alt:t.fileName,load:()=>{this.deleted||(s.deleteClass("hidden"),this.fireEvent("imageLoaded",s.domElement.height),r.delete())}});s.domElement.onerror=()=>{s.deleteClass("hidden"),s.domElement.onerror=null,s.domElement.src=Or.NOT_FOUND_IMAGE,e=!0,r.delete()},this.append(Kt(".image-container",Kt("a",s,r,{click:r=>{r.stopPropagation(),e||this.openImage(t)}})))}}openImage(e){window.open(e.url,"_blank")}}class Fr extends jt{toUploadFiles=[];uploadPreviewArea;constructor(e){super(e+".upload-form")}uploadInput=Kt("input.upload",{type:"file",multiple:!0,change:()=>{const e=this.uploadInput.domElement.files;e&&this.appendFiles(Array.from(e)),this.uploadInput.domElement.value=""}});openFileSelector(){this.uploadInput.domElement.click()}appendFiles(e){this.toUploadFiles.push(...e);for(const t of e)this.appendPreview(t)}appendPreview(e){if(this.uploadPreviewArea){const t=Kt("a.preview",Kt("button.x",new er("x"),{click:r=>{r.preventDefault(),this.toUploadFiles=this.toUploadFiles.filter((t=>t!==e)),t.delete()}}),{href:URL.createObjectURL(e),download:e.name,target:"_blank"}).appendTo(this.uploadPreviewArea);e.type.startsWith("image/")?t.addClass("image").style({backgroundImage:`url(${URL.createObjectURL(e)})`}):t.addClass("file").append(e.name)}}clearUploads(){this.toUploadFiles=[],this.uploadPreviewArea?.empty()}}class Nr extends jt{_id;constructor(e,t){super("li.tab"),this._id=e,this.append(...Array.isArray(t)?t:[t])}set active(e){e?this.addClass("active"):this.deleteClass("active")}get active(){return this.hasClass("active")}}class Rr extends jt{children=[];store;constructor(e,t){super("ul.tabs"),this.addAllowedEvents("select"),this.store=new Qt(`tabs-${e}`);for(const e of t){const t=new Nr(e.id,e.label);t.onDom("click",(()=>this.select(e.id))),this.append(t)}}init(e){if(e)this.select(e);else if(this.store.get("selected"))this.select(this.store.get("selected"));else{const e=this.children[0]?._id;e&&this.select(e)}return this}select(e){let t=!1;for(const r of this.children)r._id===e?(r.active=!0,t=!0):r.active&&(r.active=!1);if(t)this.store.set("selected",e,!0),this.fireEvent("select",e);else{const e=this.children[0]?._id;e&&this.select(e)}}}class Lr extends It{tableName;selectQuery;fetchLimit;constructor(e,t,r){super(),this.tableName=e,this.selectQuery=t,this.fetchLimit=r}async safeSelect(e){const t=await _t.safeFetch(this.tableName,(t=>e(t.select(this.selectQuery).limit(this.fetchLimit))));return t??[]}async safeSelectSingle(e){const t=await _t.safeFetch(this.tableName,(t=>e(t.select(this.selectQuery).limit(1))));return t?.[0]}async safeExists(e){const{data:t,error:r}=await e(_t.client.from(this.tableName).select("*").limit(1));if(r)throw r;return t.length>0}async safeInsert(e){const{error:t}=await _t.client.from(this.tableName).insert(e);if(t)throw t}async safeInsertAndSelect(e){const t=await _t.safeFetch(this.tableName,(t=>t.insert(e).select(this.selectQuery).single()));return t}async safeUpdate(e,t){const{error:r}=await e(_t.client.from(this.tableName).update(t));if(r)throw r}async safeDelete(e){const{error:t}=await e(_t.client.from(this.tableName).delete());if(t)throw t}}const Ur=new class{async _uploadFile(e,t,r){const{data:s,error:n}=await _t.client.storage.from(e).upload(`${t}/${Tr()}_${r.name.replace(/[^(\w\/!-.*'() &@$=;:+,?)]/g,"")}`,r,{cacheControl:"31536000"});if(n)throw n;return s.path}async createSignedUrl(e,t,r){const{data:s,error:n}=await _t.client.storage.from(e).createSignedUrl(t,r);if(n)throw n;return s.signedUrl}async uploadAttachment(e,t,r,s){return await this.createSignedUrl(e,await this._uploadFile(e,t,r),s)}async uploadFile(e,t,r){const s=await this._uploadFile(e,t,r);return _t.client.storage.from(e).getPublicUrl(s).data.publicUrl}};class jr extends Lr{async fetchUser(e){return await this.safeSelectSingle((t=>t.eq("user_id",e)))}async fetchNewUsers(e){return await this.safeSelect((t=>t.order("created_at",{ascending:!1}).gt("created_at",e??Lt)))}async findUsers(e,t){return await this.safeSelect((r=>r.or(`display_name.ilike.%${e}%`).gt("created_at",t??Lt)))}async fetchFollowingUsers(e,t){const{data:r,error:s}=await _t.client.rpc("get_following_users",{p_user_id:e,last_fetched_followed_at:t,max_count:this.fetchLimit});if(s)throw s;return r&&r.length>0&&(t=r[r.length-1].followed_at),{users:_t.safeResult(r??[]),lastFetchedFollowedAt:t}}async fetchFollowers(e,t){const{data:r,error:s}=await _t.client.rpc("get_followers",{p_user_id:e,last_fetched_followed_at:t,max_count:this.fetchLimit});if(s)throw s;return r&&r.length>0&&(t=r[r.length-1].followed_at),{users:_t.safeResult(r??[]),lastFetchedFollowedAt:t}}}class Gr{closed=!1;container;changeParams(e,t,r){}close(){this.container?.delete(),this.closed=!0}}class Vr{static checkEmailAccess(){let e=new URLSearchParams(location.search).get("error_description");e&&("Error getting user email from external provider"===e&&(e=$t("getting-email-from-x-error-message")),new kr({title:$t("error-alert-title"),message:e}))}}class zr{static NOT_FOUND_USER_IMAGE="/images/unknown-user.png";static async selectLoadable(e,t){for(const r of t)if(r)try{if((await fetch(r,{method:"HEAD"})).ok&&!e.deleted)return void e.style({backgroundImage:`url('${r}')`})}catch(e){console.error("Error fetching image:",e)}e.deleted||e.style({backgroundImage:`url('${zr.NOT_FOUND_USER_IMAGE}')`}),console.warn("No valid images found")}}const Qr=new class{format(e){if(e===Ut)return"";const t=e instanceof Date?e:new Date(e);return new Intl.DateTimeFormat(Ht.language,{year:"numeric",month:"short",day:"numeric"}).format(t)}fromNow(e){const t=e instanceof Date?e:new Date(e),r=(new Date).getTime()-t.getTime(),s=Math.round(r/1e3),n=Math.round(s/60),i=Math.round(n/60),a=Math.round(i/24),o=Math.round(a/7),l=Math.round(a/30),c=Math.round(a/365),h=new Intl.RelativeTimeFormat(Ht.language,{numeric:"auto"});return Math.abs(c)>0?h.format(-c,"year"):Math.abs(l)>0?h.format(-l,"month"):Math.abs(o)>0?h.format(-o,"week"):Math.abs(a)>0?h.format(-a,"day"):Math.abs(i)>0?h.format(-i,"hour"):Math.abs(n)>0?h.format(-n,"minute"):h.format(-s,"second")}};new class{checkEqual(e,t){if(e===t)return!0;if("object"!=typeof e||"object"!=typeof t||null==e||null==t)return!1;let r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(let n of r)if(!s.includes(n)||!this.checkEqual(e[n],t[n]))return!1;return!0}};const Hr=new class{shortenEthereumAddress(e){return 42===e.length&&e.startsWith("0x")?`${e.substring(0,6)}...${e.substring(38)}`:e}numberWithCommas(e,t){if(void 0===t||+ +e>Number.MAX_SAFE_INTEGER){const t=e.split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),"0"===t[1]?t[0]:t.join(".")}const r=String(+(+e).toFixed(t)).split(".");return r[0]=r[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),r.join(".")}},Kr={"post-form-post-button":"Post","post-form-posting-button":"Posting...","global-post-list-empty-message":"No posts yet","following-post-list-empty-message":"No posts from followed users yet","getting-email-from-x-error-message":"Error getting user email from external provider. Please add an email in your X account settings and allow email access.\n","message-too-long-alert-title":"Message Length Exceeded","message-too-long-alert-message":"Your message is too long. The maximum allowed length is {maxLength} characters. Please shorten your message."};class qr extends Mt{constructor(e,...t){super(e+".social-component"),this.append(...t)}static loadMessages(){$t.setMessages({en:Kr,zh:null,"zh-tw":null,"zh-hk":null,ja:null})}}class Wr extends Fr{form;input;nextTempId=0;sendButton;constructor(e,t=!0){super(e+".chat-message-form.social-component"),this.addAllowedEvents("messageSending","messageSent"),this.append(this.uploadPreviewArea=Kt(".upload-preview-area"),Kt("main",Kt("section.rich",Kt("button",new er("attachment"),{click:()=>this.openFileSelector()})),this.form=Kt("form",Kt(".input-container",this.input=new Dr({tag:"p.message-input",contenteditable:!0},(e=>this.appendFiles(e))),{click:()=>this.input.domElement.focus()}),this.sendButton=new rr({tag:".send",title:"Send"}),{submit:e=>{e.preventDefault();const t=this.input.domElement.innerText;t&&(this._sendMessage(t,this.toUploadFiles),this.input.domElement.innerText="",this.clearUploads())}}))),this.input.onDom("keydown",(e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),this.form.fireDomEvent("submit"))})),t&&this.on("visible",(()=>this.input.domElement.focus()))}async _sendMessage(e,t){if(e.length>1e3)return void new kr({title:$t("message-too-long-alert-title"),message:$t("message-too-long-alert-message",{maxLength:1e3})});const r=this.nextTempId-=1;this.fireEvent("messageSending",r,e,t);const s=await this.sendMessage(e,t);this.fireEvent("messageSent",r,s)}}class Jr extends qr{richDisplay;constructor(e,t,r){super(".chat-message-display"),this.addAllowedEvents("imageLoaded"),this.append(Kt("p.message",e.message),e.rich?this.richDisplay=new Or(e.rich):void 0),this.richDisplay?.on("imageLoaded",(e=>this.fireEvent("imageLoaded",e)))}}class Yr extends qr{messages;options;interactions;firstMessage;main;constructor(e,t,r){if(super(".chat-message-list-item"),this.messages=e,this.options=t,this.interactions=r,this.addAllowedEvents("imageLoaded"),this.firstMessage=e[0],this.firstMessage){const s=Kt(".author-avatar",{click:e=>this.goAuthorProfile(e)});zr.selectLoadable(s,[this.firstMessage.author?.avatar_thumb,this.firstMessage.author?.stored_avatar_thumb,this.firstMessage.external_author_avatar]);const n=Kt(".author",Kt(".name",this.firstMessage.author?this.firstMessage.author.display_name:this.firstMessage.external_author_name,{click:e=>this.goAuthorProfile(e)}),this.firstMessage.source?r.getSourceLabel(this.firstMessage.source):void 0),i=Kt(".date",Qr.fromNow(this.firstMessage.created_at)),a=e.map((e=>this.createDisplay(e)));this.firstMessage.author&&this.firstMessage.author.user_id===t.signedUserId?this.append(this.main=Kt("main",Kt("header",i,n),...a),s).addClass("authored"):this.append(s,this.main=Kt("main",Kt("header",n,i),...a))}}goAuthorProfile(e){e.stopPropagation();const t=this.messages[0];t?.author&&this.interactions.openAuthorProfile(t.author)}createDisplay(e){const t=new Jr(e,{owner:void 0!==this.options.signedUserId&&void 0!==e.author&&e.author.user_id===this.options.signedUserId},this.interactions);return t.on("imageLoaded",(e=>this.fireEvent("imageLoaded",e))),t}addMessage(e,t){if(this.main){const r=this.createDisplay(e).appendTo(this.main);r.addClass("new"),t&&r.addClass("wait")}}}class Zr extends qr{options;interactions;store;addedMessageIds=[];constructor(e,t,r,s){super(e+".chat-message-list"),this.options=t,this.interactions=r,this.store=new Qt(t.storeName),this.domElement.setAttribute("data-empty-message",t.emptyMessage);const n=this.store.get("cached-messages");if(n&&n.length>0){const e=this.groupMessagesByAuthor(n);for(const s of e)this.append(new Yr(s,{signedUserId:t.signedUserId},r));this.on("visible",(()=>{this.scrollToBottom(),setTimeout((()=>{this.deleted||this.scrollToBottom()}))}))}else this.append(s);setTimeout((()=>this.refresh()))}async refresh(){this.append(new ur);const e=(await this.fetchMessages()).reverse();if(this.store.set("cached-messages",e,!0),!this.deleted){this.empty();const t=this.groupMessagesByAuthor(e);for(const e of t)this.addItem(e);this.scrollToBottom()}}groupMessagesByAuthor(e){const t=[];let r=[],s=null,n=null;for(const i of e){const e=new Date(i.created_at),a=i.author?i.author.user_id:i.external_author_id;(a!==s||n&&e.getTime()-n.getTime()>=6e4)&&(r.length>0&&t.push(r),r=[]),r.push(i),s=a,n=e}return r.length>0&&t.push(r),t}addItem(e){const t=new Yr(e,{signedUserId:this.options.signedUserId},this.interactions).appendTo(this);return t.on("imageLoaded",(e=>{this.scrolledToBottom(e)&&this.scrollToBottom()})),t}addNewItem(e,t,r){const s=this.children.length?this.children[this.children.length-1]:void 0;if((s?.firstMessage?.author?s.firstMessage.author.user_id:s?.firstMessage?.external_author_id)!==(e.author?e.author.user_id:e.external_author_id)){const r=this.addItem([e]);r.addClass("new"),t&&r.addClass("wait")}else s&&s.addMessage(e,t);(r||this.scrolledToBottom())&&this.scrollToBottom()}messageSending(e,t,r,s,n){this.addNewItem({id:e,source:t,author:r,message:s,rich:{files:n.map((e=>({fileName:e.name,fileSize:e.size,fileType:e.type,url:URL.createObjectURL(e)})))},created_at:(new Date).toISOString()},!0,!0)}messageSent(e,t){this.addedMessageIds.push(t)}addNewMessage(e){this.addedMessageIds.includes(e.id)||(this.addNewItem(e),this.addedMessageIds.push(e.id));const t=this.store.get("cached-messages")??[];t.push(e),this.store.set("cached-messages",t,!0)}scrolledToBottom(e=0){return this.domElement.scrollTop>=this.domElement.scrollHeight-this.domElement.clientHeight-100-e}scrollToBottom(){this.domElement.scrollTo(0,this.domElement.scrollHeight)}}const $r="*, author(user_id, display_name, avatar, avatar_thumb, stored_avatar, stored_avatar_thumb, x_username)";var Xr;!function(e){e[e.FOLLOW=0]="FOLLOW",e[e.POST_LIKE=1]="POST_LIKE",e[e.REPOST=2]="REPOST",e[e.POST_COMMENT=3]="POST_COMMENT",e[e.POST_TAG=4]="POST_TAG"}(Xr||(Xr={}));const es=$r;const ts=new class extends Lr{followeeIds=new Set;constructor(){super("follows","*",1e3),this.addAllowedEvents("follow","unfollow")}async fetchSignedUserFollows(e){const t=await this.safeSelect((t=>t.eq("follower_id",e)));for(const e of t)this.followeeIds.add(e.followee_id)}follow(e){this.followeeIds.add(e),this.fireEvent("follow",e),this.safeInsert({followee_id:e})}unfollow(e){this.followeeIds.delete(e),this.fireEvent("unfollow",e),this.safeDelete((t=>t.eq("followee_id",e)))}isFollowing(e){return this.followeeIds.has(e)}toggleFollow(e){this.isFollowing(e)?this.unfollow(e):this.follow(e)}};class rs extends Lr{constructor(e,t,r){super(e,t,r),this.addAllowedEvents("deleteMessage")}async fetchMessage(e){return await this.safeSelectSingle((t=>t.eq("id",e)))}async deleteMessage(e){await this.safeDelete((t=>t.eq("id",e))),this.fireEvent("deleteMessage",e)}}class ss extends qr{post;postService;interactions;reposted;liked;repostCountDisplay;likeCountDisplay;constructor(e,t,r,s){super(".post-display"+(r.inView?".in-view":"")+(r.new?".new":"")),this.post=e,this.postService=t,this.interactions=s,this.reposted=r.reposted,this.liked=r.liked,this.addAllowedEvents("like","unlike","repost","unrepost");const n=Kt(".author-avatar",{click:e=>this.goAuthorProfile(e)});zr.selectLoadable(n,[e.author.avatar_thumb,e.author.stored_avatar_thumb]);const i=Kt(".author",Kt(".name",e.author.display_name,{click:e=>this.goAuthorProfile(e)}),e.author.x_username?Kt(".x-username",`@${e.author.x_username}`,{click:e=>this.goAuthorProfile(e)}):void 0),a=e.target_details?s.displayTarget(e):void 0,o=r.owner?Kt("button.owner-menu",new er("section-menu"),{click:(e,t)=>this.openOwnerMenu(e,t)}):void 0,l=Kt(".message",e.message),c=e.rich?new Or(e.rich):void 0,h=Kt(".date",Qr.fromNow(e.created_at)),u=Kt(".actions",Kt("button.comment",new er("comment"),String(e.comment_count),{click:e=>this.openCommentPopup(e)}),Kt("button.repost"+(this.reposted?".reposted":""),new er("repeat"),this.repostCountDisplay=Kt("span",String(e.repost_count)),{click:(e,t)=>this.repost(e,t)}),Kt("button.like"+(this.liked?".liked":""),new er("like"),this.likeCountDisplay=Kt("span",String(e.like_count)),{click:(e,t)=>this.like(e,t)}));r.inView?this.append(Kt("header",n,i,a,o),l,c,h,u):this.append(n,Kt("main",Kt("header",i,a,o),l,c,h,u)).onDom("click",(()=>s.openPostView(e))),this.onDelegate(t,"deleteMessage",(t=>{t===e.id&&this.delete()}))}goAuthorProfile(e){e.stopPropagation(),this.interactions.openAuthorProfile(this.post.author)}openOwnerMenu(e,t){e.stopPropagation(),this.interactions.openOwnerMenu(this.post.id,t.rect)}openCommentPopup(e){e.stopPropagation(),this.interactions.openCommentPopup(this.post)}repost(e,t){e.stopPropagation(),this.postService.checkSigned(),this.reposted?(this.postService.unrepost(this.post.id),this.repostCountDisplay.text=String(this.post.repost_count-=1),this.reposted=!1,t.deleteClass("reposted"),this.fireEvent("unrepost")):(this.postService.repost(this.post.id),this.repostCountDisplay.text=String(this.post.repost_count+=1),this.reposted=!0,t.addClass("reposted"),this.fireEvent("repost"))}like(e,t){e.stopPropagation(),this.postService.checkSigned(),this.liked?(this.postService.unlike(this.post.id),this.likeCountDisplay.text=String(this.post.like_count-=1),this.liked=!1,t.deleteClass("liked"),this.fireEvent("unlike")):(this.postService.like(this.post.id),this.likeCountDisplay.text=String(this.post.like_count+=1),this.liked=!0,t.addClass("liked"),this.fireEvent("like"))}}class ns extends qr{postService;options;interactions;form;constructor(e,t,r,s,n){super(".post-thread"),this.postService=t,this.options=r,this.interactions=s,this.form=n,this.addAllowedEvents("like","unlike","repost","unrepost");let i=!0;for(const t of e){const e=this.addPostDisplay(t);t.id===r.mainPostId&&(i=!1,r.inView&&this.on("visible",(()=>{e.domElement.scrollIntoView()})),r.signedUserId&&n&&n.appendTo(this)),i&&e.addClass("parent")}}addPostDisplay(e,t){const r=new ss(e,this.postService,{inView:this.options.inView&&e.id===this.options.mainPostId,owner:void 0!==this.options.signedUserId&&e.author.user_id===this.options.signedUserId,reposted:this.options.repostedPostIds.includes(e.id),liked:this.options.likedPostIds.includes(e.id),new:this.options.newPostIds.includes(e.id)},this.interactions).appendTo(this,t);return["like","unlike","repost","unrepost"].forEach((t=>r.on(t,(()=>this.fireEvent(t,e.id))))),r}addComment(e){if(this.form){const t=this.children.findIndex((e=>e===this.form));this.addPostDisplay(e,t+1)}}}class is extends qr{constructor(e,t,r,s){super(".post-list-item"),this.addAllowedEvents("like","unlike","repost","unrepost");const n=new ns(e,t,r,s).appendTo(this);["like","unlike","repost","unrepost"].forEach((e=>n.on(e,(t=>this.fireEvent(e,t)))))}}class as extends qr{postService;options;interactions;store;refreshed=!1;lastPostId;constructor(e,t,r,s,n){if(super(e+".post-list"),this.postService=t,this.options=r,this.interactions=s,this.store=r.storeName?new Qt(r.storeName):void 0,this.domElement.setAttribute("data-empty-message",r.emptyMessage),this.store){const e=this.store.get("cached-posts"),t=this.store.get("cached-reposted-post-ids")??[],i=this.store.get("cached-liked-post-ids")??[];if(e&&e.length>0)for(const n of e)this.addPostItem(n.posts,{mainPostId:n.mainPostId,repostedPostIds:t,likedPostIds:i,newPostIds:[],signedUserId:r.signedUserId},s);else this.append(n)}else this.append(n)}addPostItem(e,t,r){const s=new is(e,this.postService,t,r).appendTo(this,0);["like","unlike","repost","unrepost"].forEach((e=>s.on(e,(t=>{if(this.store){const r=this.store.get("cached-posts")??[],s=this.store.get("cached-reposted-post-ids")??[],n=this.store.get("cached-liked-post-ids")??[];r.forEach((r=>{r.posts.forEach((r=>{if(r.id===t)switch(e){case"like":r.like_count++,n.push(t);break;case"unlike":r.like_count--;const e=n.indexOf(t);e>-1&&n.splice(e,1);break;case"repost":r.repost_count++,s.push(t);break;case"unrepost":r.repost_count--;const i=s.indexOf(t);i>-1&&s.splice(i,1)}}))})),this.store.set("cached-posts",r,!0),this.store.set("cached-reposted-post-ids",s,!0),this.store.set("cached-liked-post-ids",n,!0)}}))))}async refresh(){this.append(new ur);const e=this.store?.get("cached-posts")??[],{fetchedPosts:t,repostedPostIds:r,likedPostIds:s}=await this.fetchPosts(),n=t.reverse();if(this.store&&(this.store.set("cached-posts",n,!0),this.store.set("cached-reposted-post-ids",r,!0),this.store.set("cached-liked-post-ids",s,!0)),!this.deleted){const t=new Set(e.map((e=>e.mainPostId))),i=n.filter((e=>!t.has(e.mainPostId))).map((e=>e.mainPostId));this.empty();for(const e of n)this.addPostItem(e.posts,{mainPostId:e.mainPostId,repostedPostIds:r,likedPostIds:s,newPostIds:i,signedUserId:this.options.signedUserId},this.interactions);this.lastPostId=n[n.length-1]?.mainPostId,this.refreshed=!0}}addNewPost(e){const t=this.store?.get("cached-posts")??[];t.push({posts:[e],mainPostId:e.id}),this.store?.set("cached-posts",t,!0),this.addPostItem([e],{mainPostId:e.id,repostedPostIds:[],likedPostIds:[],newPostIds:[e.id],signedUserId:this.options.signedUserId},this.interactions)}async loadMore(){const{fetchedPosts:e,repostedPostIds:t,likedPostIds:r}=await this.fetchPosts();if(!this.deleted){const s=e.reverse(),n=s.map((e=>e.mainPostId));for(const e of s)this.addPostItem(e.posts,{mainPostId:e.mainPostId,repostedPostIds:t,likedPostIds:r,newPostIds:n,signedUserId:this.options.signedUserId},this.interactions);this.lastPostId=s[s.length-1]?.mainPostId}}show(){this.deleteClass("hidden"),this.lastPostId=void 0,this.refresh()}hide(){this.addClass("hidden")}}class os extends as{constructor(e,t,r,s){super(".following-post-list",e,{storeName:"following-posts",emptyMessage:$t("following-post-list-empty-message"),...t},r,s)}async fetchPosts(){const e=await this.postService.fetchFollowingPosts(this.options.signedUserId,this.lastPostId);return{fetchedPosts:e.posts.map((e=>({posts:[e],mainPostId:e.id}))),repostedPostIds:e.repostedPostIds,likedPostIds:e.likedPostIds}}}class ls extends as{constructor(e,t,r,s){super(".global-post-list",e,{storeName:"global-posts",emptyMessage:$t("global-post-list-empty-message"),...t},r,s),this.onDelegate(e,"newGlobalPost",(e=>this.addNewPost(e)))}async fetchPosts(){const e=await this.postService.fetchGlobalPosts(this.lastPostId,this.options.signedUserId);return{fetchedPosts:e.posts.map((e=>({posts:[e],mainPostId:e.id}))),repostedPostIds:e.repostedPostIds,likedPostIds:e.likedPostIds}}}class cs extends qr{post;constructor(e){super(".post-content-display"),this.post=e;const t=Kt(".author-avatar");zr.selectLoadable(t,[e.author.avatar_thumb,e.author.stored_avatar_thumb]);const r=Kt(".author",Kt(".name",e.author.display_name),e.author.x_username?Kt(".x-username",`@${e.author.x_username}`):void 0),s=Kt(".message",e.message);this.append(t,Kt("main",Kt("header",r),s))}}class hs extends Fr{input;postButton;constructor(e,t=!1){super(".post-form.social-component");const r=Kt(".author-avatar");zr.selectLoadable(r,e),this.append(Kt("main",r,Kt("form",this.input=new Dr({tag:"p.message-input",contenteditable:!0},(e=>this.appendFiles(e))),this.uploadPreviewArea=Kt(".upload-preview-area"))),Kt("footer",Kt("section.rich",Kt("button",new er("image"),{click:()=>this.openFileSelector()})),this.postButton=new rr({tag:".post",title:$t("post-form-post-button"),click:()=>this._post(this.input.domElement.innerText,this.toUploadFiles)}))),t&&this.on("visible",(()=>this.input.domElement.focus()))}async _post(e,t){if(e.length>2e3)new kr({title:$t("message-too-long-alert-title"),message:$t("message-too-long-alert-message",{maxLength:2e3})});else{this.postButton.disable().text=$t("post-form-posting-button");try{if(await this.post(e,t),this.deleted)return;this.input.domElement.innerText="",this.clearUploads()}catch(e){console.error(e)}this.postButton.enable().text=$t("post-form-post-button")}}}class us extends rs{repostTableName;likeTableName;constructor(e,t,r,s,n){super(e,s,n),this.repostTableName=t,this.likeTableName=r,this.addAllowedEvents("newGlobalPost")}notifyNewGlobalPost(e){this.fireEvent("newGlobalPost",e)}enhancePostData(e){const t=_t.safeResult(e),r=[],s=[];for(const e of t)e.author={user_id:e.author,display_name:e.author_display_name,avatar:e.author_avatar,avatar_thumb:e.author_avatar_thumb,stored_avatar:e.author_stored_avatar,stored_avatar_thumb:e.author_stored_avatar_thumb,x_username:e.author_x_username},e.reposted&&r.push(e.id),e.liked&&s.push(e.id);return{posts:t,repostedPostIds:r,likedPostIds:s}}async fetchPost(e,t,r){const{data:s,error:n}=await _t.client.rpc("get_post_and_comments",{p_post_id:e,last_comment_id:t,max_comment_count:this.fetchLimit,signed_user_id:r});if(n)throw n;return this.enhancePostData(s??[])}async fetchGlobalPosts(e,t){const{data:r,error:s}=await _t.client.rpc("get_global_posts",{last_post_id:e,max_count:this.fetchLimit,signed_user_id:t});if(s)throw s;return this.enhancePostData(r??[])}async fetchFollowingPosts(e,t){const{data:r,error:s}=await _t.client.rpc("get_following_posts",{p_user_id:e,last_post_id:t,max_count:this.fetchLimit});if(s)throw s;return this.enhancePostData(r??[])}async fetchUserPosts(e,t){const{data:r,error:s}=await _t.client.rpc("get_user_posts",{p_user_id:e,last_post_id:t,max_count:this.fetchLimit});if(s)throw s;return this.enhancePostData(r??[])}async fetchUserCommentPosts(e,t){const{data:r,error:s}=await _t.client.rpc("get_user_comment_posts",{p_user_id:e,last_post_id:t,max_count:this.fetchLimit});if(s)throw s;return this.enhancePostData(r??[])}async fetchLikedPosts(e,t){const{data:r,error:s}=await _t.client.rpc("get_liked_posts",{p_user_id:e,last_liked_at:t,max_count:this.fetchLimit});if(s)throw s;if(r&&r.length>0){const e=r.reduce(((e,t)=>{const r=new Date(t.like_created_at);return e>r?e:r}),new Date(0));t=e.toISOString()}return{data:this.enhancePostData(r??[]),lastLikedAt:t}}async fetchReposts(e,t){const{data:r,error:s}=await _t.client.rpc("get_reposts",{p_user_id:e,last_reposted_at:t,max_count:this.fetchLimit});if(s)throw s;if(r){const e=r.reduce(((e,t)=>{const r=new Date(t.repost_created_at);return e>r?e:r}),new Date(0));t=e.toISOString()}return{data:this.enhancePostData(r??[]),lastRepostedAt:t}}async findPosts(e,t,r){const{data:s,error:n}=await _t.client.rpc("find_posts",{p_user_id:r,search_string:e,last_post_id:t,max_count:this.fetchLimit});if(n)throw n;return this.enhancePostData(s??[])}async repost(e){const{error:t}=await _t.client.from(this.repostTableName).insert({post_id:e});if(t)throw t}async unrepost(e){const{error:t}=await _t.client.from(this.repostTableName).delete().eq("post_id",e);if(t)throw t}async like(e){const{error:t}=await _t.client.from(this.likeTableName).insert({post_id:e});if(t)throw t}async unlike(e){const{error:t}=await _t.client.from(this.likeTableName).delete().eq("post_id",e);if(t)throw t}}class ds extends It{user;get signed(){return void 0!==this.user}constructor(){super(),this.addAllowedEvents("walletLinked")}async fetchUserOnInit(){const{data:e,error:t}=await _t.client.auth.getSession();if(t)throw t;const r=e?.session?.user;r&&(this.user=await this.fetchUser(r.id))}async fetchUserAndFollowsOnInit(){const{data:e,error:t}=await _t.client.auth.getSession();if(t)throw t;const r=e?.session?.user;r&&([this.user]=await Promise.all([this.fetchUser(r.id),ts.fetchSignedUserFollows(r.id)]))}async signOut(){await _t.signOut(),location.reload()}}class ps extends jr{async fetchByXUsername(e){return await this.safeSelectSingle((t=>t.eq("x_username",e)))}}const fs="6.11.1";function ms(e,t,r){const s=t.split("|").map((e=>e.trim()));for(let r=0;r<s.length;r++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}const n=new Error(`invalid value for type ${t}`);throw n.code="INVALID_ARGUMENT",n.argument=`value.${r}`,n.value=e,n}async function gs(e){const t=Object.keys(e);return(await Promise.all(t.map((t=>Promise.resolve(e[t]))))).reduce(((e,r,s)=>(e[t[s]]=r,e)),{})}function ys(e,t,r){for(let s in t){let n=t[s];const i=r?r[s]:null;i&&ms(n,i,s),Object.defineProperty(e,s,{enumerable:!0,value:n,writable:!1})}}function bs(e){if(null==e)return"null";if(Array.isArray(e))return"[ "+e.map(bs).join(", ")+" ]";if(e instanceof Uint8Array){const t="0123456789abcdef";let r="0x";for(let s=0;s<e.length;s++)r+=t[e[s]>>4],r+=t[15&e[s]];return r}if("object"==typeof e&&"function"==typeof e.toJSON)return bs(e.toJSON());switch(typeof e){case"boolean":case"symbol":case"number":return e.toString();case"bigint":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{const t=Object.keys(e);return t.sort(),"{ "+t.map((t=>`${bs(t)}: ${bs(e[t])}`)).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function vs(e,t){return e&&e.code===t}function ws(e){return vs(e,"CALL_EXCEPTION")}function As(e,t,r){let s,n=e;{const s=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${bs(r)}`);for(const e in r){if("shortMessage"===e)continue;const t=r[e];s.push(e+"="+bs(t))}}s.push(`code=${t}`),s.push(`version=${fs}`),s.length&&(e+=" ("+s.join(", ")+")")}switch(t){case"INVALID_ARGUMENT":s=new TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(e);break;default:s=new Error(e)}return ys(s,{code:t}),r&&Object.assign(s,r),null==s.shortMessage&&ys(s,{shortMessage:n}),s}function ks(e,t,r,s){if(!e)throw As(t,r,s)}function Es(e,t,r,s){ks(e,t,"INVALID_ARGUMENT",{argument:r,value:s})}function xs(e,t,r){null==r&&(r=""),r&&(r=": "+r),ks(e>=t,"missing arguemnt"+r,"MISSING_ARGUMENT",{count:e,expectedCount:t}),ks(e<=t,"too many arguments"+r,"UNEXPECTED_ARGUMENT",{count:e,expectedCount:t})}const Ps=["NFD","NFC","NFKD","NFKC"].reduce(((e,t)=>{try{if("test"!=="test".normalize(t))throw new Error("bad");if("NFD"===t){const e=String.fromCharCode(233).normalize("NFD");if(e!==String.fromCharCode(101,769))throw new Error("broken")}e.push(t)}catch(e){}return e}),[]);function Cs(e,t,r){if(null==r&&(r=""),e!==t){let e=r,t="new";r&&(e+=".",t+=" "+r),ks(!1,`private constructor; use ${e}from* methods`,"UNSUPPORTED_OPERATION",{operation:t})}}function Ss(e,t,r){if(e instanceof Uint8Array)return r?new Uint8Array(e):e;if("string"==typeof e&&e.match(/^0x([0-9a-f][0-9a-f])*$/i)){const t=new Uint8Array((e.length-2)/2);let r=2;for(let s=0;s<t.length;s++)t[s]=parseInt(e.substring(r,r+2),16),r+=2;return t}Es(!1,"invalid BytesLike value",t||"value",e)}function Is(e,t){return Ss(e,t,!1)}function _s(e,t){return Ss(e,t,!0)}function Ts(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(("number"!=typeof t||e.length===2+2*t)&&(!0!==t||e.length%2==0))}const Ms="0123456789abcdef";function Ds(e){const t=Is(e);let r="0x";for(let e=0;e<t.length;e++){const s=t[e];r+=Ms[(240&s)>>4]+Ms[15&s]}return r}function Bs(e){return"0x"+e.map((e=>Ds(e).substring(2))).join("")}function Os(e){return Ts(e,!0)?(e.length-2)/2:Is(e).length}function Fs(e,t,r){const s=Is(e);return null!=r&&r>s.length&&ks(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:s,length:s.length,offset:r}),Ds(s.slice(null==t?0:t,null==r?s.length:r))}function Ns(e,t,r){const s=Is(e);ks(t>=s.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(s),length:t,offset:t+1});const n=new Uint8Array(t);return n.fill(0),r?n.set(s,t-s.length):n.set(s,0),Ds(n)}function Rs(e,t){return Ns(e,t,!0)}const Ls=BigInt(0),Us=BigInt(1),js=9007199254740991;function Gs(e,t){const r=Hs(e,"value"),s=BigInt(Ws(t,"width"));if(ks(r>>s===Ls,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:e}),r>>s-Us){return-((~r&(Us<<s)-Us)+Us)}return r}function Vs(e,t){let r=Qs(e,"value");const s=BigInt(Ws(t,"width")),n=Us<<s-Us;if(r<Ls){r=-r,ks(r<=n,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e});return(~r&(Us<<s)-Us)+Us}return ks(r<n,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),r}function zs(e,t){const r=Hs(e,"value"),s=BigInt(Ws(t,"bits"));return r&(Us<<s)-Us}function Qs(e,t){switch(typeof e){case"bigint":return e;case"number":return Es(Number.isInteger(e),"underflow",t||"value",e),Es(e>=-js&&e<=js,"overflow",t||"value",e),BigInt(e);case"string":try{if(""===e)throw new Error("empty string");return"-"===e[0]&&"-"!==e[1]?-BigInt(e.substring(1)):BigInt(e)}catch(r){Es(!1,`invalid BigNumberish string: ${r.message}`,t||"value",e)}}Es(!1,"invalid BigNumberish value",t||"value",e)}function Hs(e,t){const r=Qs(e,t);return ks(r>=Ls,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),r}const Ks="0123456789abcdef";function qs(e){if(e instanceof Uint8Array){let t="0x0";for(const r of e)t+=Ks[r>>4],t+=Ks[15&r];return BigInt(t)}return Qs(e)}function Ws(e,t){switch(typeof e){case"bigint":return Es(e>=-js&&e<=js,"overflow",t||"value",e),Number(e);case"number":return Es(Number.isInteger(e),"underflow",t||"value",e),Es(e>=-js&&e<=js,"overflow",t||"value",e),e;case"string":try{if(""===e)throw new Error("empty string");return Ws(BigInt(e),t)}catch(r){Es(!1,`invalid numeric string: ${r.message}`,t||"value",e)}}Es(!1,"invalid numeric value",t||"value",e)}function Js(e,t){let r=Hs(e,"value").toString(16);if(null==t)r.length%2&&(r="0"+r);else{const s=Ws(t,"width");for(ks(2*s>=r.length,`value exceeds width (${s} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});r.length<2*s;)r="0"+r}return"0x"+r}function Ys(e){const t=Hs(e,"value");if(t===Ls)return new Uint8Array([]);let r=t.toString(16);r.length%2&&(r="0"+r);const s=new Uint8Array(r.length/2);for(let e=0;e<s.length;e++){const t=2*e;s[e]=parseInt(r.substring(t,t+2),16)}return s}function Zs(e){let t=Ds(function(e){return Ts(e,!0)||e instanceof Uint8Array}(e)?e:Ys(e)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return""===t&&(t="0"),"0x"+t}const $s=BigInt(-1),Xs=BigInt(0),en=BigInt(1),tn=BigInt(5),rn={};let sn="0000";for(;sn.length<80;)sn+=sn;function nn(e){let t=sn;for(;t.length<e;)t+=t;return BigInt("1"+t.substring(0,e))}function an(e,t,r){const s=BigInt(t.width);if(t.signed){const t=en<<s-en;ks(null==r||e>=-t&&e<t,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:e}),e=e>Xs?Gs(zs(e,s),s):-Gs(zs(-e,s),s)}else{const t=en<<s;ks(null==r||e>=0&&e<t,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:e}),e=(e%t+t)%t&t-en}return e}function on(e){"number"==typeof e&&(e=`fixed128x${e}`);let t=!0,r=128,s=18;if("string"==typeof e)if("fixed"===e);else if("ufixed"===e)t=!1;else{const n=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);Es(n,"invalid fixed format","format",e),t="u"!==n[1],r=parseInt(n[2]),s=parseInt(n[3])}else if(e){const n=e,i=(e,t,r)=>null==n[e]?r:(Es(typeof n[e]===t,"invalid fixed format ("+e+" not "+t+")","format."+e,n[e]),n[e]);t=i("signed","boolean",t),r=i("width","number",r),s=i("decimals","number",s)}Es(r%8==0,"invalid FixedNumber width (not byte aligned)","format.width",r),Es(s<=80,"invalid FixedNumber decimals (too large)","format.decimals",s);return{signed:t,width:r,decimals:s,name:(t?"":"u")+"fixed"+String(r)+"x"+String(s)}}class ln{format;#e;#t;#r;_value;constructor(e,t,r){Cs(e,rn,"FixedNumber"),this.#t=t,this.#e=r;const s=function(e,t){let r="";e<Xs&&(r="-",e*=$s);let s=e.toString();if(0===t)return r+s;for(;s.length<=t;)s=sn+s;const n=s.length-t;for(s=s.substring(0,n)+"."+s.substring(n);"0"===s[0]&&"."!==s[1];)s=s.substring(1);for(;"0"===s[s.length-1]&&"."!==s[s.length-2];)s=s.substring(0,s.length-1);return r+s}(t,r.decimals);ys(this,{format:r.name,_value:s}),this.#r=nn(r.decimals)}get signed(){return this.#e.signed}get width(){return this.#e.width}get decimals(){return this.#e.decimals}get value(){return this.#t}#s(e){Es(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)}#n(e,t){return e=an(e,this.#e,t),new ln(rn,e,this.#e)}#i(e,t){return this.#s(e),this.#n(this.#t+e.#t,t)}addUnsafe(e){return this.#i(e)}add(e){return this.#i(e,"add")}#a(e,t){return this.#s(e),this.#n(this.#t-e.#t,t)}subUnsafe(e){return this.#a(e)}sub(e){return this.#a(e,"sub")}#o(e,t){return this.#s(e),this.#n(this.#t*e.#t/this.#r,t)}mulUnsafe(e){return this.#o(e)}mul(e){return this.#o(e,"mul")}mulSignal(e){this.#s(e);const t=this.#t*e.#t;return ks(t%this.#r===Xs,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#n(t/this.#r,"mulSignal")}#l(e,t){return ks(e.#t!==Xs,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#s(e),this.#n(this.#t*this.#r/e.#t,t)}divUnsafe(e){return this.#l(e)}div(e){return this.#l(e,"div")}divSignal(e){ks(e.#t!==Xs,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#s(e);const t=this.#t*this.#r;return ks(t%e.#t===Xs,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#n(t/e.#t,"divSignal")}cmp(e){let t=this.value,r=e.value;const s=this.decimals-e.decimals;return s>0?r*=nn(s):s<0&&(t*=nn(-s)),t<r?-1:t>r?1:0}eq(e){return 0===this.cmp(e)}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=this.#t;return this.#t<Xs&&(e-=this.#r-en),e=this.#t/this.#r*this.#r,this.#n(e,"floor")}ceiling(){let e=this.#t;return this.#t>Xs&&(e+=this.#r-en),e=this.#t/this.#r*this.#r,this.#n(e,"ceiling")}round(e){if(null==e&&(e=0),e>=this.decimals)return this;const t=this.decimals-e,r=tn*nn(t-1);let s=this.value+r;const n=nn(t);return s=s/n*n,an(s,this.#e,"round"),new ln(rn,s,this.#e)}isZero(){return this.#t===Xs}isNegative(){return this.#t<Xs}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return ln.fromString(this.toString(),e)}static fromValue(e,t,r){const s=null==t?0:Ws(t),n=on(r);let i=Qs(e,"value");const a=s-n.decimals;if(a>0){const t=nn(a);ks(i%t===Xs,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),i/=t}else a<0&&(i*=nn(-a));return an(i,n,"fromValue"),new ln(rn,i,n)}static fromString(e,t){const r=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);Es(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",e);const s=on(t);let n=r[2]||"0",i=r[3]||"";for(;i.length<s.decimals;)i+=sn;ks(i.substring(s.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),i=i.substring(0,s.decimals);const a=BigInt(r[1]+n+i);return an(a,s,"fromString"),new ln(rn,a,s)}static fromBytes(e,t){let r=qs(Is(e,"value"));const s=on(t);return s.signed&&(r=Gs(r,s.width)),an(r,s,"fromBytes"),new ln(rn,r,s)}}const cn=["wei","kwei","mwei","gwei","szabo","finney","ether"];function hn(e){return function(e,t){let r=18;if("string"==typeof t){const e=cn.indexOf(t);Es(e>=0,"invalid unit","unit",t),r=3*e}else null!=t&&(r=Ws(t,"unit"));return ln.fromValue(e,r,{decimals:r,width:512}).toString()}(e,18)}function un(e){return function(e,t){Es("string"==typeof e,"value must be a string","value",e);let r=18;if("string"==typeof t){const e=cn.indexOf(t);Es(e>=0,"invalid unit","unit",t),r=3*e}else null!=t&&(r=Ws(t,"unit"));return ln.fromString(e,{decimals:r,width:512}).value}(e,18)}var dn=class extends Error{constructor({chainId:e,connectorId:t}){super(`Chain "${e}" not configured for connector "${t}".`),this.name="ChainNotConfiguredForConnectorError"}},pn=class extends Error{constructor(){super(...arguments),this.name="ConnectorNotFoundError",this.message="Connector not found"}};function fn(e){return"string"==typeof e?Number.parseInt(e,"0x"===e.trim().substring(0,2)?16:10):"bigint"==typeof e?Number(e):e}var mn=r(9328);function gn(e,t={}){const{fees:r=e.fees,formatters:s=e.formatters,serializers:n=e.serializers}=t;return{...e,fees:r,formatters:s,serializers:n}}const yn=gn({id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xc0497E381f536Be9ce14B0dD3817cBcAe57d2F62",blockCreated:16966585},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),bn=gn({id:5,network:"goerli",name:"Goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-goerli.g.alchemy.com/v2"],webSocket:["wss://eth-goerli.g.alchemy.com/v2"]},infura:{http:["https://goerli.infura.io/v3"],webSocket:["wss://goerli.infura.io/ws/v3"]},default:{http:["https://rpc.ankr.com/eth_goerli"]},public:{http:["https://rpc.ankr.com/eth_goerli"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://goerli.etherscan.io"},default:{name:"Etherscan",url:"https://goerli.etherscan.io"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0x56522D00C410a43BFfDF00a9A569489297385790",blockCreated:8765204},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:6507670}},testnet:!0});var vn=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},wn=(e,t,r)=>(vn(e,t,"read from private field"),r?r.call(e):t.get(e)),An=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},kn=(e,t,r,s)=>(vn(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),En=(e,t,r)=>(vn(e,t,"access private method"),r),xn=class extends mn{constructor({chains:e=[yn,bn],options:t}){super(),this.chains=e,this.options=t}getBlockExplorerUrls(e){const{default:t,...r}=e.blockExplorers??{};if(t)return[t.url,...Object.values(r).map((e=>e.url))]}isChainUnsupported(e){return!this.chains.some((t=>t.id===e))}setStorage(e){this.storage=e}},Pn=r(4660),Cn=r(532),Sn=r(9592);class In extends Cn.k{constructor(e,{code:t,docsPath:r,metaMessages:s,shortMessage:n}){super(n,{cause:e,docsPath:r,metaMessages:s||e?.metaMessages}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.code=e instanceof Sn.YP?e.code:t??-1}}class _n extends In{constructor(e,t){super(e,t),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}}class Tn extends In{constructor(e){super(e,{code:Tn.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(Tn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Mn extends In{constructor(e){super(e,{code:Mn.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(Mn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Dn extends In{constructor(e){super(e,{code:Dn.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(Dn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Bn extends In{constructor(e){super(e,{code:Bn.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join("\n")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(Bn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class On extends In{constructor(e){super(e,{code:On.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(On,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Fn extends In{constructor(e){super(e,{code:Fn.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join("\n")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(Fn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Nn extends In{constructor(e){super(e,{code:Nn.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Nn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Rn extends In{constructor(e){super(e,{code:Rn.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(Rn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Ln extends In{constructor(e){super(e,{code:Ln.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(Ln,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Un extends In{constructor(e){super(e,{code:Un.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(Un,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class jn extends In{constructor(e){super(e,{code:jn.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(jn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Gn extends In{constructor(e){super(e,{code:Gn.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(Gn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Vn extends _n{constructor(e){super(e,{code:Vn.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(Vn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class zn extends _n{constructor(e){super(e,{code:zn.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(zn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Qn extends _n{constructor(e){super(e,{code:Qn.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(Qn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Hn extends _n{constructor(e){super(e,{code:Hn.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(Hn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Kn extends _n{constructor(e){super(e,{code:Kn.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(Kn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class qn extends _n{constructor(e){super(e,{code:qn.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(qn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Wn extends In{constructor(e){super(e,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}var Jn=r(7303);const Yn=256;let Zn,$n=Yn;function Xn(e=11){if(!Zn||$n+e>2*Yn){Zn="",$n=0;for(let e=0;e<Yn;e++)Zn+=(256+256*Math.random()|0).toString(16).substring(1)}return Zn.substring($n,$n+++e)}function ei(e){const{batch:t,cacheTime:r=e.pollingInterval??4e3,key:s="base",name:n="Base Client",pollingInterval:i=4e3,type:a="base"}=e,o=e.chain,l=e.account?(0,Jn.o)(e.account):void 0,{config:c,request:h,value:u}=e.transport({chain:o,pollingInterval:i}),d={account:l,batch:t,cacheTime:r,chain:o,key:s,name:n,pollingInterval:i,request:h,transport:{...c,...u},type:a,uid:Xn()};return Object.assign(d,{extend:function e(t){return r=>{const s=r(t);for(const e in d)delete s[e];const n={...t,...s};return Object.assign(n,{extend:e(n)})}}(d)})}var ti=r(8460);async function ri(e){const t=await e.request({method:"eth_chainId"});return(0,ti.Sw)(t)}var si=r(1856);var ni=r(4220),ii=r(1576),ai=r(4400);const oi="/docs/contract/encodeDeployData";function li({abi:e,args:t,bytecode:r}){if(!t||0===t.length)return r;const s=e.find((e=>"type"in e&&"constructor"===e.type));if(!s)throw new ni.I5({docsPath:oi});if(!("inputs"in s))throw new ni.Kw({docsPath:oi});if(!s.inputs||0===s.inputs.length)throw new ni.Kw({docsPath:oi});const n=(0,ai.I)(s.inputs,t);return(0,ii.aK)([r,n])}class ci extends Cn.k{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join("\n"),{docsPath:e,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}var hi=r(9856);function ui({chain:e,currentChainId:t}){if(!e)throw new hi.UF;if(t!==e.id)throw new hi.m6({chain:e,currentChainId:t})}var di=r(4932),pi=r(7040),fi=r(1400);var mi=r(1416),gi=r(6716);function yi(e,t,r){return s=>e[t.name||r]?.(s)??t(e,s)}var bi=r(4116),vi=r(9132);class wi extends Cn.k{constructor(){super("`baseFeeMultiplier` must be greater than 1."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseFeeScalarError"})}}class Ai extends Cn.k{constructor(){super("Chain does not support EIP-1559 fees."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip1559FeesNotSupportedError"})}}class ki extends Cn.k{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${(0,vi.C)(e)} gwei).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MaxFeePerGasTooLowError"})}}class Ei extends Cn.k{constructor({blockHash:e,blockNumber:t}){let r="Block";e&&(r=`Block at hash "${e}"`),t&&(r=`Block at number "${t}"`),super(`${r} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}var xi=r(4312);const Pi={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559"};function Ci(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?(0,ti.Sw)(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?(0,ti.Sw)(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?Pi[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if("bigint"==typeof t.v){if(0n===t.v||27n===t.v)return 0;if(1n===t.v||28n===t.v)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),"legacy"===t.type&&(delete t.accessList,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),"eip2930"===t.type&&(delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t}const Si=(0,xi.C)("transaction",Ci);function Ii(e){const t=e.transactions?.map((e=>"string"==typeof e?e:Ci(e)));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,difficulty:e.difficulty?BigInt(e.difficulty):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const _i=(0,xi.C)("block",Ii);async function Ti(e,{blockHash:t,blockNumber:r,blockTag:s,includeTransactions:n}={}){const i=s??"latest",a=n??!1,o=void 0!==r?(0,si.c1)(r):void 0;let l=null;if(l=t?await e.request({method:"eth_getBlockByHash",params:[t,a]}):await e.request({method:"eth_getBlockByNumber",params:[o||i,a]}),!l)throw new Ei({blockHash:t,blockNumber:r});return(e.chain?.formatters?.block?.format||Ii)(l)}async function Mi(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function Di(e,t){const{block:r,chain:s=e.chain,request:n}=t||{};if("function"==typeof s?.fees?.defaultPriorityFee){const t=r||await yi(e,Ti,"getBlock")({});return s.fees.defaultPriorityFee({block:t,client:e,request:n})}if(void 0!==s?.fees?.defaultPriorityFee)return s?.fees?.defaultPriorityFee;try{const t=await e.request({method:"eth_maxPriorityFeePerGas"});return(0,ti.Ad)(t)}catch{const[t,s]=await Promise.all([r?Promise.resolve(r):yi(e,Ti,"getBlock")({}),yi(e,Mi,"getGasPrice")({})]);if("bigint"!=typeof t.baseFeePerGas)throw new Ai;const n=s-t.baseFeePerGas;return n<0n?0n:n}}async function Bi(e,t){const{block:r,chain:s=e.chain,request:n,type:i="eip1559"}=t||{},a=await(async()=>"function"==typeof s?.fees?.baseFeeMultiplier?s.fees.baseFeeMultiplier({block:r,client:e,request:n}):s?.fees?.baseFeeMultiplier??1.2)();if(a<1)throw new wi;const o=10**(a.toString().split(".")[1]?.length??0),l=e=>e*BigInt(Math.ceil(a*o))/BigInt(o),c=r||await yi(e,Ti,"getBlock")({});if("function"==typeof s?.fees?.estimateFeesPerGas)return s.fees.estimateFeesPerGas({block:r,client:e,multiply:l,request:n,type:i});if("eip1559"===i){if("bigint"!=typeof c.baseFeePerGas)throw new Ai;const t=n?.maxPriorityFeePerGas?n.maxPriorityFeePerGas:await Di(e,{block:c,chain:s,request:n}),r=l(c.baseFeePerGas);return{maxFeePerGas:n?.maxFeePerGas??r+t,maxPriorityFeePerGas:t}}return{gasPrice:n?.gasPrice??l(await yi(e,Mi,"getGasPrice")({}))}}var Oi=r(8416);class Fi extends Cn.k{constructor(e,{account:t,docsPath:r,chain:s,data:n,gas:i,gasPrice:a,maxFeePerGas:o,maxPriorityFeePerGas:l,nonce:c,to:h,value:u}){const d=(0,pi.ol)({from:t?.address,to:h,value:void 0!==u&&`${(0,Oi.U)(u)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:n,gas:i,gasPrice:void 0!==a&&`${(0,vi.C)(a)} gwei`,maxFeePerGas:void 0!==o&&`${(0,vi.C)(o)} gwei`,maxPriorityFeePerGas:void 0!==l&&`${(0,vi.C)(l)} gwei`,nonce:c});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",d].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=e}}async function Ni(e,t){const r=t.account??e.account;if(!r)throw new ci({docsPath:"/docs/actions/public/estimateGas"});const s=(0,Jn.o)(r);try{const{accessList:r,blockNumber:n,blockTag:i,data:a,gas:o,gasPrice:l,maxFeePerGas:c,maxPriorityFeePerGas:h,nonce:u,to:d,value:p,...f}="local"===s.type?await Ui(e,t):t,m=(n?(0,si.c1)(n):void 0)||i;(0,bi.q)(t);const g=e.chain?.formatters?.transactionRequest?.format,y=(g||gi.If)({...(0,mi.A)(f,{format:g}),from:s.address,accessList:r,data:a,gas:o,gasPrice:l,maxFeePerGas:c,maxPriorityFeePerGas:h,nonce:u,to:d,value:p}),b=await e.request({method:"eth_estimateGas",params:m?[y,m]:[y]});return BigInt(b)}catch(r){throw function(e,{docsPath:t,...r}){const s=(()=>{const t=(0,fi.E)(e,r);return t instanceof di.sP?e:t})();return new Fi(s,{docsPath:t,...r})}(r,{...t,account:s,chain:e.chain})}}async function Ri(e,{address:t,blockTag:r="latest",blockNumber:s}){const n=await e.request({method:"eth_getTransactionCount",params:[t,s?(0,si.c1)(s):r]});return(0,ti.Sw)(n)}function Li(e){if(e.type)return e.type;if(void 0!==e.maxFeePerGas||void 0!==e.maxPriorityFeePerGas)return"eip1559";if(void 0!==e.gasPrice)return void 0!==e.accessList?"eip2930":"legacy";throw new pi.c5({transaction:e})}async function Ui(e,t){const{account:r=e.account,chain:s,gas:n,nonce:i,type:a}=t;if(!r)throw new ci;const o=(0,Jn.o)(r),l=await yi(e,Ti,"getBlock")({blockTag:"latest"}),c={...t,from:o.address};if(void 0===i&&(c.nonce=await yi(e,Ri,"getTransactionCount")({address:o.address,blockTag:"pending"})),void 0===a)try{c.type=Li(c)}catch{c.type="bigint"==typeof l.baseFeePerGas?"eip1559":"legacy"}if("eip1559"===c.type){const{maxFeePerGas:r,maxPriorityFeePerGas:n}=await Bi(e,{block:l,chain:s,request:c});if(void 0===t.maxPriorityFeePerGas&&t.maxFeePerGas&&t.maxFeePerGas<n)throw new ki({maxPriorityFeePerGas:n});c.maxPriorityFeePerGas=n,c.maxFeePerGas=r}else{if(void 0!==t.maxFeePerGas||void 0!==t.maxPriorityFeePerGas)throw new Ai;const{gasPrice:r}=await Bi(e,{block:l,chain:s,request:c,type:"legacy"});c.gasPrice=r}return void 0===n&&(c.gas=await yi(e,Ni,"estimateGas")({...c,account:{address:o.address,type:"json-rpc"}})),(0,bi.q)(c),c}async function ji(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]})}async function Gi(e,t){const{account:r=e.account,chain:s=e.chain,accessList:n,data:i,gas:a,gasPrice:o,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:h,to:u,value:d,...p}=t;if(!r)throw new ci({docsPath:"/docs/actions/wallet/sendTransaction"});const f=(0,Jn.o)(r);try{let r;if((0,bi.q)(t),null!==s&&(r=await yi(e,ri,"getChainId")({}),ui({currentChainId:r,chain:s})),"local"===f.type){const t=await yi(e,Ui,"prepareTransactionRequest")({account:f,accessList:n,chain:s,data:i,gas:a,gasPrice:o,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:h,to:u,value:d,...p});r||(r=await yi(e,ri,"getChainId")({}));const m=s?.serializers?.transaction,g=await f.signTransaction({...t,chainId:r},{serializer:m});return await yi(e,ji,"sendRawTransaction")({serializedTransaction:g})}const m=e.chain?.formatters?.transactionRequest?.format,g=(m||gi.If)({...(0,mi.A)(p,{format:m}),accessList:n,data:i,from:f.address,gas:a,gasPrice:o,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:h,to:u,value:d});return await e.request({method:"eth_sendTransaction",params:[g]})}catch(e){throw function(e,{docsPath:t,...r}){const s=(()=>{const t=(0,fi.E)(e,r);return t instanceof di.sP?e:t})();return new pi.Ul(s,{docsPath:t,...r})}(e,{...t,account:f,chain:t.chain||void 0})}}var Vi=r(6332),zi=r(8328),Qi=r(5904),Hi=r(1616),Ki=r(5876);const qi=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Wi=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Ji({domain:e,message:t,primaryType:r,types:s}){const n=s,i=(e,t)=>{for(const r of e){const{name:e,type:s}=r,a=s,o=t[e],l=a.match(Wi);if(l&&("number"==typeof o||"bigint"==typeof o)){const[e,t,r]=l;(0,si.c1)(o,{signed:"int"===t,size:parseInt(r)/8})}if("address"===a&&"string"==typeof o&&!(0,Hi.C)(o))throw new Qi.o({address:o});const c=a.match(qi);if(c){const[e,t]=c;if(t&&(0,Ki.e)(o)!==parseInt(t))throw new ni.im({expectedSize:parseInt(t),givenSize:(0,Ki.e)(o)})}const h=n[a];h&&i(h,o)}};if(n.EIP712Domain&&e&&i(n.EIP712Domain,e),"EIP712Domain"!==r){const e=n[r];i(e,t)}}function Yi({domain:e}){return["string"==typeof e?.name&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},"number"==typeof e?.chainId&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}var Zi=r(552);function $i(e){return{addChain:t=>async function(e,{chain:t}){const{id:r,name:s,nativeCurrency:n,rpcUrls:i,blockExplorers:a}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:(0,si.c1)(r),chainName:s,nativeCurrency:n,rpcUrls:i.default.http,blockExplorerUrls:a?Object.values(a).map((({url:e})=>e)):void 0}]})}(e,t),deployContract:t=>function(e,{abi:t,args:r,bytecode:s,...n}){return Gi(e,{...n,data:li({abi:t,args:r,bytecode:s})})}(e,t),getAddresses:()=>async function(e){return"local"===e.account?.type?[e.account.address]:(await e.request({method:"eth_accounts"})).map((e=>(0,Pn.U)(e)))}(e),getChainId:()=>ri(e),getPermissions:()=>async function(e){return await e.request({method:"wallet_getPermissions"})}(e),prepareTransactionRequest:t=>Ui(e,t),requestAddresses:()=>async function(e){return(await e.request({method:"eth_requestAccounts"})).map((e=>(0,Pn.m)(e)))}(e),requestPermissions:t=>async function(e,t){return e.request({method:"wallet_requestPermissions",params:[t]})}(e,t),sendRawTransaction:t=>ji(e,t),sendTransaction:t=>Gi(e,t),signMessage:t=>async function(e,{account:t=e.account,message:r}){if(!t)throw new ci({docsPath:"/docs/actions/wallet/signMessage"});const s=(0,Jn.o)(t);if("local"===s.type)return s.signMessage({message:r});const n="string"==typeof r?(0,si.mi)(r):r.raw instanceof Uint8Array?(0,si.Sm)(r.raw):r.raw;return e.request({method:"personal_sign",params:[n,s.address]})}(e,t),signTransaction:t=>async function(e,t){const{account:r=e.account,chain:s=e.chain,...n}=t;if(!r)throw new ci({docsPath:"/docs/actions/wallet/signTransaction"});const i=(0,Jn.o)(r);(0,bi.q)({account:i,...t});const a=await yi(e,ri,"getChainId")({});null!==s&&ui({currentChainId:a,chain:s});const o=s?.formatters||e.chain?.formatters,l=o?.transactionRequest?.format||gi.If;return"local"===i.type?i.signTransaction({...n,chainId:a},{serializer:e.chain?.serializers?.transaction}):await e.request({method:"eth_signTransaction",params:[{...l(n),chainId:(0,si.c1)(a),from:i.address}]})}(e,t),signTypedData:t=>async function(e,{account:t=e.account,domain:r,message:s,primaryType:n,types:i}){if(!t)throw new ci({docsPath:"/docs/actions/wallet/signTypedData"});const a=(0,Jn.o)(t),o={EIP712Domain:Yi({domain:r}),...i};if(Ji({domain:r,message:s,primaryType:n,types:o}),"local"===a.type)return a.signTypedData({domain:r,primaryType:n,types:o,message:s});const l=(0,zi.i)({domain:r??{},primaryType:n,types:o,message:s},((e,t)=>(0,Vi.a)(t)?t.toLowerCase():t));return e.request({method:"eth_signTypedData_v4",params:[a.address,l]})}(e,t),switchChain:t=>async function(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,si.c1)(t)}]})}(e,t),watchAsset:t=>async function(e,t){return await e.request({method:"wallet_watchAsset",params:t})}(e,t),writeContract:t=>async function(e,{abi:t,address:r,args:s,dataSuffix:n,functionName:i,...a}){const o=(0,Zi.T)({abi:t,args:s,functionName:i});return await yi(e,Gi,"sendTransaction")({data:`${o}${n?n.replace("0x",""):""}`,to:r,...a})}(e,t)}}function Xi(e){const{key:t="wallet",name:r="Wallet Client",transport:s}=e;return ei({...e,key:t,name:r,transport:e=>s({...e,retryCount:0}),type:"walletClient"}).extend($i)}async function ea(e){return new Promise((t=>setTimeout(t,e)))}function ta(e,{delay:t=100,retryCount:r=2,shouldRetry:s=(()=>!0)}={}){return new Promise(((n,i)=>{const a=async({count:o=0}={})=>{try{const t=await e();n(t)}catch(e){if(o<r&&await s({count:o,error:e}))return(async({error:e})=>{const r="function"==typeof t?t({count:o,error:e}):t;r&&await ea(r),a({count:o+1})})({error:e});i(e)}};a()}))}const ra=e=>"code"in e?-1!==e.code&&-32004!==e.code&&-32005!==e.code&&-32042!==e.code&&-32603!==e.code:!!(e instanceof Sn.G8&&e.status)&&(403!==e.status&&408!==e.status&&413!==e.status&&429!==e.status&&500!==e.status&&502!==e.status&&503!==e.status&&504!==e.status);function sa(e,{retryDelay:t=150,retryCount:r=3}={}){return async s=>ta((async()=>{try{return await e(s)}catch(e){const t=e;switch(t.code){case Tn.code:throw new Tn(t);case Mn.code:throw new Mn(t);case Dn.code:throw new Dn(t);case Bn.code:throw new Bn(t);case On.code:throw new On(t);case Fn.code:throw new Fn(t);case Nn.code:throw new Nn(t);case Rn.code:throw new Rn(t);case Ln.code:throw new Ln(t);case Un.code:throw new Un(t);case jn.code:throw new jn(t);case Gn.code:throw new Gn(t);case Vn.code:throw new Vn(t);case zn.code:throw new zn(t);case Qn.code:throw new Qn(t);case Hn.code:throw new Hn(t);case Kn.code:throw new Kn(t);case qn.code:throw new qn(t);case 5e3:throw new Vn(t);default:if(e instanceof Cn.k)throw e;throw new Wn(t)}}}),{delay:({count:e,error:r})=>{if(r&&r instanceof Sn.G8){const e=r?.headers?.get("Retry-After");if(e?.match(/\d/))return 1e3*parseInt(e)}return~~(1<<e)*t},retryCount:r,shouldRetry:({error:e})=>!ra(e)})}function na({key:e,name:t,request:r,retryCount:s=3,retryDelay:n=150,timeout:i,type:a},o){return{config:{key:e,name:t,request:r,retryCount:s,retryDelay:n,timeout:i,type:a},request:sa(r,{retryCount:s,retryDelay:n}),value:o}}function ia(e,t={}){const{key:r="custom",name:s="Custom Provider",retryDelay:n}=t;return({retryCount:i})=>na({key:r,name:s,request:e.request.bind(e),retryCount:t.retryCount??i,retryDelay:n,type:"custom"})}var aa,oa=class extends xn{constructor({chains:e,options:t}={}){const r={shimDisconnect:!0,getProvider(){if("undefined"==typeof window)return;const e=window.ethereum;return e?.providers&&e.providers.length>0?e.providers[0]:e},...t};super({chains:e,options:r}),this.id="injected",An(this,aa,void 0),this.shimDisconnectKey=`${this.id}.shimDisconnect`,this.onAccountsChanged=e=>{0===e.length?this.emit("disconnect"):this.emit("change",{account:(0,Pn.m)(e[0])})},this.onChainChanged=e=>{const t=fn(e),r=this.isChainUnsupported(t);this.emit("change",{chain:{id:t,unsupported:r}})},this.onDisconnect=async e=>{if(1013===e.code){if(await this.getProvider()){if(await this.getAccount())return}}this.emit("disconnect"),this.options.shimDisconnect&&this.storage?.removeItem(this.shimDisconnectKey)};const s=r.getProvider();if("string"==typeof r.name)this.name=r.name;else if(s){const e=function(e){if(!e)return"Injected";const t=e=>e.isApexWallet?"Apex Wallet":e.isAvalanche?"Core Wallet":e.isBackpack?"Backpack":e.isBifrost?"Bifrost Wallet":e.isBitKeep?"BitKeep":e.isBitski?"Bitski":e.isBlockWallet?"BlockWallet":e.isBraveWallet?"Brave Wallet":e.isCoin98?"Coin98 Wallet":e.isCoinbaseWallet?"Coinbase Wallet":e.isDawn?"Dawn Wallet":e.isDefiant?"Defiant":e.isDesig?"Desig Wallet":e.isEnkrypt?"Enkrypt":e.isExodus?"Exodus":e.isFordefi?"Fordefi":e.isFrame?"Frame":e.isFrontier?"Frontier Wallet":e.isGamestop?"GameStop Wallet":e.isHaqqWallet?"HAQQ Wallet":e.isHyperPay?"HyperPay Wallet":e.isImToken?"ImToken":e.isHaloWallet?"Halo Wallet":e.isKuCoinWallet?"KuCoin Wallet":e.isMathWallet?"MathWallet":e.isNovaWallet?"Nova Wallet":e.isOkxWallet||e.isOKExWallet?"OKX Wallet":e.isOktoWallet?"Okto Wallet":e.isOneInchIOSWallet||e.isOneInchAndroidWallet?"1inch Wallet":e.isOneKey?"OneKey Wallet":e.isOpera?"Opera":e.isPhantom?"Phantom":e.isPortal?"Ripio Portal":e.isRabby?"Rabby Wallet":e.isRainbow?"Rainbow":e.isSafePal?"SafePal Wallet":e.isStatus?"Status":e.isSubWallet?"SubWallet":e.isTalisman?"Talisman":e.isTally?"Taho":e.isTokenPocket?"TokenPocket":e.isTokenary?"Tokenary":e.isTrust||e.isTrustWallet?"Trust Wallet":e.isTTWallet?"TTWallet":e.isXDEFI?"XDEFI Wallet":e.isZeal?"Zeal":e.isZerion?"Zerion":e.isMetaMask?"MetaMask":void 0;if(e.providers?.length){const r=new Set;let s=1;for(const n of e.providers){let e=t(n);e||(e=`Unknown Wallet #${s}`,s+=1),r.add(e)}const n=[...r];return n.length?n:n[0]??"Injected"}return t(e)??"Injected"}(s);r.name?this.name=r.name(e):this.name="string"==typeof e?e:e[0]}else this.name="Injected";this.ready=!!s}async connect({chainId:e}={}){try{const t=await this.getProvider();if(!t)throw new pn;t.on&&(t.on("accountsChanged",this.onAccountsChanged),t.on("chainChanged",this.onChainChanged),t.on("disconnect",this.onDisconnect)),this.emit("message",{type:"connecting"});const r=await t.request({method:"eth_requestAccounts"}),s=(0,Pn.m)(r[0]);let n=await this.getChainId(),i=this.isChainUnsupported(n);if(e&&n!==e){n=(await this.switchChain(e)).id,i=this.isChainUnsupported(n)}return this.options.shimDisconnect&&this.storage?.setItem(this.shimDisconnectKey,!0),{account:s,chain:{id:n,unsupported:i}}}catch(e){if(this.isUserRejectedRequestError(e))throw new Vn(e);if(-32002===e.code)throw new Rn(e);throw e}}async disconnect(){const e=await this.getProvider();e?.removeListener&&(e.removeListener("accountsChanged",this.onAccountsChanged),e.removeListener("chainChanged",this.onChainChanged),e.removeListener("disconnect",this.onDisconnect),this.options.shimDisconnect&&this.storage?.removeItem(this.shimDisconnectKey))}async getAccount(){const e=await this.getProvider();if(!e)throw new pn;const t=await e.request({method:"eth_accounts"});return(0,Pn.m)(t[0])}async getChainId(){const e=await this.getProvider();if(!e)throw new pn;return e.request({method:"eth_chainId"}).then(fn)}async getProvider(){const e=this.options.getProvider();return e&&kn(this,aa,e),wn(this,aa)}async getWalletClient({chainId:e}={}){const[t,r]=await Promise.all([this.getProvider(),this.getAccount()]),s=this.chains.find((t=>t.id===e));if(!t)throw new Error("provider is required.");return Xi({account:r,chain:s,transport:ia(t)})}async isAuthorized(){try{if(this.options.shimDisconnect&&!this.storage?.getItem(this.shimDisconnectKey))return!1;if(!await this.getProvider())throw new pn;return!!await this.getAccount()}catch{return!1}}async switchChain(e){const t=await this.getProvider();if(!t)throw new pn;const r=(0,si.c1)(e);try{return await Promise.all([t.request({method:"wallet_switchEthereumChain",params:[{chainId:r}]}),new Promise((t=>this.on("change",(({chain:r})=>{r?.id===e&&t()}))))]),this.chains.find((t=>t.id===e))??{id:e,name:`Chain ${r}`,network:`${r}`,nativeCurrency:{name:"Ether",decimals:18,symbol:"ETH"},rpcUrls:{default:{http:[""]},public:{http:[""]}}}}catch(s){const n=this.chains.find((t=>t.id===e));if(!n)throw new dn({chainId:e,connectorId:this.id});if(4902===s.code||4902===s?.data?.originalError?.code)try{await t.request({method:"wallet_addEthereumChain",params:[{chainId:r,chainName:n.name,nativeCurrency:n.nativeCurrency,rpcUrls:[n.rpcUrls.public?.http[0]??""],blockExplorerUrls:this.getBlockExplorerUrls(n)}]});if(await this.getChainId()!==e)throw new Vn(new Error("User rejected switch after adding network."));return n}catch(e){throw new Vn(e)}if(this.isUserRejectedRequestError(s))throw new Vn(s);throw new qn(s)}}async watchAsset({address:e,decimals:t=18,image:r,symbol:s}){const n=await this.getProvider();if(!n)throw new pn;return n.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:e,decimals:t,image:r,symbol:s}}})}isUserRejectedRequestError(e){return 4001===e.code}};aa=new WeakMap;var la=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},ca=(e,t,r)=>(la(e,t,"read from private field"),r?r.call(e):t.get(e)),ha=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},ua=(e,t,r,s)=>(la(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),da=r(2432),pa=r(5360),fa=r(6176),ma=r(6020),ga=r(4548),ya=r(528);function ba(e,t){if(!(e instanceof Cn.k))return!1;const r=e.walk((e=>e instanceof ya.cg));return r instanceof ya.cg&&("ResolverNotFound"===r.data?.errorName||("ResolverWildcardNotSupported"===r.data?.errorName||(!!r.reason?.includes("Wildcard on non-extended resolvers is not supported")||"reverse"===t&&r.reason===ga.GU[50])))}var va=r(7224),wa=r(8760);function Aa(e){if(66!==e.length)return null;if(0!==e.indexOf("["))return null;if(65!==e.indexOf("]"))return null;const t=`0x${e.slice(1,65)}`;return(0,Vi.a)(t)?t:null}function ka(e){let t=new Uint8Array(32).fill(0);if(!e)return(0,si.EH)(t);const r=e.split(".");for(let e=r.length-1;e>=0;e-=1){const s=Aa(r[e]),n=s?(0,va.Eh)(s):(0,wa.u)((0,va.iC)(r[e]),"bytes");t=(0,wa.u)((0,ii.WU)([t,n]),"bytes")}return(0,si.EH)(t)}function Ea(e){return`[${e.slice(2)}]`}function xa(e){const t=new Uint8Array(32).fill(0);return e?Aa(e)||(0,wa.u)((0,va.iC)(e)):(0,si.EH)(t)}function Pa(e){const t=e.replace(/^\.|\.$/gm,"");if(0===t.length)return new Uint8Array(1);const r=new Uint8Array((0,va.iC)(t).byteLength+2);let s=0;const n=t.split(".");for(let e=0;e<n.length;e++){let t=(0,va.iC)(n[e]);t.byteLength>255&&(t=(0,va.iC)(Ea(xa(n[e])))),r[s]=t.length,r.set(t,s+1),s+=t.length+1}return r.byteLength!==s+1?r.slice(0,s+1):r}const Ca=3;function Sa(e,{abi:t,address:r,args:s,docsPath:n,functionName:i,sender:a}){const{code:o,data:l,message:c,shortMessage:h}=e instanceof ya.QP?e:e instanceof Cn.k?e.walk((e=>"data"in e))||e.walk():{},u=e instanceof ni.w0?new ya._U({functionName:i}):[Ca,On.code].includes(o)&&(l||c||h)?new ya.cg({abi:t,data:"object"==typeof l?l.data:l,functionName:i,message:h??c}):e;return new ya.Ud(u,{abi:t,args:s,contractAddress:r,docsPath:n,functionName:i,sender:a})}var Ia=r(6152);async function _a(e,{abi:t,address:r,args:s,functionName:n,...i}){const a=(0,Zi.T)({abi:t,args:s,functionName:n});try{const{data:o}=await yi(e,Ia.M,"call")({data:a,to:r,...i});return(0,pa.i)({abi:t,args:s,functionName:n,data:o||"0x"})}catch(e){throw Sa(e,{abi:t,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:n})}}class Ta extends Cn.k{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class Ma extends Cn.k{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class Da extends Cn.k{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class Ba extends Cn.k{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const Oa=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Fa=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Na=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Ra=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;function La(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Ua({uri:e,gatewayUrls:t}){const r=Na.test(e);if(r)return{uri:e,isOnChain:!0,isEncoded:r};const s=La(t?.ipfs,"https://ipfs.io"),n=La(t?.arweave,"https://arweave.net"),i=e.match(Oa),{protocol:a,subpath:o,target:l,subtarget:c=""}=i?.groups||{},h="ipns:/"===a||"ipns/"===o,u="ipfs:/"===a||"ipfs/"===o||Fa.test(e);if(e.startsWith("http")&&!h&&!u){let r=e;return t?.arweave&&(r=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:r,isOnChain:!1,isEncoded:!1}}if((h||u)&&l)return{uri:`${s}/${h?"ipns":"ipfs"}/${l}${c}`,isOnChain:!1,isEncoded:!1};if("ar:/"===a&&l)return{uri:`${n}/${l}${c||""}`,isOnChain:!1,isEncoded:!1};let d=e.replace(Ra,"");if(d.startsWith("<svg")&&(d=`data:image/svg+xml;base64,${btoa(d)}`),d.startsWith("data:")||d.startsWith("{"))return{uri:d,isOnChain:!0,isEncoded:!1};throw new Da({uri:e})}function ja(e){if("object"!=typeof e||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new Ta({data:e});return e.image||e.image_url||e.image_data}async function Ga({gatewayUrls:e,uri:t}){const{uri:r,isOnChain:s}=Ua({uri:t,gatewayUrls:e});if(s)return r;const n=await async function(e){try{const t=await fetch(e,{method:"HEAD"});if(200===t.status){const e=t.headers.get("content-type");return e?.startsWith("image/")}return!1}catch(t){return("object"!=typeof t||void 0===t.response)&&!!globalThis.hasOwnProperty("Image")&&new Promise((t=>{const r=new Image;r.onload=()=>{t(!0)},r.onerror=()=>{t(!1)},r.src=e}))}}(r);if(n)return r;throw new Da({uri:t})}async function Va(e,{gatewayUrls:t,record:r}){return/eip155:/i.test(r)?async function(e,{gatewayUrls:t,record:r}){const s=function(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[r,s,n]=t.split("/"),[i,a]=r.split(":"),[o,l]=s.split(":");if(!i||"eip155"!==i.toLowerCase())throw new Ma({reason:"Only EIP-155 supported"});if(!a)throw new Ma({reason:"Chain ID not found"});if(!l)throw new Ma({reason:"Contract address not found"});if(!n)throw new Ma({reason:"Token ID not found"});if(!o)throw new Ma({reason:"ERC namespace not found"});return{chainID:parseInt(a),namespace:o.toLowerCase(),contractAddress:l,tokenID:n}}(r),n=await async function(e,{nft:t}){if("erc721"===t.namespace)return _a(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if("erc1155"===t.namespace)return _a(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new Ba({namespace:t.namespace})}(e,{nft:s}),{uri:i,isOnChain:a,isEncoded:o}=Ua({uri:n,gatewayUrls:t});if(a&&(i.includes("data:application/json;base64,")||i.startsWith("{"))){const e=o?atob(i.replace("data:application/json;base64,","")):i;return Ga({uri:ja(JSON.parse(e)),gatewayUrls:t})}let l=s.tokenID;"erc1155"===s.namespace&&(l=l.replace("0x","").padStart(64,"0"));return async function({gatewayUrls:e,uri:t}){try{const r=await fetch(t).then((e=>e.json()));return await Ga({gatewayUrls:e,uri:ja(r)})}catch{throw new Da({uri:t})}}({gatewayUrls:t,uri:i.replace(/(?:0x)?{id}/,l)})}(e,{gatewayUrls:t,record:r}):Ga({uri:r,gatewayUrls:t})}async function za(e,{blockNumber:t,blockTag:r,name:s,key:n,universalResolverAddress:i}){let a=i;if(!a){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=(0,fa.O)({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const i=await yi(e,_a,"readContract")({address:a,abi:da.IL,functionName:"resolve",args:[(0,si.Sm)(Pa(s)),(0,Zi.T)({abi:da.qA,functionName:"text",args:[ka(s),n]})],blockNumber:t,blockTag:r});if("0x"===i[0])return null;const o=(0,pa.i)({abi:da.qA,functionName:"text",data:i[0]});return""===o?null:o}catch(e){if(ba(e,"resolve"))return null;throw e}}function Qa(e,{method:t}){const r={};return"fallback"===e.transport.type&&e.transport.onResponse?.((({method:e,response:s,status:n,transport:i})=>{"success"===n&&t===e&&(r[s]=i.request)})),t=>r[t]||e.request}class Ha extends Cn.k{constructor(e){super(`Filter type "${e}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}var Ka=r(4928),qa=r(796),Wa=r(9720);function Ja({abi:e,eventName:t,args:r}){let s=e[0];if(t&&(s=(0,Wa.Qx)({abi:e,args:r,name:t}),!s))throw new ni.Wu(t,{docsPath:"/docs/contract/encodeEventTopics"});if("event"!==s.type)throw new ni.Wu(void 0,{docsPath:"/docs/contract/encodeEventTopics"});const n=(0,qa.k)(s),i=(0,Ka.e)(n);let a=[];if(r&&"inputs"in s){const e=s.inputs?.filter((e=>"indexed"in e&&e.indexed)),t=Array.isArray(r)?r:Object.values(r).length>0?e?.map((e=>r[e.name]))??[]:[];t.length>0&&(a=e?.map(((e,r)=>Array.isArray(t[r])?t[r].map(((s,n)=>Ya({param:e,value:t[r][n]}))):t[r]?Ya({param:e,value:t[r]}):null))??[])}return[i,...a]}function Ya({param:e,value:t}){if("string"===e.type||"bytes"===e.type)return(0,wa.u)((0,va.Eh)(t));if("tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/))throw new Ha(e.type);return(0,ai.I)([e],[t])}async function Za(e,{address:t,abi:r,args:s,eventName:n,fromBlock:i,strict:a,toBlock:o}){const l=Qa(e,{method:"eth_newFilter"}),c=n?Ja({abi:r,args:s,eventName:n}):void 0,h=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:"bigint"==typeof i?(0,si.c1)(i):i,toBlock:"bigint"==typeof o?(0,si.c1)(o):o,topics:c}]});return{abi:r,args:s,eventName:n,id:h,request:l(h),strict:a,type:"event"}}async function $a(e,{address:t,args:r,event:s,events:n,fromBlock:i,strict:a,toBlock:o}={}){const l=n??(s?[s]:void 0),c=Qa(e,{method:"eth_newFilter"});let h=[];l&&(h=[l.flatMap((e=>Ja({abi:[e],eventName:e.name,args:r})))],s&&(h=h[0]));const u=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:"bigint"==typeof i?(0,si.c1)(i):i,toBlock:"bigint"==typeof o?(0,si.c1)(o):o,...h.length?{topics:h}:{}}]});return{abi:l,args:r,eventName:s?s.name:void 0,fromBlock:i,id:u,request:c(u),strict:a,toBlock:o,type:"event"}}async function Xa(e){const t=Qa(e,{method:"eth_newPendingTransactionFilter"}),r=await e.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:t(r),type:"transaction"}}const eo=new Map,to=new Map;async function ro(e,{cacheKey:t,cacheTime:r=1/0}){const s=function(e){const t=(e,t)=>({clear:()=>t.delete(e),get:()=>t.get(e),set:r=>t.set(e,r)}),r=t(e,eo),s=t(e,to);return{clear:()=>{r.clear(),s.clear()},promise:r,response:s}}(t),n=s.response.get();if(n&&r>0){if((new Date).getTime()-n.created.getTime()<r)return n.data}let i=s.promise.get();i||(i=e(),s.promise.set(i));try{const e=await i;return s.response.set({created:new Date,data:e}),e}finally{s.promise.clear()}}const so=e=>`blockNumber.${e}`;async function no(e,{cacheTime:t=e.cacheTime,maxAge:r}={}){const s=await ro((()=>e.request({method:"eth_blockNumber"})),{cacheKey:so(e.uid),cacheTime:r??t});return BigInt(s)}var io=r(8816);const ao="/docs/contract/decodeEventLog";function oo({abi:e,data:t,strict:r,topics:s}){const n=r??!0,[i,...a]=s;if(!i)throw new ni.yq({docsPath:ao});const o=e.find((e=>"event"===e.type&&i===(0,Ka.e)((0,qa.k)(e))));if(!o||!("name"in o)||"event"!==o.type)throw new ni.GG(i,{docsPath:ao});const{name:l,inputs:c}=o,h=c?.some((e=>!("name"in e&&e.name)));let u=h?[]:{};const d=c.filter((e=>"indexed"in e&&e.indexed));for(let e=0;e<d.length;e++){const t=d[e],r=a[e];if(!r)throw new ni._w({abiItem:o,param:t});u[t.name||e]=lo({param:t,value:r})}const p=c.filter((e=>!("indexed"in e&&e.indexed)));if(p.length>0)if(t&&"0x"!==t)try{const e=(0,io.$)(p,t);if(e)if(h)u=[...u,...e];else for(let t=0;t<p.length;t++)u[p[t].name]=e[t]}catch(e){if(n){if(e instanceof ni.SY)throw new ni.Gy({abiItem:o,data:e.data,params:e.params,size:e.size});throw e}}else if(n)throw new ni.Gy({abiItem:o,data:"0x",params:p,size:0});return{eventName:l,args:Object.values(u).length>0?u:void 0}}function lo({param:e,value:t}){if("string"===e.type||"bytes"===e.type||"tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/))return t;return((0,io.$)([e],t)||[])[0]}function co(e,{args:t,eventName:r}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...r?{args:t,eventName:r}:{}}}async function ho(e,{address:t,blockHash:r,fromBlock:s,toBlock:n,event:i,events:a,args:o,strict:l}={}){const c=l??!1,h=a??(i?[i]:void 0);let u,d=[];return h&&(d=[h.flatMap((e=>Ja({abi:[e],eventName:e.name,args:o})))],i&&(d=d[0])),u=r?await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:r}]}):await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:"bigint"==typeof s?(0,si.c1)(s):s,toBlock:"bigint"==typeof n?(0,si.c1)(n):n}]}),u.map((e=>{try{const{eventName:t,args:r}=h?oo({abi:h,data:e.data,topics:e.topics,strict:c}):{eventName:void 0,args:void 0};return co(e,{args:r,eventName:t})}catch(t){let r,s;if(t instanceof ni.Gy||t instanceof ni._w){if(c)return;r=t.abiItem.name,s=t.abiItem.inputs?.some((e=>!("name"in e&&e.name)))}return co(e,{args:s?[]:{},eventName:r})}})).filter(Boolean)}async function uo(e,{abi:t,address:r,args:s,blockHash:n,eventName:i,fromBlock:a,toBlock:o,strict:l}){const c=i?(0,Wa.Qx)({abi:t,name:i}):void 0,h=c?void 0:t.filter((e=>"event"===e.type));return yi(e,ho,"getLogs")({address:r,args:s,blockHash:n,event:c,events:h,fromBlock:a,toBlock:o,strict:l})}async function po(e,{blockCount:t,blockNumber:r,blockTag:s="latest",rewardPercentiles:n}){const i=r?(0,si.c1)(r):void 0;return function(e){return{baseFeePerGas:e.baseFeePerGas.map((e=>BigInt(e))),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map((e=>e.map((e=>BigInt(e)))))}}(await e.request({method:"eth_feeHistory",params:[(0,si.c1)(t),i||s,n]}))}async function fo(e,{filter:t}){const r="strict"in t&&t.strict;return(await t.request({method:"eth_getFilterChanges",params:[t.id]})).map((e=>{if("string"==typeof e)return e;try{const{eventName:s,args:n}="abi"in t&&t.abi?oo({abi:t.abi,data:e.data,topics:e.topics,strict:r}):{eventName:void 0,args:void 0};return co(e,{args:n,eventName:s})}catch(r){let s,n;if(r instanceof ni.Gy||r instanceof ni._w){if("strict"in t&&t.strict)return;s=r.abiItem.name,n=r.abiItem.inputs?.some((e=>!("name"in e&&e.name)))}return co(e,{args:n?[]:{},eventName:s})}})).filter(Boolean)}async function mo(e,{address:t,blockNumber:r,blockTag:s,storageKeys:n}){const i=s??"latest",a=void 0!==r?(0,si.c1)(r):void 0;return function(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?(0,ti.Sw)(e.nonce):void 0,storageProof:e.storageProof?(t=e.storageProof,t.map((e=>({...e,value:BigInt(e.value)})))):void 0};var t}(await e.request({method:"eth_getProof",params:[t,n,a||i]}))}async function go(e,{blockHash:t,blockNumber:r,blockTag:s,hash:n,index:i}){const a=s||"latest",o=void 0!==r?(0,si.c1)(r):void 0;let l=null;if(n?l=await e.request({method:"eth_getTransactionByHash",params:[n]}):t?l=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,(0,si.c1)(i)]}):(o||a)&&(l=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[o||a,(0,si.c1)(i)]})),!l)throw new pi.WQ({blockHash:t,blockNumber:r,blockTag:a,hash:n,index:i});return(e.chain?.formatters?.transaction?.format||Ci)(l)}const yo={"0x0":"reverted","0x1":"success"};function bo(e){return{...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map((e=>co(e))):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?(0,ti.Sw)(e.transactionIndex):null,status:e.status?yo[e.status]:null,type:e.type?Pi[e.type]||e.type:null}}const vo=(0,xi.C)("transactionReceipt",bo);async function wo(e,{hash:t}){const r=await e.request({method:"eth_getTransactionReceipt",params:[t]});if(!r)throw new pi.gm({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||bo)(r)}async function Ao(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}const ko="Ethereum Signed Message:\n";const Eo="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",xo=(BigInt(0),BigInt(1)),Po=BigInt(2),Co=e=>e instanceof Uint8Array,So=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Io(e){if(!Co(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=So[e[r]];return t}function _o(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function To(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(t/2);for(let t=0;t<r.length;t++){const s=2*t,n=e.slice(s,s+2),i=Number.parseInt(n,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");r[t]=i}return r}function Mo(e){return _o(Io(e))}function Do(e){if(!Co(e))throw new Error("Uint8Array expected");return _o(Io(Uint8Array.from(e).reverse()))}function Bo(e,t){return To(e.toString(16).padStart(2*t,"0"))}function Oo(e,t){return Bo(e,t).reverse()}function Fo(e,t,r){let s;if("string"==typeof t)try{s=To(t)}catch(r){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else{if(!Co(t))throw new Error(`${e} must be hex string or Uint8Array`);s=Uint8Array.from(t)}const n=s.length;if("number"==typeof r&&n!==r)throw new Error(`${e} expected ${r} bytes, got ${n}`);return s}function No(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let r=0;return e.forEach((e=>{if(!Co(e))throw new Error("Uint8Array expected");t.set(e,r),r+=e.length})),t}function Ro(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}const Lo=e=>(Po<<BigInt(e-1))-xo,Uo=e=>new Uint8Array(e),jo=e=>Uint8Array.from(e);function Go(e,t,r){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let s=Uo(e),n=Uo(e),i=0;const a=()=>{s.fill(1),n.fill(0),i=0},o=(...e)=>r(n,s,...e),l=(e=Uo())=>{n=o(jo([0]),e),s=o(),0!==e.length&&(n=o(jo([1]),e),s=o())},c=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const r=[];for(;e<t;){s=o();const t=s.slice();r.push(t),e+=s.length}return No(...r)};return(e,t)=>{let r;for(a(),l(e);!(r=t(c()));)l();return a(),r}}const Vo={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function zo(e,t,r={}){const s=(t,r,s)=>{const n=Vo[r];if("function"!=typeof n)throw new Error(`Invalid validator "${r}", expected function`);const i=e[t];if(!(s&&void 0===i||n(i,e)))throw new Error(`Invalid param ${String(t)}=${i} (${typeof i}), expected ${r}`)};for(const[e,r]of Object.entries(t))s(e,r,!1);for(const[e,t]of Object.entries(r))s(e,t,!0);return e}async function Qo(e,{address:t,hash:r,signature:s,...n}){const i=(0,Vi.a)(s)?s:(0,si.Sm)(s);try{const{data:s}=await yi(e,Ia.M,"call")({data:li({abi:da.YH,args:[t,r,i],bytecode:Eo}),...n});return a=s??"0x0",o="0x1",Ro((0,Vi.a)(a)?(0,va.Eh)(a):a,(0,Vi.a)(o)?(0,va.Eh)(o):o)}catch(e){if(e instanceof ya.mU)return!1;throw e}var a,o}async function Ho(e,{address:t,message:r,signature:s,...n}){const i=function(e,t){const r="string"==typeof e?(0,va.iC)(e):e.raw instanceof Uint8Array?e.raw:(0,va.Eh)(e.raw),s=(0,va.iC)(`${ko}${r.length}`);return(0,wa.u)((0,ii.WU)([s,r]),t)}(r);return Qo(e,{address:t,hash:i,signature:s,...n})}function Ko({domain:e,message:t,primaryType:r,types:s}){const n=void 0===e?{}:e,i={EIP712Domain:Yi({domain:n}),...s};Ji({domain:n,message:t,primaryType:r,types:i});const a=["0x1901"];return n&&a.push(function({domain:e,types:t}){return qo({data:e,primaryType:"EIP712Domain",types:t})}({domain:n,types:i})),"EIP712Domain"!==r&&a.push(qo({data:t,primaryType:r,types:i})),(0,wa.u)((0,ii.WU)(a))}function qo({data:e,primaryType:t,types:r}){const s=Wo({data:e,primaryType:t,types:r});return(0,wa.u)(s)}function Wo({data:e,primaryType:t,types:r}){const s=[{type:"bytes32"}],n=[Jo({primaryType:t,types:r})];for(const i of r[t]){const[t,a]=Zo({types:r,name:i.name,type:i.type,value:e[i.name]});s.push(t),n.push(a)}return(0,ai.I)(s,n)}function Jo({primaryType:e,types:t}){const r=(0,si.Sm)(function({primaryType:e,types:t}){let r="";const s=Yo({primaryType:e,types:t});s.delete(e);const n=[e,...Array.from(s).sort()];for(const e of n)r+=`${e}(${t[e].map((({name:e,type:t})=>`${t} ${e}`)).join(",")})`;return r}({primaryType:e,types:t}));return(0,wa.u)(r)}function Yo({primaryType:e,types:t},r=new Set){const s=e.match(/^\w*/u),n=s?.[0];if(r.has(n)||void 0===t[n])return r;r.add(n);for(const e of t[n])Yo({primaryType:e.type,types:t},r);return r}function Zo({types:e,name:t,type:r,value:s}){if(void 0!==e[r])return[{type:"bytes32"},(0,wa.u)(Wo({data:s,primaryType:r,types:e}))];if("bytes"===r){return s=`0x${(s.length%2?"0":"")+s.slice(2)}`,[{type:"bytes32"},(0,wa.u)(s)]}if("string"===r)return[{type:"bytes32"},(0,wa.u)((0,si.Sm)(s))];if(r.lastIndexOf("]")===r.length-1){const n=r.slice(0,r.lastIndexOf("[")),i=s.map((r=>Zo({name:t,type:n,types:e,value:r})));return[{type:"bytes32"},(0,wa.u)((0,ai.I)(i.map((([e])=>e)),i.map((([,e])=>e))))]}return[{type:r},s]}const $o=new Map,Xo=new Map;let el=0;function tl(e,t,r){const s=++el,n=()=>$o.get(e)||[],i=()=>{const t=Xo.get(e);1===n().length&&t&&t(),(()=>{const t=n();$o.set(e,t.filter((e=>e.id!==s)))})()},a=n();if($o.set(e,[...a,{id:s,fns:t}]),a&&a.length>0)return i;const o={};for(const e in t)o[e]=(...t)=>{const r=n();if(0!==r.length)for(const s of r)s.fns[e]?.(...t)};const l=r(o);return"function"==typeof l&&Xo.set(e,l),i}function rl(e,{emitOnBegin:t,initialWaitTime:r,interval:s}){let n=!0;const i=()=>n=!1;return(async()=>{let a;t&&(a=await e({unpoll:i}));const o=await(r?.(a))??s;await ea(o);const l=async()=>{n&&(await e({unpoll:i}),await ea(s),l())};l()})(),i}function sl(e,{emitOnBegin:t=!1,emitMissed:r=!1,onBlockNumber:s,onError:n,poll:i,pollingInterval:a=e.pollingInterval}){let o;return(void 0!==i?i:"webSocket"!==e.transport.type)?tl((0,zi.i)(["watchBlockNumber",e.uid,t,r,a]),{onBlockNumber:s,onError:n},(s=>rl((async()=>{try{const t=await yi(e,no,"getBlockNumber")({cacheTime:0});if(o){if(t===o)return;if(t-o>1&&r)for(let e=o+1n;e<t;e++)s.onBlockNumber(e,o),o=e}(!o||t>o)&&(s.onBlockNumber(t,o),o=t)}catch(e){s.onError?.(e)}}),{emitOnBegin:t,interval:a}))):(()=>{let t=!0,r=()=>t=!1;return(async()=>{try{const{unsubscribe:i}=await e.transport.subscribe({params:["newHeads"],onData(e){if(!t)return;const r=(0,ti.Ad)(e.result?.number);s(r,o),o=r},onError(e){n?.(e)}});r=i,t||r()}catch(e){n?.(e)}})(),r})()}function nl(e){return{call:t=>(0,Ia.M)(e,t),createBlockFilter:()=>async function(e){const t=Qa(e,{method:"eth_newBlockFilter"}),r=await e.request({method:"eth_newBlockFilter"});return{id:r,request:t(r),type:"block"}}(e),createContractEventFilter:t=>Za(e,t),createEventFilter:t=>$a(e,t),createPendingTransactionFilter:()=>Xa(e),estimateContractGas:t=>async function(e,{abi:t,address:r,args:s,functionName:n,...i}){const a=(0,Zi.T)({abi:t,args:s,functionName:n});try{return await yi(e,Ni,"estimateGas")({data:a,to:r,...i})}catch(e){const a=i.account?(0,Jn.o)(i.account):void 0;throw Sa(e,{abi:t,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:n,sender:a?.address})}}(e,t),estimateGas:t=>Ni(e,t),getBalance:t=>async function(e,{address:t,blockNumber:r,blockTag:s="latest"}){const n=r?(0,si.c1)(r):void 0,i=await e.request({method:"eth_getBalance",params:[t,n||s]});return BigInt(i)}(e,t),getBlock:t=>Ti(e,t),getBlockNumber:t=>no(e,t),getBlockTransactionCount:t=>async function(e,{blockHash:t,blockNumber:r,blockTag:s="latest"}={}){const n=void 0!==r?(0,si.c1)(r):void 0;let i;return i=t?await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]}):await e.request({method:"eth_getBlockTransactionCountByNumber",params:[n||s]}),(0,ti.Sw)(i)}(e,t),getBytecode:t=>async function(e,{address:t,blockNumber:r,blockTag:s="latest"}){const n=void 0!==r?(0,si.c1)(r):void 0,i=await e.request({method:"eth_getCode",params:[t,n||s]});if("0x"!==i)return i}(e,t),getChainId:()=>ri(e),getContractEvents:t=>uo(e,t),getEnsAddress:t=>async function(e,{blockNumber:t,blockTag:r,coinType:s,name:n,universalResolverAddress:i}){let a=i;if(!a){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=(0,fa.O)({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const i=(0,Zi.T)({abi:da.w1,functionName:"addr",...null!=s?{args:[ka(n),BigInt(s)]}:{args:[ka(n)]}}),o=await yi(e,_a,"readContract")({address:a,abi:da.IL,functionName:"resolve",args:[(0,si.Sm)(Pa(n)),i],blockNumber:t,blockTag:r});if("0x"===o[0])return null;const l=(0,pa.i)({abi:da.w1,args:null!=s?[ka(n),BigInt(s)]:void 0,functionName:"addr",data:o[0]});return"0x"===l||"0x00"===(0,ma.c)(l)?null:l}catch(e){if(ba(e,"resolve"))return null;throw e}}(e,t),getEnsAvatar:t=>async function(e,{blockNumber:t,blockTag:r,gatewayUrls:s,name:n,universalResolverAddress:i}){const a=await yi(e,za,"getEnsText")({blockNumber:t,blockTag:r,key:"avatar",name:n,universalResolverAddress:i});if(!a)return null;try{return await Va(e,{record:a,gatewayUrls:s})}catch{return null}}(e,t),getEnsName:t=>async function(e,{address:t,blockNumber:r,blockTag:s,universalResolverAddress:n}){let i=n;if(!i){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");i=(0,fa.O)({blockNumber:r,chain:e.chain,contract:"ensUniversalResolver"})}const a=`${t.toLowerCase().substring(2)}.addr.reverse`;try{const[n,o]=await yi(e,_a,"readContract")({address:i,abi:da.EL,functionName:"reverse",args:[(0,si.Sm)(Pa(a))],blockNumber:r,blockTag:s});return t.toLowerCase()!==o.toLowerCase()?null:n}catch(e){if(ba(e,"reverse"))return null;throw e}}(e,t),getEnsResolver:t=>async function(e,{blockNumber:t,blockTag:r,name:s,universalResolverAddress:n}){let i=n;if(!i){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");i=(0,fa.O)({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[a]=await yi(e,_a,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[(0,si.Sm)(Pa(s))],blockNumber:t,blockTag:r});return a}(e,t),getEnsText:t=>za(e,t),getFeeHistory:t=>po(e,t),estimateFeesPerGas:t=>async function(e,t){return Bi(e,t)}(e,t),getFilterChanges:e=>fo(0,e),getFilterLogs:e=>async function(e,{filter:t}){const r=t.strict??!1;return(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map((e=>{try{const{eventName:s,args:n}="abi"in t&&t.abi?oo({abi:t.abi,data:e.data,topics:e.topics,strict:r}):{eventName:void 0,args:void 0};return co(e,{args:n,eventName:s})}catch(r){let s,n;if(r instanceof ni.Gy||r instanceof ni._w){if("strict"in t&&t.strict)return;s=r.abiItem.name,n=r.abiItem.inputs?.some((e=>!("name"in e&&e.name)))}return co(e,{args:n?[]:{},eventName:s})}})).filter(Boolean)}(0,e),getGasPrice:()=>Mi(e),getLogs:t=>ho(e,t),getProof:t=>mo(e,t),estimateMaxPriorityFeePerGas:t=>async function(e,t){return Di(e,t)}(e,t),getStorageAt:t=>async function(e,{address:t,blockNumber:r,blockTag:s="latest",slot:n}){const i=void 0!==r?(0,si.c1)(r):void 0;return await e.request({method:"eth_getStorageAt",params:[t,n,i||s]})}(e,t),getTransaction:t=>go(e,t),getTransactionConfirmations:t=>async function(e,{hash:t,transactionReceipt:r}){const[s,n]=await Promise.all([yi(e,no,"getBlockNumber")({}),t?yi(e,go,"getBlockNumber")({hash:t}):void 0]),i=r?.blockNumber||n?.blockNumber;return i?s-i+1n:0n}(e,t),getTransactionCount:t=>Ri(e,t),getTransactionReceipt:t=>wo(e,t),multicall:t=>async function(e,t){const{allowFailure:r=!0,batchSize:s,blockNumber:n,blockTag:i,contracts:a,multicallAddress:o}=t,l=s??("object"==typeof e.batch?.multicall&&e.batch.multicall.batchSize||1024);let c=o;if(!c){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");c=(0,fa.O)({blockNumber:n,chain:e.chain,contract:"multicall3"})}const h=[[]];let u=0,d=0;for(let e=0;e<a.length;e++){const{abi:t,address:s,args:n,functionName:i}=a[e];try{const e=(0,Zi.T)({abi:t,args:n,functionName:i});d+=(e.length-2)/2,l>0&&d>l&&h[u].length>0&&(u++,d=(e.length-2)/2,h[u]=[]),h[u]=[...h[u],{allowFailure:!0,callData:e,target:s}]}catch(e){const a=Sa(e,{abi:t,address:s,args:n,docsPath:"/docs/contract/multicall",functionName:i});if(!r)throw a;h[u]=[...h[u],{allowFailure:!0,callData:"0x",target:s}]}}const p=await Promise.allSettled(h.map((t=>yi(e,_a,"readContract")({abi:da.gH,address:c,args:[t],blockNumber:n,blockTag:i,functionName:"aggregate3"})))),f=[];for(let e=0;e<p.length;e++){const t=p[e];if("rejected"===t.status){if(!r)throw t.reason;for(let r=0;r<h[e].length;r++)f.push({status:"failure",error:t.reason,result:void 0});continue}const s=t.value;for(let t=0;t<s.length;t++){const{returnData:n,success:i}=s[t],{callData:o}=h[e][t],{abi:l,address:c,functionName:u,args:d}=a[f.length];try{if("0x"===o)throw new ni.w0;if(!i)throw new ya.QP({data:n});const e=(0,pa.i)({abi:l,args:d,data:n,functionName:u});f.push(r?{result:e,status:"success"}:e)}catch(e){const t=Sa(e,{abi:l,address:c,args:d,docsPath:"/docs/contract/multicall",functionName:u});if(!r)throw t;f.push({error:t,result:void 0,status:"failure"})}}}if(f.length!==a.length)throw new Cn.k("multicall results mismatch");return f}(e,t),prepareTransactionRequest:t=>Ui(e,t),readContract:t=>_a(e,t),sendRawTransaction:t=>ji(e,t),simulateContract:t=>async function(e,{abi:t,address:r,args:s,dataSuffix:n,functionName:i,...a}){const o=a.account?(0,Jn.o)(a.account):void 0,l=(0,Zi.T)({abi:t,args:s,functionName:i});try{const{data:o}=await yi(e,Ia.M,"call")({batch:!1,data:`${l}${n?n.replace("0x",""):""}`,to:r,...a});return{result:(0,pa.i)({abi:t,args:s,functionName:i,data:o||"0x"}),request:{abi:t,address:r,args:s,dataSuffix:n,functionName:i,...a}}}catch(e){throw Sa(e,{abi:t,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:i,sender:o?.address})}}(e,t),verifyMessage:t=>Ho(e,t),verifyTypedData:t=>async function(e,{address:t,signature:r,message:s,primaryType:n,types:i,domain:a,...o}){return Qo(e,{address:t,hash:Ko({message:s,primaryType:n,types:i,domain:a}),signature:r,...o})}(e,t),uninstallFilter:e=>Ao(0,e),waitForTransactionReceipt:t=>async function(e,{confirmations:t=1,hash:r,onReplaced:s,pollingInterval:n=e.pollingInterval,timeout:i}){const a=(0,zi.i)(["waitForTransactionReceipt",e.uid,r]);let o,l,c,h=!1;return new Promise(((u,d)=>{i&&setTimeout((()=>d(new pi.oS({hash:r}))),i);const p=tl(a,{onReplaced:s,resolve:u,reject:d},(s=>{const i=yi(e,sl,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:n,async onBlockNumber(n){if(h)return;let a=n;const u=e=>{i(),e(),p()};try{if(c){if(t>1&&(!c.blockNumber||a-c.blockNumber+1n<t))return;return void u((()=>s.resolve(c)))}if(o||(h=!0,await ta((async()=>{o=await yi(e,go,"getTransaction")({hash:r}),o.blockNumber&&(a=o.blockNumber)}),{delay:({count:e})=>200*~~(1<<e),retryCount:6}),h=!1),c=await yi(e,wo,"getTransactionReceipt")({hash:r}),t>1&&(!c.blockNumber||a-c.blockNumber+1n<t))return;u((()=>s.resolve(c)))}catch(r){if(o&&(r instanceof pi.WQ||r instanceof pi.gm))try{l=o,h=!0;const r=await ta((()=>yi(e,Ti,"getBlock")({blockNumber:a,includeTransactions:!0})),{delay:({count:e})=>200*~~(1<<e),retryCount:6,shouldRetry:({error:e})=>e instanceof Ei});h=!1;const n=r.transactions.find((({from:e,nonce:t})=>e===l.from&&t===l.nonce));if(!n)return;if(c=await yi(e,wo,"getTransactionReceipt")({hash:n.hash}),t>1&&(!c.blockNumber||a-c.blockNumber+1n<t))return;let i="replaced";n.to===l.to&&n.value===l.value?i="repriced":n.from===n.to&&0n===n.value&&(i="cancelled"),u((()=>{s.onReplaced?.({reason:i,replacedTransaction:l,transaction:n,transactionReceipt:c}),s.resolve(c)}))}catch(e){u((()=>s.reject(e)))}else u((()=>s.reject(r)))}}})}))}))}(e,t),watchBlocks:t=>function(e,{blockTag:t="latest",emitMissed:r=!1,emitOnBegin:s=!1,onBlock:n,onError:i,includeTransactions:a,poll:o,pollingInterval:l=e.pollingInterval}){const c=void 0!==o?o:"webSocket"!==e.transport.type,h=a??!1;let u;return c?tl((0,zi.i)(["watchBlocks",e.uid,r,s,h,l]),{onBlock:n,onError:i},(n=>rl((async()=>{try{const s=await yi(e,Ti,"getBlock")({blockTag:t,includeTransactions:h});if(s.number&&u?.number){if(s.number===u.number)return;if(s.number-u.number>1&&r)for(let t=u?.number+1n;t<s.number;t++){const r=await yi(e,Ti,"getBlock")({blockNumber:t,includeTransactions:h});n.onBlock(r,u),u=r}}(!u?.number||"pending"===t&&!s?.number||s.number&&s.number>u.number)&&(n.onBlock(s,u),u=s)}catch(e){n.onError?.(e)}}),{emitOnBegin:s,interval:l}))):(()=>{let t=!0,r=()=>t=!1;return(async()=>{try{const{unsubscribe:s}=await e.transport.subscribe({params:["newHeads"],onData(r){if(!t)return;const s=(e.chain?.formatters?.block?.format||Ii)(r.result);n(s,u),u=s},onError(e){i?.(e)}});r=s,t||r()}catch(e){i?.(e)}})(),r})()}(e,t),watchBlockNumber:t=>sl(e,t),watchContractEvent:t=>function(e,{abi:t,address:r,args:s,batch:n=!0,eventName:i,onError:a,onLogs:o,poll:l,pollingInterval:c=e.pollingInterval,strict:h}){return(void 0!==l?l:"webSocket"!==e.transport.type)?(()=>{const l=(0,zi.i)(["watchContractEvent",r,s,n,e.uid,i,c]),u=h??!1;return tl(l,{onLogs:o,onError:a},(a=>{let o,l,h=!1;const d=rl((async()=>{if(h)try{let c;if(l)c=await yi(e,fo,"getFilterChanges")({filter:l});else{const n=await yi(e,no,"getBlockNumber")({});c=o&&o!==n?await yi(e,uo,"getContractEvents")({abi:t,address:r,args:s,eventName:i,fromBlock:o+1n,toBlock:n,strict:u}):[],o=n}if(0===c.length)return;if(n)a.onLogs(c);else for(const e of c)a.onLogs([e])}catch(e){l&&e instanceof Fn&&(h=!1),a.onError?.(e)}else{try{l=await yi(e,Za,"createContractEventFilter")({abi:t,address:r,args:s,eventName:i,strict:u})}catch{}h=!0}}),{emitOnBegin:!0,interval:c});return async()=>{l&&await yi(e,Ao,"uninstallFilter")({filter:l}),d()}}))})():(()=>{let n=!0,l=()=>n=!1;return(async()=>{try{const c=i?Ja({abi:t,eventName:i,args:s}):[],{unsubscribe:u}=await e.transport.subscribe({params:["logs",{address:r,topics:c}],onData(e){if(!n)return;const r=e.result;try{const{eventName:e,args:s}=oo({abi:t,data:r.data,topics:r.topics,strict:h}),n=co(r,{args:s,eventName:e});o([n])}catch(e){let t,s;if(e instanceof ni.Gy||e instanceof ni._w){if(h)return;t=e.abiItem.name,s=e.abiItem.inputs?.some((e=>!("name"in e&&e.name)))}const n=co(r,{args:s?[]:{},eventName:t});o([n])}},onError(e){a?.(e)}});l=u,n||l()}catch(e){a?.(e)}})(),l})()}(e,t),watchEvent:t=>function(e,{address:t,args:r,batch:s=!0,event:n,events:i,onError:a,onLogs:o,poll:l,pollingInterval:c=e.pollingInterval,strict:h}){const u=void 0!==l?l:"webSocket"!==e.transport.type,d=h??!1;return u?tl((0,zi.i)(["watchEvent",t,r,s,e.uid,n,c]),{onLogs:o,onError:a},(a=>{let o,l,h=!1;const u=rl((async()=>{if(h)try{let c;if(l)c=await yi(e,fo,"getFilterChanges")({filter:l});else{const s=await yi(e,no,"getBlockNumber")({});c=o&&o!==s?await yi(e,ho,"getLogs")({address:t,args:r,event:n,events:i,fromBlock:o+1n,toBlock:s}):[],o=s}if(0===c.length)return;if(s)a.onLogs(c);else for(const e of c)a.onLogs([e])}catch(e){l&&e instanceof Fn&&(h=!1),a.onError?.(e)}else{try{l=await yi(e,$a,"createEventFilter")({address:t,args:r,event:n,events:i,strict:d})}catch{}h=!0}}),{emitOnBegin:!0,interval:c});return async()=>{l&&await yi(e,Ao,"uninstallFilter")({filter:l}),u()}})):(()=>{let s=!0,l=()=>s=!1;return(async()=>{try{const c=i??(n?[n]:void 0);let u=[];c&&(u=[c.flatMap((e=>Ja({abi:[e],eventName:e.name,args:r})))],n&&(u=u[0]));const{unsubscribe:p}=await e.transport.subscribe({params:["logs",{address:t,topics:u}],onData(e){if(!s)return;const t=e.result;try{const{eventName:e,args:r}=oo({abi:c,data:t.data,topics:t.topics,strict:d}),s=co(t,{args:r,eventName:e});o([s])}catch(e){let r,s;if(e instanceof ni.Gy||e instanceof ni._w){if(h)return;r=e.abiItem.name,s=e.abiItem.inputs?.some((e=>!("name"in e&&e.name)))}const n=co(t,{args:s?[]:{},eventName:r});o([n])}},onError(e){a?.(e)}});l=p,s||l()}catch(e){a?.(e)}})(),l})()}(e,t),watchPendingTransactions:t=>function(e,{batch:t=!0,onError:r,onTransactions:s,poll:n,pollingInterval:i=e.pollingInterval}){return(void 0!==n?n:"webSocket"!==e.transport.type)?tl((0,zi.i)(["watchPendingTransactions",e.uid,t,i]),{onTransactions:s,onError:r},(r=>{let s;const n=rl((async()=>{try{if(!s)try{return void(s=await yi(e,Xa,"createPendingTransactionFilter")({}))}catch(e){throw n(),e}const i=await yi(e,fo,"getFilterChanges")({filter:s});if(0===i.length)return;if(t)r.onTransactions(i);else for(const e of i)r.onTransactions([e])}catch(e){r.onError?.(e)}}),{emitOnBegin:!0,interval:i});return async()=>{s&&await yi(e,Ao,"uninstallFilter")({filter:s}),n()}})):(()=>{let t=!0,n=()=>t=!1;return(async()=>{try{const{unsubscribe:i}=await e.transport.subscribe({params:["newPendingTransactions"],onData(e){if(!t)return;const r=e.result;s([r])},onError(e){r?.(e)}});n=i,t||n()}catch(e){r?.(e)}})(),n})()}(e,t)}}function il(e){const{key:t="public",name:r="Public Client"}=e;return ei({...e,key:t,name:r,type:"publicClient"}).extend(nl)}function al(e,t={}){const{key:r="fallback",name:s="Fallback",rank:n=!1,retryCount:i,retryDelay:a}=t;return({chain:t,pollingInterval:o=4e3,timeout:l})=>{let c=e,h=()=>{};const u=na({key:r,name:s,async request({method:e,params:r}){const s=async(n=0)=>{const i=c[n]({chain:t,retryCount:0,timeout:l});try{const t=await i.request({method:e,params:r});return h({method:e,params:r,response:t,transport:i,status:"success"}),t}catch(t){if(h({error:t,method:e,params:r,transport:i,status:"error"}),ra(t))throw t;if(n===c.length-1)throw t;return s(n+1)}};return s()},retryCount:i,retryDelay:a,type:"fallback"},{onResponse:e=>h=e,transports:c.map((e=>e({chain:t,retryCount:0})))});if(n){const e="object"==typeof n?n:{};!function({chain:e,interval:t=4e3,onTransports:r,sampleCount:s=10,timeout:n=1e3,transports:i,weights:a={}}){const{stability:o=.7,latency:l=.3}=a,c=[],h=async()=>{const a=await Promise.all(i.map((async t=>{const r=t({chain:e,retryCount:0,timeout:n}),s=Date.now();let i,a;try{await r.request({method:"net_listening"}),a=1}catch{a=0}finally{i=Date.now()}return{latency:i-s,success:a}})));c.push(a),c.length>s&&c.shift();const u=Math.max(...c.map((e=>Math.max(...e.map((({latency:e})=>e)))))),d=i.map(((e,t)=>{const r=c.map((e=>e[t].latency)),s=1-r.reduce(((e,t)=>e+t),0)/r.length/u,n=c.map((e=>e[t].success)),i=n.reduce(((e,t)=>e+t),0)/n.length;return 0===i?[0,t]:[l*s+o*i,t]})).sort(((e,t)=>t[0]-e[0]));r(d.map((([,e])=>i[e]))),await ea(t),h()};h()}({chain:t,interval:e.interval??o,onTransports:e=>c=e,sampleCount:e.sampleCount,timeout:e.timeout,transports:c,weights:e.weights})}return u}}class ol extends Cn.k{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}var ll=r(6648);const cl=function(){if("undefined"!=typeof WebSocket)return WebSocket;if(void 0!==global.WebSocket)return global.WebSocket;if(void 0!==window.WebSocket)return window.WebSocket;if(void 0!==self.WebSocket)return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}();function hl(e,{errorInstance:t=new Error("timed out"),timeout:r,signal:s}){return new Promise(((n,i)=>{(async()=>{let a;try{const o=new AbortController;r>0&&(a=setTimeout((()=>{s?o.abort():i(t)}),r)),n(await e({signal:o?.signal}))}catch(e){"AbortError"===e.name&&i(t),i(e)}finally{clearTimeout(a)}})()}))}let ul=0;const dl=new Map;async function pl(e){let t=dl.get(e);if(t)return t;const{schedule:r}=(0,ll.K)({id:e,fn:async()=>{const r=new cl(e),s=new Map,n=new Map,i=({data:e})=>{const t=JSON.parse(e),r="eth_subscription"===t.method,i=r?t.params.subscription:t.id,a=r?n:s,o=a.get(i);o&&o({data:e}),r||a.delete(i)},a=()=>{dl.delete(e),r.removeEventListener("close",a),r.removeEventListener("message",i)};return r.addEventListener("close",a),r.addEventListener("message",i),r.readyState===cl.CONNECTING&&await new Promise(((e,t)=>{r&&(r.onopen=e,r.onerror=t)})),t=Object.assign(r,{requests:s,subscriptions:n}),dl.set(e,t),[t]}}),[s,[n]]=await r();return n}const fl={http:async function(e,{body:t,fetchOptions:r={},timeout:s=1e4}){const{headers:n,method:i,signal:a}=r;try{const o=await hl((async({signal:o})=>await fetch(e,{...r,body:Array.isArray(t)?(0,zi.i)(t.map((e=>({jsonrpc:"2.0",id:e.id??ul++,...e})))):(0,zi.i)({jsonrpc:"2.0",id:t.id??ul++,...t}),headers:{...n,"Content-Type":"application/json"},method:i||"POST",signal:a||(s>0?o:void 0)})),{errorInstance:new Sn.ol({body:t,url:e}),timeout:s,signal:!0});let l;if(l=o.headers.get("Content-Type")?.startsWith("application/json")?await o.json():await o.text(),!o.ok)throw new Sn.G8({body:t,details:(0,zi.i)(l.error)||o.statusText,headers:o.headers,status:o.status,url:e});return l}catch(r){if(r instanceof Sn.G8)throw r;if(r instanceof Sn.ol)throw r;throw new Sn.G8({body:t,details:r.message,url:e})}},webSocket:function(e,{body:t,onResponse:r}){if(e.readyState===e.CLOSED||e.readyState===e.CLOSING)throw new Sn.ID({body:t,url:e.url,details:"Socket is closed."});const s=ul++,n=({data:i})=>{const a=JSON.parse(i);"number"==typeof a.id&&s!==a.id||(r?.(a),"eth_subscribe"===t.method&&"string"==typeof a.result&&e.subscriptions.set(a.result,n),"eth_unsubscribe"===t.method&&e.subscriptions.delete(t.params?.[0]))};return e.requests.set(s,n),e.send(JSON.stringify({jsonrpc:"2.0",...t,id:s})),e},webSocketAsync:async function(e,{body:t,timeout:r=1e4}){return hl((()=>new Promise((r=>fl.webSocket(e,{body:t,onResponse:r})))),{errorInstance:new Sn.ol({body:t,url:e.url}),timeout:r})}};var ml=r(4984);const gl=e=>(t,r,s)=>{const n=s.subscribe;s.subscribe=(e,t,r)=>{let i=e;if(t){const n=(null==r?void 0:r.equalityFn)||Object.is;let a=e(s.getState());i=r=>{const s=e(r);if(!n(a,s)){const e=a;t(a=s,e)}},(null==r?void 0:r.fireImmediately)&&t(a,a)}return n(i)};return e(t,r,s)};function yl(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var s;const n=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),i=null!=(s=r.getItem(e))?s:null;return i instanceof Promise?i.then(n):n(i)},setItem:(e,s)=>r.setItem(e,JSON.stringify(s,null==t?void 0:t.replacer)),removeItem:e=>r.removeItem(e)}}const bl=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then:e=>bl(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>bl(t)(e)}}},vl=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?(console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),((e,t)=>(r,s,n)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},a=!1;const o=new Set,l=new Set;let c;try{c=i.getStorage()}catch(e){}if(!c)return e(((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...e)}),s,n);const h=bl(i.serialize),u=()=>{const e=i.partialize({...s()});let t;const r=h({state:e,version:i.version}).then((e=>c.setItem(i.name,e))).catch((e=>{t=e}));if(t)throw t;return r},d=n.setState;n.setState=(e,t)=>{d(e,t),u()};const p=e(((...e)=>{r(...e),u()}),s,n);let f;const m=()=>{var e;if(!c)return;a=!1,o.forEach((e=>e(s())));const t=(null==(e=i.onRehydrateStorage)?void 0:e.call(i,s()))||void 0;return bl(c.getItem.bind(c))(i.name).then((e=>{if(e)return i.deserialize(e)})).then((e=>{if(e){if("number"!=typeof e.version||e.version===i.version)return e.state;if(i.migrate)return i.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}})).then((e=>{var t;return f=i.merge(e,null!=(t=s())?t:p),r(f,!0),u()})).then((()=>{null==t||t(f,void 0),a=!0,l.forEach((e=>e(f)))})).catch((e=>{null==t||t(void 0,e)}))};return n.persist={setOptions:e=>{i={...i,...e},e.getStorage&&(c=e.getStorage())},clearStorage:()=>{null==c||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>m(),hasHydrated:()=>a,onHydrate:e=>(o.add(e),()=>{o.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},m(),f||p})(e,t)):((e,t)=>(r,s,n)=>{let i={storage:yl((()=>localStorage)),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},a=!1;const o=new Set,l=new Set;let c=i.storage;if(!c)return e(((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...e)}),s,n);const h=()=>{const e=i.partialize({...s()});return c.setItem(i.name,{state:e,version:i.version})},u=n.setState;n.setState=(e,t)=>{u(e,t),h()};const d=e(((...e)=>{r(...e),h()}),s,n);let p;n.getInitialState=()=>d;const f=()=>{var e,t;if(!c)return;a=!1,o.forEach((e=>{var t;return e(null!=(t=s())?t:d)}));const n=(null==(t=i.onRehydrateStorage)?void 0:t.call(i,null!=(e=s())?e:d))||void 0;return bl(c.getItem.bind(c))(i.name).then((e=>{if(e){if("number"!=typeof e.version||e.version===i.version)return e.state;if(i.migrate)return i.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}})).then((e=>{var t;return p=i.merge(e,null!=(t=s())?t:d),r(p,!0),h()})).then((()=>{null==n||n(p,void 0),p=s(),a=!0,l.forEach((e=>e(p)))})).catch((e=>{null==n||n(void 0,e)}))};return n.persist={setOptions:e=>{i={...i,...e},e.storage&&(c=e.storage)},clearStorage:()=>{null==c||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>f(),hasHydrated:()=>a,onHydrate:e=>(o.add(e),()=>{o.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},i.skipHydration||f(),p||d})(e,t),wl=e=>{let t;const r=new Set,s=(e,s)=>{const n="function"==typeof e?e(t):e;if(!Object.is(n,t)){const e=t;t=(null!=s?s:"object"!=typeof n||null===n)?n:Object.assign({},t,n),r.forEach((r=>r(t,e)))}},n=()=>t,i={setState:s,getState:n,getInitialState:()=>a,subscribe:e=>(r.add(e),()=>r.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},a=t=e(s,n,i);return i},Al=e=>e?wl(e):wl;var kl=r(2347);function El(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(let s=0;s<r.length;s++)if(!Object.prototype.hasOwnProperty.call(t,r[s])||!Object.is(e[r[s]],t[r[s]]))return!1;return!0}function xl(e,t,{batch:r={multicall:{wait:32}},pollingInterval:s=4e3,rank:n,retryCount:i,retryDelay:a,stallTimeout:o}={}){if(!e.length)throw new Error("must have at least one chain");let l=[];const c={},h={};for(const r of e){let e=!1;for(const s of t){const t=s(r);t&&(e=!0,l.some((({id:e})=>e===r.id))||(l=[...l,t.chain]),c[r.id]=[...c[r.id]||[],...t.rpcUrls.http],t.rpcUrls.webSocket&&(h[r.id]=[...h[r.id]||[],...t.rpcUrls.webSocket]))}if(!e)throw new Error([`Could not find valid provider configuration for chain "${r.name}".\n`,"You may need to add `jsonRpcProvider` to `configureChains` with the chain's RPC URLs.","Read more: https://wagmi.sh/core/providers/jsonRpc"].join("\n"))}return{chains:l,publicClient:({chainId:t})=>{const h=l.find((e=>e.id===t))??e[0],u=c[h.id];if(!u||!u[0])throw new Error(`No providers configured for chain "${h.id}"`);const d=il({batch:r,chain:h,transport:al(u.map((e=>function(e,t={}){const{batch:r,fetchOptions:s,key:n="http",name:i="HTTP JSON-RPC",retryDelay:a}=t;return({chain:o,retryCount:l,timeout:c})=>{const{batchSize:h=1e3,wait:u=0}="object"==typeof r?r:{},d=t.retryCount??l,p=c??t.timeout??1e4,f=e||o?.rpcUrls.default.http[0];if(!f)throw new ol;return na({key:n,name:i,async request({method:t,params:n}){const i={method:t,params:n},{schedule:a}=(0,ll.K)({id:`${e}`,wait:u,shouldSplitBatch:e=>e.length>h,fn:e=>fl.http(f,{body:e,fetchOptions:s,timeout:p}),sort:(e,t)=>e.id-t.id}),[{error:o,result:l}]=await(async e=>r?a(e):[await fl.http(f,{body:e,fetchOptions:s,timeout:p})])(i);if(o)throw new Sn.YP({body:i,error:o,url:f});return l},retryCount:d,retryDelay:a,timeout:p,type:"http"},{fetchOptions:s,url:e})}}(e,{timeout:o}))),{rank:n,retryCount:i,retryDelay:a}),pollingInterval:s});return Object.assign(d,{chains:l})},webSocketPublicClient:({chainId:t})=>{const c=l.find((e=>e.id===t))??e[0],u=h[c.id];if(!u||!u[0])return;const d=il({batch:r,chain:c,transport:al(u.map((e=>function(e,t={}){const{key:r="webSocket",name:s="WebSocket JSON-RPC",retryDelay:n}=t;return({chain:i,retryCount:a,timeout:o})=>{const l=t.retryCount??a,c=o??t.timeout??1e4,h=e||i?.rpcUrls.default.webSocket?.[0];if(!h)throw new ol;return na({key:r,name:s,async request({method:e,params:t}){const r={method:e,params:t},s=await pl(h),{error:n,result:i}=await fl.webSocketAsync(s,{body:r,timeout:c});if(n)throw new Sn.YP({body:r,error:n,url:h});return i},retryCount:l,retryDelay:n,timeout:c,type:"webSocket"},{getSocket:()=>pl(h),async subscribe({params:e,onData:t,onError:r}){const s=await pl(h),{result:n}=await new Promise(((n,i)=>fl.webSocket(s,{body:{method:"eth_subscribe",params:e},onResponse(e){if(e.error)return i(e.error),void r?.(e.error);"number"!=typeof e.id?"eth_subscription"===e.method&&t(e.params):n(e)}})));return{subscriptionId:n,unsubscribe:async()=>new Promise((e=>fl.webSocket(s,{body:{method:"eth_unsubscribe",params:[n]},onResponse:e})))}}})}}(e,{timeout:o}))),{rank:n,retryCount:i,retryDelay:a}),pollingInterval:s});return Object.assign(d,{chains:l})}}}Error;var Pl=class extends Error{constructor({chainId:e,connectorId:t}){super(`Chain "${e}" not configured${t?` for connector "${t}"`:""}.`),this.name="ChainNotConfigured"}},Cl=class extends Error{constructor(){super(...arguments),this.name="ConnectorAlreadyConnectedError",this.message="Connector already connected"}},Sl=class extends Error{constructor(){super(...arguments),this.name="ConfigChainsNotFound",this.message="No chains were found on the wagmi config. Some functions that require a chain may not work."}},Il=class extends Error{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),this.name="SwitchChainNotSupportedError"}};var _l=(e,{find:t,replace:r})=>e&&t(e)?r(e):"object"!=typeof e?e:Array.isArray(e)?e.map((e=>_l(e,{find:t,replace:r}))):e instanceof Object?Object.entries(e).reduce(((e,[s,n])=>({...e,[s]:_l(n,{find:t,replace:r})})),{}):e;function Tl(e){const t=JSON.parse(e),r=_l(t,{find:e=>"string"==typeof e&&e.startsWith("#bigint."),replace:e=>BigInt(e.replace("#bigint.",""))});return r}function Ml(e){return"number"==typeof e?e:"wei"===e?0:Math.abs(ml.a4[e])}function Dl(e,t){return e.slice(0,t).join(".")||"."}function Bl(e,t){const{length:r}=e;for(let s=0;s<r;++s)if(e[s]===t)return s+1;return 0}function Ol(e,t,r,s){return JSON.stringify(e,function(e,t){const r="function"==typeof e,s="function"==typeof t,n=[],i=[];return function(a,o){if("object"==typeof o)if(n.length){const e=Bl(n,this);0===e?n[n.length]=this:(n.splice(e),i.splice(e)),i[i.length]=a;const r=Bl(n,o);if(0!==r)return s?t.call(this,a,o,Dl(i,r)):`[ref=${Dl(i,r)}]`}else n[0]=o,i[0]=a;return r?e.call(this,a,o):o}}(((e,r)=>{const s="bigint"==typeof r?`#bigint.${r.toString()}`:r;return t?.(e,s)||s}),s),r??void 0)}var Fl={getItem:e=>"",setItem:(e,t)=>null,removeItem:e=>null};function Nl({deserialize:e=Tl,key:t="wagmi",serialize:r=Ol,storage:s}){return{...s,getItem:(r,n=null)=>{const i=s.getItem(`${t}.${r}`);try{return i?e(i):n}catch(e){return console.warn(e),n}},setItem:(e,n)=>{if(null===n)s.removeItem(`${t}.${e}`);else try{s.setItem(`${t}.${e}`,r(n))}catch(e){console.error(e)}},removeItem:e=>s.removeItem(`${t}.${e}`)}}var Rl,Ll,Ul,jl,Gl,Vl="store",zl=class{constructor({autoConnect:e=!1,connectors:t=[new oa],publicClient:r,storage:s=Nl({storage:"undefined"!=typeof window?window.localStorage:Fl}),logger:n={warn:console.warn},webSocketPublicClient:i}){ha(this,Ul),this.publicClients=new Map,this.webSocketPublicClients=new Map,ha(this,Rl,void 0),ha(this,Ll,void 0),this.args={autoConnect:e,connectors:t,logger:n,publicClient:r,storage:s,webSocketPublicClient:i};let a,o="disconnected";if(e)try{const e=s.getItem(Vl),t=e?.state?.data;o=t?.account?"reconnecting":"connecting",a=t?.chain?.id}catch(e){}const l="function"==typeof t?t():t;var c,h,u;l.forEach((e=>e.setStorage(s))),this.store=Al(gl(vl((()=>({connectors:l,publicClient:this.getPublicClient({chainId:a}),status:o,webSocketPublicClient:this.getWebSocketPublicClient({chainId:a})})),{name:Vl,storage:s,partialize:t=>({...e&&{data:{account:t?.data?.account,chain:t?.data?.chain}},chains:t?.chains}),version:2}))),this.storage=s,ua(this,Ll,s?.getItem("wallet")),(c=this,h=Ul,u=jl,la(c,h,"access private method"),u).call(this),e&&"undefined"!=typeof window&&setTimeout((async()=>await this.autoConnect()),0)}get chains(){return this.store.getState().chains}get connectors(){return this.store.getState().connectors}get connector(){return this.store.getState().connector}get data(){return this.store.getState().data}get error(){return this.store.getState().error}get lastUsedChainId(){return this.data?.chain?.id}get publicClient(){return this.store.getState().publicClient}get status(){return this.store.getState().status}get subscribe(){return this.store.subscribe}get webSocketPublicClient(){return this.store.getState().webSocketPublicClient}setState(e){const t="function"==typeof e?e(this.store.getState()):e;this.store.setState(t,!0)}clearState(){this.setState((e=>({...e,chains:void 0,connector:void 0,data:void 0,error:void 0,status:"disconnected"})))}async destroy(){this.connector&&await(this.connector.disconnect?.()),ua(this,Rl,!1),this.clearState(),this.store.destroy()}async autoConnect(){if(ca(this,Rl))return;ua(this,Rl,!0),this.setState((e=>({...e,status:e.data?.account?"reconnecting":"connecting"})));const e=ca(this,Ll)?[...this.connectors].sort((e=>e.id===ca(this,Ll)?-1:1)):this.connectors;let t=!1;for(const r of e){if(!r.ready||!r.isAuthorized)continue;if(!await r.isAuthorized())continue;const e=await r.connect();this.setState((t=>({...t,connector:r,chains:r?.chains,data:e,status:"connected"}))),t=!0;break}return t||this.setState((e=>({...e,data:void 0,status:"disconnected"}))),ua(this,Rl,!1),this.data}setConnectors(e){this.args={...this.args,connectors:e};const t="function"==typeof e?e():e;t.forEach((e=>e.setStorage(this.args.storage))),this.setState((e=>({...e,connectors:t})))}getPublicClient({chainId:e}={}){let t=this.publicClients.get(-1);if(t&&t?.chain.id===e)return t;if(t=this.publicClients.get(e??-1),t)return t;const{publicClient:r}=this.args;return t="function"==typeof r?r({chainId:e}):r,this.publicClients.set(e??-1,t),t}setPublicClient(e){const t=this.data?.chain?.id;this.args={...this.args,publicClient:e},this.publicClients.clear(),this.setState((e=>({...e,publicClient:this.getPublicClient({chainId:t})})))}getWebSocketPublicClient({chainId:e}={}){let t=this.webSocketPublicClients.get(-1);if(t&&t?.chain.id===e)return t;if(t=this.webSocketPublicClients.get(e??-1),t)return t;const{webSocketPublicClient:r}=this.args;return t="function"==typeof r?r({chainId:e}):r,t&&this.webSocketPublicClients.set(e??-1,t),t}setWebSocketPublicClient(e){const t=this.data?.chain?.id;this.args={...this.args,webSocketPublicClient:e},this.webSocketPublicClients.clear(),this.setState((e=>({...e,webSocketPublicClient:this.getWebSocketPublicClient({chainId:t})})))}setLastUsedConnector(e=null){this.storage?.setItem("wallet",e)}};function Ql(){if(!Gl)throw new Error("No wagmi config found. Ensure you have set up a config: https://wagmi.sh/react/config");return Gl}async function Hl({chainId:e,connector:t}){const r=Ql(),s=r.connector;if(s&&t.id===s.id)throw new Cl;try{r.setState((e=>({...e,status:"connecting"})));const s=await t.connect({chainId:e});return r.setLastUsedConnector(t.id),r.setState((e=>({...e,connector:t,chains:t?.chains,data:s,status:"connected"}))),r.storage.setItem("connected",!0),{...s,connector:t}}catch(e){throw r.setState((e=>({...e,status:e.connector?"connected":"disconnected"}))),e}}async function Kl(){const e=Ql();e.connector&&await e.connector.disconnect(),e.clearState(),e.storage.removeItem("connected")}Rl=new WeakMap,Ll=new WeakMap,Ul=new WeakSet,jl=function(){const e=e=>{this.setState((t=>({...t,data:{...t.data,...e}})))},t=()=>{this.clearState()},r=e=>{this.setState((t=>({...t,error:e})))};this.store.subscribe((({connector:e})=>e),((s,n)=>{n?.off?.("change",e),n?.off?.("disconnect",t),n?.off?.("error",r),s&&(s.on?.("change",e),s.on?.("disconnect",t),s.on?.("error",r))}));const{publicClient:s,webSocketPublicClient:n}=this.args;("function"==typeof s||"function"==typeof n)&&this.store.subscribe((({data:e})=>e?.chain?.id),(e=>{this.setState((t=>({...t,publicClient:this.getPublicClient({chainId:e}),webSocketPublicClient:this.getWebSocketPublicClient({chainId:e})})))}))};var ql=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{name:"",type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{name:"",type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],Wl=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{name:"",type:"bytes32"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{name:"",type:"bytes32"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}];function Jl({chainId:e}={}){const t=Ql();return e&&t.getPublicClient({chainId:e})||t.publicClient}async function Yl({chainId:e}={}){const t=Ql();return await(t.connector?.getWalletClient?.({chainId:e}))||null}async function Zl({chainId:e,contracts:t,blockNumber:r,blockTag:s,...n}){const i=Jl({chainId:e});if(!i.chains)throw new Sl;if(e&&i.chain.id!==e)throw new Pl({chainId:e});return i.multicall({allowFailure:n.allowFailure??!0,blockNumber:r,blockTag:s,contracts:t})}async function $l({address:e,account:t,chainId:r,abi:s,args:n,functionName:i,blockNumber:a,blockTag:o}){return Jl({chainId:r}).readContract({abi:s,address:e,account:t,functionName:i,args:n,blockNumber:a,blockTag:o})}async function Xl({contracts:e,blockNumber:t,blockTag:r,...s}){const{allowFailure:n=!0}=s;try{const s=Jl(),i=e.reduce(((e,t,r)=>{const n=t.chainId??s.chain.id;return{...e,[n]:[...e[n]||[],{contract:t,index:r}]}}),{}),a=()=>Object.entries(i).map((([e,s])=>Zl({allowFailure:n,chainId:parseInt(e),contracts:s.map((({contract:e})=>e)),blockNumber:t,blockTag:r}))),o=(await Promise.all(a())).flat(),l=Object.values(i).flatMap((e=>e.map((({index:e})=>e))));return o.reduce(((e,t,r)=>(e&&(e[l[r]]=t),e)),[])}catch(s){if(s instanceof ya.Ud)throw s;const i=()=>e.map((e=>$l({...e,blockNumber:t,blockTag:r})));return n?(await Promise.allSettled(i())).map((e=>"fulfilled"===e.status?{result:e.value,status:"success"}:{error:e.reason,result:void 0,status:"failure"})):await Promise.all(i())}}async function ec({address:e,chainId:t,formatUnits:r,token:s}){const n=Ql(),i=Jl({chainId:t});if(s){const n=async({abi:n})=>{const i={abi:n,address:s,chainId:t},[a,o,l]=await Xl({allowFailure:!1,contracts:[{...i,functionName:"balanceOf",args:[e]},{...i,functionName:"decimals"},{...i,functionName:"symbol"}]});return{decimals:o,formatted:(0,kl.e)(a??"0",Ml(r??o)),symbol:l,value:a}};try{return await n({abi:ql})}catch(e){if(e instanceof ya.Ud){const{symbol:e,...t}=await n({abi:Wl});return{symbol:(0,ti.M5)((0,ma.c)(e,{dir:"right"})),...t}}throw e}}const a=[...n.publicClient.chains||[],...n.chains??[]],o=await i.getBalance({address:e}),l=a.find((e=>e.id===i.chain.id));return{decimals:l?.nativeCurrency.decimals??18,formatted:(0,kl.e)(o??"0",Ml(r??18)),symbol:l?.nativeCurrency.symbol??"ETH",value:o}}function tc(){const{data:e,connector:t,status:r}=Ql();switch(r){case"connected":return{address:e?.account,connector:t,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:r};case"reconnecting":return{address:e?.account,connector:t,isConnected:!!e?.account,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:r};case"connecting":return{address:e?.account,connector:t,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:r};case"disconnected":return{address:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:r}}}function rc(){const e=Ql(),t=e.data?.chain?.id,r=e.chains??[],s=[...e.publicClient?.chains||[],...r].find((e=>e.id===t))??{id:t,name:`Chain ${t}`,network:`${t}`,nativeCurrency:{name:"Ether",decimals:18,symbol:"ETH"},rpcUrls:{default:{http:[""]},public:{http:[""]}}};return{chain:t?{...s,...e.data?.chain,id:t}:void 0,chains:r}}async function sc({chainId:e}){const{connector:t}=Ql();if(!t)throw new pn;if(!t.switchChain)throw new Il({connector:t});return t.switchChain(e)}function nc(e,{selector:t=(e=>e)}={}){const r=Ql().subscribe((({data:e,connector:r,status:s})=>t({address:e?.account,connector:r,status:s})),(()=>e(tc())),{equalityFn:El});return r}function ic(e,{selector:t=(e=>e)}={}){const r=Ql().subscribe((({data:e,chains:r})=>t({chainId:e?.chain?.id,chains:r})),(()=>e(rc())),{equalityFn:El});return r}async function ac({name:e,chainId:t}){const{normalize:s}=await r.e(676).then(r.bind(r,3676)),n=Jl({chainId:t});return await n.getEnsAvatar({name:s(e)})}async function oc({address:e,chainId:t}){return Jl({chainId:t}).getEnsName({address:(0,Pn.m)(e)})}const lc=32,cc=new Uint8Array(lc),hc=["then"],uc={};function dc(e,t){const r=new Error(`deferred error during ABI decoding triggered accessing ${e}`);throw r.error=t,r}class pc extends Array{#c;constructor(...e){const t=e[0];let r=e[1],s=(e[2]||[]).slice(),n=!0;t!==uc&&(r=e,s=[],n=!1),super(r.length),r.forEach(((e,t)=>{this[t]=e}));const i=s.reduce(((e,t)=>("string"==typeof t&&e.set(t,(e.get(t)||0)+1),e)),new Map);if(this.#c=Object.freeze(r.map(((e,t)=>{const r=s[t];return null!=r&&1===i.get(r)?r:null}))),n)return Object.freeze(this),new Proxy(this,{get:(e,t,r)=>{if("string"==typeof t){if(t.match(/^[0-9]+$/)){const r=Ws(t,"%index");if(r<0||r>=this.length)throw new RangeError("out of result range");const s=e[r];return s instanceof Error&&dc(`index ${r}`,s),s}if(hc.indexOf(t)>=0)return Reflect.get(e,t,r);const s=e[t];if(s instanceof Function)return function(...t){return s.apply(this===r?e:this,t)};if(!(t in e))return e.getValue.apply(this===r?e:this,[t])}return Reflect.get(e,t,r)}})}toArray(){const e=[];return this.forEach(((t,r)=>{t instanceof Error&&dc(`index ${r}`,t),e.push(t)})),e}toObject(){return this.#c.reduce(((e,t,r)=>(ks(null!=t,"value at index ${ index } unnamed","UNSUPPORTED_OPERATION",{operation:"toObject()"}),t in e||(e[t]=this.getValue(t)),e)),{})}slice(e,t){null==e&&(e=0),e<0&&(e+=this.length)<0&&(e=0),null==t&&(t=this.length),t<0&&(t+=this.length)<0&&(t=0),t>this.length&&(t=this.length);const r=[],s=[];for(let n=e;n<t;n++)r.push(this[n]),s.push(this.#c[n]);return new pc(uc,r,s)}filter(e,t){const r=[],s=[];for(let n=0;n<this.length;n++){const i=this[n];i instanceof Error&&dc(`index ${n}`,i),e.call(t,i,n,this)&&(r.push(i),s.push(this.#c[n]))}return new pc(uc,r,s)}map(e,t){const r=[];for(let s=0;s<this.length;s++){const n=this[s];n instanceof Error&&dc(`index ${s}`,n),r.push(e.call(t,n,s,this))}return r}getValue(e){const t=this.#c.indexOf(e);if(-1===t)return;const r=this[t];return r instanceof Error&&dc(`property ${JSON.stringify(e)}`,r.error),r}static fromItems(e,t){return new pc(uc,e,t)}}function fc(e){let t=Ys(e);return ks(t.length<=lc,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:lc,offset:t.length}),t.length!==lc&&(t=_s(Bs([cc.slice(t.length%lc),t]))),t}class mc{name;type;localName;dynamic;constructor(e,t,r,s){ys(this,{name:e,type:t,localName:r,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){Es(!1,e,this.localName,t)}}class gc{#h;#u;constructor(){this.#h=[],this.#u=0}get data(){return Bs(this.#h)}get length(){return this.#u}#d(e){return this.#h.push(e),this.#u+=e.length,e.length}appendWriter(e){return this.#d(_s(e.data))}writeBytes(e){let t=_s(e);const r=t.length%lc;return r&&(t=_s(Bs([t,cc.slice(r)]))),this.#d(t)}writeValue(e){return this.#d(fc(e))}writeUpdatableValue(){const e=this.#h.length;return this.#h.push(cc),this.#u+=lc,t=>{this.#h[e]=fc(t)}}}class yc{allowLoose;#h;#p;#f;#m;#g;constructor(e,t,r){ys(this,{allowLoose:!!t}),this.#h=_s(e),this.#f=0,this.#m=null,this.#g=null!=r?r:1024,this.#p=0}get data(){return Ds(this.#h)}get dataLength(){return this.#h.length}get consumed(){return this.#p}get bytes(){return new Uint8Array(this.#h)}#y(e){if(this.#m)return this.#m.#y(e);this.#f+=e,ks(this.#g<1||this.#f<=this.#g*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#g} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:_s(this.#h),offset:this.#p,length:e,info:{bytesRead:this.#f,dataLength:this.dataLength}})}#b(e,t,r){let s=Math.ceil(t/lc)*lc;return this.#p+s>this.#h.length&&(this.allowLoose&&r&&this.#p+t<=this.#h.length?s=t:ks(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:_s(this.#h),length:this.#h.length,offset:this.#p+s})),this.#h.slice(this.#p,this.#p+s)}subReader(e){const t=new yc(this.#h.slice(this.#p+e),this.allowLoose,this.#g);return t.#m=this,t}readBytes(e,t){let r=this.#b(0,e,!!t);return this.#y(e),this.#p+=r.length,r.slice(0,e)}readValue(){return qs(this.readBytes(lc))}readIndex(){return Ws(qs(this.readBytes(lc)))}}function bc(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function vc(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function wc(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Ac(e,t){vc(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const kc=BigInt(2**32-1),Ec=BigInt(32);function xc(e,t=!1){return t?{h:Number(e&kc),l:Number(e>>Ec&kc)}:{h:0|Number(e>>Ec&kc),l:0|Number(e&kc)}}function Pc(e,t=!1){let r=new Uint32Array(e.length),s=new Uint32Array(e.length);for(let n=0;n<e.length;n++){const{h:i,l:a}=xc(e[n],t);[r[n],s[n]]=[i,a]}return[r,s]}const Cc=(e,t,r)=>e<<r|t>>>32-r,Sc=(e,t,r)=>t<<r|e>>>32-r,Ic=(e,t,r)=>t<<r-32|e>>>64-r,_c=(e,t,r)=>e<<r-32|t>>>64-r;const Tc=e=>e instanceof Uint8Array;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function Mc(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),!Tc(e))throw new Error("expected Uint8Array, got "+typeof e);return e}class Dc{clone(){return this._cloneInto()}}const[Bc,Oc,Fc]=[[],[],[]],Nc=BigInt(0),Rc=BigInt(1),Lc=BigInt(2),Uc=BigInt(7),jc=BigInt(256),Gc=BigInt(113);for(let e=0,t=Rc,r=1,s=0;e<24;e++){[r,s]=[s,(2*r+3*s)%5],Bc.push(2*(5*s+r)),Oc.push((e+1)*(e+2)/2%64);let n=Nc;for(let e=0;e<7;e++)t=(t<<Rc^(t>>Uc)*Gc)%jc,t&Lc&&(n^=Rc<<(Rc<<BigInt(e))-Rc);Fc.push(n)}const[Vc,zc]=Pc(Fc,!0),Qc=(e,t,r)=>r>32?Ic(e,t,r):Cc(e,t,r),Hc=(e,t,r)=>r>32?_c(e,t,r):Sc(e,t,r);class Kc extends Dc{constructor(e,t,r,s=!1,n=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=n,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,bc(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var i;this.state=new Uint8Array(200),this.state32=(i=this.state,new Uint32Array(i.buffer,i.byteOffset,Math.floor(i.byteLength/4)))}keccak(){!function(e,t=24){const r=new Uint32Array(10);for(let s=24-t;s<24;s++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const s=(t+8)%10,n=(t+2)%10,i=r[n],a=r[n+1],o=Qc(i,a,1)^r[s],l=Hc(i,a,1)^r[s+1];for(let r=0;r<50;r+=10)e[t+r]^=o,e[t+r+1]^=l}let t=e[2],n=e[3];for(let r=0;r<24;r++){const s=Oc[r],i=Qc(t,n,s),a=Hc(t,n,s),o=Bc[r];t=e[o],n=e[o+1],e[o]=i,e[o+1]=a}for(let t=0;t<50;t+=10){for(let s=0;s<10;s++)r[s]=e[t+s];for(let s=0;s<10;s++)e[t+s]^=~r[(s+2)%10]&r[(s+4)%10]}e[0]^=Vc[s],e[1]^=zc[s]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){wc(this);const{blockLen:t,state:r}=this,s=(e=Mc(e)).length;for(let n=0;n<s;){const i=Math.min(t-this.pos,s-n);for(let t=0;t<i;t++)r[this.pos++]^=e[n++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,0!=(128&t)&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){wc(this,!1),vc(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,n=e.length;s<n;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,n-s);e.set(t.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return bc(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Ac(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:n,enableXOF:i}=this;return e||(e=new Kc(t,r,s,i,n)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=n,e.suffix=r,e.outputLen=s,e.enableXOF=i,e.destroyed=this.destroyed,e}}const qc=(e,t,r)=>function(e){const t=t=>e().update(Mc(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}((()=>new Kc(t,e,r))),Wc=qc(1,136,32);let Jc=!1;const Yc=function(e){return Wc(e)};let Zc=Yc;function $c(e){const t=Is(e,"data");return Ds(Zc(t))}$c._=Yc,$c.lock=function(){Jc=!0},$c.register=function(e){if(Jc)throw new TypeError("keccak256 is locked");Zc=e},Object.freeze($c);const Xc=BigInt(0),eh=BigInt(36);function th(e){const t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let e=0;e<40;e++)r[e]=t[e].charCodeAt(0);const s=Is($c(r));for(let e=0;e<40;e+=2)s[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&s[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}const rh={};for(let e=0;e<10;e++)rh[String(e)]=String(e);for(let e=0;e<26;e++)rh[String.fromCharCode(65+e)]=String(10+e);const sh=15;function nh(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((e=>rh[e])).join("");for(;t.length>=sh;){let e=t.substring(0,sh);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}const ih=function(){const e={};for(let t=0;t<36;t++){e["0123456789abcdefghijklmnopqrstuvwxyz"[t]]=BigInt(t)}return e}();function ah(e){if(Es("string"==typeof e,"invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);const t=th(e);return Es(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){Es(e.substring(2,4)===nh(e),"bad icap checksum","address",e);let t=function(e){e=e.toLowerCase();let t=Xc;for(let r=0;r<e.length;r++)t=t*eh+ih[e[r]];return t}(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return th("0x"+t)}Es(!1,"invalid address","address",e)}const oh={};function lh(e,t){let r=!1;return t<0&&(r=!0,t*=-1),new uh(oh,`${r?"":"u"}int${t}`,e,{signed:r,width:t})}function ch(e,t){return new uh(oh,`bytes${t||""}`,e,{size:t})}const hh=Symbol.for("_ethers_typed");class uh{type;value;#v;_typedSymbol;constructor(e,t,r,s){null==s&&(s=null),Cs(oh,e,"Typed"),ys(this,{_typedSymbol:hh,type:t,value:r}),this.#v=s,this.format()}format(){if("array"===this.type)throw new Error("");if("dynamicArray"===this.type)throw new Error("");return"tuple"===this.type?`tuple(${this.value.map((e=>e.format())).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return this.#v}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===this.#v?-1:!1===this.#v?this.value.length:null}static from(e,t){return new uh(oh,e,t)}static uint8(e){return lh(e,8)}static uint16(e){return lh(e,16)}static uint24(e){return lh(e,24)}static uint32(e){return lh(e,32)}static uint40(e){return lh(e,40)}static uint48(e){return lh(e,48)}static uint56(e){return lh(e,56)}static uint64(e){return lh(e,64)}static uint72(e){return lh(e,72)}static uint80(e){return lh(e,80)}static uint88(e){return lh(e,88)}static uint96(e){return lh(e,96)}static uint104(e){return lh(e,104)}static uint112(e){return lh(e,112)}static uint120(e){return lh(e,120)}static uint128(e){return lh(e,128)}static uint136(e){return lh(e,136)}static uint144(e){return lh(e,144)}static uint152(e){return lh(e,152)}static uint160(e){return lh(e,160)}static uint168(e){return lh(e,168)}static uint176(e){return lh(e,176)}static uint184(e){return lh(e,184)}static uint192(e){return lh(e,192)}static uint200(e){return lh(e,200)}static uint208(e){return lh(e,208)}static uint216(e){return lh(e,216)}static uint224(e){return lh(e,224)}static uint232(e){return lh(e,232)}static uint240(e){return lh(e,240)}static uint248(e){return lh(e,248)}static uint256(e){return lh(e,256)}static uint(e){return lh(e,256)}static int8(e){return lh(e,-8)}static int16(e){return lh(e,-16)}static int24(e){return lh(e,-24)}static int32(e){return lh(e,-32)}static int40(e){return lh(e,-40)}static int48(e){return lh(e,-48)}static int56(e){return lh(e,-56)}static int64(e){return lh(e,-64)}static int72(e){return lh(e,-72)}static int80(e){return lh(e,-80)}static int88(e){return lh(e,-88)}static int96(e){return lh(e,-96)}static int104(e){return lh(e,-104)}static int112(e){return lh(e,-112)}static int120(e){return lh(e,-120)}static int128(e){return lh(e,-128)}static int136(e){return lh(e,-136)}static int144(e){return lh(e,-144)}static int152(e){return lh(e,-152)}static int160(e){return lh(e,-160)}static int168(e){return lh(e,-168)}static int176(e){return lh(e,-176)}static int184(e){return lh(e,-184)}static int192(e){return lh(e,-192)}static int200(e){return lh(e,-200)}static int208(e){return lh(e,-208)}static int216(e){return lh(e,-216)}static int224(e){return lh(e,-224)}static int232(e){return lh(e,-232)}static int240(e){return lh(e,-240)}static int248(e){return lh(e,-248)}static int256(e){return lh(e,-256)}static int(e){return lh(e,-256)}static bytes1(e){return ch(e,1)}static bytes2(e){return ch(e,2)}static bytes3(e){return ch(e,3)}static bytes4(e){return ch(e,4)}static bytes5(e){return ch(e,5)}static bytes6(e){return ch(e,6)}static bytes7(e){return ch(e,7)}static bytes8(e){return ch(e,8)}static bytes9(e){return ch(e,9)}static bytes10(e){return ch(e,10)}static bytes11(e){return ch(e,11)}static bytes12(e){return ch(e,12)}static bytes13(e){return ch(e,13)}static bytes14(e){return ch(e,14)}static bytes15(e){return ch(e,15)}static bytes16(e){return ch(e,16)}static bytes17(e){return ch(e,17)}static bytes18(e){return ch(e,18)}static bytes19(e){return ch(e,19)}static bytes20(e){return ch(e,20)}static bytes21(e){return ch(e,21)}static bytes22(e){return ch(e,22)}static bytes23(e){return ch(e,23)}static bytes24(e){return ch(e,24)}static bytes25(e){return ch(e,25)}static bytes26(e){return ch(e,26)}static bytes27(e){return ch(e,27)}static bytes28(e){return ch(e,28)}static bytes29(e){return ch(e,29)}static bytes30(e){return ch(e,30)}static bytes31(e){return ch(e,31)}static bytes32(e){return ch(e,32)}static address(e){return new uh(oh,"address",e)}static bool(e){return new uh(oh,"bool",!!e)}static bytes(e){return new uh(oh,"bytes",e)}static string(e){return new uh(oh,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new uh(oh,"overrides",Object.assign({},e))}static isTyped(e){return e&&"object"==typeof e&&"_typedSymbol"in e&&e._typedSymbol===hh}static dereference(e,t){if(uh.isTyped(e)){if(e.type!==t)throw new Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}}class dh extends mc{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let r=uh.dereference(t,"string");try{r=ah(r)}catch(e){return this._throwError(e.message,t)}return e.writeValue(r)}decode(e){return ah(Js(e.readValue(),20))}}class ph extends mc{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}function fh(e,t,r){let s=[];if(Array.isArray(r))s=r;else if(r&&"object"==typeof r){let e={};s=t.map((t=>{const s=t.localName;return ks(s,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:r}),ks(!e[s],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:r}),e[s]=!0,r[s]}))}else Es(!1,"invalid tuple value","tuple",r);Es(t.length===s.length,"types/value length mismatch","tuple",r);let n=new gc,i=new gc,a=[];t.forEach(((e,t)=>{let r=s[t];if(e.dynamic){let t=i.length;e.encode(i,r);let s=n.writeUpdatableValue();a.push((e=>{s(e+t)}))}else e.encode(n,r)})),a.forEach((e=>{e(n.length)}));let o=e.appendWriter(n);return o+=e.appendWriter(i),o}function mh(e,t){let r=[],s=[],n=e.subReader(0);return t.forEach((t=>{let i=null;if(t.dynamic){let r=e.readIndex(),s=n.subReader(r);try{i=t.decode(s)}catch(e){if(vs(e,"BUFFER_OVERRUN"))throw e;i=e,i.baseType=t.name,i.name=t.localName,i.type=t.type}}else try{i=t.decode(e)}catch(e){if(vs(e,"BUFFER_OVERRUN"))throw e;i=e,i.baseType=t.name,i.name=t.localName,i.type=t.type}if(null==i)throw new Error("investigate");r.push(i),s.push(t.localName||null)})),pc.fromItems(r,s)}class gh extends mc{coder;length;constructor(e,t,r){super("array",e.type+"["+(t>=0?t:"")+"]",r,-1===t||e.dynamic),ys(this,{coder:e,length:t})}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(e,t){const r=uh.dereference(t,"array");Array.isArray(r)||this._throwError("expected array value",r);let s=this.length;-1===s&&(s=r.length,e.writeValue(r.length)),xs(r.length,s,"coder array"+(this.localName?" "+this.localName:""));let n=[];for(let e=0;e<r.length;e++)n.push(this.coder);return fh(e,n,r)}decode(e){let t=this.length;-1===t&&(t=e.readIndex(),ks(t*lc<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:t*lc,length:e.dataLength}));let r=[];for(let e=0;e<t;e++)r.push(new ph(this.coder));return mh(e,r)}}class yh extends mc{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){const r=uh.dereference(t,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class bh extends mc{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=_s(t);let r=e.writeValue(t.length);return r+=e.writeBytes(t),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class vh extends bh{constructor(e){super("bytes",e)}decode(e){return Ds(super.decode(e))}}class wh extends mc{size;constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),ys(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let r=_s(uh.dereference(t,this.type));return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return Ds(e.readBytes(this.size))}}const Ah=new Uint8Array([]);class kh extends mc{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes(Ah)}decode(e){return e.readBytes(0),null}}const Eh=BigInt(0),xh=BigInt(1),Ph=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Ch extends mc{size;signed;constructor(e,t,r){const s=(t?"int":"uint")+8*e;super(s,s,r,!1),ys(this,{size:e,signed:t},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,t){let r=Qs(uh.dereference(t,this.type)),s=zs(Ph,256);if(this.signed){let e=zs(s,8*this.size-1);(r>e||r<-(e+xh))&&this._throwError("value out-of-bounds",t),r=Vs(r,256)}else(r<Eh||r>zs(s,8*this.size))&&this._throwError("value out-of-bounds",t);return e.writeValue(r)}decode(e){let t=zs(e.readValue(),8*this.size);return this.signed&&(t=Gs(t,8*this.size)),t}}function Sh(e,t,r,s,n){if("BAD_PREFIX"===e||"UNEXPECTED_CONTINUE"===e){let e=0;for(let s=t+1;s<r.length&&r[s]>>6==2;s++)e++;return e}return"OVERRUN"===e?r.length-t-1:0}const Ih=Object.freeze({error:function(e,t,r,s,n){Es(!1,`invalid codepoint at offset ${t}; ${e}`,"bytes",r)},ignore:Sh,replace:function(e,t,r,s,n){return"OVERLONG"===e?(Es("number"==typeof n,"invalid bad code point for replacement","badCodepoint",n),s.push(n),0):(s.push(65533),Sh(e,t,r))}});function _h(e,t){null==t&&(t=Ih.error);const r=Is(e,"bytes"),s=[];let n=0;for(;n<r.length;){const e=r[n++];if(e>>7==0){s.push(e);continue}let i=null,a=null;if(192==(224&e))i=1,a=127;else if(224==(240&e))i=2,a=2047;else{if(240!=(248&e)){n+=t(128==(192&e)?"UNEXPECTED_CONTINUE":"BAD_PREFIX",n-1,r,s);continue}i=3,a=65535}if(n-1+i>=r.length){n+=t("OVERRUN",n-1,r,s);continue}let o=e&(1<<8-i-1)-1;for(let e=0;e<i;e++){let e=r[n];if(128!=(192&e)){n+=t("MISSING_CONTINUE",n,r,s),o=null;break}o=o<<6|63&e,n++}null!==o&&(o>1114111?n+=t("OUT_OF_RANGE",n-1-i,r,s,o):o>=55296&&o<=57343?n+=t("UTF16_SURROGATE",n-1-i,r,s,o):o<=a?n+=t("OVERLONG",n-1-i,r,s,o):s.push(o))}return s}function Th(e,t){Es("string"==typeof e,"invalid string value","str",e),null!=t&&(!function(e){ks(Ps.indexOf(e)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:e}})}(t),e=e.normalize(t));let r=[];for(let t=0;t<e.length;t++){const s=e.charCodeAt(t);if(s<128)r.push(s);else if(s<2048)r.push(s>>6|192),r.push(63&s|128);else if(55296==(64512&s)){t++;const n=e.charCodeAt(t);Es(t<e.length&&56320==(64512&n),"invalid surrogate pair","str",e);const i=65536+((1023&s)<<10)+(1023&n);r.push(i>>18|240),r.push(i>>12&63|128),r.push(i>>6&63|128),r.push(63&i|128)}else r.push(s>>12|224),r.push(s>>6&63|128),r.push(63&s|128)}return new Uint8Array(r)}function Mh(e,t){return _h(e,t).map((e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e))))).join("")}class Dh extends bh{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,Th(uh.dereference(t,"string")))}decode(e){return Mh(super.decode(e))}}class Bh extends mc{coders;constructor(e,t){let r=!1;const s=[];e.forEach((e=>{e.dynamic&&(r=!0),s.push(e.type)}));super("tuple","tuple("+s.join(",")+")",t,r),ys(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach((t=>{e.push(t.defaultValue())}));const t=this.coders.reduce(((e,t)=>{const r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e}),{});return this.coders.forEach(((r,s)=>{let n=r.localName;n&&1===t[n]&&("length"===n&&(n="_length"),null==e[n]&&(e[n]=e[s]))})),Object.freeze(e)}encode(e,t){const r=uh.dereference(t,"tuple");return fh(e,this.coders,r)}decode(e){return mh(e,this.coders)}}function Oh(e){return $c(Th(e))}function Fh(e){const t=new Set;return e.forEach((e=>t.add(e))),Object.freeze(t)}const Nh=Fh("external public payable override".split(" ")),Rh="constant external internal payable private public pure view override",Lh=Fh(Rh.split(" ")),Uh="constructor error event fallback function receive struct",jh=Fh(Uh.split(" ")),Gh="calldata memory storage payable indexed",Vh=Fh(Gh.split(" ")),zh=Fh([Uh,Gh,"tuple returns",Rh].join(" ").split(" ")),Qh={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},Hh=new RegExp("^(\\s*)"),Kh=new RegExp("^([0-9]+)"),qh=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),Wh=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),Jh=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class Yh{#p;#w;get offset(){return this.#p}get length(){return this.#w.length-this.#p}constructor(e){this.#p=0,this.#w=e.slice()}clone(){return new Yh(this.#w)}reset(){this.#p=0}#A(e=0,t=0){return new Yh(this.#w.slice(e,t).map((t=>Object.freeze(Object.assign({},t,{match:t.match-e,linkBack:t.linkBack-e,linkNext:t.linkNext-e})))))}popKeyword(e){const t=this.peek();if("KEYWORD"!==t.type||!e.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const t=this.peek();throw new Error(`expected ${e}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=this.#A(this.#p+1,e.match+1);return this.#p=e.match+1,t}popParams(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=[];for(;this.#p<e.match-1;){const e=this.peek().linkNext;t.push(this.#A(this.#p+1,e)),this.#p=e}return this.#p=e.match+1,t}peek(){if(this.#p>=this.#w.length)throw new Error("out-of-bounds");return this.#w[this.#p]}peekKeyword(e){const t=this.peekType("KEYWORD");return null!=t&&e.has(t)?t:null}peekType(e){if(0===this.length)return null;const t=this.peek();return t.type===e?t.text:null}pop(){const e=this.peek();return this.#p++,e}toString(){const e=[];for(let t=this.#p;t<this.#w.length;t++){const r=this.#w[t];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}}function Zh(e){const t=[],r=t=>{const r=i<e.length?JSON.stringify(e[i]):"$EOI";throw new Error(`invalid token ${r} at ${i}: ${t}`)};let s=[],n=[],i=0;for(;i<e.length;){let a=e.substring(i),o=a.match(Hh);o&&(i+=o[1].length,a=e.substring(i));const l={depth:s.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};t.push(l);let c=Qh[a[0]]||"";if(c){if(l.type=c,l.text=a[0],i++,"OPEN_PAREN"===c)s.push(t.length-1),n.push(t.length-1);else if("CLOSE_PAREN"==c)0===s.length&&r("no matching open bracket"),l.match=s.pop(),t[l.match].match=t.length-1,l.depth--,l.linkBack=n.pop(),t[l.linkBack].linkNext=t.length-1;else if("COMMA"===c)l.linkBack=n.pop(),t[l.linkBack].linkNext=t.length-1,n.push(t.length-1);else if("OPEN_BRACKET"===c)l.type="BRACKET";else if("CLOSE_BRACKET"===c){let e=t.pop().text;if(t.length>0&&"NUMBER"===t[t.length-1].type){const r=t.pop().text;e=r+e,t[t.length-1].value=Ws(r)}if(0===t.length||"BRACKET"!==t[t.length-1].type)throw new Error("missing opening bracket");t[t.length-1].text+=e}}else if(o=a.match(qh),o){if(l.text=o[1],i+=l.text.length,zh.has(l.text)){l.type="KEYWORD";continue}if(l.text.match(Jh)){l.type="TYPE";continue}l.type="ID"}else{if(o=a.match(Kh),!o)throw new Error(`unexpected token ${JSON.stringify(a[0])} at position ${i}`);l.text=o[1],l.type="NUMBER",i+=l.text.length}}return new Yh(t.map((e=>Object.freeze(e))))}function $h(e,t){let r=[];for(const s in t.keys())e.has(s)&&r.push(s);if(r.length>1)throw new Error(`conflicting types: ${r.join(", ")}`)}function Xh(e,t){if(t.peekKeyword(jh)){const r=t.pop().text;if(r!==e)throw new Error(`expected ${e}, got ${r}`)}return t.popType("ID")}function eu(e,t){const r=new Set;for(;;){const s=e.peekType("KEYWORD");if(null==s||t&&!t.has(s))break;if(e.pop(),r.has(s))throw new Error(`duplicate keywords: ${JSON.stringify(s)}`);r.add(s)}return Object.freeze(r)}function tu(e){let t=eu(e,Lh);return $h(t,Fh("constant payable nonpayable".split(" "))),$h(t,Fh("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function ru(e,t){return e.popParams().map((e=>gu.from(e,t)))}function su(e){if(e.peekType("AT")){if(e.pop(),e.peekType("NUMBER"))return Qs(e.pop().text);throw new Error("invalid gas")}return null}function nu(e){if(e.length)throw new Error(`unexpected tokens at offset ${e.offset}: ${e.toString()}`)}const iu=new RegExp(/^(.*)\[([0-9]*)\]$/);function au(e){const t=e.match(Jh);if(Es(t,"invalid type","type",e),"uint"===e)return"uint256";if("int"===e)return"int256";if(t[2]){const r=parseInt(t[2]);Es(0!==r&&r<=32,"invalid bytes length","type",e)}else if(t[3]){const r=parseInt(t[3]);Es(0!==r&&r<=256&&r%8==0,"invalid numeric width","type",e)}return e}const ou={},lu=Symbol.for("_ethers_internal"),cu="_ParamTypeInternal",hu="_ErrorInternal",uu="_EventInternal",du="_ConstructorInternal",pu="_FallbackInternal",fu="_FunctionInternal",mu="_StructInternal";class gu{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,t,r,s,n,i,a,o){if(Cs(e,ou,"ParamType"),Object.defineProperty(this,lu,{value:cu}),i&&(i=Object.freeze(i.slice())),"array"===s){if(null==a||null==o)throw new Error("")}else if(null!=a||null!=o)throw new Error("");if("tuple"===s){if(null==i)throw new Error("")}else if(null!=i)throw new Error("");ys(this,{name:t,type:r,baseType:s,indexed:n,components:i,arrayLength:a,arrayChildren:o})}format(e){if(null==e&&(e="sighash"),"json"===e){const t=this.name||"";if(this.isArray()){const e=JSON.parse(this.arrayChildren.format("json"));return e.name=t,e.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(e)}const r={type:"tuple"===this.baseType?"tuple":this.type,name:t};return"boolean"==typeof this.indexed&&(r.indexed=this.indexed),this.isTuple()&&(r.components=this.components.map((t=>JSON.parse(t.format(e))))),JSON.stringify(r)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map((t=>t.format(e))).join("full"===e?", ":",")+")":t+=this.type,"sighash"!==e&&(!0===this.indexed&&(t+=" indexed"),"full"===e&&this.name&&(t+=" "+this.name)),t}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map((e=>r.arrayChildren.walk(e,t)))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map(((e,s)=>r.components[s].walk(e,t)))}return t(this.type,e)}#k(e,t,r,s){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw new Error("array is wrong length");const n=this.arrayChildren,i=t.slice();return i.forEach(((t,s)=>{n.#k(e,t,r,(e=>{i[s]=e}))})),void s(i)}if(this.isTuple()){const n=this.components;let i;if(Array.isArray(t))i=t.slice();else{if(null==t||"object"!=typeof t)throw new Error("invalid tuple value");i=n.map((e=>{if(!e.name)throw new Error("cannot use object value with unnamed components");if(!(e.name in t))throw new Error(`missing value for component ${e.name}`);return t[e.name]}))}if(i.length!==this.components.length)throw new Error("array is wrong length");return i.forEach(((t,s)=>{n[s].#k(e,t,r,(e=>{i[s]=e}))})),void s(i)}const n=r(this.type,t);n.then?e.push(async function(){s(await n)}()):s(n)}async walkAsync(e,t){const r=[],s=[e];return this.#k(r,e,t,(e=>{s[0]=e})),r.length&&await Promise.all(r),s[0]}static from(e,t){if(gu.isParamType(e))return e;if("string"==typeof e)try{return gu.from(Zh(e),t)}catch(t){Es(!1,"invalid param type","obj",e)}else if(e instanceof Yh){let r="",s="",n=null;eu(e,Fh(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(s="tuple",n=e.popParams().map((e=>gu.from(e))),r=`tuple(${n.map((e=>e.format())).join(",")})`):(r=au(e.popType("TYPE")),s=r);let i=null,a=null;for(;e.length&&e.peekType("BRACKET");){const t=e.pop();i=new gu(ou,"",r,s,null,n,a,i),a=t.value,r+=t.text,s="array",n=null}let o=null;if(eu(e,Vh).has("indexed")){if(!t)throw new Error("");o=!0}const l=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new gu(ou,l,r,s,o,n,a,i)}const r=e.name;Es(!r||"string"==typeof r&&r.match(Wh),"invalid name","obj.name",r);let s=e.indexed;null!=s&&(Es(t,"parameter cannot be indexed","obj.indexed",e.indexed),s=!!s);let n=e.type,i=n.match(iu);if(i){const t=parseInt(i[2]||"-1"),a=gu.from({type:i[1],components:e.components});return new gu(ou,r||"",n,"array",s,null,t,a)}if("tuple"===n||n.startsWith("tuple(")||n.startsWith("(")){const t=null!=e.components?e.components.map((e=>gu.from(e))):null;return new gu(ou,r||"",n,"tuple",s,t,null,null)}return n=au(e.type),new gu(ou,r||"",n,n,s,null,null,null)}static isParamType(e){return e&&e[lu]===cu}}class yu{type;inputs;constructor(e,t,r){Cs(e,ou,"Fragment"),ys(this,{type:t,inputs:r=Object.freeze(r.slice())})}static from(e){if("string"==typeof e){try{yu.from(JSON.parse(e))}catch(e){}return yu.from(Zh(e))}if(e instanceof Yh){switch(e.peekKeyword(jh)){case"constructor":return ku.from(e);case"error":return wu.from(e);case"event":return Au.from(e);case"fallback":case"receive":return Eu.from(e);case"function":return xu.from(e);case"struct":return Pu.from(e)}}else if("object"==typeof e){switch(e.type){case"constructor":return ku.from(e);case"error":return wu.from(e);case"event":return Au.from(e);case"fallback":case"receive":return Eu.from(e);case"function":return xu.from(e);case"struct":return Pu.from(e)}ks(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}Es(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return ku.isFragment(e)}static isError(e){return wu.isFragment(e)}static isEvent(e){return Au.isFragment(e)}static isFunction(e){return xu.isFragment(e)}static isStruct(e){return Pu.isFragment(e)}}class bu extends yu{name;constructor(e,t,r,s){super(e,t,s),Es("string"==typeof r&&r.match(Wh),"invalid identifier","name",r),s=Object.freeze(s.slice()),ys(this,{name:r})}}function vu(e,t){return"("+t.map((t=>t.format(e))).join("full"===e?", ":",")+")"}class wu extends bu{constructor(e,t,r){super(e,"error",t,r),Object.defineProperty(this,lu,{value:hu})}get selector(){return Oh(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("error"),t.push(this.name+vu(e,this.inputs)),t.join(" ")}static from(e){if(wu.isFragment(e))return e;if("string"==typeof e)return wu.from(Zh(e));if(e instanceof Yh){const t=Xh("error",e),r=ru(e);return nu(e),new wu(ou,t,r)}return new wu(ou,e.name,e.inputs?e.inputs.map(gu.from):[])}static isFragment(e){return e&&e[lu]===hu}}class Au extends bu{anonymous;constructor(e,t,r,s){super(e,"event",t,r),Object.defineProperty(this,lu,{value:uu}),ys(this,{anonymous:s})}get topicHash(){return Oh(this.format("sighash"))}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("event"),t.push(this.name+vu(e,this.inputs)),"sighash"!==e&&this.anonymous&&t.push("anonymous"),t.join(" ")}static getTopicHash(e,t){t=(t||[]).map((e=>gu.from(e)));return new Au(ou,e,t,!1).topicHash}static from(e){if(Au.isFragment(e))return e;if("string"==typeof e)try{return Au.from(Zh(e))}catch(t){Es(!1,"invalid event fragment","obj",e)}else if(e instanceof Yh){const t=Xh("event",e),r=ru(e,!0),s=!!eu(e,Fh(["anonymous"])).has("anonymous");return nu(e),new Au(ou,t,r,s)}return new Au(ou,e.name,e.inputs?e.inputs.map((e=>gu.from(e,!0))):[],!!e.anonymous)}static isFragment(e){return e&&e[lu]===uu}}class ku extends yu{payable;gas;constructor(e,t,r,s,n){super(e,t,r),Object.defineProperty(this,lu,{value:du}),ys(this,{payable:s,gas:n})}format(e){if(ks(null!=e&&"sighash"!==e,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===e)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[`constructor${vu(e,this.inputs)}`];return this.payable&&t.push("payable"),null!=this.gas&&t.push(`@${this.gas.toString()}`),t.join(" ")}static from(e){if(ku.isFragment(e))return e;if("string"==typeof e)try{return ku.from(Zh(e))}catch(t){Es(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof Yh){eu(e,Fh(["constructor"]));const t=ru(e),r=!!eu(e,Nh).has("payable"),s=su(e);return nu(e),new ku(ou,"constructor",t,r,s)}return new ku(ou,"constructor",e.inputs?e.inputs.map(gu.from):[],!!e.payable,null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[lu]===du}}class Eu extends yu{payable;constructor(e,t,r){super(e,"fallback",t),Object.defineProperty(this,lu,{value:pu}),ys(this,{payable:r})}format(e){const t=0===this.inputs.length?"receive":"fallback";if("json"===e){const e=this.payable?"payable":"nonpayable";return JSON.stringify({type:t,stateMutability:e})}return`${t}()${this.payable?" payable":""}`}static from(e){if(Eu.isFragment(e))return e;if("string"==typeof e)try{return Eu.from(Zh(e))}catch(t){Es(!1,"invalid fallback fragment","obj",e)}else if(e instanceof Yh){const t=e.toString();Es(e.peekKeyword(Fh(["fallback","receive"])),"type must be fallback or receive","obj",t);if("receive"===e.popKeyword(Fh(["fallback","receive"]))){const t=ru(e);return Es(0===t.length,"receive cannot have arguments","obj.inputs",t),eu(e,Fh(["payable"])),nu(e),new Eu(ou,[],!0)}let r=ru(e);r.length?Es(1===r.length&&"bytes"===r[0].type,"invalid fallback inputs","obj.inputs",r.map((e=>e.format("minimal"))).join(", ")):r=[gu.from("bytes")];const s=tu(e);if(Es("nonpayable"===s||"payable"===s,"fallback cannot be constants","obj.stateMutability",s),eu(e,Fh(["returns"])).has("returns")){const t=ru(e);Es(1===t.length&&"bytes"===t[0].type,"invalid fallback outputs","obj.outputs",t.map((e=>e.format("minimal"))).join(", "))}return nu(e),new Eu(ou,r,"payable"===s)}if("receive"===e.type)return new Eu(ou,[],!0);if("fallback"===e.type){const t=[gu.from("bytes")],r="payable"===e.stateMutability;return new Eu(ou,t,r)}Es(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[lu]===pu}}class xu extends bu{constant;outputs;stateMutability;payable;gas;constructor(e,t,r,s,n,i){super(e,"function",t,s),Object.defineProperty(this,lu,{value:fu});ys(this,{constant:"view"===r||"pure"===r,gas:i,outputs:n=Object.freeze(n.slice()),payable:"payable"===r,stateMutability:r})}get selector(){return Oh(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e)))),outputs:this.outputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("function"),t.push(this.name+vu(e,this.inputs)),"sighash"!==e&&("nonpayable"!==this.stateMutability&&t.push(this.stateMutability),this.outputs&&this.outputs.length&&(t.push("returns"),t.push(vu(e,this.outputs))),null!=this.gas&&t.push(`@${this.gas.toString()}`)),t.join(" ")}static getSelector(e,t){t=(t||[]).map((e=>gu.from(e)));return new xu(ou,e,"view",t,[],null).selector}static from(e){if(xu.isFragment(e))return e;if("string"==typeof e)try{return xu.from(Zh(e))}catch(t){Es(!1,"invalid function fragment","obj",e)}else if(e instanceof Yh){const t=Xh("function",e),r=ru(e),s=tu(e);let n=[];eu(e,Fh(["returns"])).has("returns")&&(n=ru(e));const i=su(e);return nu(e),new xu(ou,t,s,r,n,i)}let t=e.stateMutability;return null==t&&(t="payable","boolean"==typeof e.constant?(t="view",e.constant||(t="payable","boolean"!=typeof e.payable||e.payable||(t="nonpayable"))):"boolean"!=typeof e.payable||e.payable||(t="nonpayable")),new xu(ou,e.name,t,e.inputs?e.inputs.map(gu.from):[],e.outputs?e.outputs.map(gu.from):[],null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[lu]===fu}}class Pu extends bu{constructor(e,t,r){super(e,"struct",t,r),Object.defineProperty(this,lu,{value:mu})}format(){throw new Error("@TODO")}static from(e){if("string"==typeof e)try{return Pu.from(Zh(e))}catch(t){Es(!1,"invalid struct fragment","obj",e)}else if(e instanceof Yh){const t=Xh("struct",e),r=ru(e);return nu(e),new Pu(ou,t,r)}return new Pu(ou,e.name,e.inputs?e.inputs.map(gu.from):[])}static isFragment(e){return e&&e[lu]===mu}}const Cu=new Map;Cu.set(0,"GENERIC_PANIC"),Cu.set(1,"ASSERT_FALSE"),Cu.set(17,"OVERFLOW"),Cu.set(18,"DIVIDE_BY_ZERO"),Cu.set(33,"ENUM_RANGE_ERROR"),Cu.set(34,"BAD_STORAGE_DATA"),Cu.set(49,"STACK_UNDERFLOW"),Cu.set(50,"ARRAY_RANGE_ERROR"),Cu.set(65,"OUT_OF_MEMORY"),Cu.set(81,"UNINITIALIZED_FUNCTION_CALL");const Su=new RegExp(/^bytes([0-9]*)$/),Iu=new RegExp(/^(u?int)([0-9]*)$/);let _u=null,Tu=1024;class Mu{#E(e){if(e.isArray())return new gh(this.#E(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new Bh(e.components.map((e=>this.#E(e))),e.name);switch(e.baseType){case"address":return new dh(e.name);case"bool":return new yh(e.name);case"string":return new Dh(e.name);case"bytes":return new vh(e.name);case"":return new kh(e.name)}let t=e.type.match(Iu);if(t){let r=parseInt(t[2]||"256");return Es(0!==r&&r<=256&&r%8==0,"invalid "+t[1]+" bit length","param",e),new Ch(r/8,"int"===t[1],e.name)}if(t=e.type.match(Su),t){let r=parseInt(t[1]);return Es(0!==r&&r<=32,"invalid bytes length","param",e),new wh(r,e.name)}Es(!1,"invalid type","type",e.type)}getDefaultValue(e){const t=e.map((e=>this.#E(gu.from(e))));return new Bh(t,"_").defaultValue()}encode(e,t){xs(t.length,e.length,"types/values length mismatch");const r=e.map((e=>this.#E(gu.from(e)))),s=new Bh(r,"_"),n=new gc;return s.encode(n,t),n.data}decode(e,t,r){const s=e.map((e=>this.#E(gu.from(e))));return new Bh(s,"_").decode(new yc(t,r,Tu))}static _setDefaultMaxInflation(e){Es("number"==typeof e&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),Tu=e}static defaultAbiCoder(){return null==_u&&(_u=new Mu),_u}static getBuiltinCallException(e,t,r){return function(e,t,r,s){let n="missing revert data",i=null,a=null;if(r){n="execution reverted";const e=Is(r);if(r=Ds(r),0===e.length)n+=" (no data present; likely require(false) occurred",i="require(false)";else if(e.length%32!=4)n+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===Ds(e.slice(0,4)))try{i=s.decode(["string"],e.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[i]},n+=`: ${JSON.stringify(i)}`}catch(e){n+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===Ds(e.slice(0,4)))try{const t=Number(s.decode(["uint256"],e.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[t]},i=`Panic due to ${Cu.get(t)||"UNKNOWN"}(${t})`,n+=`: ${i}`}catch(e){n+=" (could not decode panic code)"}else n+=" (unknown custom error)"}const o={to:t.to?ah(t.to):null,data:t.data||"0x"};return t.from&&(o.from=ah(t.from)),As(n,"CALL_EXCEPTION",{action:e,data:r,reason:i,transaction:o,invocation:null,revert:a})}(e,t,r,Mu.defaultAbiCoder())}}function Du(e){return e&&"function"==typeof e.getAddress}async function Bu(e,t){const r=await t;return null!=r&&"0x0000000000000000000000000000000000000000"!==r||(ks("string"!=typeof e,"unconfigured name","UNCONFIGURED_NAME",{value:e}),Es(!1,"invalid AddressLike value; did not resolve to a value address","target",e)),ah(r)}function Ou(e,t){return"string"==typeof e?e.match(/^0x[0-9a-f]{40}$/i)?ah(e):(ks(null!=t,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Bu(e,t.resolveName(e))):Du(e)?Bu(e,e.getAddress()):e&&"function"==typeof e.then?Bu(e,e):void Es(!1,"unsupported addressable value","target",e)}const Fu=new Uint8Array(32);Fu.fill(0);const Nu=BigInt(-1),Ru=BigInt(0),Lu=BigInt(1),Uu=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const ju=Js(Lu,32),Gu=Js(Ru,32),Vu={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},zu=["name","version","chainId","verifyingContract","salt"];function Qu(e){return function(t){return Es("string"==typeof t,`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}const Hu={name:Qu("name"),version:Qu("version"),chainId:function(e){const t=Qs(e,"domain.chainId");return Es(t>=0,"invalid chain ID","domain.chainId",e),Number.isSafeInteger(t)?Number(t):Zs(t)},verifyingContract:function(e){try{return ah(e).toLowerCase()}catch(e){}Es(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){const t=Is(e,"domain.salt");return Es(32===t.length,'invalid domain value "salt"',"domain.salt",e),Ds(t)}};function Ku(e){{const t=e.match(/^(u?)int(\d+)$/);if(t){const r=""===t[1],s=parseInt(t[2]);Es(s%8==0&&0!==s&&s<=256&&t[2]===String(s),"invalid numeric width","type",e);const n=zs(Uu,r?s-1:s),i=r?(n+Lu)*Nu:Ru;return function(t){const s=Qs(t,"value");return Es(s>=i&&s<=n,`value out-of-bounds for ${e}`,"value",s),Js(r?Vs(s,256):s,32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const r=parseInt(t[1]);return Es(0!==r&&r<=32&&t[1]===String(r),"invalid bytes width","type",e),function(t){return Es(Is(t).length===r,`invalid length for ${e}`,"value",t),function(e){const t=Is(e),r=t.length%32;return r?Bs([t,Fu.slice(r)]):Ds(t)}(t)}}}switch(e){case"address":return function(e){return Rs(ah(e),32)};case"bool":return function(e){return e?ju:Gu};case"bytes":return function(e){return $c(e)};case"string":return function(e){return Oh(e)}}return null}function qu(e,t){return`${e}(${t.map((({name:e,type:t})=>t+" "+e)).join(",")})`}function Wu(e){const t=e.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return t?{base:t[1],index:t[2]+t[4],array:{base:t[1],prefix:t[1]+t[2],count:t[5]?parseInt(t[5]):-1}}:{base:e}}class Ju{primaryType;#x;get types(){return JSON.parse(this.#x)}#P;#C;constructor(e){this.#P=new Map,this.#C=new Map;const t=new Map,r=new Map,s=new Map,n={};Object.keys(e).forEach((i=>{n[i]=e[i].map((({name:t,type:r})=>{let{base:s,index:n}=Wu(r);return"int"!==s||e.int||(s="int256"),"uint"!==s||e.uint||(s="uint256"),{name:t,type:s+(n||"")}})),t.set(i,new Set),r.set(i,[]),s.set(i,new Set)})),this.#x=JSON.stringify(n);for(const s in n){const i=new Set;for(const a of n[s]){Es(!i.has(a.name),`duplicate variable name ${JSON.stringify(a.name)} in ${JSON.stringify(s)}`,"types",e),i.add(a.name);const n=Wu(a.type).base;Es(n!==s,`circular type reference to ${JSON.stringify(n)}`,"types",e);Ku(n)||(Es(r.has(n),`unknown type ${JSON.stringify(n)}`,"types",e),r.get(n).push(s),t.get(s).add(n))}}const i=Array.from(r.keys()).filter((e=>0===r.get(e).length));Es(0!==i.length,"missing primary type","types",e),Es(1===i.length,`ambiguous primary types or unused types: ${i.map((e=>JSON.stringify(e))).join(", ")}`,"types",e),ys(this,{primaryType:i[0]}),function n(i,a){Es(!a.has(i),`circular type reference to ${JSON.stringify(i)}`,"types",e),a.add(i);for(const e of t.get(i))if(r.has(e)){n(e,a);for(const t of a)s.get(t).add(e)}a.delete(i)}(this.primaryType,new Set);for(const[e,t]of s){const r=Array.from(t);r.sort(),this.#P.set(e,qu(e,n[e])+r.map((e=>qu(e,n[e]))).join(""))}}getEncoder(e){let t=this.#C.get(e);return t||(t=this.#S(e),this.#C.set(e,t)),t}#S(e){{const t=Ku(e);if(t)return t}const t=Wu(e).array;if(t){const e=t.prefix,r=this.getEncoder(e);return s=>{Es(-1===t.count||t.count===s.length,`array length mismatch; expected length ${t.count}`,"value",s);let n=s.map(r);return this.#P.has(e)&&(n=n.map($c)),$c(Bs(n))}}const r=this.types[e];if(r){const t=Oh(this.#P.get(e));return e=>{const s=r.map((({name:t,type:r})=>{const s=this.getEncoder(r)(e[t]);return this.#P.has(r)?$c(s):s}));return s.unshift(t),Bs(s)}}Es(!1,`unknown type: ${e}`,"type",e)}encodeType(e){const t=this.#P.get(e);return Es(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return $c(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(Ku(e))return r(e,t);const s=Wu(e).array;if(s)return Es(-1===s.count||s.count===t.length,`array length mismatch; expected length ${s.count}`,"value",t),t.map((e=>this._visit(s.prefix,e,r)));const n=this.types[e];if(n)return n.reduce(((e,{name:s,type:n})=>(e[s]=this._visit(n,t[s],r),e)),{});Es(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new Ju(e)}static getPrimaryType(e){return Ju.from(e).primaryType}static hashStruct(e,t,r){return Ju.from(t).hashStruct(e,r)}static hashDomain(e){const t=[];for(const r in e){if(null==e[r])continue;const s=Vu[r];Es(s,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:s})}return t.sort(((e,t)=>zu.indexOf(e.name)-zu.indexOf(t.name))),Ju.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return Bs(["0x1901",Ju.hashDomain(e),Ju.from(t).hash(r)])}static hash(e,t,r){return $c(Ju.encode(e,t,r))}static async resolveNames(e,t,r,s){e=Object.assign({},e);for(const t in e)null==e[t]&&delete e[t];const n={};e.verifyingContract&&!Ts(e.verifyingContract,20)&&(n[e.verifyingContract]="0x");const i=Ju.from(t);i.visit(r,((e,t)=>("address"!==e||Ts(t,20)||(n[t]="0x"),t)));for(const e in n)n[e]=await s(e);return e.verifyingContract&&n[e.verifyingContract]&&(e.verifyingContract=n[e.verifyingContract]),{domain:e,value:r=i.visit(r,((e,t)=>"address"===e&&n[t]?n[t]:t))}}static getPayload(e,t,r){Ju.hashDomain(e);const s={},n=[];zu.forEach((t=>{const r=e[t];null!=r&&(s[t]=Hu[t](r),n.push({name:t,type:Vu[t]}))}));const i=Ju.from(t);t=i.types;const a=Object.assign({},t);return Es(null==a.EIP712Domain,"types must not contain EIP712Domain type","types.EIP712Domain",t),a.EIP712Domain=n,i.encode(r),{types:a,domain:s,primaryType:i.primaryType,message:i.visit(r,((e,t)=>{if(e.match(/^bytes(\d*)/))return Ds(Is(t));if(e.match(/^u?int/))return Qs(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return Es("string"==typeof t,"invalid string","value",t),t}Es(!1,"unsupported type","type",e)}))}}}function Yu(e,t){return{address:ah(e),storageKeys:t.map(((e,t)=>(Es(Ts(e,32),"invalid slot",`storageKeys[${t}]`,e),e.toLowerCase())))}}function Zu(e){if(Array.isArray(e))return e.map(((t,r)=>Array.isArray(t)?(Es(2===t.length,"invalid slot set",`value[${r}]`,t),Yu(t[0],t[1])):(Es(null!=t&&"object"==typeof t,"invalid address-slot set","value",e),Yu(t.address,t.storageKeys))));Es(null!=e&&"object"==typeof e,"invalid access list","value",e);const t=Object.keys(e).map((t=>{const r=e[t].reduce(((e,t)=>(e[t]=!0,e)),{});return Yu(t,Object.keys(r).sort())}));return t.sort(((e,t)=>e.address.localeCompare(t.address))),t}function $u(e){return async function(e,t){const r=e.url.split(":")[0].toLowerCase();let s;if(ks("http"===r||"https"===r,`unsupported protocol ${r}`,"UNSUPPORTED_OPERATION",{info:{protocol:r},operation:"request"}),ks("https"===r||!e.credentials||e.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"}),t){const e=new AbortController;s=e.signal,t.addListener((()=>{e.abort()}))}const n={method:e.method,headers:new Headers(Array.from(e)),body:e.body||void 0,signal:s},i=await fetch(e.url,n),a={};i.headers.forEach(((e,t)=>{a[t.toLowerCase()]=e}));const o=await i.arrayBuffer(),l=null==o?null:new Uint8Array(o);return{statusCode:i.status,statusMessage:i.statusText,headers:a,body:l}}}$u();let Xu=$u();const ed=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),td=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let rd=!1;async function sd(e,t){try{const t=e.match(ed);if(!t)throw new Error("invalid data");return new hd(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?function(e){e=atob(e);const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return Is(t)}(t[3]):Th(t[3].replace(/%([0-9a-f][0-9a-f])/gi,((e,t)=>String.fromCharCode(parseInt(t,16))))))}catch(t){return new hd(599,"BAD REQUEST (invalid data: URI)",{},null,new cd(e))}}function nd(e){return async function(t,r){try{const r=t.match(td);if(!r)throw new Error("invalid link");return new cd(`${e}${r[2]}`)}catch(e){return new hd(599,"BAD REQUEST (invalid IPFS URI)",{},null,new cd(t))}}}const id={data:sd,ipfs:nd("https://gateway.ipfs.io/ipfs/")},ad=new WeakMap;class od{#I;#_;constructor(e){this.#I=[],this.#_=!1,ad.set(e,(()=>{if(!this.#_){this.#_=!0;for(const e of this.#I)setTimeout((()=>{e()}),0);this.#I=[]}}))}addListener(e){ks(!this.#_,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#I.push(e)}get cancelled(){return this.#_}checkSignal(){ks(!this.cancelled,"cancelled","CANCELLED",{})}}function ld(e){if(null==e)throw new Error("missing signal; should not happen");return e.checkSignal(),e}class cd{#T;#M;#D;#B;#O;#F;#N;#R;#L;#U;#j;#G;#V;#z;#Q;get url(){return this.#F}set url(e){this.#F=String(e)}get body(){return null==this.#N?null:new Uint8Array(this.#N)}set body(e){if(null==e)this.#N=void 0,this.#R=void 0;else if("string"==typeof e)this.#N=Th(e),this.#R="text/plain";else if(e instanceof Uint8Array)this.#N=e,this.#R="application/octet-stream";else{if("object"!=typeof e)throw new Error("invalid body");this.#N=Th(JSON.stringify(e)),this.#R="application/json"}}hasBody(){return null!=this.#N}get method(){return this.#B?this.#B:this.hasBody()?"POST":"GET"}set method(e){null==e&&(e=""),this.#B=String(e).toUpperCase()}get headers(){const e=Object.assign({},this.#D);return this.#L&&(e.authorization=`Basic ${function(e){const t=Is(e);let r="";for(let e=0;e<t.length;e++)r+=String.fromCharCode(t[e]);return btoa(r)}(Th(this.#L))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),null==e["content-type"]&&this.#R&&(e["content-type"]=this.#R),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){this.#D[String(e).toLowerCase()]=String(t)}clearHeaders(){this.#D={}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let r=0;return{next:()=>{if(r<t.length){const s=t[r++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#L||null}setCredentials(e,t){Es(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#L=`${e}:${t}`}get allowGzip(){return this.#M}set allowGzip(e){this.#M=!!e}get allowInsecureAuthentication(){return!!this.#T}set allowInsecureAuthentication(e){this.#T=!!e}get timeout(){return this.#O}set timeout(e){Es(e>=0,"timeout must be non-zero","timeout",e),this.#O=e}get preflightFunc(){return this.#U||null}set preflightFunc(e){this.#U=e}get processFunc(){return this.#j||null}set processFunc(e){this.#j=e}get retryFunc(){return this.#G||null}set retryFunc(e){this.#G=e}get getUrlFunc(){return this.#Q||Xu}set getUrlFunc(e){this.#Q=e}constructor(e){this.#F=String(e),this.#T=!1,this.#M=!0,this.#D={},this.#B="",this.#O=3e5,this.#z={slotInterval:250,maxAttempts:12},this.#Q=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#N?Ds(this.#N):"null"}>`}setThrottleParams(e){null!=e.slotInterval&&(this.#z.slotInterval=e.slotInterval),null!=e.maxAttempts&&(this.#z.maxAttempts=e.maxAttempts)}async#H(e,t,r,s,n){if(e>=this.#z.maxAttempts)return n.makeServerError("exceeded maximum retry limit");ks(ud()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:s}),r>0&&await function(e){return new Promise((t=>setTimeout(t,e)))}(r);let i=this.clone();const a=(i.url.split(":")[0]||"").toLowerCase();if(a in id){const e=await id[a](i.url,ld(s.#V));if(e instanceof hd){let t=e;if(this.processFunc){ld(s.#V);try{t=await this.processFunc(i,t)}catch(e){null!=e.throttle&&"number"==typeof e.stall||t.makeServerError("error in post-processing function",e).assertOk()}}return t}i=e}this.preflightFunc&&(i=await this.preflightFunc(i));const o=await this.getUrlFunc(i,ld(s.#V));let l=new hd(o.statusCode,o.statusMessage,o.headers,o.body,s);if(301===l.statusCode||302===l.statusCode){try{const r=l.headers.location||"";return i.redirect(r).#H(e+1,t,0,s,l)}catch(e){}return l}if(429===l.statusCode&&(null==this.retryFunc||await this.retryFunc(i,l,e))){const r=l.headers["retry-after"];let n=this.#z.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return"string"==typeof r&&r.match(/^[1-9][0-9]*$/)&&(n=parseInt(r)),i.clone().#H(e+1,t,n,s,l)}if(this.processFunc){ld(s.#V);try{l=await this.processFunc(i,l)}catch(r){null!=r.throttle&&"number"==typeof r.stall||l.makeServerError("error in post-processing function",r).assertOk();let n=this.#z.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return r.stall>=0&&(n=r.stall),i.clone().#H(e+1,t,n,s,l)}}return l}send(){return ks(null==this.#V,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#V=new od(this),this.#H(0,ud()+this.timeout,0,this,new hd(0,"",{},null,this))}cancel(){ks(null!=this.#V,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=ad.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const t=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();ks("GET"===this.method&&("https"!==t||"http"!==r)&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const s=new cd(e);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,s.#D=Object.assign({},this.#D),this.#N&&(s.#N=new Uint8Array(this.#N)),s.#R=this.#R,s}clone(){const e=new cd(this.url);return e.#B=this.#B,this.#N&&(e.#N=this.#N),e.#R=this.#R,e.#D=Object.assign({},this.#D),e.#L=this.#L,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#U=this.#U,e.#j=this.#j,e.#G=this.#G,e.#Q=this.#Q,e}static lockConfig(){rd=!0}static getGateway(e){return id[e.toLowerCase()]||null}static registerGateway(e,t){if("http"===(e=e.toLowerCase())||"https"===e)throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(rd)throw new Error("gateways locked");id[e]=t}static registerGetUrl(e){if(rd)throw new Error("gateways locked");Xu=e}static createGetUrlFunc(e){return $u()}static createDataGateway(){return sd}static createIpfsGatewayFunc(e){return nd(e)}}class hd{#K;#q;#D;#N;#W;#J;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#N?Ds(this.#N):"null"}>`}get statusCode(){return this.#K}get statusMessage(){return this.#q}get headers(){return Object.assign({},this.#D)}get body(){return null==this.#N?null:new Uint8Array(this.#N)}get bodyText(){try{return null==this.#N?"":Mh(this.#N)}catch(e){ks(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch(e){ks(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let r=0;return{next:()=>{if(r<t.length){const s=t[r++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,t,r,s,n){this.#K=e,this.#q=t,this.#D=Object.keys(r).reduce(((e,t)=>(e[t.toLowerCase()]=String(r[t]),e)),{}),this.#N=null==s?null:new Uint8Array(s),this.#W=n||null,this.#J={message:""}}makeServerError(e,t){let r;r=e?`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:`CLIENT ESCALATED SERVER ERROR (${e=`${this.statusCode} ${this.statusMessage}`})`;const s=new hd(599,r,this.headers,this.body,this.#W||void 0);return s.#J={message:e,error:t},s}throwThrottleError(e,t){null==t?t=-1:Es(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);const r=new Error(e||"throttling requests");throw ys(r,{stall:t,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return null!=this.#N}get request(){return this.#W}ok(){return""===this.#J.message&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=this.#J;""===e&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let s=null;try{this.#N&&(s=Mh(this.#N))}catch(e){}ks(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:r,responseBody:s,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function ud(){return(new Date).getTime()}const dd="0x0000000000000000000000000000000000000000";class pd{fragment;name;signature;topic;args;constructor(e,t,r){const s=e.name,n=e.format();ys(this,{fragment:e,name:s,signature:n,topic:t,args:r})}}class fd{fragment;name;args;signature;selector;value;constructor(e,t,r,s){const n=e.name,i=e.format();ys(this,{fragment:e,name:n,args:r,signature:i,selector:t,value:s})}}class md{fragment;name;args;signature;selector;constructor(e,t,r){const s=e.name,n=e.format();ys(this,{fragment:e,name:s,args:r,signature:n,selector:t})}}class gd{hash;_isIndexed;static isIndexed(e){return!(!e||!e._isIndexed)}constructor(e){ys(this,{hash:e,_isIndexed:!0})}}const yd={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},bd={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:e=>`reverted with reason string ${JSON.stringify(e)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:e=>{let t="unknown panic code";return e>=0&&e<=255&&yd[e.toString()]&&(t=yd[e.toString()]),`reverted with panic code 0x${e.toString(16)} (${t})`}}};class vd{fragments;deploy;fallback;receive;#Y;#Z;#$;#X;constructor(e){let t=[];t="string"==typeof e?JSON.parse(e):e,this.#$=new Map,this.#Y=new Map,this.#Z=new Map;const r=[];for(const e of t)try{r.push(yu.from(e))}catch(t){console.log(`[Warning] Invalid Fragment ${JSON.stringify(e)}:`,t.message)}ys(this,{fragments:Object.freeze(r)});let s=null,n=!1;this.#X=this.getAbiCoder(),this.fragments.forEach(((e,t)=>{let r;switch(e.type){case"constructor":return this.deploy?void console.log("duplicate definition - constructor"):void ys(this,{deploy:e});case"fallback":return void(0===e.inputs.length?n=!0:(Es(!s||e.payable!==s.payable,"conflicting fallback fragments",`fragments[${t}]`,e),s=e,n=s.payable));case"function":r=this.#$;break;case"event":r=this.#Z;break;case"error":r=this.#Y;break;default:return}const i=e.format();r.has(i)||r.set(i,e)})),this.deploy||ys(this,{deploy:ku.from("constructor()")}),ys(this,{fallback:s,receive:n})}format(e){const t=e?"minimal":"full";return this.fragments.map((e=>e.format(t)))}formatJson(){const e=this.fragments.map((e=>e.format("json")));return JSON.stringify(e.map((e=>JSON.parse(e))))}getAbiCoder(){return Mu.defaultAbiCoder()}#ee(e,t,r){if(Ts(e)){const t=e.toLowerCase();for(const e of this.#$.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const s=[];for(const[t,r]of this.#$)t.split("(")[0]===e&&s.push(r);if(t){const e=t.length>0?t[t.length-1]:null;let r=t.length,n=!0;uh.isTyped(e)&&"overrides"===e.type&&(n=!1,r--);for(let e=s.length-1;e>=0;e--){const t=s[e].inputs.length;t===r||n&&t===r-1||s.splice(e,1)}for(let e=s.length-1;e>=0;e--){const r=s[e].inputs;for(let n=0;n<t.length;n++)if(uh.isTyped(t[n])){if(n>=r.length){if("overrides"===t[n].type)continue;s.splice(e,1);break}if(t[n].type!==r[n].baseType){s.splice(e,1);break}}}}if(1===s.length&&t&&t.length!==s[0].inputs.length){const e=t[t.length-1];(null==e||Array.isArray(e)||"object"!=typeof e)&&s.splice(0,1)}if(0===s.length)return null;if(s.length>1&&r){Es(!1,`ambiguous function description (i.e. matches ${s.map((e=>JSON.stringify(e.format()))).join(", ")})`,"key",e)}return s[0]}const s=this.#$.get(xu.from(e).format());return s||null}getFunctionName(e){const t=this.#ee(e,null,!1);return Es(t,"no matching function","key",e),t.name}hasFunction(e){return!!this.#ee(e,null,!1)}getFunction(e,t){return this.#ee(e,t||null,!0)}forEachFunction(e){const t=Array.from(this.#$.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let r=0;r<t.length;r++){const s=t[r];e(this.#$.get(s),r)}}#te(e,t,r){if(Ts(e)){const t=e.toLowerCase();for(const e of this.#Z.values())if(t===e.topicHash)return e;return null}if(-1===e.indexOf("(")){const s=[];for(const[t,r]of this.#Z)t.split("(")[0]===e&&s.push(r);if(t){for(let e=s.length-1;e>=0;e--)s[e].inputs.length<t.length&&s.splice(e,1);for(let e=s.length-1;e>=0;e--){const r=s[e].inputs;for(let n=0;n<t.length;n++)if(uh.isTyped(t[n])&&t[n].type!==r[n].baseType){s.splice(e,1);break}}}if(0===s.length)return null;if(s.length>1&&r){Es(!1,`ambiguous event description (i.e. matches ${s.map((e=>JSON.stringify(e.format()))).join(", ")})`,"key",e)}return s[0]}const s=this.#Z.get(Au.from(e).format());return s||null}getEventName(e){const t=this.#te(e,null,!1);return Es(t,"no matching event","key",e),t.name}hasEvent(e){return!!this.#te(e,null,!1)}getEvent(e,t){return this.#te(e,t||null,!0)}forEachEvent(e){const t=Array.from(this.#Z.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let r=0;r<t.length;r++){const s=t[r];e(this.#Z.get(s),r)}}getError(e,t){if(Ts(e)){const t=e.toLowerCase();if(bd[t])return wu.from(bd[t].signature);for(const e of this.#Y.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const t=[];for(const[r,s]of this.#Y)r.split("(")[0]===e&&t.push(s);if(0===t.length)return"Error"===e?wu.from("error Error(string)"):"Panic"===e?wu.from("error Panic(uint256)"):null;if(t.length>1){Es(!1,`ambiguous error description (i.e. ${t.map((e=>JSON.stringify(e.format()))).join(", ")})`,"name",e)}return t[0]}if("Error(string)"===(e=wu.from(e).format()))return wu.from("error Error(string)");if("Panic(uint256)"===e)return wu.from("error Panic(uint256)");const r=this.#Y.get(e);return r||null}forEachError(e){const t=Array.from(this.#Y.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let r=0;r<t.length;r++){const s=t[r];e(this.#Y.get(s),r)}}_decodeParams(e,t){return this.#X.decode(e,t)}_encodeParams(e,t){return this.#X.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if("string"==typeof e){const t=this.getError(e);Es(t,"unknown error","fragment",e),e=t}return Es(Fs(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,Fs(t,4))}encodeErrorResult(e,t){if("string"==typeof e){const t=this.getError(e);Es(t,"unknown error","fragment",e),e=t}return Bs([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if("string"==typeof e){const t=this.getFunction(e);Es(t,"unknown function","fragment",e),e=t}return Es(Fs(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,Fs(t,4))}encodeFunctionData(e,t){if("string"==typeof e){const t=this.getFunction(e);Es(t,"unknown function","fragment",e),e=t}return Bs([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if("string"==typeof e){const t=this.getFunction(e);Es(t,"unknown function","fragment",e),e=t}let r="invalid length for result data";const s=_s(t);if(s.length%32==0)try{return this.#X.decode(e.outputs,s)}catch(e){r="could not decode result data"}ks(!1,r,"BAD_DATA",{value:Ds(s),info:{method:e.name,signature:e.format()}})}makeError(e,t){const r=Is(e,"data"),s=Mu.getBuiltinCallException("call",t,r);if(s.message.startsWith("execution reverted (unknown custom error)")){const e=Ds(r.slice(0,4)),t=this.getError(e);if(t)try{const e=this.#X.decode(t.inputs,r.slice(4));s.revert={name:t.name,signature:t.format(),args:e},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch(e){s.message="execution reverted (coult not decode custom error)"}}const n=this.parseTransaction(t);return n&&(s.invocation={method:n.name,signature:n.signature,args:n.args}),s}encodeFunctionResult(e,t){if("string"==typeof e){const t=this.getFunction(e);Es(t,"unknown function","fragment",e),e=t}return Ds(this.#X.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if("string"==typeof e){const t=this.getEvent(e);Es(t,"unknown event","eventFragment",e),e=t}ks(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const s=(e,t)=>"string"===e.type?Oh(t):"bytes"===e.type?$c(Ds(t)):("bool"===e.type&&"boolean"==typeof t?t=t?"0x01":"0x00":e.type.match(/^u?int/)?t=Js(t):e.type.match(/^bytes/)?t=function(e,t){return Ns(e,t,!1)}(t,32):"address"===e.type&&this.#X.encode(["address"],[t]),Rs(Ds(t),32));for(t.forEach(((t,n)=>{const i=e.inputs[n];i.indexed?null==t?r.push(null):"array"===i.baseType||"tuple"===i.baseType?Es(!1,"filtering with tuples or arrays not supported","contract."+i.name,t):Array.isArray(t)?r.push(t.map((e=>s(i,e)))):r.push(s(i,t)):Es(null==t,"cannot filter non-indexed parameters; must be null","contract."+i.name,t)}));r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(e,t){if("string"==typeof e){const t=this.getEvent(e);Es(t,"unknown event","eventFragment",e),e=t}const r=[],s=[],n=[];return e.anonymous||r.push(e.topicHash),Es(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach(((e,i)=>{const a=t[i];if(e.indexed)if("string"===e.type)r.push(Oh(a));else if("bytes"===e.type)r.push($c(a));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");r.push(this.#X.encode([e.type],[a]))}else s.push(e),n.push(a)})),{data:this.#X.encode(s,n),topics:r}}decodeEventLog(e,t,r){if("string"==typeof e){const t=this.getEvent(e);Es(t,"unknown event","eventFragment",e),e=t}if(null!=r&&!e.anonymous){const t=e.topicHash;Es(Ts(r[0],32)&&r[0].toLowerCase()===t,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const s=[],n=[],i=[];e.inputs.forEach(((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(s.push(gu.from({type:"bytes32",name:e.name})),i.push(!0)):(s.push(e),i.push(!1)):(n.push(e),i.push(!1))}));const a=null!=r?this.#X.decode(s,Bs(r)):null,o=this.#X.decode(n,t,!0),l=[],c=[];let h=0,u=0;return e.inputs.forEach(((e,t)=>{let r=null;if(e.indexed)if(null==a)r=new gd(null);else if(i[t])r=new gd(a[u++]);else try{r=a[u++]}catch(e){r=e}else try{r=o[h++]}catch(e){r=e}l.push(r),c.push(e.name||null)})),pc.fromItems(l,c)}parseTransaction(e){const t=Is(e.data,"tx.data"),r=Qs(null!=e.value?e.value:0,"tx.value"),s=this.getFunction(Ds(t.slice(0,4)));if(!s)return null;const n=this.#X.decode(s.inputs,t.slice(4));return new fd(s,s.selector,n,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new pd(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){const t=Ds(e),r=this.getError(Fs(t,0,4));if(!r)return null;const s=this.#X.decode(r.inputs,Fs(t,4));return new md(r,r.selector,s)}static from(e){return e instanceof vd?e:"string"==typeof e?new vd(JSON.parse(e)):"function"==typeof e.format?new vd(e.format("json")):new vd(e)}}const wd=BigInt(0);function Ad(e){return null==e?null:e}function kd(e){return null==e?null:e.toString()}class Ed{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,t,r){ys(this,{gasPrice:Ad(e),maxFeePerGas:Ad(t),maxPriorityFeePerGas:Ad(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:kd(e),maxFeePerGas:kd(t),maxPriorityFeePerGas:kd(r)}}}function xd(e){const t={};e.to&&(t.to=e.to),e.from&&(t.from=e.from),e.data&&(t.data=Ds(e.data));const r="chainId,gasLimit,gasPrice,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const s of r)s in e&&null!=e[s]&&(t[s]=Qs(e[s],`request.${s}`));const s="type,nonce".split(/,/);for(const r of s)r in e&&null!=e[r]&&(t[r]=Ws(e[r],`request.${r}`));return e.accessList&&(t.accessList=Zu(e.accessList)),"blockTag"in e&&(t.blockTag=e.blockTag),"enableCcipRead"in e&&(t.enableCcipRead=!!e.enableCcipRead),"customData"in e&&(t.customData=e.customData),t}class Pd{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;extraData;baseFeePerGas;#re;constructor(e,t){this.#re=e.transactions.map((e=>"string"!=typeof e?new Id(e,t):e)),ys(this,{provider:t,hash:Ad(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,extraData:e.extraData,baseFeePerGas:Ad(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#re.map((e=>"string"==typeof e?e:e.hash))}get prefetchedTransactions(){const e=this.#re.slice();return 0===e.length?[]:(ks("object"==typeof e[0],"transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:t,extraData:r,gasLimit:s,gasUsed:n,hash:i,miner:a,nonce:o,number:l,parentHash:c,parentBeaconBlockRoot:h,stateRoot:u,receiptsRoot:d,timestamp:p,transactions:f}=this;return{_type:"Block",baseFeePerGas:kd(e),difficulty:kd(t),extraData:r,gasLimit:kd(s),gasUsed:kd(n),blobGasUsed:kd(this.blobGasUsed),excessBlobGas:kd(this.excessBlobGas),hash:i,miner:a,nonce:o,number:l,parentHash:c,timestamp:p,parentBeaconBlockRoot:h,stateRoot:u,receiptsRoot:d,transactions:f}}[Symbol.iterator](){let e=0;const t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#re.length}get date(){return null==this.timestamp?null:new Date(1e3*this.timestamp)}async getTransaction(e){let t;if("number"==typeof e)t=this.#re[e];else{const r=e.toLowerCase();for(const e of this.#re){if("string"==typeof e){if(e!==r)continue;t=e;break}if(e.hash!==r){t=e;break}}}if(null==t)throw new Error("no such tx");return"string"==typeof t?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){const t=this.prefetchedTransactions;if("number"==typeof e)return t[e];e=e.toLowerCase();for(const r of t)if(r.hash===e)return r;Es(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return{orphan:"drop-block",hash:(e=this).hash,number:e.number};var e}}class Cd{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,t){this.provider=t;const r=Object.freeze(e.topics.slice());ys(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:t,blockNumber:r,data:s,index:n,removed:i,topics:a,transactionHash:o,transactionIndex:l}=this;return{_type:"log",address:e,blockHash:t,blockNumber:r,data:s,index:n,removed:i,topics:a,transactionHash:o,transactionIndex:l}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return ks(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return ks(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return ks(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return{orphan:"drop-log",log:{transactionHash:(e=this).transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,address:e.address,data:e.data,topics:Object.freeze(e.topics.slice()),index:e.index}};var e}}class Sd{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#se;constructor(e,t){this.#se=Object.freeze(e.logs.map((e=>new Cd(e,t))));let r=wd;null!=e.effectiveGasPrice?r=e.effectiveGasPrice:null!=e.gasPrice&&(r=e.gasPrice),ys(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#se}toJSON(){const{to:e,from:t,contractAddress:r,hash:s,index:n,blockHash:i,blockNumber:a,logsBloom:o,logs:l,status:c,root:h}=this;return{_type:"TransactionReceipt",blockHash:i,blockNumber:a,contractAddress:r,cumulativeGasUsed:kd(this.cumulativeGasUsed),from:t,gasPrice:kd(this.gasPrice),blobGasUsed:kd(this.blobGasUsed),blobGasPrice:kd(this.blobGasPrice),gasUsed:kd(this.gasUsed),hash:s,index:n,logs:l,logsBloom:o,root:h,status:c,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(null==e)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(null==e)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return Td(this)}reorderedEvent(e){return ks(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),_d(this,e)}}class Id{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;#ne;constructor(e,t){this.provider=t,this.blockNumber=null!=e.blockNumber?e.blockNumber:null,this.blockHash=null!=e.blockHash?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=null!=e.maxPriorityFeePerGas?e.maxPriorityFeePerGas:null,this.maxFeePerGas=null!=e.maxFeePerGas?e.maxFeePerGas:null,this.maxFeePerBlobGas=null!=e.maxFeePerBlobGas?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=null!=e.accessList?e.accessList:null,this.blobVersionedHashes=null!=e.blobVersionedHashes?e.blobVersionedHashes:null,this.#ne=-1}toJSON(){const{blockNumber:e,blockHash:t,index:r,hash:s,type:n,to:i,from:a,nonce:o,data:l,signature:c,accessList:h,blobVersionedHashes:u}=this;return{_type:"TransactionResponse",accessList:h,blockNumber:e,blockHash:t,blobVersionedHashes:u,chainId:kd(this.chainId),data:l,from:a,gasLimit:kd(this.gasLimit),gasPrice:kd(this.gasPrice),hash:s,maxFeePerGas:kd(this.maxFeePerGas),maxPriorityFeePerGas:kd(this.maxPriorityFeePerGas),maxFeePerBlobGas:kd(this.maxFeePerBlobGas),nonce:o,signature:c,to:i,index:r,type:n,value:kd(this.value)}}async getBlock(){let e=this.blockNumber;if(null==e){const t=await this.getTransaction();t&&(e=t.blockNumber)}if(null==e)return null;const t=this.provider.getBlock(e);if(null==t)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(null==this.blockNumber){const{tx:e,blockNumber:t}=await gs({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return null==e||null==e.blockNumber?0:t-e.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){const r=null==e?1:e,s=null==t?0:t;let n=this.#ne,i=-1,a=-1===n;const o=async()=>{if(a)return null;const{blockNumber:e,nonce:t}=await gs({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(t<this.nonce)return void(n=e);if(a)return null;const s=await this.getTransaction();if(!s||null==s.blockNumber)for(-1===i&&(i=n-3,i<this.#ne&&(i=this.#ne));i<=e;){if(a)return null;const t=await this.provider.getBlock(i,!0);if(null==t)return;for(const e of t)if(e===this.hash)return;for(let s=0;s<t.length;s++){const i=await t.getTransaction(s);if(i.from===this.from&&i.nonce===this.nonce){if(a)return null;const t=await this.provider.getTransactionReceipt(i.hash);if(null==t)return;if(e-t.blockNumber+1<r)return;let s="replaced";i.data===this.data&&i.to===this.to&&i.value===this.value?s="repriced":"0x"===i.data&&i.from===i.to&&i.value===wd&&(s="cancelled"),ks(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:"replaced"===s||"cancelled"===s,reason:s,replacement:i.replaceableTransaction(n),hash:i.hash,receipt:t})}}i++}},l=e=>{if(null==e||0!==e.status)return e;ks(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:e.to,from:e.from,data:""},receipt:e})},c=await this.provider.getTransactionReceipt(this.hash);if(0===r)return l(c);if(c){if(await c.confirmations()>=r)return l(c)}else if(await o(),0===r)return null;const h=new Promise(((e,t)=>{const i=[],c=()=>{i.forEach((e=>e()))};if(i.push((()=>{a=!0})),s>0){const e=setTimeout((()=>{c(),t(As("wait for transaction timeout","TIMEOUT"))}),s);i.push((()=>{clearTimeout(e)}))}const h=async s=>{if(await s.confirmations()>=r){c();try{e(l(s))}catch(e){t(e)}}};if(i.push((()=>{this.provider.off(this.hash,h)})),this.provider.on(this.hash,h),n>=0){const e=async()=>{try{await o()}catch(e){if(vs(e,"TRANSACTION_REPLACED"))return c(),void t(e)}a||this.provider.once("block",e)};i.push((()=>{this.provider.off("block",e)})),this.provider.once("block",e)}}));return await h}isMined(){return null!=this.blockHash}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}removedEvent(){return ks(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Td(this)}reorderedEvent(e){return ks(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),ks(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),_d(this,e)}replaceableTransaction(e){Es(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const t=new Id(this,this.provider);return t.#ne=e,t}}function _d(e,t){return{orphan:"reorder-transaction",tx:e,other:t}}function Td(e){return{orphan:"drop-transaction",tx:e}}class Md{filter;emitter;#ie;constructor(e,t,r){this.#ie=t,ys(this,{emitter:e,filter:r})}async removeListener(){null!=this.#ie&&await this.emitter.off(this.filter,this.#ie)}}class Dd extends Cd{interface;fragment;args;constructor(e,t,r){super(e,e.provider);ys(this,{args:t.decodeEventLog(r,e.data,e.topics),fragment:r,interface:t})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class Bd extends Cd{error;constructor(e,t){super(e,e.provider),ys(this,{error:t})}}class Od extends Sd{#ae;constructor(e,t,r){super(r,t),this.#ae=e}get logs(){return super.logs.map((e=>{const t=e.topics.length?this.#ae.getEvent(e.topics[0]):null;if(t)try{return new Dd(e,this.#ae,t)}catch(t){return new Bd(e,t)}return e}))}}class Fd extends Id{#ae;constructor(e,t,r){super(r,t),this.#ae=e}async wait(e,t){const r=await super.wait(e,t);return null==r?null:new Od(this.#ae,this.provider,r)}}class Nd extends Md{log;constructor(e,t,r,s){super(e,t,r),ys(this,{log:s})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class Rd extends Nd{constructor(e,t,r,s,n){super(e,t,r,new Dd(n,e.interface,s));ys(this,{args:e.interface.decodeEventLog(s,this.log.data,this.log.topics),fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const Ld=BigInt(0);function Ud(e){return e&&"function"==typeof e.call}function jd(e){return e&&"function"==typeof e.estimateGas}function Gd(e){return e&&"function"==typeof e.resolveName}function Vd(e){return e&&"function"==typeof e.sendTransaction}function zd(e){if(null!=e){if(Gd(e))return e;if(e.provider)return e.provider}}class Qd{#oe;fragment;constructor(e,t,r){if(ys(this,{fragment:t}),t.inputs.length<r.length)throw new Error("too many arguments");const s=Hd(e.runner,"resolveName"),n=Gd(s)?s:null;this.#oe=async function(){const s=await Promise.all(t.inputs.map(((e,t)=>null==r[t]?null:e.walkAsync(r[t],((e,t)=>"address"===e?Array.isArray(t)?Promise.all(t.map((e=>Ou(e,n)))):Ou(t,n):t)))));return e.interface.encodeFilterTopics(t,s)}()}getTopicFilter(){return this.#oe}}function Hd(e,t){return null==e?null:"function"==typeof e[t]?e:e.provider&&"function"==typeof e.provider[t]?e.provider:null}function Kd(e){return null==e?null:e.provider||null}async function qd(e,t){const r=uh.dereference(e,"overrides");Es("object"==typeof r,"invalid overrides parameter","overrides",e);const s=xd(r);return Es(null==s.to||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",s.to),Es(null==s.data||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",s.data),s.from&&(s.from=s.from),s}function Wd(e){const t=async function(t){const r=await qd(t,["data"]);r.to=await e.getAddress(),r.from&&(r.from=await Ou(r.from,zd(e.runner)));const s=e.interface,n=Qs(r.value||Ld,"overrides.value")===Ld,i="0x"===(r.data||"0x");!s.fallback||s.fallback.payable||!s.receive||i||n||Es(!1,"cannot send data to receive or send value to non-payable fallback","overrides",t),Es(s.fallback||i,"cannot send data to receive-only contract","overrides.data",r.data);return Es(s.receive||s.fallback&&s.fallback.payable||n,"cannot send value to non-payable fallback","overrides.value",r.value),Es(s.fallback||i,"cannot send data to receive-only contract","overrides.data",r.data),r},r=async function(r){const s=e.runner;ks(Vd(s),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const n=await s.sendTransaction(await t(r)),i=Kd(e.runner);return new Fd(e.interface,i,n)},s=async e=>await r(e);return ys(s,{_contract:e,estimateGas:async function(r){const s=Hd(e.runner,"estimateGas");return ks(jd(s),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await s.estimateGas(await t(r))},populateTransaction:t,send:r,staticCall:async function(r){const s=Hd(e.runner,"call");ks(Ud(s),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const n=await t(r);try{return await s.call(n)}catch(t){if(ws(t)&&t.data)throw e.interface.makeError(t.data,n);throw t}}}),s}function Jd(e,t){const r=function(...r){const s=e.interface.getFunction(t,r);return ks(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),s},s=async function(...t){const s=r(...t);let n={};if(s.inputs.length+1===t.length&&(n=await qd(t.pop()),n.from&&(n.from=await Ou(n.from,zd(e.runner)))),s.inputs.length!==t.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const i=await async function(e,t,r){const s=Hd(e,"resolveName"),n=Gd(s)?s:null;return await Promise.all(t.map(((e,t)=>e.walkAsync(r[t],((e,t)=>(t=uh.dereference(t,e),"address"===e?Ou(t,n):t))))))}(e.runner,s.inputs,t);return Object.assign({},n,await gs({to:e.getAddress(),data:e.interface.encodeFunctionData(s,i)}))},n=async function(...e){const t=await a(...e);return 1===t.length?t[0]:t},i=async function(...t){const r=e.runner;ks(Vd(r),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const n=await r.sendTransaction(await s(...t)),i=Kd(e.runner);return new Fd(e.interface,i,n)},a=async function(...t){const n=Hd(e.runner,"call");ks(Ud(n),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const i=await s(...t);let a="0x";try{a=await n.call(i)}catch(t){if(ws(t)&&t.data)throw e.interface.makeError(t.data,i);throw t}const o=r(...t);return e.interface.decodeFunctionResult(o,a)},o=async(...e)=>r(...e).constant?await n(...e):await i(...e);return ys(o,{name:e.interface.getFunctionName(t),_contract:e,_key:t,getFragment:r,estimateGas:async function(...t){const r=Hd(e.runner,"estimateGas");return ks(jd(r),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await r.estimateGas(await s(...t))},populateTransaction:s,send:i,staticCall:n,staticCallResult:a}),Object.defineProperty(o,"fragment",{configurable:!1,enumerable:!0,get:()=>{const r=e.interface.getFunction(t);return ks(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),r}}),o}const Yd=Symbol.for("_ethersInternal_contract"),Zd=new WeakMap;function $d(e){return Zd.get(e[Yd])}async function Xd(e,t){let r,s=null;if(Array.isArray(t)){const s=function(t){if(Ts(t,32))return t;const r=e.interface.getEvent(t);return Es(r,"unknown fragment","name",t),r.topicHash};r=t.map((e=>null==e?null:Array.isArray(e)?e.map(s):s(e)))}else"*"===t?r=[null]:"string"==typeof t?Ts(t,32)?r=[t]:(s=e.interface.getEvent(t),Es(s,"unknown fragment","event",t),r=[s.topicHash]):(n=t)&&"object"==typeof n&&"getTopicFilter"in n&&"function"==typeof n.getTopicFilter&&n.fragment?r=await t.getTopicFilter():"fragment"in t?(s=t.fragment,r=[s.topicHash]):Es(!1,"unknown event name","event",t);var n;r=r.map((e=>{if(null==e)return null;if(Array.isArray(e)){const t=Array.from(new Set(e.map((e=>e.toLowerCase()))).values());return 1===t.length?t[0]:(t.sort(),t)}return e.toLowerCase()}));return{fragment:s,tag:r.map((e=>null==e?"null":Array.isArray(e)?e.join("|"):e)).join("&"),topics:r}}async function ep(e,t){const{subs:r}=$d(e);return r.get((await Xd(e,t)).tag)||null}async function tp(e,t,r){const s=Kd(e.runner);ks(s,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});const{fragment:n,tag:i,topics:a}=await Xd(e,r),{addr:o,subs:l}=$d(e);let c=l.get(i);if(!c){const t={address:o||e,topics:a},h=t=>{let s=n;if(null==s)try{s=e.interface.getEvent(t.topics[0])}catch(e){}if(s){const i=s,a=n?e.interface.decodeEventLog(n,t.data,t.topics):[];sp(e,r,a,(s=>new Rd(e,s,r,i,t)))}else sp(e,r,[],(s=>new Nd(e,s,r,t)))};let u=[];c={tag:i,listeners:[],start:()=>{u.length||u.push(s.on(t,h))},stop:async()=>{if(0==u.length)return;let e=u;u=[],await Promise.all(e),s.off(t,h)}},l.set(i,c)}return c}let rp=Promise.resolve();async function sp(e,t,r,s){try{await rp}catch(e){}const n=async function(e,t,r,s){await rp;const n=await ep(e,t);if(!n)return!1;const i=n.listeners.length;return n.listeners=n.listeners.filter((({listener:t,once:n})=>{const i=Array.from(r);s&&i.push(s(n?null:t));try{t.call(e,...i)}catch(e){}return!n})),0===n.listeners.length&&(n.stop(),$d(e).subs.delete(n.tag)),i>0}(e,t,r,s);return rp=n,await n}const np=["then"];class ip{target;interface;runner;filters;[Yd];fallback;constructor(e,t,r,s){Es("string"==typeof e||Du(e),"invalid value for Contract target","target",e),null==r&&(r=null);const n=vd.from(t);let i;ys(this,{target:e,runner:r,interface:n}),Object.defineProperty(this,Yd,{value:{}});let a=null,o=null;if(s){const e=Kd(r);o=new Fd(this.interface,e,s)}let l=new Map;if("string"==typeof e)if(Ts(e))a=e,i=Promise.resolve(e);else{const t=Hd(r,"resolveName");if(!Gd(t))throw As("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});i=t.resolveName(e).then((t=>{if(null==t)throw As("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return $d(this).addr=t,t}))}else i=e.getAddress().then((e=>{if(null==e)throw new Error("TODO");return $d(this).addr=e,e}));!function(e,t){Zd.set(e[Yd],t)}(this,{addrPromise:i,addr:a,deployTx:o,subs:l});const c=new Proxy({},{get:(e,t,r)=>{if("symbol"==typeof t||np.indexOf(t)>=0)return Reflect.get(e,t,r);try{return this.getEvent(t)}catch(e){if(!vs(e,"INVALID_ARGUMENT")||"key"!==e.argument)throw e}},has:(e,t)=>np.indexOf(t)>=0?Reflect.has(e,t):Reflect.has(e,t)||this.interface.hasEvent(String(t))});return ys(this,{filters:c}),ys(this,{fallback:n.receive||n.fallback?Wd(this):null}),new Proxy(this,{get:(e,t,r)=>{if("symbol"==typeof t||t in e||np.indexOf(t)>=0)return Reflect.get(e,t,r);try{return e.getFunction(t)}catch(e){if(!vs(e,"INVALID_ARGUMENT")||"key"!==e.argument)throw e}},has:(e,t)=>"symbol"==typeof t||t in e||np.indexOf(t)>=0?Reflect.has(e,t):e.interface.hasFunction(t)})}connect(e){return new ip(this.target,this.interface,e)}attach(e){return new ip(e,this.interface,this.runner)}async getAddress(){return await $d(this).addrPromise}async getDeployedCode(){const e=Kd(this.runner);ks(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const t=await e.getCode(await this.getAddress());return"0x"===t?null:t}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(null!=await this.getDeployedCode())return this;const t=Kd(this.runner);return ks(null!=t,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise(((e,r)=>{const s=async()=>{try{if(null!=await this.getDeployedCode())return e(this);t.once("block",s)}catch(e){r(e)}};s()}))}deploymentTransaction(){return $d(this).deployTx}getFunction(e){"string"!=typeof e&&(e=e.format());return Jd(this,e)}getEvent(e){return"string"!=typeof e&&(e=e.format()),function(e,t){const r=function(...r){const s=e.interface.getEvent(t,r);return ks(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),s},s=function(...t){return new Qd(e,r(...t),t)};return ys(s,{name:e.interface.getEventName(t),_contract:e,_key:t,getFragment:r}),Object.defineProperty(s,"fragment",{configurable:!1,enumerable:!0,get:()=>{const r=e.interface.getEvent(t);return ks(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),r}}),s}(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,r){null==t&&(t=0),null==r&&(r="latest");const{addr:s,addrPromise:n}=$d(this),i=s||await n,{fragment:a,topics:o}=await Xd(this,e),l={address:i,topics:o,fromBlock:t,toBlock:r},c=Kd(this.runner);return ks(c,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await c.getLogs(l)).map((e=>{let t=a;if(null==t)try{t=this.interface.getEvent(e.topics[0])}catch(e){}if(t)try{return new Dd(e,this.interface,t)}catch(t){return new Bd(e,t)}return new Cd(e,c)}))}async on(e,t){const r=await tp(this,"on",e);return r.listeners.push({listener:t,once:!1}),r.start(),this}async once(e,t){const r=await tp(this,"once",e);return r.listeners.push({listener:t,once:!0}),r.start(),this}async emit(e,...t){return await sp(this,e,t,null)}async listenerCount(e){if(e){const t=await ep(this,e);return t?t.listeners.length:0}const{subs:t}=$d(this);let r=0;for(const{listeners:e}of t.values())r+=e.length;return r}async listeners(e){if(e){const t=await ep(this,e);return t?t.listeners.map((({listener:e})=>e)):[]}const{subs:t}=$d(this);let r=[];for(const{listeners:e}of t.values())r=r.concat(e.map((({listener:e})=>e)));return r}async off(e,t){const r=await ep(this,e);if(!r)return this;if(t){const e=r.listeners.map((({listener:e})=>e)).indexOf(t);e>=0&&r.listeners.splice(e,1)}return null!=t&&0!==r.listeners.length||(r.stop(),$d(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const t=await ep(this,e);if(!t)return this;t.stop(),$d(this).subs.delete(t.tag)}else{const{subs:e}=$d(this);for(const{tag:t,stop:r}of e.values())r(),e.delete(t)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){return class extends ip{constructor(t,r=null){super(t,e,r)}}}static from(e,t,r){null==r&&(r=null);return new this(e,t,r)}}class ap extends(function(){return ip}()){}var op="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";const lp=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),cp=4;function hp(e){return function(e){let t=0;return()=>e[t++]}(function(e){let t=0;function r(){return e[t++]<<8|e[t++]}let s=r(),n=1,i=[0,1];for(let e=1;e<s;e++)i.push(n+=r());let a=r(),o=t;t+=a;let l=0,c=0;function h(){return 0==l&&(c=c<<8|e[t++],l=8),c>>--l&1}const u=2**31,d=u>>>1,p=u-1;let f=0;for(let e=0;e<31;e++)f=f<<1|h();let m=[],g=0,y=u;for(;;){let e=Math.floor(((f-g+1)*n-1)/y),t=0,r=s;for(;r-t>1;){let s=t+r>>>1;e<i[s]?r=s:t=s}if(0==t)break;m.push(t);let a=g+Math.floor(y*i[t]/n),o=g+Math.floor(y*i[t+1]/n)-1;for(;0==((a^o)&d);)f=f<<1&p|h(),a=a<<1&p,o=o<<1&p|1;for(;a&~o&536870912;)f=f&d|f<<1&p>>>1|h(),a=a<<1^d,o=(o^d)<<1|d|1;g=a,y=1+o-a}let b=s-4;return m.map((t=>{switch(t-b){case 3:return b+65792+(e[o++]<<16|e[o++]<<8|e[o++]);case 2:return b+256+(e[o++]<<8|e[o++]);case 1:return b+e[o++];default:return t-1}}))}(function(e){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach(((e,r)=>t[e.charCodeAt(0)]=r));let r=e.length,s=new Uint8Array(6*r>>3);for(let n=0,i=0,a=0,o=0;n<r;n++)o=o<<6|t[e.charCodeAt(n)],a+=6,a>=8&&(s[i++]=o>>(a-=8));return s}(e)))}function up(e){return 1&e?~e>>1:e>>1}function dp(e,t){let r=Array(e);for(let s=0,n=0;s<e;s++)r[s]=n+=up(t());return r}function pp(e,t=0){let r=[];for(;;){let s=e(),n=e();if(!n)break;t+=s;for(let e=0;e<n;e++)r.push(t+e);t+=n+1}return r}function fp(e){return gp((()=>{let t=pp(e);if(t.length)return t}))}function mp(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(bp(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push(vp(r,e))}return t.flat()}function gp(e){let t=[];for(;;){let r=e(t.length);if(!r)break;t.push(r)}return t}function yp(e,t,r){let s=Array(e).fill().map((()=>[]));for(let n=0;n<t;n++)dp(e,r).forEach(((e,t)=>s[t].push(e)));return s}function bp(e,t){let r=1+t(),s=t(),n=gp(t);return yp(n.length,1+e,t).flatMap(((e,t)=>{let[i,...a]=e;return Array(n[t]).fill().map(((e,t)=>{let n=t*s;return[i+t*r,a.map((e=>e+n))]}))}))}function vp(e,t){return yp(1+t(),1+e,t).map((e=>[e[0],e.slice(1)]))}function wp(e){return`{${function(e){return e.toString(16).toUpperCase().padStart(2,"0")}(e)}}`}function Ap(e){let t=[];for(let r=0,s=e.length;r<s;){let s=e.codePointAt(r);r+=s<65536?1:2,t.push(s)}return t}function kp(e){let t=e.length;if(t<4096)return String.fromCodePoint(...e);let r=[];for(let s=0;s<t;)r.push(String.fromCodePoint(...e.slice(s,s+=4096)));return r.join("")}function Ep(e,t){let r=e.length,s=r-t.length;for(let n=0;0==s&&n<r;n++)s=e[n]-t[n];return s}var xp="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";const Pp=44032,Cp=4352,Sp=4449,Ip=4519,_p=28,Tp=21*_p,Mp=Pp+19*Tp,Dp=Cp+19,Bp=Sp+21,Op=Ip+_p;function Fp(e){return e>>24&255}function Np(e){return 16777215&e}let Rp,Lp,Up,jp;function Gp(e){return e>=Pp&&e<Mp}function Vp(e,t){if(e>=Cp&&e<Dp&&t>=Sp&&t<Bp)return Pp+(e-Cp)*Tp+(t-Sp)*_p;if(Gp(e)&&t>Ip&&t<Op&&(e-Pp)%_p==0)return e+(t-Ip);{let r=jp.get(e);return r&&(r=r.get(t),r)?r:-1}}function zp(e){Rp||function(){let e=hp(xp);Rp=new Map(fp(e).flatMap(((e,t)=>e.map((e=>[e,t+1<<24]))))),Lp=new Set(pp(e)),Up=new Map,jp=new Map;for(let[t,r]of mp(e)){if(!Lp.has(t)&&2==r.length){let[e,s]=r,n=jp.get(e);n||(n=new Map,jp.set(e,n)),n.set(s,t)}Up.set(t,r.reverse())}}();let t=[],r=[],s=!1;function n(e){let r=Rp.get(e);r&&(s=!0,e|=r),t.push(e)}for(let s of e)for(;;){if(s<128)t.push(s);else if(Gp(s)){let e=s-Pp,t=e%Tp/_p|0,r=e%_p;n(Cp+(e/Tp|0)),n(Sp+t),r>0&&n(Ip+r)}else{let e=Up.get(s);e?r.push(...e):n(s)}if(!r.length)break;s=r.pop()}if(s&&t.length>1){let e=Fp(t[0]);for(let r=1;r<t.length;r++){let s=Fp(t[r]);if(0==s||e<=s){e=s;continue}let n=r-1;for(;;){let r=t[n+1];if(t[n+1]=t[n],t[n]=r,!n)break;if(e=Fp(t[--n]),e<=s)break}e=Fp(t[r])}}return t}function Qp(e){return zp(e).map(Np)}function Hp(e){return function(e){let t=[],r=[],s=-1,n=0;for(let i of e){let e=Fp(i),a=Np(i);if(-1==s)0==e?s=a:t.push(a);else if(n>0&&n>=e)0==e?(t.push(s,...r),r.length=0,s=a):r.push(a),n=e;else{let i=Vp(s,a);i>=0?s=i:0==n&&0==e?(t.push(s),s=a):(r.push(a),n=e)}}return s>=0&&t.push(s,...r),t}(zp(e))}const Kp=45,qp=".",Wp=65039,Jp=1,Yp=e=>Array.from(e);function Zp(e,t){return e.P.has(t)||e.Q.has(t)}class $p extends Array{get is_emoji(){return!0}}let Xp,ef,tf,rf,sf,nf,af,of,lf,cf,hf,uf;function df(){if(Xp)return;let e=hp(op);const t=()=>pp(e),r=()=>new Set(t()),s=(e,t)=>t.forEach((t=>e.add(t)));Xp=new Map(mp(e)),ef=r(),tf=t(),rf=new Set(t().map((e=>tf[e]))),tf=new Set(tf),sf=r(),nf=r();let n=fp(e),i=e();const a=()=>{let e=new Set;return t().forEach((t=>s(e,n[t]))),s(e,t()),e};af=gp((t=>{let r=gp(e).map((e=>e+96));if(r.length){let s=t>=i;return r[0]-=32,r=kp(r),s&&(r=`Restricted[${r}]`),{N:r,P:a(),Q:a(),M:!e(),R:s}}})),of=r(),lf=new Map;let o=t().concat(Yp(of)).sort(((e,t)=>e-t));o.forEach(((t,r)=>{let s=e(),n=o[r]=s?o[r-s]:{V:[],M:new Map};n.V.push(t),of.has(t)||lf.set(t,n)}));for(let{V:e,M:t}of new Set(lf.values())){let r=[];for(let t of e){let e=af.filter((e=>Zp(e,t))),n=r.find((({G:t})=>e.some((e=>t.has(e)))));n||(n={G:new Set,V:[]},r.push(n)),n.V.push(t),s(n.G,e)}let n=r.flatMap((e=>Yp(e.G)));for(let{G:e,V:s}of r){let r=new Set(n.filter((t=>!e.has(t))));for(let e of s)t.set(e,r)}}cf=new Set;let l=new Set;const c=e=>cf.has(e)?l.add(e):cf.add(e);for(let e of af){for(let t of e.P)c(t);for(let t of e.Q)c(t)}for(let e of cf)lf.has(e)||l.has(e)||lf.set(e,Jp);s(cf,Qp(cf)),hf=function(e){let t=[],r=pp(e);return function e({S:r,B:s},n,i){if(!(4&r&&i===n[n.length-1])){2&r&&(i=n[n.length-1]),1&r&&t.push(n);for(let t of s)for(let r of t.Q)e(t,[...n,r],i)}}(function t(s){return{S:e(),B:gp((()=>{let s=pp(e).map((e=>r[e]));if(s.length)return t(s)})),Q:s}}([]),[]),t}(e).map((e=>$p.from(e))).sort(Ep),uf=new Map;for(let e of hf){let t=[uf];for(let r of e){let e=t.map((e=>{let t=e.get(r);return t||(t=new Map,e.set(r,t)),t}));r===Wp?t.push(...e):t=e}for(let r of t)r.V=e}}function pf(e){return(gf(e)?"":`${ff(mf([e]))} `)+wp(e)}function ff(e){return`"${e}"‎`}function mf(e,t=1/0,r=wp){let s=[];var n;n=e[0],df(),tf.has(n)&&s.push("◌"),e.length>t&&(t>>=1,e=[...e.slice(0,t),8230,...e.slice(-t)]);let i=0,a=e.length;for(let t=0;t<a;t++){let n=e[t];gf(n)&&(s.push(kp(e.slice(i,t))),s.push(r(n)),i=t+1)}return s.push(kp(e.slice(i,a))),s.join("")}function gf(e){return df(),sf.has(e)}function yf(e,t,r){if(!e)return[];df();let s=0;return e.split(qp).map((e=>{let n=Ap(e),i={input:n,offset:s};s+=n.length+1;try{let e,s=i.tokens=kf(n,t,r),a=s.length;if(!a)throw new Error("empty label");let o=i.output=s.flat();if(function(e){for(let t=e.lastIndexOf(95);t>0;)if(95!==e[--t])throw new Error("underscore allowed only at start")}(o),!(i.emoji=a>1||s[0].is_emoji)&&o.every((e=>e<128)))!function(e){if(e.length>=4&&e[2]==Kp&&e[3]==Kp)throw new Error(`invalid label extension: "${kp(e.slice(0,4))}"`)}(o),e="ASCII";else{let t=s.flatMap((e=>e.is_emoji?[]:e));if(t.length){if(tf.has(o[0]))throw Af("leading combining mark");for(let e=1;e<a;e++){let t=s[e];if(!t.is_emoji&&tf.has(t[0]))throw Af(`emoji + combining mark: "${kp(s[e-1])} + ${mf([t[0]])}"`)}!function(e){let t=e[0],r=lp.get(t);if(r)throw Af(`leading ${r}`);let s=e.length,n=-1;for(let i=1;i<s;i++){t=e[i];let s=lp.get(t);if(s){if(n==i)throw Af(`${r} + ${s}`);n=i+1,r=s}}if(n==s)throw Af(`trailing ${r}`)}(o);let r=Yp(new Set(t)),[n]=function(e){let t=af;for(let r of e){let e=t.filter((e=>Zp(e,r)));if(!e.length)throw af.some((e=>Zp(e,r)))?wf(t[0],r):vf(r);if(t=e,1==e.length)break}return t}(r);!function(e,t){for(let r of t)if(!Zp(e,r))throw wf(e,r);if(e.M){let e=Qp(t);for(let t=1,r=e.length;t<r;t++)if(rf.has(e[t])){let s=t+1;for(let n;s<r&&rf.has(n=e[s]);s++)for(let r=t;r<s;r++)if(e[r]==n)throw new Error(`duplicate non-spacing marks: ${pf(n)}`);if(s-t>cp)throw new Error(`excessive non-spacing marks: ${ff(mf(e.slice(t-1,s)))} (${s-t}/${cp})`);t=s}}}(n,t),function(e,t){let r,s=[];for(let e of t){let t=lf.get(e);if(t===Jp)return;if(t){let s=t.M.get(e);if(r=r?r.filter((e=>s.has(e))):Yp(s),!r.length)return}else s.push(e)}if(r)for(let t of r)if(s.every((e=>Zp(t,e))))throw new Error(`whole-script confusable: ${e.N}/${t.N}`)}(n,r),e=n.N}else e="Emoji"}i.type=e}catch(e){i.error=e}return i}))}function bf(e){return e.map((({input:t,error:r,output:s})=>{if(r){let s=r.message;throw new Error(1==e.length?s:`Invalid label ${ff(mf(t,63))}: ${s}`)}return kp(s)})).join(qp)}function vf(e){return new Error(`disallowed character: ${pf(e)}`)}function wf(e,t){let r=pf(t),s=af.find((e=>e.P.has(t)));return s&&(r=`${s.N} ${r}`),new Error(`illegal mixture: ${e.N} + ${r}`)}function Af(e){return new Error(`illegal placement: ${e}`)}function kf(e,t,r){let s=[],n=[];for(e=e.slice().reverse();e.length;){let i=xf(e);if(i)n.length&&(s.push(t(n)),n=[]),s.push(r(i));else{let t=e.pop();if(cf.has(t))n.push(t);else{let e=Xp.get(t);if(e)n.push(...e);else if(!ef.has(t))throw vf(t)}}}return n.length&&s.push(t(n)),s}function Ef(e){return e.filter((e=>e!=Wp))}function xf(e,t){let r,s=uf,n=e.length;for(;n&&(s=s.get(e[--n]),s);){let{V:i}=s;i&&(r=i,t&&t.push(...e.slice(n).reverse()),e.length=n)}return r}const Pf=new Uint8Array(32);function Cf(e){return Es(0!==e.length,"invalid ENS name; empty component","comp",e),e}function Sf(e){const t=Th(function(e){try{if(0===e.length)throw new Error("empty label");return function(e){return bf(yf(e,Hp,Ef))}(e)}catch(t){Es(!1,`invalid ENS name (${t.message})`,"name",e)}}(e)),r=[];if(0===e.length)return r;let s=0;for(let e=0;e<t.length;e++){46===t[e]&&(r.push(Cf(t.slice(s,e))),s=e+1)}return Es(s<t.length,"invalid ENS name; empty component","name",e),r.push(Cf(t.slice(s))),r}function If(e){Es("string"==typeof e,"invalid ENS name; not a string","name",e),Es(e.length,"invalid ENS name (empty label)","name",e);let t=Pf;const r=Sf(e);for(;r.length;)t=$c(Bs([t,$c(r.pop())]));return Ds(t)}function _f(e,t){const r=null!=t?t:63;return Es(r<=255,"DNS encoded label cannot exceed 255","length",r),Ds(Bs(Sf(e).map((t=>{Es(t.length<=r,`label ${JSON.stringify(e)} exceeds ${r} bytes`,"name",e);const s=new Uint8Array(t.length+1);return s.set(t,1),s[0]=s.length-1,s}))))+"00"}Pf.fill(0);const Tf="0x0000000000000000000000000000000000000000000000000000000000000000",Mf=BigInt(0),Df=BigInt(1),Bf=BigInt(2),Of=BigInt(27),Ff=BigInt(28),Nf=BigInt(35),Rf={};function Lf(e){return Rs(Ys(e),32)}class Uf{#le;#ce;#he;#ue;get r(){return this.#le}set r(e){Es(32===Os(e),"invalid r","value",e),this.#le=Ds(e)}get s(){return this.#ce}set s(e){Es(32===Os(e),"invalid s","value",e);const t=Ds(e);Es(parseInt(t.substring(0,3))<8,"non-canonical s","value",t),this.#ce=t}get v(){return this.#he}set v(e){const t=Ws(e,"value");Es(27===t||28===t,"invalid v","v",e),this.#he=t}get networkV(){return this.#ue}get legacyChainId(){const e=this.networkV;return null==e?null:Uf.getChainId(e)}get yParity(){return 27===this.v?0:1}get yParityAndS(){const e=Is(this.s);return this.yParity&&(e[0]|=128),Ds(e)}get compactSerialized(){return Bs([this.r,this.yParityAndS])}get serialized(){return Bs([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,t,r,s){Cs(e,Rf,"Signature"),this.#le=t,this.#ce=r,this.#he=s,this.#ue=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new Uf(Rf,this.r,this.s,this.v);return this.networkV&&(e.#ue=this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:null!=e?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const t=Qs(e,"v");return t==Of||t==Ff?Mf:(Es(t>=Nf,"invalid EIP-155 v","v",e),(t-Nf)/Bf)}static getChainIdV(e,t){return Qs(e)*Bf+BigInt(35+t-27)}static getNormalizedV(e){const t=Qs(e);return t===Mf||t===Of?27:t===Df||t===Ff?28:(Es(t>=Nf,"invalid v","v",e),t&Df?27:28)}static from(e){function t(t,r){Es(t,r,"signature",e)}if(null==e)return new Uf(Rf,Tf,Tf,27);if("string"==typeof e){const r=Is(e,"signature");if(64===r.length){const e=Ds(r.slice(0,32)),t=r.slice(32,64),s=128&t[0]?28:27;return t[0]&=127,new Uf(Rf,e,Ds(t),s)}if(65===r.length){const e=Ds(r.slice(0,32)),s=r.slice(32,64);t(0==(128&s[0]),"non-canonical s");const n=Uf.getNormalizedV(r[64]);return new Uf(Rf,e,Ds(s),n)}t(!1,"invalid raw signature length")}if(e instanceof Uf)return e.clone();const r=e.r;t(null!=r,"missing r");const s=Lf(r),n=function(e,r){if(null!=e)return Lf(e);if(null!=r){t(Ts(r,32),"invalid yParityAndS");const e=Is(r);return e[0]&=127,Ds(e)}t(!1,"missing s")}(e.s,e.yParityAndS);t(0==(128&Is(n)[0]),"non-canonical s");const{networkV:i,v:a}=function(e,r,s){if(null!=e){const t=Qs(e);return{networkV:t>=Nf?t:void 0,v:Uf.getNormalizedV(t)}}if(null!=r)return t(Ts(r,32),"invalid yParityAndS"),{v:128&Is(r)[0]?28:27};if(null!=s){switch(Ws(s,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),o=new Uf(Rf,s,n,a);return i&&(o.#ue=i),t(null==e.yParity||Ws(e.yParity,"sig.yParity")===o.yParity,"yParity mismatch"),t(null==e.yParityAndS||e.yParityAndS===o.yParityAndS,"yParityAndS mismatch"),o}}function jf(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Gf(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Vf(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");jf(e.outputLen),jf(e.blockLen)}function zf(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Qf(e,t){Gf(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const Hf="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Kf=e=>e instanceof Uint8Array,qf=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Wf=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function Jf(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),!Kf(e))throw new Error("expected Uint8Array, got "+typeof e);return e}class Yf{clone(){return this._cloneInto()}}function Zf(e){const t=t=>e().update(Jf(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function $f(e=32){if(Hf&&"function"==typeof Hf.getRandomValues)return Hf.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}class Xf extends Yf{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=qf(this.buffer)}update(e){zf(this);const{view:t,buffer:r,blockLen:s}=this,n=(e=Jf(e)).length;for(let i=0;i<n;){const a=Math.min(s-this.pos,n-i);if(a!==s)r.set(e.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===s&&(this.process(t,0),this.pos=0);else{const t=qf(e);for(;s<=n-i;i+=s)this.process(t,i)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){zf(this),Qf(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:n}=this;let{pos:i}=this;t[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>s-i&&(this.process(r,0),i=0);for(let e=i;e<s;e++)t[e]=0;!function(e,t,r,s){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,s);const n=BigInt(32),i=BigInt(4294967295),a=Number(r>>n&i),o=Number(r&i),l=s?4:0,c=s?0:4;e.setUint32(t+l,a,s),e.setUint32(t+c,o,s)}(r,s-8,BigInt(8*this.length),n),this.process(r,0);const a=qf(e),o=this.outputLen;if(o%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=o/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)a.setUint32(4*e,c[e],n)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:n,destroyed:i,pos:a}=this;return e.length=s,e.pos=a,e.finished=n,e.destroyed=i,s%t&&e.buffer.set(r),e}}const em=(e,t,r)=>e&t^~e&r,tm=(e,t,r)=>e&t^e&r^t&r,rm=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),sm=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),nm=new Uint32Array(64);class im extends Xf{constructor(){super(64,32,8,!1),this.A=0|sm[0],this.B=0|sm[1],this.C=0|sm[2],this.D=0|sm[3],this.E=0|sm[4],this.F=0|sm[5],this.G=0|sm[6],this.H=0|sm[7]}get(){const{A:e,B:t,C:r,D:s,E:n,F:i,G:a,H:o}=this;return[e,t,r,s,n,i,a,o]}set(e,t,r,s,n,i,a,o){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|s,this.E=0|n,this.F=0|i,this.G=0|a,this.H=0|o}process(e,t){for(let r=0;r<16;r++,t+=4)nm[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=nm[e-15],r=nm[e-2],s=Wf(t,7)^Wf(t,18)^t>>>3,n=Wf(r,17)^Wf(r,19)^r>>>10;nm[e]=n+nm[e-7]+s+nm[e-16]|0}let{A:r,B:s,C:n,D:i,E:a,F:o,G:l,H:c}=this;for(let e=0;e<64;e++){const t=c+(Wf(a,6)^Wf(a,11)^Wf(a,25))+em(a,o,l)+rm[e]+nm[e]|0,h=(Wf(r,2)^Wf(r,13)^Wf(r,22))+tm(r,s,n)|0;c=l,l=o,o=a,a=i+t|0,i=n,n=s,s=r,r=t+h|0}r=r+this.A|0,s=s+this.B|0,n=n+this.C|0,i=i+this.D|0,a=a+this.E|0,o=o+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(r,s,n,i,a,o,l,c)}roundClean(){nm.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const am=Zf((()=>new im)),om=BigInt(0),lm=BigInt(1),cm=BigInt(2),hm=BigInt(3),um=BigInt(4),dm=BigInt(5),pm=BigInt(8);BigInt(9),BigInt(16);function fm(e,t){const r=e%t;return r>=om?r:t+r}function mm(e,t,r){if(r<=om||t<om)throw new Error("Expected power/modulo > 0");if(r===lm)return om;let s=lm;for(;t>om;)t&lm&&(s=s*e%r),e=e*e%r,t>>=lm;return s}function gm(e,t,r){let s=e;for(;t-- >om;)s*=s,s%=r;return s}function ym(e,t){if(e===om||t<=om)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=fm(e,t),s=t,n=om,i=lm,a=lm,o=om;for(;r!==om;){const e=s/r,t=s%r,l=n-a*e,c=i-o*e;s=r,r=t,n=a,i=o,a=l,o=c}if(s!==lm)throw new Error("invert: does not exist");return fm(n,t)}function bm(e){if(e%um===hm){const t=(e+lm)/um;return function(e,r){const s=e.pow(r,t);if(!e.eql(e.sqr(s),r))throw new Error("Cannot find square root");return s}}if(e%pm===dm){const t=(e-dm)/pm;return function(e,r){const s=e.mul(r,cm),n=e.pow(s,t),i=e.mul(r,n),a=e.mul(e.mul(i,cm),n),o=e.mul(i,e.sub(a,e.ONE));if(!e.eql(e.sqr(o),r))throw new Error("Cannot find square root");return o}}return function(e){const t=(e-lm)/cm;let r,s,n;for(r=e-lm,s=0;r%cm===om;r/=cm,s++);for(n=cm;n<e&&mm(n,t,e)!==e-lm;n++);if(1===s){const t=(e+lm)/um;return function(e,r){const s=e.pow(r,t);if(!e.eql(e.sqr(s),r))throw new Error("Cannot find square root");return s}}const i=(r+lm)/cm;return function(e,a){if(e.pow(a,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let o=s,l=e.pow(e.mul(e.ONE,n),r),c=e.pow(a,i),h=e.pow(a,r);for(;!e.eql(h,e.ONE);){if(e.eql(h,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(h);t<o&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const r=e.pow(l,lm<<BigInt(o-t-1));l=e.sqr(r),c=e.mul(c,r),h=e.mul(h,l),o=t}return c}}(e)}const vm=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function wm(e,t){const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function Am(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function km(e){const t=Am(e);return t+Math.ceil(t/2)}class Em extends Yf{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Vf(e);const r=Jf(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,n=new Uint8Array(s);n.set(r.length>s?e.create().update(r).digest():r);for(let e=0;e<n.length;e++)n[e]^=54;this.iHash.update(n),this.oHash=e.create();for(let e=0;e<n.length;e++)n[e]^=106;this.oHash.update(n),n.fill(0)}update(e){return zf(this),this.iHash.update(e),this}digestInto(e){zf(this),Gf(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:n,blockLen:i,outputLen:a}=this;return e.finished=s,e.destroyed=n,e.blockLen=i,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const xm=(e,t,r)=>new Em(e,t).update(r).digest();xm.create=(e,t)=>new Em(e,t);const Pm=BigInt(0),Cm=BigInt(1);function Sm(e){return zo(e.Fp,vm.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),zo(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...wm(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const{bytesToNumberBE:Im,hexToBytes:_m}=s,Tm={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=Tm;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const r=e[1],s=e.subarray(2,r+2);if(!r||s.length!==r)throw new t("Invalid signature integer: wrong length");if(128&s[0])throw new t("Invalid signature integer: negative");if(0===s[0]&&!(128&s[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:Im(s),l:e.subarray(r+2)}},toSig(e){const{Err:t}=Tm,r="string"==typeof e?_m(e):e;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let s=r.length;if(s<2||48!=r[0])throw new t("Invalid signature tag");if(r[1]!==s-2)throw new t("Invalid signature: incorrect length");const{d:n,l:i}=Tm._parseInt(r.subarray(2)),{d:a,l:o}=Tm._parseInt(i);if(o.length)throw new t("Invalid signature: left bytes after parsing");return{r:n,s:a}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},s=t(r(e.s)),n=t(r(e.r)),i=s.length/2,a=n.length/2,o=r(i),l=r(a);return`30${r(a+i+4)}02${l}${n}02${o}${s}`}},Mm=BigInt(0),Dm=BigInt(1),Bm=(BigInt(2),BigInt(3));BigInt(4);function Om(e){const t=function(e){const t=Sm(e);zo(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:s,a:n}=t;if(r){if(!s.eql(n,s.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,s=t.toBytes||((e,t,s)=>{const n=t.toAffine();return No(Uint8Array.from([4]),r.toBytes(n.x),r.toBytes(n.y))}),n=t.fromBytes||(e=>{const t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function i(e){const{a:s,b:n}=t,i=r.sqr(e),a=r.mul(i,e);return r.add(r.add(a,r.mul(e,s)),n)}if(!r.eql(r.sqr(t.Gy),i(t.Gx)))throw new Error("bad generator point: equation left != right");function a(e){return"bigint"==typeof e&&Mm<e&&e<t.n}function o(e){if(!a(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(e){const{allowedPrivateKeyLengths:r,nByteLength:s,wrapPrivateKey:n,n:i}=t;if(r&&"bigint"!=typeof e){if(e instanceof Uint8Array&&(e=Io(e)),"string"!=typeof e||!r.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*s,"0")}let a;try{a="bigint"==typeof e?e:Mo(Fo("private key",e,s))}catch(t){throw new Error(`private key must be ${s} bytes, hex or bigint, not ${typeof e}`)}return n&&(a=fm(a,i)),o(a),a}const c=new Map;function h(e){if(!(e instanceof u))throw new Error("ProjectivePoint expected")}class u{constructor(e,t,s){if(this.px=e,this.py=t,this.pz=s,null==e||!r.isValid(e))throw new Error("x required");if(null==t||!r.isValid(t))throw new Error("y required");if(null==s||!r.isValid(s))throw new Error("z required")}static fromAffine(e){const{x:t,y:s}=e||{};if(!e||!r.isValid(t)||!r.isValid(s))throw new Error("invalid affine point");if(e instanceof u)throw new Error("projective point not allowed");const n=e=>r.eql(e,r.ZERO);return n(t)&&n(s)?u.ZERO:new u(t,s,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(u.fromAffine)}static fromHex(e){const t=u.fromAffine(n(Fo("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return u.BASE.multiply(l(e))}_setWindowSize(e){this._WINDOW_SIZE=e,c.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:s}=this.toAffine();if(!r.isValid(e)||!r.isValid(s))throw new Error("bad point: x or y not FE");const n=r.sqr(s),a=i(e);if(!r.eql(n,a))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){h(e);const{px:t,py:s,pz:n}=this,{px:i,py:a,pz:o}=e,l=r.eql(r.mul(t,o),r.mul(i,n)),c=r.eql(r.mul(s,o),r.mul(a,n));return l&&c}negate(){return new u(this.px,r.neg(this.py),this.pz)}double(){const{a:e,b:s}=t,n=r.mul(s,Bm),{px:i,py:a,pz:o}=this;let l=r.ZERO,c=r.ZERO,h=r.ZERO,d=r.mul(i,i),p=r.mul(a,a),f=r.mul(o,o),m=r.mul(i,a);return m=r.add(m,m),h=r.mul(i,o),h=r.add(h,h),l=r.mul(e,h),c=r.mul(n,f),c=r.add(l,c),l=r.sub(p,c),c=r.add(p,c),c=r.mul(l,c),l=r.mul(m,l),h=r.mul(n,h),f=r.mul(e,f),m=r.sub(d,f),m=r.mul(e,m),m=r.add(m,h),h=r.add(d,d),d=r.add(h,d),d=r.add(d,f),d=r.mul(d,m),c=r.add(c,d),f=r.mul(a,o),f=r.add(f,f),d=r.mul(f,m),l=r.sub(l,d),h=r.mul(f,p),h=r.add(h,h),h=r.add(h,h),new u(l,c,h)}add(e){h(e);const{px:s,py:n,pz:i}=this,{px:a,py:o,pz:l}=e;let c=r.ZERO,d=r.ZERO,p=r.ZERO;const f=t.a,m=r.mul(t.b,Bm);let g=r.mul(s,a),y=r.mul(n,o),b=r.mul(i,l),v=r.add(s,n),w=r.add(a,o);v=r.mul(v,w),w=r.add(g,y),v=r.sub(v,w),w=r.add(s,i);let A=r.add(a,l);return w=r.mul(w,A),A=r.add(g,b),w=r.sub(w,A),A=r.add(n,i),c=r.add(o,l),A=r.mul(A,c),c=r.add(y,b),A=r.sub(A,c),p=r.mul(f,w),c=r.mul(m,b),p=r.add(c,p),c=r.sub(y,p),p=r.add(y,p),d=r.mul(c,p),y=r.add(g,g),y=r.add(y,g),b=r.mul(f,b),w=r.mul(m,w),y=r.add(y,b),b=r.sub(g,b),b=r.mul(f,b),w=r.add(w,b),g=r.mul(y,w),d=r.add(d,g),g=r.mul(A,w),c=r.mul(v,c),c=r.sub(c,g),g=r.mul(v,y),p=r.mul(A,p),p=r.add(p,g),new u(c,d,p)}subtract(e){return this.add(e.negate())}is0(){return this.equals(u.ZERO)}wNAF(e){return p.wNAFCached(this,c,e,(e=>{const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(u.fromAffine)}))}multiplyUnsafe(e){const s=u.ZERO;if(e===Mm)return s;if(o(e),e===Dm)return this;const{endo:n}=t;if(!n)return p.unsafeLadder(this,e);let{k1neg:i,k1:a,k2neg:l,k2:c}=n.splitScalar(e),h=s,d=s,f=this;for(;a>Mm||c>Mm;)a&Dm&&(h=h.add(f)),c&Dm&&(d=d.add(f)),f=f.double(),a>>=Dm,c>>=Dm;return i&&(h=h.negate()),l&&(d=d.negate()),d=new u(r.mul(d.px,n.beta),d.py,d.pz),h.add(d)}multiply(e){o(e);let s,n,i=e;const{endo:a}=t;if(a){const{k1neg:e,k1:t,k2neg:o,k2:l}=a.splitScalar(i);let{p:c,f:h}=this.wNAF(t),{p:d,f}=this.wNAF(l);c=p.constTimeNegate(e,c),d=p.constTimeNegate(o,d),d=new u(r.mul(d.px,a.beta),d.py,d.pz),s=c.add(d),n=h.add(f)}else{const{p:e,f:t}=this.wNAF(i);s=e,n=t}return u.normalizeZ([s,n])[0]}multiplyAndAddUnsafe(e,t,r){const s=u.BASE,n=(e,t)=>t!==Mm&&t!==Dm&&e.equals(s)?e.multiply(t):e.multiplyUnsafe(t),i=n(this,t).add(n(e,r));return i.is0()?void 0:i}toAffine(e){const{px:t,py:s,pz:n}=this,i=this.is0();null==e&&(e=i?r.ONE:r.inv(n));const a=r.mul(t,e),o=r.mul(s,e),l=r.mul(n,e);if(i)return{x:r.ZERO,y:r.ZERO};if(!r.eql(l,r.ONE))throw new Error("invZ was invalid");return{x:a,y:o}}isTorsionFree(){const{h:e,isTorsionFree:r}=t;if(e===Dm)return!0;if(r)return r(u,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:r}=t;return e===Dm?this:r?r(u,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),s(u,this,e)}toHex(e=!0){return Io(this.toRawBytes(e))}}u.BASE=new u(t.Gx,t.Gy,r.ONE),u.ZERO=new u(r.ZERO,r.ONE,r.ZERO);const d=t.nBitLength,p=function(e,t){const r=(e,t)=>{const r=t.negate();return e?r:t},s=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let s=e.ZERO,n=t;for(;r>Pm;)r&Cm&&(s=s.add(n)),n=n.double(),r>>=Cm;return s},precomputeWindow(e,t){const{windows:r,windowSize:n}=s(t),i=[];let a=e,o=a;for(let e=0;e<r;e++){o=a,i.push(o);for(let e=1;e<n;e++)o=o.add(a),i.push(o);a=o.double()}return i},wNAF(t,n,i){const{windows:a,windowSize:o}=s(t);let l=e.ZERO,c=e.BASE;const h=BigInt(2**t-1),u=2**t,d=BigInt(t);for(let e=0;e<a;e++){const t=e*o;let s=Number(i&h);i>>=d,s>o&&(s-=u,i+=Cm);const a=t,p=t+Math.abs(s)-1,f=e%2!=0,m=s<0;0===s?c=c.add(r(f,n[a])):l=l.add(r(m,n[p]))}return{p:l,f:c}},wNAFCached(e,t,r,s){const n=e._WINDOW_SIZE||1;let i=t.get(e);return i||(i=this.precomputeWindow(e,n),1!==n&&t.set(e,s(i))),this.wNAF(n,i,r)}}}(u,t.endo?Math.ceil(d/2):d);return{CURVE:t,ProjectivePoint:u,normPrivateKeyToScalar:l,weierstrassEquation:i,isWithinCurveOrder:a}}function Fm(e){const t=function(e){const t=Sm(e);return zo(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:s}=t,n=r.BYTES+1,i=2*r.BYTES+1;function a(e){return fm(e,s)}function o(e){return ym(e,s)}const{ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:h,isWithinCurveOrder:u}=Om({...t,toBytes(e,t,s){const n=t.toAffine(),i=r.toBytes(n.x),a=No;return s?a(Uint8Array.from([t.hasEvenY()?2:3]),i):a(Uint8Array.from([4]),i,r.toBytes(n.y))},fromBytes(e){const t=e.length,s=e[0],a=e.subarray(1);if(t!==n||2!==s&&3!==s){if(t===i&&4===s){return{x:r.fromBytes(a.subarray(0,r.BYTES)),y:r.fromBytes(a.subarray(r.BYTES,2*r.BYTES))}}throw new Error(`Point of length ${t} was invalid. Expected ${n} compressed bytes or ${i} uncompressed bytes`)}{const e=Mo(a);if(!(Mm<(o=e)&&o<r.ORDER))throw new Error("Point is not on curve");const t=h(e);let n=r.sqrt(t);return 1==(1&s)!==((n&Dm)===Dm)&&(n=r.neg(n)),{x:e,y:n}}var o}}),d=e=>Io(Bo(e,t.nByteLength));function p(e){return e>s>>Dm}const f=(e,t,r)=>Mo(e.slice(t,r));class m{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){const r=t.nByteLength;return e=Fo("compactSignature",e,2*r),new m(f(e,0,r),f(e,r,2*r))}static fromDER(e){const{r:t,s:r}=Tm.toSig(Fo("DER",e));return new m(t,r)}assertValidity(){if(!u(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!u(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new m(this.r,this.s,e)}recoverPublicKey(e){const{r:s,s:n,recovery:i}=this,c=v(Fo("msgHash",e));if(null==i||![0,1,2,3].includes(i))throw new Error("recovery id invalid");const h=2===i||3===i?s+t.n:s;if(h>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const u=0==(1&i)?"02":"03",p=l.fromHex(u+d(h)),f=o(h),m=a(-c*f),g=a(n*f),y=l.BASE.multiplyAndAddUnsafe(p,m,g);if(!y)throw new Error("point at infinify");return y.assertValidity(),y}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return To(this.toDERHex())}toDERHex(){return Tm.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return To(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}const g={isValidPrivateKey(e){try{return c(e),!0}catch(e){return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const e=km(t.n);return function(e,t,r=!1){const s=e.length,n=Am(t),i=km(t);if(s<16||s<i||s>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${s}`);const a=fm(r?Mo(e):Do(e),t-lm)+lm;return r?Oo(a,n):Bo(a,n)}(t.randomBytes(e),t.n)},precompute:(e=8,t=l.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function y(e){const t=e instanceof Uint8Array,r="string"==typeof e,s=(t||r)&&e.length;return t?s===n||s===i:r?s===2*n||s===2*i:e instanceof l}const b=t.bits2int||function(e){const r=Mo(e),s=8*e.length-t.nBitLength;return s>0?r>>BigInt(s):r},v=t.bits2int_modN||function(e){return a(b(e))},w=Lo(t.nBitLength);function A(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(Mm<=e&&e<w))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Bo(e,t.nByteLength)}function k(e,s,n=E){if(["recovered","canonical"].some((e=>e in n)))throw new Error("sign() legacy options not supported");const{hash:i,randomBytes:h}=t;let{lowS:d,prehash:f,extraEntropy:g}=n;null==d&&(d=!0),e=Fo("msgHash",e),f&&(e=Fo("prehashed msgHash",i(e)));const y=v(e),w=c(s),k=[A(w),A(y)];if(null!=g){const e=!0===g?h(r.BYTES):g;k.push(Fo("extraEntropy",e))}const x=No(...k),P=y;return{seed:x,k2sig:function(e){const t=b(e);if(!u(t))return;const r=o(t),s=l.BASE.multiply(t).toAffine(),n=a(s.x);if(n===Mm)return;const i=a(r*a(P+n*w));if(i===Mm)return;let c=(s.x===n?0:2)|Number(s.y&Dm),h=i;return d&&p(i)&&(h=function(e){return p(e)?a(-e):e}(i),c^=1),new m(n,h,c)}}}const E={lowS:t.lowS,prehash:!1},x={lowS:t.lowS,prehash:!1};return l.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return l.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(y(e))throw new Error("first arg must be private key");if(!y(t))throw new Error("second arg must be public key");return l.fromHex(t).multiply(c(e)).toRawBytes(r)},sign:function(e,r,s=E){const{seed:n,k2sig:i}=k(e,r,s),a=t;return Go(a.hash.outputLen,a.nByteLength,a.hmac)(n,i)},verify:function(e,r,s,n=x){const i=e;if(r=Fo("msgHash",r),s=Fo("publicKey",s),"strict"in n)throw new Error("options.strict was renamed to lowS");const{lowS:c,prehash:h}=n;let u,d;try{if("string"==typeof i||i instanceof Uint8Array)try{u=m.fromDER(i)}catch(e){if(!(e instanceof Tm.Err))throw e;u=m.fromCompact(i)}else{if("object"!=typeof i||"bigint"!=typeof i.r||"bigint"!=typeof i.s)throw new Error("PARSE");{const{r:e,s:t}=i;u=new m(e,t)}}d=l.fromHex(s)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(c&&u.hasHighS())return!1;h&&(r=t.hash(r));const{r:p,s:f}=u,g=v(r),y=o(f),b=a(g*y),w=a(p*y),A=l.BASE.multiplyAndAddUnsafe(d,b,w)?.toAffine();return!!A&&a(A.x)===p},ProjectivePoint:l,Signature:m,utils:g}}function Nm(e){return{hash:e,hmac:(t,...r)=>xm(e,t,function(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let r=0;return e.forEach((e=>{if(!Kf(e))throw new Error("Uint8Array expected");t.set(e,r),r+=e.length})),t}(...r)),randomBytes:$f}}const Rm=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Lm=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Um=BigInt(1),jm=BigInt(2),Gm=(e,t)=>(e+t/jm)/t;function Vm(e){const t=Rm,r=BigInt(3),s=BigInt(6),n=BigInt(11),i=BigInt(22),a=BigInt(23),o=BigInt(44),l=BigInt(88),c=e*e*e%t,h=c*c*e%t,u=gm(h,r,t)*h%t,d=gm(u,r,t)*h%t,p=gm(d,jm,t)*c%t,f=gm(p,n,t)*p%t,m=gm(f,i,t)*f%t,g=gm(m,o,t)*m%t,y=gm(g,l,t)*g%t,b=gm(y,o,t)*m%t,v=gm(b,r,t)*h%t,w=gm(v,a,t)*f%t,A=gm(w,s,t)*c%t,k=gm(A,jm,t);if(!zm.eql(zm.sqr(k),e))throw new Error("Cannot find square root");return k}const zm=function(e,t,r=!1,s={}){if(e<=om)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:n,nByteLength:i}=wm(e,t);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=bm(e),o=Object.freeze({ORDER:e,BITS:n,BYTES:i,MASK:Lo(n),ZERO:om,ONE:lm,create:t=>fm(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return om<=t&&t<e},is0:e=>e===om,isOdd:e=>(e&lm)===lm,neg:t=>fm(-t,e),eql:(e,t)=>e===t,sqr:t=>fm(t*t,e),add:(t,r)=>fm(t+r,e),sub:(t,r)=>fm(t-r,e),mul:(t,r)=>fm(t*r,e),pow:(e,t)=>function(e,t,r){if(r<om)throw new Error("Expected power > 0");if(r===om)return e.ONE;if(r===lm)return t;let s=e.ONE,n=t;for(;r>om;)r&lm&&(s=e.mul(s,n)),n=e.sqr(n),r>>=lm;return s}(o,e,t),div:(t,r)=>fm(t*ym(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>ym(t,e),sqrt:s.sqrt||(e=>a(o,e)),invertBatch:e=>function(e,t){const r=new Array(t.length),s=t.reduce(((t,s,n)=>e.is0(s)?t:(r[n]=t,e.mul(t,s))),e.ONE),n=e.inv(s);return t.reduceRight(((t,s,n)=>e.is0(s)?t:(r[n]=e.mul(t,r[n]),e.mul(t,s))),n),r}(o,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?Oo(e,i):Bo(e,i),fromBytes:e=>{if(e.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${e.length}`);return r?Do(e):Mo(e)}});return Object.freeze(o)}(Rm,void 0,void 0,{sqrt:Vm}),Qm=function(e,t){const r=t=>Fm({...e,...Nm(t)});return Object.freeze({...r(t),create:r})}({a:BigInt(0),b:BigInt(7),Fp:zm,n:Lm,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Lm,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),s=-Um*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=r,a=BigInt("0x100000000000000000000000000000000"),o=Gm(i*e,t),l=Gm(-s*e,t);let c=fm(e-o*r-l*n,t),h=fm(-o*s-l*i,t);const u=c>a,d=h>a;if(u&&(c=t-c),d&&(h=t-h),c>a||h>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:u,k1:c,k2neg:d,k2:h}}}},am);BigInt(0);Qm.ProjectivePoint;class Hm{#de;constructor(e){Es(32===Os(e),"invalid private key","privateKey","[REDACTED]"),this.#de=Ds(e)}get privateKey(){return this.#de}get publicKey(){return Hm.computePublicKey(this.#de)}get compressedPublicKey(){return Hm.computePublicKey(this.#de,!0)}sign(e){Es(32===Os(e),"invalid digest length","digest",e);const t=Qm.sign(_s(e),_s(this.#de),{lowS:!0});return Uf.from({r:Js(t.r,32),s:Js(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=Hm.computePublicKey(e);return Ds(Qm.getSharedSecret(_s(this.#de),Is(t),!1))}static computePublicKey(e,t){let r=Is(e,"key");if(32===r.length){return Ds(Qm.getPublicKey(r,!!t))}if(64===r.length){const e=new Uint8Array(65);e[0]=4,e.set(r,1),r=e}return Ds(Qm.ProjectivePoint.fromHex(r).toRawBytes(t))}static recoverPublicKey(e,t){Es(32===Os(e),"invalid digest length","digest",e);const r=Uf.from(t);let s=Qm.Signature.fromCompact(_s(Bs([r.r,r.s])));s=s.addRecoveryBit(r.yParity);const n=s.recoverPublicKey(_s(e));return Es(null!=n,"invalid signautre for digest","signature",t),"0x"+n.toHex(!1)}static addPoints(e,t,r){const s=Qm.ProjectivePoint.fromHex(Hm.computePublicKey(e).substring(2)),n=Qm.ProjectivePoint.fromHex(Hm.computePublicKey(t).substring(2));return"0x"+s.add(n).toHex(!!r)}}function Km(e){let t=e.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}function qm(e,t,r){let s=0;for(let n=0;n<r;n++)s=256*s+e[t+n];return s}function Wm(e,t,r,s){const n=[];for(;r<t+1+s;){const i=Jm(e,r);n.push(i.result),ks((r+=i.consumed)<=t+1+s,"child data too short","BUFFER_OVERRUN",{buffer:e,length:s,offset:t})}return{consumed:1+s,result:n}}function Jm(e,t){ks(0!==e.length,"data too short","BUFFER_OVERRUN",{buffer:e,length:0,offset:1});const r=t=>{ks(t<=e.length,"data short segment too short","BUFFER_OVERRUN",{buffer:e,length:e.length,offset:t})};if(e[t]>=248){const s=e[t]-247;r(t+1+s);const n=qm(e,t+1,s);return r(t+1+s+n),Wm(e,t,t+1+s,s+n)}if(e[t]>=192){const s=e[t]-192;return r(t+1+s),Wm(e,t,t+1,s)}if(e[t]>=184){const s=e[t]-183;r(t+1+s);const n=qm(e,t+1,s);r(t+1+s+n);return{consumed:1+s+n,result:Ds(e.slice(t+1+s,t+1+s+n))}}if(e[t]>=128){const s=e[t]-128;r(t+1+s);return{consumed:1+s,result:Ds(e.slice(t+1,t+1+s))}}return{consumed:1,result:Km(e[t])}}function Ym(e){const t=Is(e,"data"),r=Jm(t,0);return Es(r.consumed===t.length,"unexpected junk after rlp payload","data",e),r.result}function Zm(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function $m(e){if(Array.isArray(e)){let t=[];if(e.forEach((function(e){t=t.concat($m(e))})),t.length<=55)return t.unshift(192+t.length),t;const r=Zm(t.length);return r.unshift(247+r.length),r.concat(t)}const t=Array.prototype.slice.call(Is(e,"object"));if(1===t.length&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const r=Zm(t.length);return r.unshift(183+r.length),r.concat(t)}const Xm="0123456789abcdef";function eg(e){let t="0x";for(const r of $m(e))t+=Xm[r>>4],t+=Xm[15&r];return t}function tg(e,t){return function(e){let t;return t="string"==typeof e?Hm.computePublicKey(e,!1):e.publicKey,ah($c("0x"+t.substring(4)).substring(26))}(Hm.recoverPublicKey(e,t))}const rg=BigInt(0),sg=BigInt(2),ng=BigInt(27),ig=BigInt(28),ag=BigInt(35),og=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function lg(e){return"0x"===e?null:ah(e)}function cg(e,t){try{return Zu(e)}catch(r){Es(!1,r.message,t,e)}}function hg(e,t){return"0x"===e?0:Ws(e,t)}function ug(e,t){if("0x"===e)return rg;const r=Qs(e,t);return Es(r<=og,"value exceeds uint size",t,r),r}function dg(e,t){const r=Qs(e,"value"),s=Ys(r);return Es(s.length<=32,"value too large",`tx.${t}`,r),s}function pg(e){return Zu(e).map((e=>[e.address,e.storageKeys]))}function fg(e,t){Es(Array.isArray(e),`invalid ${t}`,"value",e);for(let t=0;t<e.length;t++)Es(Ts(e[t],32),"invalid ${ param } hash",`value[${t}]`,e[t]);return e}function mg(e,t){const r=[dg(e.nonce,"nonce"),dg(e.gasPrice||0,"gasPrice"),dg(e.gasLimit,"gasLimit"),e.to||"0x",dg(e.value,"value"),e.data];let s=rg;if(e.chainId!=rg)s=Qs(e.chainId,"tx.chainId"),Es(!t||null==t.networkV||t.legacyChainId===s,"tx.chainId/sig.v mismatch","sig",t);else if(e.signature){const t=e.signature.legacyChainId;null!=t&&(s=t)}if(!t)return s!==rg&&(r.push(Ys(s)),r.push("0x"),r.push("0x")),eg(r);let n=BigInt(27+t.yParity);return s!==rg?n=Uf.getChainIdV(s,t.v):BigInt(t.v)!==n&&Es(!1,"tx.chainId/sig.v mismatch","sig",t),r.push(Ys(n)),r.push(Ys(t.r)),r.push(Ys(t.s)),eg(r)}function gg(e,t){let r;try{if(r=hg(t[0],"yParity"),0!==r&&1!==r)throw new Error("bad yParity")}catch(e){Es(!1,"invalid yParity","yParity",t[0])}const s=Rs(t[1],32),n=Rs(t[2],32),i=Uf.from({r:s,s:n,yParity:r});e.signature=i}function yg(e,t){const r=[dg(e.chainId,"chainId"),dg(e.nonce,"nonce"),dg(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),dg(e.maxFeePerGas||0,"maxFeePerGas"),dg(e.gasLimit,"gasLimit"),e.to||"0x",dg(e.value,"value"),e.data,pg(e.accessList||[])];return t&&(r.push(dg(t.yParity,"yParity")),r.push(Ys(t.r)),r.push(Ys(t.s))),Bs(["0x02",eg(r)])}function bg(e,t){const r=[dg(e.chainId,"chainId"),dg(e.nonce,"nonce"),dg(e.gasPrice||0,"gasPrice"),dg(e.gasLimit,"gasLimit"),e.to||"0x",dg(e.value,"value"),e.data,pg(e.accessList||[])];return t&&(r.push(dg(t.yParity,"recoveryParam")),r.push(Ys(t.r)),r.push(Ys(t.s))),Bs(["0x01",eg(r)])}function vg(e,t){const r=[dg(e.chainId,"chainId"),dg(e.nonce,"nonce"),dg(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),dg(e.maxFeePerGas||0,"maxFeePerGas"),dg(e.gasLimit,"gasLimit"),e.to||dd,dg(e.value,"value"),e.data,pg(e.accessList||[]),dg(e.maxFeePerBlobGas||0,"maxFeePerBlobGas"),fg(e.blobVersionedHashes||[],"blobVersionedHashes")];return t&&(r.push(dg(t.yParity,"yParity")),r.push(Ys(t.r)),r.push(Ys(t.s))),Bs(["0x03",eg(r)])}class wg{#pe;#fe;#h;#me;#ge;#ye;#be;#ve;#we;#Ae;#ke;#Ee;#xe;#Pe;get type(){return this.#pe}set type(e){switch(e){case null:this.#pe=null;break;case 0:case"legacy":this.#pe=0;break;case 1:case"berlin":case"eip-2930":this.#pe=1;break;case 2:case"london":case"eip-1559":this.#pe=2;break;case 3:case"cancun":case"eip-4844":this.#pe=3;break;default:Es(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){const e=this.#fe;return null==e&&3===this.type?dd:e}set to(e){this.#fe=null==e?null:ah(e)}get nonce(){return this.#me}set nonce(e){this.#me=Ws(e,"value")}get gasLimit(){return this.#ge}set gasLimit(e){this.#ge=Qs(e)}get gasPrice(){const e=this.#ye;return null!=e||0!==this.type&&1!==this.type?e:rg}set gasPrice(e){this.#ye=null==e?null:Qs(e,"gasPrice")}get maxPriorityFeePerGas(){const e=this.#be;return null==e?2===this.type||3===this.type?rg:null:e}set maxPriorityFeePerGas(e){this.#be=null==e?null:Qs(e,"maxPriorityFeePerGas")}get maxFeePerGas(){const e=this.#ve;return null==e?2===this.type||3===this.type?rg:null:e}set maxFeePerGas(e){this.#ve=null==e?null:Qs(e,"maxFeePerGas")}get data(){return this.#h}set data(e){this.#h=Ds(e)}get value(){return this.#we}set value(e){this.#we=Qs(e,"value")}get chainId(){return this.#Ae}set chainId(e){this.#Ae=Qs(e)}get signature(){return this.#ke||null}set signature(e){this.#ke=null==e?null:Uf.from(e)}get accessList(){const e=this.#Ee||null;return null==e?1===this.type||2===this.type||3===this.type?[]:null:e}set accessList(e){this.#Ee=null==e?null:Zu(e)}get maxFeePerBlobGas(){const e=this.#xe;return null==e&&3===this.type?rg:e}set maxFeePerBlobGas(e){this.#xe=null==e?null:Qs(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#Pe;return null==e&&3===this.type?[]:e}set blobVersionedHashes(e){if(null!=e){Es(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)Es(Ts(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}this.#Pe=e}constructor(){this.#pe=null,this.#fe=null,this.#me=0,this.#ge=rg,this.#ye=null,this.#be=null,this.#ve=null,this.#h="0x",this.#we=rg,this.#Ae=rg,this.#ke=null,this.#Ee=null,this.#xe=null,this.#Pe=null}get hash(){return null==this.signature?null:$c(this.serialized)}get unsignedHash(){return $c(this.unsignedSerialized)}get from(){return null==this.signature?null:tg(this.unsignedHash,this.signature)}get fromPublicKey(){return null==this.signature?null:Hm.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return null!=this.signature}get serialized(){switch(ks(null!=this.signature,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"}),this.inferType()){case 0:return mg(this,this.signature);case 1:return bg(this,this.signature);case 2:return yg(this,this.signature);case 3:return vg(this,this.signature)}ks(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get unsignedSerialized(){switch(this.inferType()){case 0:return mg(this);case 1:return bg(this);case 2:return yg(this);case 3:return vg(this)}ks(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".unsignedSerialized"})}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=null!=this.gasPrice,t=null!=this.maxFeePerGas||null!=this.maxPriorityFeePerGas,r=null!=this.accessList,s=null!=this.#xe||this.#Pe;null!=this.maxFeePerGas&&null!=this.maxPriorityFeePerGas&&ks(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),ks(!t||0!==this.type&&1!==this.type,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),ks(0!==this.type||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const n=[];return null!=this.type?n.push(this.type):t?n.push(2):e?(n.push(1),r||n.push(0)):r?(n.push(1),n.push(2)):(s&&this.to||(n.push(0),n.push(1),n.push(2)),n.push(3)),n.sort(),n}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}clone(){return wg.from(this)}toJSON(){const e=e=>null==e?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(null==e)return new wg;if("string"==typeof e){const t=Is(e);if(t[0]>=127)return wg.from(function(e){const t=Ym(e);Es(Array.isArray(t)&&(9===t.length||6===t.length),"invalid field count for legacy transaction","data",e);const r={type:0,nonce:hg(t[0],"nonce"),gasPrice:ug(t[1],"gasPrice"),gasLimit:ug(t[2],"gasLimit"),to:lg(t[3]),value:ug(t[4],"value"),data:Ds(t[5]),chainId:rg};if(6===t.length)return r;const s=ug(t[6],"v"),n=ug(t[7],"r"),i=ug(t[8],"s");if(n===rg&&i===rg)r.chainId=s;else{let n=(s-ag)/sg;n<rg&&(n=rg),r.chainId=n,Es(n!==rg||s===ng||s===ig,"non-canonical legacy v","v",t[6]),r.signature=Uf.from({r:Rs(t[7],32),s:Rs(t[8],32),v:s}),r.hash=$c(e)}return r}(t));switch(t[0]){case 1:return wg.from(function(e){const t=Ym(Is(e).slice(1));Es(Array.isArray(t)&&(8===t.length||11===t.length),"invalid field count for transaction type: 1","data",Ds(e));const r={type:1,chainId:ug(t[0],"chainId"),nonce:hg(t[1],"nonce"),gasPrice:ug(t[2],"gasPrice"),gasLimit:ug(t[3],"gasLimit"),to:lg(t[4]),value:ug(t[5],"value"),data:Ds(t[6]),accessList:cg(t[7],"accessList")};return 8===t.length||(r.hash=$c(e),gg(r,t.slice(8))),r}(t));case 2:return wg.from(function(e){const t=Ym(Is(e).slice(1));Es(Array.isArray(t)&&(9===t.length||12===t.length),"invalid field count for transaction type: 2","data",Ds(e));const r={type:2,chainId:ug(t[0],"chainId"),nonce:hg(t[1],"nonce"),maxPriorityFeePerGas:ug(t[2],"maxPriorityFeePerGas"),maxFeePerGas:ug(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:ug(t[4],"gasLimit"),to:lg(t[5]),value:ug(t[6],"value"),data:Ds(t[7]),accessList:cg(t[8],"accessList")};return 9===t.length||(r.hash=$c(e),gg(r,t.slice(9))),r}(t));case 3:return wg.from(function(e){const t=Ym(Is(e).slice(1));Es(Array.isArray(t)&&(11===t.length||14===t.length),"invalid field count for transaction type: 3","data",Ds(e));const r={type:3,chainId:ug(t[0],"chainId"),nonce:hg(t[1],"nonce"),maxPriorityFeePerGas:ug(t[2],"maxPriorityFeePerGas"),maxFeePerGas:ug(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:ug(t[4],"gasLimit"),to:lg(t[5]),value:ug(t[6],"value"),data:Ds(t[7]),accessList:cg(t[8],"accessList"),maxFeePerBlobGas:ug(t[9],"maxFeePerBlobGas"),blobVersionedHashes:t[10]};Es(null!=r.to,"invalid address for transaction type: 3","data",e),Es(Array.isArray(r.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",e);for(let t=0;t<r.blobVersionedHashes.length;t++)Es(Ts(r.blobVersionedHashes[t],32),`invalid blobVersionedHash at index ${t}: must be length 32`,"data",e);return 11===t.length||(r.hash=$c(e),gg(r,t.slice(11))),r}(t))}ks(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new wg;return null!=e.type&&(t.type=e.type),null!=e.to&&(t.to=e.to),null!=e.nonce&&(t.nonce=e.nonce),null!=e.gasLimit&&(t.gasLimit=e.gasLimit),null!=e.gasPrice&&(t.gasPrice=e.gasPrice),null!=e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),null!=e.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null!=e.maxFeePerBlobGas&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),null!=e.data&&(t.data=e.data),null!=e.value&&(t.value=e.value),null!=e.chainId&&(t.chainId=e.chainId),null!=e.signature&&(t.signature=Uf.from(e.signature)),null!=e.accessList&&(t.accessList=e.accessList),null!=e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes),null!=e.hash&&(Es(t.isSigned(),"unsigned transaction cannot define hash","tx",e),Es(t.hash===e.hash,"hash mismatch","tx",e)),null!=e.from&&(Es(t.isSigned(),"unsigned transaction cannot define from","tx",e),Es(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}}const Ag="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const kg=BigInt(58);function Eg(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):Es(!1,"unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}class xg{name;constructor(e){ys(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}}const Pg=new RegExp("^(ipfs)://(.*)$","i"),Cg=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Pg,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class Sg{provider;address;name;#Ce;#Se;constructor(e,t,r){ys(this,{provider:e,address:t,name:r}),this.#Ce=null,this.#Se=new ap(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return null==this.#Ce&&(this.#Ce=(async()=>{try{return await this.#Se.supportsInterface("0x9061b923")}catch(e){if(vs(e,"CALL_EXCEPTION"))return!1;throw this.#Ce=null,e}})()),await this.#Ce}async#Ie(e,t){t=(t||[]).slice();const r=this.#Se.interface;t.unshift(If(this.name));let s=null;await this.supportsWildcard()&&(s=r.getFunction(e),ks(s,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[_f(this.name,255),r.encodeFunctionData(s,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{const n=await this.#Se[e](...t);return s?r.decodeFunctionResult(s,n)[0]:n}catch(e){if(!vs(e,"CALL_EXCEPTION"))throw e}return null}async getAddress(e){if(null==e&&(e=60),60===e)try{const e=await this.#Ie("addr(bytes32)");return null==e||e===dd?null:e}catch(e){if(vs(e,"CALL_EXCEPTION"))return null;throw e}if(e>=0&&e<2147483648){let t=e+2147483648;const r=await this.#Ie("addr(bytes32,uint)",[t]);if(Ts(r,20))return ah(r)}let t=null;for(const r of this.provider.plugins)if(r instanceof xg&&r.supportsCoinType(e)){t=r;break}if(null==t)return null;const r=await this.#Ie("addr(bytes32,uint)",[e]);if(null==r||"0x"===r)return null;const s=await t.decodeAddress(e,r);if(null!=s)return s;ks(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const t=await this.#Ie("text(bytes32,string)",[e]);return null==t||"0x"===t?null:t}async getContentHash(){const e=await this.#Ie("contenthash(bytes32)");if(null==e||"0x"===e)return null;const t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const e="e3010170"===t[1]?"ipfs":"ipns",r=parseInt(t[4],16);if(t[5].length===2*r)return`${e}://${function(e){const t=Is(e);let r=qs(t),s="";for(;r;)s=Ag[Number(r%kg)]+s,r/=kg;for(let e=0;e<t.length&&!t[e];e++)s=Ag[0]+s;return s}("0x"+t[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&64===r[1].length)return`bzz://${r[1]}`;ks(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const t=await this.getText("avatar");if(null==t)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:t});for(let r=0;r<Cg.length;r++){const s=t.match(Cg[r]);if(null==s)continue;const n=s[1].toLowerCase();switch(n){case"https":case"data":return e.push({type:"url",value:t}),{linkage:e,url:t};case"ipfs":{const r=Eg(t);return e.push({type:"ipfs",value:t}),e.push({type:"url",value:r}),{linkage:e,url:r}}case"erc721":case"erc1155":{const r="erc721"===n?"tokenURI(uint256)":"uri(uint256)";e.push({type:n,value:t});const i=await this.getAddress();if(null==i)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const a=(s[2]||"").split("/");if(2!==a.length)return e.push({type:`!${n}caip`,value:s[2]||""}),{url:null,linkage:e};const o=a[1],l=new ap(a[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if("erc721"===n){const t=await l.ownerOf(o);if(i!==t)return e.push({type:"!owner",value:t}),{url:null,linkage:e};e.push({type:"owner",value:t})}else if("erc1155"===n){const t=await l.balanceOf(i,o);if(!t)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:t.toString()})}let c=await l[r](o);if(null==c||"0x"===c)return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:c}),"erc1155"===n&&(c=c.replace("{id}",Js(o,32).substring(2)),e.push({type:"metadata-url-expanded",value:c})),c.match(/^ipfs:/i)&&(c=Eg(c)),e.push({type:"metadata-url",value:c});let h={};const u=await new cd(c).send();u.assertOk();try{h=u.bodyJson}catch(t){try{e.push({type:"!metadata",value:u.bodyText})}catch(t){const r=u.body;return r&&e.push({type:"!metadata",value:Ds(r)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!h)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(h)});let d=h.image;if("string"!=typeof d)return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(d.match(/^(https:\/\/|data:)/i));else{if(null==d.match(Pg))return e.push({type:"!imageUrl-ipfs",value:d}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:d}),d=Eg(d)}return e.push({type:"url",value:d}),{linkage:e,url:d}}}}}catch(e){}return{linkage:e,url:null}}static async getEnsAddress(e){const t=await e.getNetwork(),r=t.getPlugin("org.ethers.plugins.network.Ens");return ks(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),r.address}static async#_e(e,t){const r=await Sg.getEnsAddress(e);try{const s=new ap(r,["function resolver(bytes32) view returns (address)"],e),n=await s.resolver(If(t),{enableCcipRead:!0});return n===dd?null:n}catch(e){throw e}return null}static async fromName(e,t){let r=t;for(;;){if(""===r||"."===r)return null;if("eth"!==t&&"eth"===r)return null;const s=await Sg.#_e(e,r);if(null!=s){const n=new Sg(e,s,t);return r===t||await n.supportsWildcard()?n:null}r=r.split(".").slice(1).join(".")}}}const Ig=BigInt(0);function _g(e,t){return function(r){return null==r?t:e(r)}}function Tg(e,t){return r=>{if(t&&null==r)return null;if(!Array.isArray(r))throw new Error("not an array");return r.map((t=>e(t)))}}function Mg(e,t){return r=>{const s={};for(const n in e){let i=n;if(t&&n in t&&!(i in r))for(const e of t[n])if(e in r){i=e;break}try{const t=e[n](r[i]);void 0!==t&&(s[n]=t)}catch(e){ks(!1,`invalid value for value.${n} (${e instanceof Error?e.message:"not-an-error"})`,"BAD_DATA",{value:r})}}return s}}function Dg(e){return Es(Ts(e,!0),"invalid data","value",e),e}function Bg(e){return Es(Ts(e,32),"invalid hash","value",e),e}const Og=Mg({address:ah,blockHash:Bg,blockNumber:Ws,data:Dg,index:Ws,removed:_g((function(e){switch(e){case!0:case"true":return!0;case!1:case"false":return!1}Es(!1,`invalid boolean; ${JSON.stringify(e)}`,"value",e)}),!1),topics:Tg(Bg),transactionHash:Bg,transactionIndex:Ws},{index:["logIndex"]});const Fg=Mg({hash:_g(Bg),parentHash:Bg,parentBeaconBlockRoot:_g(Bg,null),number:Ws,timestamp:Ws,nonce:_g(Dg),difficulty:Qs,gasLimit:Qs,gasUsed:Qs,stateRoot:_g(Bg,null),receiptsRoot:_g(Bg,null),blobGasUsed:_g(Qs,null),excessBlobGas:_g(Qs,null),miner:_g(ah),extraData:Dg,baseFeePerGas:_g(Qs)});const Ng=Mg({transactionIndex:Ws,blockNumber:Ws,transactionHash:Bg,address:ah,topics:Tg(Bg),data:Dg,index:Ws,blockHash:Bg},{index:["logIndex"]});const Rg=Mg({to:_g(ah,null),from:_g(ah,null),contractAddress:_g(ah,null),index:Ws,root:_g(Ds),gasUsed:Qs,blobGasUsed:_g(Qs,null),logsBloom:_g(Dg),blockHash:Bg,hash:Bg,logs:Tg((function(e){return Ng(e)})),blockNumber:Ws,cumulativeGasUsed:Qs,effectiveGasPrice:_g(Qs),blobGasPrice:_g(Qs,null),status:_g(Ws),type:_g(Ws,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function Lg(e){e.to&&Qs(e.to)===Ig&&(e.to="0x0000000000000000000000000000000000000000");const t=Mg({hash:Bg,index:_g(Ws,void 0),type:e=>"0x"===e||null==e?0:Ws(e),accessList:_g(Zu,null),blobVersionedHashes:_g(Tg(Bg,!0),null),blockHash:_g(Bg,null),blockNumber:_g(Ws,null),transactionIndex:_g(Ws,null),from:ah,gasPrice:_g(Qs),maxPriorityFeePerGas:_g(Qs),maxFeePerGas:_g(Qs),maxFeePerBlobGas:_g(Qs,null),gasLimit:Qs,to:_g(ah,null),value:Qs,nonce:Ws,data:Dg,creates:_g(ah,null),chainId:_g(Qs,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(e);if(null==t.to&&null==t.creates&&(t.creates=function(e){const t=ah(e.from);let r=Qs(e.nonce,"tx.nonce").toString(16);return r="0"===r?"0x":r.length%2?"0x0"+r:"0x"+r,ah(Fs($c(eg([t,r])),12))}(t)),1!==e.type&&2!==e.type||null!=e.accessList||(t.accessList=[]),e.signature?t.signature=Uf.from(e.signature):t.signature=Uf.from(e),null==t.chainId){const e=t.signature.legacyChainId;null!=e&&(t.chainId=e)}return t.blockHash&&Qs(t.blockHash)===Ig&&(t.blockHash=null),t}class Ug{name;constructor(e){ys(this,{name:e})}clone(){return new Ug(this.name)}}class jg extends Ug{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,t){null==e&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);const r={effectiveBlock:e};function s(e,s){let n=(t||{})[e];null==n&&(n=s),Es("number"==typeof n,`invalud value for ${e}`,"costs",t),r[e]=n}s("txBase",21e3),s("txCreate",32e3),s("txDataZero",4),s("txDataNonzero",16),s("txAccessListStorageKey",1900),s("txAccessListAddress",2400),ys(this,r)}clone(){return new jg(this.effectiveBlock,this)}}class Gg extends Ug{address;targetNetwork;constructor(e,t){super("org.ethers.plugins.network.Ens"),ys(this,{address:e||"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",targetNetwork:null==t?1:t})}clone(){return new Gg(this.address,this.targetNetwork)}}class Vg extends Ug{#F;#Te;get url(){return this.#F}get processFunc(){return this.#Te}constructor(e,t){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#F=e,this.#Te=t}clone(){return this}}const zg=new Map;class Qg{#Me;#Ae;#De;constructor(e,t){this.#Me=e,this.#Ae=Qs(t),this.#De=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#Me}set name(e){this.#Me=e}get chainId(){return this.#Ae}set chainId(e){this.#Ae=Qs(e,"chainId")}matches(e){if(null==e)return!1;if("string"==typeof e){try{return this.chainId===Qs(e)}catch(e){}return this.name===e}if("number"==typeof e||"bigint"==typeof e){try{return this.chainId===Qs(e)}catch(e){}return!1}if("object"==typeof e){if(null!=e.chainId){try{return this.chainId===Qs(e.chainId)}catch(e){}return!1}return null!=e.name&&this.name===e.name}return!1}get plugins(){return Array.from(this.#De.values())}attachPlugin(e){if(this.#De.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#De.set(e.name,e.clone()),this}getPlugin(e){return this.#De.get(e)||null}getPlugins(e){return this.plugins.filter((t=>t.name.split("#")[0]===e))}clone(){const e=new Qg(this.name,this.chainId);return this.plugins.forEach((t=>{e.attachPlugin(t.clone())})),e}computeIntrinsicGas(e){const t=this.getPlugin("org.ethers.plugins.network.GasCost")||new jg;let r=t.txBase;if(null==e.to&&(r+=t.txCreate),e.data)for(let s=2;s<e.data.length;s+=2)"00"===e.data.substring(s,s+2)?r+=t.txDataZero:r+=t.txDataNonzero;if(e.accessList){const s=Zu(e.accessList);for(const e in s)r+=t.txAccessListAddress+t.txAccessListStorageKey*s[e].storageKeys.length}return r}static from(e){if(function(){if(qg)return;function e(e,t,r){const s=function(){const s=new Qg(e,t);return null!=r.ensNetwork&&s.attachPlugin(new Gg(null,r.ensNetwork)),s.attachPlugin(new jg),(r.plugins||[]).forEach((e=>{s.attachPlugin(e)})),s};Qg.register(e,s),Qg.register(t,s),r.altNames&&r.altNames.forEach((e=>{Qg.register(e,s)}))}qg=!0,e("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),e("ropsten",3,{ensNetwork:3}),e("rinkeby",4,{ensNetwork:4}),e("goerli",5,{ensNetwork:5}),e("kovan",42,{ensNetwork:42}),e("sepolia",11155111,{ensNetwork:11155111}),e("holesky",17e3,{ensNetwork:17e3}),e("classic",61,{}),e("classicKotti",6,{}),e("arbitrum",42161,{ensNetwork:1}),e("arbitrum-goerli",421613,{}),e("arbitrum-sepolia",421614,{}),e("base",8453,{ensNetwork:1}),e("base-goerli",84531,{}),e("base-sepolia",84532,{}),e("bnb",56,{ensNetwork:1}),e("bnbt",97,{}),e("linea",59144,{ensNetwork:1}),e("linea-goerli",59140,{}),e("matic",137,{ensNetwork:1,plugins:[Kg("https://gasstation.polygon.technology/v2")]}),e("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Kg("https://gasstation-testnet.polygon.technology/v2")]}),e("optimism",10,{ensNetwork:1,plugins:[]}),e("optimism-goerli",420,{}),e("optimism-sepolia",11155420,{}),e("xdai",100,{ensNetwork:1})}(),null==e)return Qg.from("mainnet");if("number"==typeof e&&(e=BigInt(e)),"string"==typeof e||"bigint"==typeof e){const t=zg.get(e);if(t)return t();if("bigint"==typeof e)return new Qg("unknown",e);Es(!1,"unknown network","network",e)}if("function"==typeof e.clone){return e.clone()}if("object"==typeof e){Es("string"==typeof e.name&&"number"==typeof e.chainId,"invalid network object name or chainId","network",e);const t=new Qg(e.name,e.chainId);return(e.ensAddress||null!=e.ensNetwork)&&t.attachPlugin(new Gg(e.ensAddress,e.ensNetwork)),t}Es(!1,"invalid network","network",e)}static register(e,t){"number"==typeof e&&(e=BigInt(e));const r=zg.get(e);r&&Es(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),zg.set(e,t)}}function Hg(e,t){const r=String(e);if(!r.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${e}`);const s=r.split(".");if(1===s.length&&s.push(""),2!==s.length)throw new Error(`invalid gwei value: ${e}`);for(;s[1].length<t;)s[1]+="0";if(s[1].length>9){let e=BigInt(s[1].substring(0,9));s[1].substring(9).match(/^0+$/)||e++,s[1]=e.toString()}return BigInt(s[0]+s[1])}function Kg(e){return new Vg(e,(async(e,t,r)=>{let s;r.setHeader("User-Agent","ethers");try{const[t,n]=await Promise.all([r.send(),e()]);s=t;const i=s.bodyJson.standard;return{gasPrice:n.gasPrice,maxFeePerGas:Hg(i.maxFee,9),maxPriorityFeePerGas:Hg(i.maxPriorityFee,9)}}catch(e){ks(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:s,error:e})}}))}let qg=!1;function Wg(e){return JSON.parse(JSON.stringify(e))}class Jg{#Be;#Oe;#Fe;#Ne;constructor(e){this.#Be=e,this.#Oe=null,this.#Fe=4e3,this.#Ne=-2}get pollingInterval(){return this.#Fe}set pollingInterval(e){this.#Fe=e}async#Re(){try{const e=await this.#Be.getBlockNumber();if(-2===this.#Ne)return void(this.#Ne=e);if(e!==this.#Ne){for(let t=this.#Ne+1;t<=e;t++){if(null==this.#Oe)return;await this.#Be.emit("block",t)}this.#Ne=e}}catch(e){}null!=this.#Oe&&(this.#Oe=this.#Be._setTimeout(this.#Re.bind(this),this.#Fe))}start(){this.#Oe||(this.#Oe=this.#Be._setTimeout(this.#Re.bind(this),this.#Fe),this.#Re())}stop(){this.#Oe&&(this.#Be._clearTimeout(this.#Oe),this.#Oe=null)}pause(e){this.stop(),e&&(this.#Ne=-2)}resume(){this.start()}}class Yg{#Be;#Re;#Le;constructor(e){this.#Be=e,this.#Le=!1,this.#Re=e=>{this._poll(e,this.#Be)}}async _poll(e,t){throw new Error("sub-classes must override this")}start(){this.#Le||(this.#Le=!0,this.#Re(-2),this.#Be.on("block",this.#Re))}stop(){this.#Le&&(this.#Le=!1,this.#Be.off("block",this.#Re))}pause(e){this.stop()}resume(){this.start()}}class Zg extends Yg{#Ue;#je;constructor(e,t){super(e),this.#Ue=t,this.#je=-2}pause(e){e&&(this.#je=-2),super.pause(e)}async _poll(e,t){const r=await t.getBlock(this.#Ue);null!=r&&(-2===this.#je?this.#je=r.number:r.number>this.#je&&(t.emit(this.#Ue,r.number),this.#je=r.number))}}class $g extends Yg{#oe;constructor(e,t){super(e),this.#oe=Wg(t)}async _poll(e,t){throw new Error("@TODO")}}class Xg extends Yg{#Ge;constructor(e,t){super(e),this.#Ge=t}async _poll(e,t){const r=await t.getTransactionReceipt(this.#Ge);r&&t.emit(this.#Ge,r)}}class ey{#Be;#oe;#Oe;#Le;#Ne;constructor(e,t){this.#Be=e,this.#oe=Wg(t),this.#Oe=this.#Re.bind(this),this.#Le=!1,this.#Ne=-2}async#Re(e){if(-2===this.#Ne)return;const t=Wg(this.#oe);t.fromBlock=this.#Ne+1,t.toBlock=e;const r=await this.#Be.getLogs(t);if(0!==r.length)for(const e of r)this.#Be.emit(this.#oe,e),this.#Ne=e.blockNumber;else this.#Ne<e-60&&(this.#Ne=e-60)}start(){this.#Le||(this.#Le=!0,-2===this.#Ne&&this.#Be.getBlockNumber().then((e=>{this.#Ne=e})),this.#Be.on("block",this.#Oe))}stop(){this.#Le&&(this.#Le=!1,this.#Be.off("block",this.#Oe))}pause(e){this.stop(),e&&(this.#Ne=-2)}resume(){this.start()}}const ty=BigInt(2);function ry(e){return e&&"function"==typeof e.then}function sy(e,t){return e+":"+JSON.stringify(t,((e,t)=>{if(null==t)return"null";if("bigint"==typeof t)return`bigint:${t.toString()}`;if("string"==typeof t)return t.toLowerCase();if("object"==typeof t&&!Array.isArray(t)){const e=Object.keys(t);return e.sort(),e.reduce(((e,r)=>(e[r]=t[r],e)),{})}return t}))}class ny{name;constructor(e){ys(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function iy(e){return(e=Array.from(new Set(e).values())).sort(),e}async function ay(e,t){if(null==e)throw new Error("invalid event");if(Array.isArray(e)&&(e={topics:e}),"string"==typeof e)switch(e){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:e,tag:e}}if(Ts(e,32)){const t=e.toLowerCase();return{type:"transaction",tag:sy("tx",{hash:t}),hash:t}}if(e.orphan){const t=e;return{type:"orphan",tag:sy("orphan",t),filter:(r=t,JSON.parse(JSON.stringify(r)))}}var r;if(e.address||e.topics){const r=e,s={topics:(r.topics||[]).map((e=>null==e?null:Array.isArray(e)?iy(e.map((e=>e.toLowerCase()))):e.toLowerCase()))};if(r.address){const e=[],n=[],i=r=>{Ts(r)?e.push(r):n.push((async()=>{e.push(await Ou(r,t))})())};Array.isArray(r.address)?r.address.forEach(i):i(r.address),n.length&&await Promise.all(n),s.address=iy(e.map((e=>e.toLowerCase())))}return{filter:s,tag:sy("event",s),type:"event"}}Es(!1,"unknown ProviderEvent","event",e)}function oy(){return(new Date).getTime()}const ly={cacheTimeout:250,pollingInterval:4e3};class cy{#Ve;#De;#ze;#Qe;#He;#Ke;#qe;#We;#Je;#Ye;#Ze;#v;constructor(e,t){if(this.#v=Object.assign({},ly,t||{}),"any"===e)this.#Ke=!0,this.#He=null;else if(e){const t=Qg.from(e);this.#Ke=!1,this.#He=Promise.resolve(t),setTimeout((()=>{this.emit("network",t,null)}),0)}else this.#Ke=!1,this.#He=null;this.#We=-1,this.#qe=new Map,this.#Ve=new Map,this.#De=new Map,this.#ze=null,this.#Qe=!1,this.#Je=1,this.#Ye=new Map,this.#Ze=!1}get pollingInterval(){return this.#v.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#De.values())}attachPlugin(e){if(this.#De.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#De.set(e.name,e.connect(this)),this}getPlugin(e){return this.#De.get(e)||null}get disableCcipRead(){return this.#Ze}set disableCcipRead(e){this.#Ze=!!e}async#$e(e){const t=this.#v.cacheTimeout;if(t<0)return await this._perform(e);const r=sy(e.method,e);let s=this.#qe.get(r);return s||(s=this._perform(e),this.#qe.set(r,s),setTimeout((()=>{this.#qe.get(r)===s&&this.#qe.delete(r)}),t)),await s}async ccipReadFetch(e,t,r){if(this.disableCcipRead||0===r.length||null==e.to)return null;const s=e.to.toLowerCase(),n=t.toLowerCase(),i=[];for(let t=0;t<r.length;t++){const a=r[t],o=a.replace("{sender}",s).replace("{data}",n),l=new cd(o);-1===a.indexOf("{data}")&&(l.body={data:n,sender:s}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:l,index:t,urls:r});let c="unknown error";const h=await l.send();try{const e=h.bodyJson;if(e.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:l,result:e}),e.data;e.message&&(c=e.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:l,result:e})}catch(e){}ks(h.statusCode<400||h.statusCode>=500,`response not found during CCIP fetch: ${c}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:a,errorMessage:c}}),i.push(c)}ks(!1,`error encountered during CCIP fetch: ${i.map((e=>JSON.stringify(e))).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:i}})}_wrapBlock(e,t){return new Pd(function(e){const t=Fg(e);return t.transactions=e.transactions.map((e=>"string"==typeof e?e:Lg(e))),t}(e),this)}_wrapLog(e,t){return new Cd(function(e){return Og(e)}(e),this)}_wrapTransactionReceipt(e,t){return new Sd(function(e){return Rg(e)}(e),this)}_wrapTransactionResponse(e,t){return new Id(Lg(e),this)}_detectNetwork(){ks(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){ks(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=Ws(await this.#$e({method:"getBlockNumber"}),"%response");return this.#We>=0&&(this.#We=e),e}_getAddress(e){return Ou(e,this)}_getBlockTag(e){if(null==e)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}return Ts(e)?Ts(e,32)?e:Zs(e):("bigint"==typeof e&&(e=Ws(e,"blockTag")),"number"==typeof e?e>=0?Zs(e):this.#We>=0?Zs(this.#We+e):this.getBlockNumber().then((t=>Zs(t+e))):void Es(!1,"invalid blockTag","blockTag",e))}_getFilter(e){const t=(e.topics||[]).map((e=>null==e?null:Array.isArray(e)?iy(e.map((e=>e.toLowerCase()))):e.toLowerCase())),r="blockHash"in e?e.blockHash:void 0,s=(e,s,n)=>{let i;switch(e.length){case 0:break;case 1:i=e[0];break;default:e.sort(),i=e}if(r&&(null!=s||null!=n))throw new Error("invalid filter");const a={};return i&&(a.address=i),t.length&&(a.topics=t),s&&(a.fromBlock=s),n&&(a.toBlock=n),r&&(a.blockHash=r),a};let n,i,a=[];if(e.address)if(Array.isArray(e.address))for(const t of e.address)a.push(this._getAddress(t));else a.push(this._getAddress(e.address));return"fromBlock"in e&&(n=this._getBlockTag(e.fromBlock)),"toBlock"in e&&(i=this._getBlockTag(e.toBlock)),a.filter((e=>"string"!=typeof e)).length||null!=n&&"string"!=typeof n||null!=i&&"string"!=typeof i?Promise.all([Promise.all(a),n,i]).then((e=>s(e[0],e[1],e[2]))):s(a,n,i)}_getTransactionRequest(e){const t=xd(e),r=[];if(["to","from"].forEach((e=>{if(null==t[e])return;const s=Ou(t[e],this);ry(s)?r.push(async function(){t[e]=await s}()):t[e]=s})),null!=t.blockTag){const e=this._getBlockTag(t.blockTag);ry(e)?r.push(async function(){t.blockTag=await e}()):t.blockTag=e}return r.length?async function(){return await Promise.all(r),t}():t}async getNetwork(){if(null==this.#He){const e=(async()=>{try{const e=await this._detectNetwork();return this.emit("network",e,null),e}catch(t){throw this.#He===e&&(this.#He=null),t}})();return this.#He=e,(await e).clone()}const e=this.#He,[t,r]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==r.chainId&&(this.#Ke?(this.emit("network",r,t),this.#He===e&&(this.#He=Promise.resolve(r))):ks(!1,`network changed: ${t.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){const e=await this.getNetwork(),t=async()=>{const{_block:t,gasPrice:r,priorityFee:s}=await gs({_block:this.#Xe("latest",!1),gasPrice:(async()=>{try{return Qs(await this.#$e({method:"getGasPrice"}),"%response")}catch(e){}return null})(),priorityFee:(async()=>{try{return Qs(await this.#$e({method:"getPriorityFee"}),"%response")}catch(e){}return null})()});let n=null,i=null;const a=this._wrapBlock(t,e);return a&&a.baseFeePerGas&&(i=null!=s?s:BigInt("1000000000"),n=a.baseFeePerGas*ty+i),new Ed(r,n,i)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const e=new cd(r.url),s=await r.processFunc(t,this,e);return new Ed(s.gasPrice,s.maxFeePerGas,s.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return ry(t)&&(t=await t),Qs(await this.#$e({method:"estimateGas",transaction:t}),"%response")}async#et(e,t,r){ks(r<10,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});const s=xd(e);try{return Ds(await this._perform({method:"call",transaction:s,blockTag:t}))}catch(e){if(!this.disableCcipRead&&ws(e)&&e.data&&r>=0&&"latest"===t&&null!=s.to&&"0x556f1830"===Fs(e.data,0,4)){const n=e.data,i=await Ou(s.to,this);let a;try{a=function(e){const t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};ks(Os(e)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const r=Fs(e,0,32);ks(Fs(r,0,12)===Fs(gy,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=Fs(r,12);try{const r=[],s=Ws(Fs(e,32,64)),n=Ws(Fs(e,s,s+32)),i=Fs(e,s+32);for(let e=0;e<n;e++){const t=hy(i,32*e);if(null==t)throw new Error("abort");r.push(t)}t.urls=r}catch(e){ks(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=uy(e,64);if(null==r)throw new Error("abort");t.calldata=r}catch(e){ks(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}ks(Fs(e,100,128)===Fs(gy,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=Fs(e,96,100);try{const r=uy(e,128);if(null==r)throw new Error("abort");t.extraData=r}catch(e){ks(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map((e=>t[e])),t}(Fs(e.data,4))}catch(e){ks(!1,e.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:s,info:{data:n}})}ks(a.sender.toLowerCase()===i.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:n,reason:"OffchainLookup",transaction:s,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:a.errorArgs}});const o=await this.ccipReadFetch(s,a.calldata,a.urls);ks(null!=o,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:s,info:{data:e.data,errorArgs:a.errorArgs}});const l={to:i,data:Bs([a.selector,my([o,a.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:l});try{const e=await this.#et(l,t,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},l),result:e}),e}catch(e){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},l),error:e}),e}}throw e}}async#tt(e){const{value:t}=await gs({network:this.getNetwork(),value:e});return t}async call(e){const{tx:t,blockTag:r}=await gs({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#tt(this.#et(t,r,e.enableCcipRead?0:-1))}async#rt(e,t,r){let s=this._getAddress(t),n=this._getBlockTag(r);return"string"==typeof s&&"string"==typeof n||([s,n]=await Promise.all([s,n])),await this.#tt(this.#$e(Object.assign(e,{address:s,blockTag:n})))}async getBalance(e,t){return Qs(await this.#rt({method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return Ws(await this.#rt({method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return Ds(await this.#rt({method:"getCode"},e,t))}async getStorage(e,t,r){const s=Qs(t,"position");return Ds(await this.#rt({method:"getStorage",position:s},e,r))}async broadcastTransaction(e){const{blockNumber:t,hash:r,network:s}=await gs({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),n=wg.from(e);if(n.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(n,s).replaceableTransaction(t)}async#Xe(e,t){if(Ts(e,32))return await this.#$e({method:"getBlock",blockHash:e,includeTransactions:t});let r=this._getBlockTag(e);return"string"!=typeof r&&(r=await r),await this.#$e({method:"getBlock",blockTag:r,includeTransactions:t})}async getBlock(e,t){const{network:r,params:s}=await gs({network:this.getNetwork(),params:this.#Xe(e,!!t)});return null==s?null:this._wrapBlock(s,r)}async getTransaction(e){const{network:t,params:r}=await gs({network:this.getNetwork(),params:this.#$e({method:"getTransaction",hash:e})});return null==r?null:this._wrapTransactionResponse(r,t)}async getTransactionReceipt(e){const{network:t,params:r}=await gs({network:this.getNetwork(),params:this.#$e({method:"getTransactionReceipt",hash:e})});if(null==r)return null;if(null==r.gasPrice&&null==r.effectiveGasPrice){const t=await this.#$e({method:"getTransaction",hash:e});if(null==t)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=t.gasPrice}return this._wrapTransactionReceipt(r,t)}async getTransactionResult(e){const{result:t}=await gs({network:this.getNetwork(),result:this.#$e({method:"getTransactionResult",hash:e})});return null==t?null:Ds(t)}async getLogs(e){let t=this._getFilter(e);ry(t)&&(t=await t);const{network:r,params:s}=await gs({network:this.getNetwork(),params:this.#$e({method:"getLogs",filter:t})});return s.map((e=>this._wrapLog(e,r)))}_getProvider(e){ks(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await Sg.fromName(this,e)}async getAvatar(e){const t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){const t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){const t=If((e=ah(e)).substring(2).toLowerCase()+".addr.reverse");try{const r=await Sg.getEnsAddress(this),s=new ap(r,["function resolver(bytes32) view returns (address)"],this),n=await s.resolver(t);if(null==n||n===dd)return null;const i=new ap(n,["function name(bytes32) view returns (string)"],this),a=await i.name(t);return await this.resolveName(a)!==e?null:a}catch(e){if(vs(e,"BAD_DATA")&&"0x"===e.value)return null;if(vs(e,"CALL_EXCEPTION"))return null;throw e}return null}async waitForTransaction(e,t,r){const s=null!=t?t:1;return 0===s?this.getTransactionReceipt(e):new Promise((async(t,n)=>{let i=null;const a=async r=>{try{const n=await this.getTransactionReceipt(e);if(null!=n&&r-n.blockNumber+1>=s)return t(n),void(i&&(clearTimeout(i),i=null))}catch(e){console.log("EEE",e)}this.once("block",a)};null!=r&&(i=setTimeout((()=>{null!=i&&(i=null,this.off("block",a),n(As("timeout","TIMEOUT",{reason:"timeout"})))}),r)),a(await this.getBlockNumber())}))}async waitForBlock(e){ks(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=this.#Ye.get(e);t&&(t.timer&&clearTimeout(t.timer),this.#Ye.delete(e))}_setTimeout(e,t){null==t&&(t=0);const r=this.#Je++,s=()=>{this.#Ye.delete(r),e()};if(this.paused)this.#Ye.set(r,{timer:null,func:s,time:t});else{const e=setTimeout(s,t);this.#Ye.set(r,{timer:e,func:s,time:oy()})}return r}_forEachSubscriber(e){for(const t of this.#Ve.values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new ny(e.type);case"block":{const e=new Jg(this);return e.pollingInterval=this.pollingInterval,e}case"safe":case"finalized":return new Zg(this,e.type);case"event":return new ey(this,e.filter);case"transaction":return new Xg(this,e.hash);case"orphan":return new $g(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(const r of this.#Ve.values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=t,r.started&&t.start(),null!=this.#ze&&t.pause(this.#ze);break}}async#st(e,t){let r=await ay(e,this);return"event"===r.type&&t&&t.length>0&&!0===t[0].removed&&(r=await ay({orphan:"drop-log",log:t[0]},this)),this.#Ve.get(r.tag)||null}async#nt(e){const t=await ay(e,this),r=t.tag;let s=this.#Ve.get(r);if(!s){s={subscriber:this._getSubscriber(t),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#Ve.set(r,s)}return s}async on(e,t){const r=await this.#nt(e);return r.listeners.push({listener:t,once:!1}),r.started||(r.subscriber.start(),r.started=!0,null!=this.#ze&&r.subscriber.pause(this.#ze)),this}async once(e,t){const r=await this.#nt(e);return r.listeners.push({listener:t,once:!0}),r.started||(r.subscriber.start(),r.started=!0,null!=this.#ze&&r.subscriber.pause(this.#ze)),this}async emit(e,...t){const r=await this.#st(e,t);if(!r||0===r.listeners.length)return!1;const s=r.listeners.length;return r.listeners=r.listeners.filter((({listener:r,once:s})=>{const n=new Md(this,s?null:r,e);try{r.call(this,...t,n)}catch(e){}return!s})),0===r.listeners.length&&(r.started&&r.subscriber.stop(),this.#Ve.delete(r.tag)),s>0}async listenerCount(e){if(e){const t=await this.#st(e);return t?t.listeners.length:0}let t=0;for(const{listeners:e}of this.#Ve.values())t+=e.length;return t}async listeners(e){if(e){const t=await this.#st(e);return t?t.listeners.map((({listener:e})=>e)):[]}let t=[];for(const{listeners:e}of this.#Ve.values())t=t.concat(e.map((({listener:e})=>e)));return t}async off(e,t){const r=await this.#st(e);if(!r)return this;if(t){const e=r.listeners.map((({listener:e})=>e)).indexOf(t);e>=0&&r.listeners.splice(e,1)}return t&&0!==r.listeners.length||(r.started&&r.subscriber.stop(),this.#Ve.delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:t,started:r,subscriber:s}=await this.#nt(e);r&&s.stop(),this.#Ve.delete(t)}else for(const[e,{started:t,subscriber:r}]of this.#Ve)t&&r.stop(),this.#Ve.delete(e);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return this.#Qe}destroy(){this.removeAllListeners();for(const e of this.#Ye.keys())this._clearTimeout(e);this.#Qe=!0}get paused(){return null!=this.#ze}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#We=-1,null!=this.#ze){if(this.#ze==!!e)return;ks(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber((t=>t.pause(e))),this.#ze=!!e;for(const e of this.#Ye.values())e.timer&&clearTimeout(e.timer),e.time=oy()-e.time}resume(){if(null!=this.#ze){this._forEachSubscriber((e=>e.resume())),this.#ze=null;for(const e of this.#Ye.values()){let t=e.time;t<0&&(t=0),e.time=oy(),setTimeout(e.func,t)}}}}function hy(e,t){try{const r=uy(e,t);if(r)return Mh(r)}catch(e){}return null}function uy(e,t){if("0x"===e)return null;try{const r=Ws(Fs(e,t,t+32)),s=Ws(Fs(e,r,r+32));return Fs(e,r+32,r+32+s)}catch(e){}return null}function dy(e){const t=Ys(e);if(t.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(t,32-t.length),r}function py(e){if(e.length%32==0)return e;const t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}const fy=new Uint8Array([]);function my(e){const t=[];let r=0;for(let s=0;s<e.length;s++)t.push(fy),r+=32;for(let s=0;s<e.length;s++){const n=Is(e[s]);t[s]=dy(r),t.push(dy(n.length)),t.push(py(n)),r+=32+32*Math.ceil(n.length/32)}return Bs(t)}const gy="0x0000000000000000000000000000000000000000000000000000000000000000";function yy(e,t){if(e.provider)return e.provider;ks(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function by(e,t){let r=xd(t);if(null!=r.to&&(r.to=Ou(r.to,e)),null!=r.from){const t=r.from;r.from=Promise.all([e.getAddress(),Ou(t,e)]).then((([e,t])=>(Es(e.toLowerCase()===t.toLowerCase(),"transaction from mismatch","tx.from",t),e)))}else r.from=e.getAddress();return await gs(r)}class vy{provider;constructor(e){ys(this,{provider:e||null})}async getNonce(e){return yy(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await by(this,e)}async populateTransaction(e){const t=yy(this,"populateTransaction"),r=await by(this,e);null==r.nonce&&(r.nonce=await this.getNonce("pending")),null==r.gasLimit&&(r.gasLimit=await this.estimateGas(r));const s=await this.provider.getNetwork();if(null!=r.chainId){Es(Qs(r.chainId)===s.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=s.chainId;const n=null!=r.maxFeePerGas||null!=r.maxPriorityFeePerGas;if(null==r.gasPrice||2!==r.type&&!n?0!==r.type&&1!==r.type||!n||Es(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e):Es(!1,"eip-1559 transaction do not support gasPrice","tx",e),2!==r.type&&null!=r.type||null==r.maxFeePerGas||null==r.maxPriorityFeePerGas)if(0===r.type||1===r.type){const e=await t.getFeeData();ks(null!=e.gasPrice,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),null==r.gasPrice&&(r.gasPrice=e.gasPrice)}else{const e=await t.getFeeData();if(null==r.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(r.type=2,null!=r.gasPrice){const e=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=e,r.maxPriorityFeePerGas=e}else null==r.maxFeePerGas&&(r.maxFeePerGas=e.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?(ks(!n,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),null==r.gasPrice&&(r.gasPrice=e.gasPrice),r.type=0):ks(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else 2===r.type&&(null==r.maxFeePerGas&&(r.maxFeePerGas=e.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}else r.type=2;return await gs(r)}async estimateGas(e){return yy(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return yy(this,"call").call(await this.populateCall(e))}async resolveName(e){const t=yy(this,"resolveName");return await t.resolveName(e)}async sendTransaction(e){const t=yy(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const s=wg.from(r);return await t.broadcastTransaction(await this.signTransaction(s))}}class wy{#Be;#it;#Oe;#Le;#at;#ot;constructor(e){this.#Be=e,this.#it=null,this.#Oe=this.#Re.bind(this),this.#Le=!1,this.#at=null,this.#ot=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}async#Re(e){try{null==this.#it&&(this.#it=this._subscribe(this.#Be));let e=null;try{e=await this.#it}catch(e){if(!vs(e,"UNSUPPORTED_OPERATION")||"eth_newFilter"!==e.operation)throw e}if(null==e)return this.#it=null,void this.#Be._recoverSubscriber(this,this._recover(this.#Be));const t=await this.#Be.getNetwork();if(this.#at||(this.#at=t),this.#at.chainId!==t.chainId)throw new Error("chaid changed");if(this.#ot)return;const r=await this.#Be.send("eth_getFilterChanges",[e]);await this._emitResults(this.#Be,r)}catch(e){console.log("@TODO",e)}this.#Be.once("block",this.#Oe)}#lt(){const e=this.#it;e&&(this.#it=null,e.then((e=>{this.#Be.send("eth_uninstallFilter",[e])})))}start(){this.#Le||(this.#Le=!0,this.#Re(-2))}stop(){this.#Le&&(this.#Le=!1,this.#ot=!0,this.#lt(),this.#Be.off("block",this.#Oe))}pause(e){e&&this.#lt(),this.#Be.off("block",this.#Oe)}resume(){this.start()}}class Ay extends wy{#ct;constructor(e,t){var r;super(e),this.#ct=(r=t,JSON.parse(JSON.stringify(r)))}_recover(e){return new ey(e,this.#ct)}async _subscribe(e){return await e.send("eth_newFilter",[this.#ct])}async _emitResults(e,t){for(const r of t)e.emit(this.#ct,e._wrapLog(r,e._network))}}class ky extends wy{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const r of t)e.emit("pending",r)}}const Ey="bigint,boolean,function,number,string,symbol".split(/,/g);function xy(e){if(null==e||Ey.indexOf(typeof e)>=0)return e;if("function"==typeof e.getAddress)return e;if(Array.isArray(e))return e.map(xy);if("object"==typeof e)return Object.keys(e).reduce(((t,r)=>(t[r]=e[r],t)),{});throw new Error(`should not happen: ${e} (${typeof e})`)}function Py(e){return new Promise((t=>{setTimeout(t,e)}))}function Cy(e){return e?e.toLowerCase():e}function Sy(e){return e&&"number"==typeof e.pollingInterval}const Iy={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class _y extends vy{address;constructor(e,t){super(e),ys(this,{address:t=ah(t)})}connect(e){ks(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const t=xy(e),r=[];if(t.from){const s=t.from;r.push((async()=>{const r=await Ou(s,this.provider);Es(null!=r&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=r})())}else t.from=this.address;if(null==t.gasLimit&&r.push((async()=>{t.gasLimit=await this.provider.estimateGas({...t,from:this.address})})()),null!=t.to){const e=t.to;r.push((async()=>{t.to=await Ou(e,this.provider)})())}r.length&&await Promise.all(r);const s=this.provider.getRpcTransaction(t);return this.provider.send("eth_sendTransaction",[s])}async sendTransaction(e){const t=await this.provider.getBlockNumber(),r=await this.sendUncheckedTransaction(e);return await new Promise(((e,s)=>{const n=[1e3,100];let i=0;const a=async()=>{try{const s=await this.provider.getTransaction(r);if(null!=s)return void e(s.replaceableTransaction(t))}catch(e){if(vs(e,"CANCELLED")||vs(e,"BAD_DATA")||vs(e,"NETWORK_ERROR"))return null==e.info&&(e.info={}),e.info.sendTransactionHash=r,void s(e);if(vs(e,"INVALID_ARGUMENT")&&(i++,null==e.info&&(e.info={}),e.info.sendTransactionHash=r,i>10))return void s(e);this.provider.emit("error",As("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:e}))}this.provider._setTimeout((()=>{a()}),n.pop()||4e3)};a()}))}async signTransaction(e){const t=xy(e);if(t.from){const r=await Ou(t.from,this.provider);Es(null!=r&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=r}else t.from=this.address;const r=this.provider.getRpcTransaction(t);return await this.provider.send("eth_signTransaction",[r])}async signMessage(e){const t="string"==typeof e?Th(e):e;return await this.provider.send("personal_sign",[Ds(t),this.address.toLowerCase()])}async signTypedData(e,t,r){const s=xy(r),n=await Ju.resolveNames(e,t,s,(async e=>{const t=await Ou(e);return Es(null!=t,"TypedData does not support null address","value",e),t}));return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Ju.getPayload(n.domain,t,n.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const t="string"==typeof e?Th(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),Ds(t)])}}class Ty extends cy{#v;#ht;#ut;#dt;#pt;#at;#ft;#mt(){if(this.#dt)return;const e=1===this._getOption("batchMaxCount")?0:this._getOption("batchStallTime");this.#dt=setTimeout((()=>{this.#dt=null;const e=this.#ut;for(this.#ut=[];e.length;){const t=[e.shift()];for(;e.length&&t.length!==this.#v.batchMaxCount;){t.push(e.shift());if(JSON.stringify(t.map((e=>e.payload))).length>this.#v.batchMaxSize){e.unshift(t.pop());break}}(async()=>{const e=1===t.length?t[0].payload:t.map((e=>e.payload));this.emit("debug",{action:"sendRpcPayload",payload:e});try{const r=await this._send(e);this.emit("debug",{action:"receiveRpcResult",result:r});for(const{resolve:e,reject:s,payload:n}of t){if(this.destroyed){s(As("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n.method}));continue}const t=r.filter((e=>e.id===n.id))[0];if(null!=t)"error"in t?s(this.getRpcError(n,t)):e(t.result);else{const e=As("missing response for request","BAD_DATA",{value:r,info:{payload:n}});this.emit("error",e),s(e)}}}catch(e){this.emit("debug",{action:"receiveRpcError",error:e});for(const{reject:r}of t)r(e)}})()}}),e)}constructor(e,t){super(e,t),this.#ht=1,this.#v=Object.assign({},Iy,t||{}),this.#ut=[],this.#dt=null,this.#at=null,this.#ft=null;{let e=null;const t=new Promise((t=>{e=t}));this.#pt={promise:t,resolve:e}}const r=this._getOption("staticNetwork");"boolean"==typeof r?(Es(!r||"any"!==e,"staticNetwork cannot be used on special network 'any'","options",t),r&&null!=e&&(this.#at=Qg.from(e))):r&&(Es(null==e||r.matches(e),"staticNetwork MUST match network object","options",t),this.#at=r)}_getOption(e){return this.#v[e]}get _network(){return ks(this.#at,"network is not available yet","NETWORK_ERROR"),this.#at}async _perform(e){if("call"===e.method||"estimateGas"===e.method){let t=e.transaction;if(t&&null!=t.type&&Qs(t.type)&&null==t.maxFeePerGas&&null==t.maxPriorityFeePerGas){const r=await this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&(e=Object.assign({},e,{transaction:Object.assign({},t,{type:void 0})}))}}const t=this.getRpcRequest(e);return null!=t?await this.send(t.method,t.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e){if(!0!==e)return e;if(this.#at)return this.#at}return this.#ft?await this.#ft:this.ready?(this.#ft=(async()=>{try{const e=Qg.from(Qs(await this.send("eth_chainId",[])));return this.#ft=null,e}catch(e){throw this.#ft=null,e}})(),await this.#ft):(this.#ft=(async()=>{const e={id:this.#ht++,method:"eth_chainId",params:[],jsonrpc:"2.0"};let t;this.emit("debug",{action:"sendRpcPayload",payload:e});try{t=(await this._send(e))[0],this.#ft=null}catch(e){throw this.#ft=null,this.emit("debug",{action:"receiveRpcError",error:e}),e}if(this.emit("debug",{action:"receiveRpcResult",result:t}),"result"in t)return Qg.from(Qs(t.result));throw this.getRpcError(e,t)})(),await this.#ft)}_start(){null!=this.#pt&&null!=this.#pt.resolve&&(this.#pt.resolve(),this.#pt=null,(async()=>{for(;null==this.#at&&!this.destroyed;)try{this.#at=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",As("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await Py(1e3)}this.#mt()})())}async _waitUntilReady(){if(null!=this.#pt)return await this.#pt.promise}_getSubscriber(e){return"pending"===e.type?new ky(this):"event"===e.type?this._getOption("polling")?new ey(this,e.filter):new Ay(this,e.filter):"orphan"===e.type&&"drop-log"===e.filter.orphan?new ny("orphan"):super._getSubscriber(e)}get ready(){return null==this.#pt}getRpcTransaction(e){const t={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((r=>{if(null==e[r])return;let s=r;"gasLimit"===r&&(s="gas"),t[s]=Zs(Qs(e[r],`tx.${r}`))})),["from","to","data"].forEach((r=>{null!=e[r]&&(t[r]=Ds(e[r]))})),e.accessList&&(t.accessList=Zu(e.accessList)),t}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Cy(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Cy(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[Cy(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Cy(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&null!=e.filter.address&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(Cy):e.filter.address=Cy(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,t){const{method:r}=e,{error:s}=t;if("eth_estimateGas"===r&&s.message){const t=s.message;if(!t.match(/revert/i)&&t.match(/insufficient funds/i))return As("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:s}})}if("eth_call"===r||"eth_estimateGas"===r){const t=By(s),n=Mu.getBuiltinCallException("eth_call"===r?"call":"estimateGas",e.params[0],t?t.data:null);return n.info={error:s,payload:e},n}const n=JSON.stringify(function(e){const t=[];return Oy(e,t),t}(s));if("string"==typeof s.message&&s.message.match(/user denied|ethers-user-denied/i)){return As("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[r]||"unknown",reason:"rejected",info:{payload:e,error:s}})}if("eth_sendRawTransaction"===r||"eth_sendTransaction"===r){const t=e.params[0];if(n.match(/insufficient funds|base fee exceeds gas limit/i))return As("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:t,info:{error:s}});if(n.match(/nonce/i)&&n.match(/too low/i))return As("nonce has already been used","NONCE_EXPIRED",{transaction:t,info:{error:s}});if(n.match(/replacement transaction/i)&&n.match(/underpriced/i))return As("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:t,info:{error:s}});if(n.match(/only replay-protected/i))return As("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:r,info:{transaction:t,info:{error:s}}})}let i=!!n.match(/the method .* does not exist/i);return i||s&&s.details&&s.details.startsWith("Unauthorized method:")&&(i=!0),i?As("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:s,payload:e}}):As("could not coalesce error","UNKNOWN_ERROR",{error:s,payload:e})}send(e,t){if(this.destroyed)return Promise.reject(As("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const r=this.#ht++,s=new Promise(((s,n)=>{this.#ut.push({resolve:s,reject:n,payload:{method:e,params:t,id:r,jsonrpc:"2.0"}})}));return this.#mt(),s}async getSigner(e){null==e&&(e=0);const t=this.send("eth_accounts",[]);if("number"==typeof e){const r=await t;if(e>=r.length)throw new Error("no such account");return new _y(this,r[e])}const{accounts:r}=await gs({network:this.getNetwork(),accounts:t});e=ah(e);for(const t of r)if(ah(t)===e)return new _y(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map((e=>new _y(this,e)))}destroy(){this.#dt&&(clearTimeout(this.#dt),this.#dt=null);for(const{payload:e,reject:t}of this.#ut)t(As("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#ut=[],super.destroy()}}class My extends Ty{#gt;constructor(e,t){super(e,t),this.#gt=4e3}_getSubscriber(e){const t=super._getSubscriber(e);return Sy(t)&&(t.pollingInterval=this.#gt),t}get pollingInterval(){return this.#gt}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#gt=e,this._forEachSubscriber((e=>{Sy(e)&&(e.pollingInterval=this.#gt)}))}}class Dy extends My{#yt;constructor(e,t,r){null==e&&(e="http://localhost:8545"),super(t,r),this.#yt="string"==typeof e?new cd(e):e.clone()}_getConnection(){return this.#yt.clone()}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){const t=this._getConnection();t.body=JSON.stringify(e),t.setHeader("content-type","application/json");const r=await t.send();r.assertOk();let s=r.bodyJson;return Array.isArray(s)||(s=[s]),s}}function By(e){if(null==e)return null;if("string"==typeof e.message&&e.message.match(/revert/i)&&Ts(e.data))return{message:e.message,data:e.data};if("object"==typeof e){for(const t in e){const r=By(e[t]);if(r)return r}return null}if("string"==typeof e)try{return By(JSON.parse(e))}catch(e){}return null}function Oy(e,t){if(null!=e){if("string"==typeof e.message&&t.push(e.message),"object"==typeof e)for(const r in e)Oy(e[r],t);if("string"==typeof e)try{return Oy(JSON.parse(e),t)}catch(e){}}}class Fy extends My{#W;constructor(e,t){Es(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(t,{batchMaxCount:1}),this.#W=async(t,r)=>{const s={method:t,params:r};this.emit("debug",{action:"sendEip1193Request",payload:s});try{const t=await e.request(s);return this.emit("debug",{action:"receiveEip1193Result",result:t}),t}catch(e){const t=new Error(e.message);throw t.code=e.code,t.data=e.data,t.payload=s,this.emit("debug",{action:"receiveEip1193Error",error:t}),t}}}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){Es(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const t=await this.#W(e.method,e.params||[]);return[{id:e.id,result:t}]}catch(t){return[{id:e.id,error:{code:t.code,data:t.data,message:t.message}}]}}getRpcError(e,t){switch((t=JSON.parse(JSON.stringify(t))).error.code||-1){case 4001:t.error.message=`ethers-user-denied: ${t.error.message}`;break;case 4200:t.error.message=`ethers-unsupported: ${t.error.message}`}return super.getRpcError(e,t)}async hasSigner(e){null==e&&(e=0);const t=await this.send("eth_accounts",[]);return"number"==typeof e?t.length>e:(e=e.toLowerCase(),0!==t.filter((t=>t.toLowerCase()===e)).length)}async getSigner(e){if(null==e&&(e=0),!await this.hasSigner(e))try{await this.#W("eth_requestAccounts",[])}catch(e){const t=e.payload;throw this.getRpcError(t,{id:t.id,error:e})}return await super.getSigner(e)}}const Ny=new class{dev;infuraKey;messageForWalletLinking},Ry={block:_i({format(e){const t=e.transactions?.map((e=>{if("string"==typeof e)return e;const t=Ci(e);return"0x7e"===t.typeHex&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?(0,ti.Ad)(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}));return{transactions:t,stateRoot:e.stateRoot}}}),transaction:Si({format(e){const t={};return"0x7e"===e.type&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?(0,ti.Ad)(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:vo({format:e=>({l1GasPrice:e.l1GasPrice?(0,ti.Ad)(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?(0,ti.Ad)(e.l1GasUsed):null,l1Fee:e.l1Fee?(0,ti.Ad)(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null})})},Ly=gn({id:84531,network:"base-goerli",name:"Base Goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://base-goerli.g.alchemy.com/v2"],webSocket:["wss://base-goerli.g.alchemy.com/v2"]},default:{http:["https://goerli.base.org"]},public:{http:["https://goerli.base.org"]}},blockExplorers:{etherscan:{name:"Basescan",url:"https://goerli.basescan.org"},default:{name:"Basescan",url:"https://goerli.basescan.org"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1376988}},testnet:!0,sourceId:5},{formatters:Ry}),Uy=gn({id:8453,network:"base",name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://base-mainnet.g.alchemy.com/v2"],webSocket:["wss://base-mainnet.g.alchemy.com/v2"]},infura:{http:["https://base-mainnet.infura.io/v3"],webSocket:["wss://base-mainnet.infura.io/ws/v3"]},default:{http:["https://mainnet.base.org"]},public:{http:["https://mainnet.base.org"]}},blockExplorers:{blockscout:{name:"Basescout",url:"https://base.blockscout.com"},default:{name:"Basescan",url:"https://basescan.org"},etherscan:{name:"Basescan",url:"https://basescan.org"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022}}},{formatters:Ry}),jy=gn({id:421613,name:"Arbitrum Goerli",network:"arbitrum-goerli",nativeCurrency:{name:"Arbitrum Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://arb-goerli.g.alchemy.com/v2"],webSocket:["wss://arb-goerli.g.alchemy.com/v2"]},infura:{http:["https://arbitrum-goerli.infura.io/v3"],webSocket:["wss://arbitrum-goerli.infura.io/ws/v3"]},default:{http:["https://goerli-rollup.arbitrum.io/rpc"]},public:{http:["https://goerli-rollup.arbitrum.io/rpc"]}},blockExplorers:{etherscan:{name:"Arbiscan",url:"https://goerli.arbiscan.io"},default:{name:"Arbiscan",url:"https://goerli.arbiscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:88114}},testnet:!0}),Gy=gn({id:42161,name:"Arbitrum One",network:"arbitrum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://arb-mainnet.g.alchemy.com/v2"],webSocket:["wss://arb-mainnet.g.alchemy.com/v2"]},infura:{http:["https://arbitrum-mainnet.infura.io/v3"],webSocket:["wss://arbitrum-mainnet.infura.io/ws/v3"]},default:{http:["https://arb1.arbitrum.io/rpc"]},public:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{etherscan:{name:"Arbiscan",url:"https://arbiscan.io"},default:{name:"Arbiscan",url:"https://arbiscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),Vy=gn({id:420,name:"Optimism Goerli",network:"optimism-goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://opt-goerli.g.alchemy.com/v2"],webSocket:["wss://opt-goerli.g.alchemy.com/v2"]},infura:{http:["https://optimism-goerli.infura.io/v3"],webSocket:["wss://optimism-goerli.infura.io/ws/v3"]},default:{http:["https://goerli.optimism.io"]},public:{http:["https://goerli.optimism.io"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://goerli-optimism.etherscan.io"},default:{name:"Etherscan",url:"https://goerli-optimism.etherscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:49461}},testnet:!0},{formatters:Ry}),zy=gn({id:10,name:"OP Mainnet",network:"optimism",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://opt-mainnet.g.alchemy.com/v2"],webSocket:["wss://opt-mainnet.g.alchemy.com/v2"]},infura:{http:["https://optimism-mainnet.infura.io/v3"],webSocket:["wss://optimism-mainnet.infura.io/ws/v3"]},default:{http:["https://mainnet.optimism.io"]},public:{http:["https://mainnet.optimism.io"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://optimistic.etherscan.io"},default:{name:"Optimism Explorer",url:"https://explorer.optimism.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263}}},{formatters:Ry});var Qy;!function(e){e.Ethereum="ethereum",e.Base="base",e.Arbitrum="arbitrum",e.Optimism="optimism"}(Qy||(Qy={}));const Hy=Qy;const Ky={},qy=Ky;var Wy,Jy,Yy,Zy,$y,Xy,eb,tb,rb,sb,nb,ib,ab,ob,lb,cb,hb,ub,db,pb,fb=r(2824),mb="eip155",gb="requestedChains",yb="wallet_addEthereumChain",bb=class extends xn{constructor(e){super({...e,options:{isNewChainsStale:!0,...e.options}}),An(this,Yy),An(this,$y),An(this,eb),An(this,rb),An(this,nb),An(this,ab),An(this,lb),An(this,hb),An(this,db),this.id="walletConnect",this.name="WalletConnect",this.ready=!0,An(this,Wy,void 0),An(this,Jy,void 0),this.onAccountsChanged=e=>{0===e.length?this.emit("disconnect"):this.emit("change",{account:(0,Pn.m)(e[0])})},this.onChainChanged=e=>{const t=Number(e),r=this.isChainUnsupported(t);this.emit("change",{chain:{id:t,unsupported:r}})},this.onDisconnect=()=>{En(this,ab,ob).call(this,[]),this.emit("disconnect")},this.onDisplayUri=e=>{this.emit("message",{type:"display_uri",data:e})},this.onConnect=()=>{this.emit("connect",{})},En(this,Yy,Zy).call(this)}async connect({chainId:e,pairingTopic:t}={}){try{let r=e;if(!r){const e=this.storage?.getItem("store"),t=e?.state?.data?.chain?.id;r=t&&!this.isChainUnsupported(t)?t:this.chains[0]?.id}if(!r)throw new Error("No chains found on connector.");const s=await this.getProvider();En(this,rb,sb).call(this);const n=En(this,eb,tb).call(this);if(s.session&&n&&await s.disconnect(),!s.session||n){const e=this.chains.filter((e=>e.id!==r)).map((e=>e.id));this.emit("message",{type:"connecting"}),await s.connect({pairingTopic:t,optionalChains:[r,...e]}),En(this,ab,ob).call(this,this.chains.map((({id:e})=>e)))}const i=await s.enable(),a=(0,Pn.m)(i[0]),o=await this.getChainId();return{account:a,chain:{id:o,unsupported:this.isChainUnsupported(o)}}}catch(e){if(/user rejected/i.test(e?.message))throw new Vn(e);throw e}}async disconnect(){const e=await this.getProvider();try{await e.disconnect()}catch(e){if(!/No matching key/i.test(e.message))throw e}finally{En(this,nb,ib).call(this),En(this,ab,ob).call(this,[])}}async getAccount(){const{accounts:e}=await this.getProvider();return(0,Pn.m)(e[0])}async getChainId(){const{chainId:e}=await this.getProvider();return e}async getProvider({chainId:e}={}){return wn(this,Wy)||await En(this,Yy,Zy).call(this),e&&await this.switchChain(e),wn(this,Wy)}async getWalletClient({chainId:e}={}){const[t,r]=await Promise.all([this.getProvider({chainId:e}),this.getAccount()]),s=this.chains.find((t=>t.id===e));if(!t)throw new Error("provider is required.");return Xi({account:r,chain:s,transport:ia(t)})}async isAuthorized(){try{const[e,t]=await Promise.all([this.getAccount(),this.getProvider()]),r=En(this,eb,tb).call(this);if(!e)return!1;if(r&&t.session){try{await t.disconnect()}catch{}return!1}return!0}catch{return!1}}async switchChain(e){const t=this.chains.find((t=>t.id===e));if(!t)throw new qn(new Error("chain not found on connector."));try{const r=await this.getProvider(),s=En(this,hb,ub).call(this),n=En(this,db,pb).call(this);if(!s.includes(e)&&n.includes(yb)){await r.request({method:yb,params:[{chainId:(0,si.c1)(t.id),blockExplorerUrls:[t.blockExplorers?.default?.url],chainName:t.name,nativeCurrency:t.nativeCurrency,rpcUrls:[...t.rpcUrls.default.http]}]});const s=En(this,lb,cb).call(this);s.push(e),En(this,ab,ob).call(this,s)}return await r.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,si.c1)(e)}]}),t}catch(e){if(/user rejected request/i.test("string"==typeof e?e:e?.message))throw new Vn(e);throw new qn(e)}}};Wy=new WeakMap,Jy=new WeakMap,Yy=new WeakSet,Zy=async function(){return wn(this,Jy)||"undefined"==typeof window||kn(this,Jy,En(this,$y,Xy).call(this)),wn(this,Jy)},$y=new WeakSet,Xy=async function(){const{EthereumProvider:e}=await r.e(624).then(r.bind(r,3624)),t=this.chains.map((({id:e})=>e));if(t.length){const{projectId:r,showQrModal:s=!0,qrModalOptions:n,metadata:i,relayUrl:a}=this.options;kn(this,Wy,await e.init({showQrModal:s,qrModalOptions:n,projectId:r,optionalChains:t,rpcMap:Object.fromEntries(this.chains.map((e=>[e.id,e.rpcUrls.default.http[0]]))),metadata:i,relayUrl:a}))}},eb=new WeakSet,tb=function(){if(En(this,db,pb).call(this).includes(yb))return!1;if(!this.options.isNewChainsStale)return!1;const e=En(this,lb,cb).call(this),t=this.chains.map((({id:e})=>e)),r=En(this,hb,ub).call(this);return!(r.length&&!r.some((e=>t.includes(e))))&&!t.every((t=>e.includes(t)))},rb=new WeakSet,sb=function(){wn(this,Wy)&&(En(this,nb,ib).call(this),wn(this,Wy).on("accountsChanged",this.onAccountsChanged),wn(this,Wy).on("chainChanged",this.onChainChanged),wn(this,Wy).on("disconnect",this.onDisconnect),wn(this,Wy).on("session_delete",this.onDisconnect),wn(this,Wy).on("display_uri",this.onDisplayUri),wn(this,Wy).on("connect",this.onConnect))},nb=new WeakSet,ib=function(){wn(this,Wy)&&(wn(this,Wy).removeListener("accountsChanged",this.onAccountsChanged),wn(this,Wy).removeListener("chainChanged",this.onChainChanged),wn(this,Wy).removeListener("disconnect",this.onDisconnect),wn(this,Wy).removeListener("session_delete",this.onDisconnect),wn(this,Wy).removeListener("display_uri",this.onDisplayUri),wn(this,Wy).removeListener("connect",this.onConnect))},ab=new WeakSet,ob=function(e){this.storage?.setItem(gb,e)},lb=new WeakSet,cb=function(){return this.storage?.getItem(gb)??[]},hb=new WeakSet,ub=function(){if(!wn(this,Wy))return[];const e=wn(this,Wy).session?.namespaces;if(!e)return[];const t=(0,fb.qc)(e),r=t[mb]?.chains?.map((e=>parseInt(e.split(":")[1]||"")));return r??[]},db=new WeakSet,pb=function(){if(!wn(this,Wy))return[];const e=wn(this,Wy).session?.namespaces;if(!e)return[];const t=(0,fb.qc)(e),r=t[mb]?.methods;return r??[]};class vb{constructor(e,t){this.wagmi={},this.chains=[],this.namespace="eip155",this.disconnect=Kl,this.getAccount=tc,this.watchAccount=nc,this.fetchBalance=ec,this.getNetwork=rc,this.watchNetwork=ic,this.switchNetwork=sc,this.fetchEnsName=oc,this.fetchEnsAvatar=ac,this.wagmi=e,this.chains=t}getWalletConnectConnector(){const e=this.wagmi.connectors.find((e=>"walletConnect"===e.id));if(!e)throw new Error("WalletConnectConnector is required");return e}async connectWalletConnectProvider(e,t){return await e.getProvider(),new Promise((r=>{e.once("message",(e=>{"display_uri"===e.type&&(t(e.data),r())}))}))}getConnectorById(e){const t=this.wagmi.connectors.find((t=>t.id===e));if(!t)throw new Error(`Connector for id ${e} was not found`);return t}getConnectors(){return this.wagmi.connectors.filter((e=>!e.id.includes("walletConnect")))}async connectWalletConnect(e,t){const r=this.getWalletConnectConnector(),s={connector:r};return t&&(s.chainId=t),Promise.all([Hl(s),this.connectWalletConnectProvider(r,e)])}async connectConnector(e,t){const r={connector:this.getConnectorById(e)};return t&&(r.chainId=t),await Hl(r)}isInjectedProviderInstalled(){return typeof window.ethereum<"u"}safeCheckInjectedProvider(e){var t;try{const r=String(e);return Boolean(null==(t=window.ethereum)?void 0:t[r])}catch(e){return console.error(e),!1}}async getConnectedChainIds(){var e,t,r;const s=null==(t=null==(e=(await this.getWalletConnectConnector().getProvider()).signer)?void 0:e.session)?void 0:t.namespaces,n=null==(r=s?.[this.namespace])?void 0:r.methods;if(null!=n&&n.includes("wallet_addEthereumChain"))return"ALL";if(s){const e=[];return Object.keys(s).forEach((t=>{t.includes(this.namespace)&&e.push(...s[t].accounts)})),e?.map((e=>e.split(":")[1]))}return"ALL"}}function wb({projectId:e}){return function({rpc:e}){return function(t){const r=e(t);return r&&""!==r.http?{chain:{...t,rpcUrls:{...t.rpcUrls,default:{http:[r.http]}}},rpcUrls:{http:[r.http],webSocket:r.webSocket?[r.webSocket]:void 0}}:null}}({rpc:t=>{var r;return[1,3,4,5,10,42,56,69,97,100,137,280,324,420,42161,42220,43114,80001,421611,421613,1313161554,1313161555].includes(t.id)?{http:`https://rpc.walletconnect.com/v1/?chainId=eip155:${t.id}&projectId=${e}`}:{http:t.rpcUrls.default.http[0],webSocket:null==(r=t.rpcUrls.default.webSocket)?void 0:r[0]}}})}function Ab({chains:e,projectId:t}){return[new bb({chains:e,options:{projectId:t,showQrModal:!1}}),new oa({chains:e,options:{shimDisconnect:!0}})]}var kb=r(9652);class Eb{constructor(e,t){this.openModal=kb.IP.open,this.closeModal=kb.IP.close,this.subscribeModal=kb.IP.subscribe,this.setTheme=kb.ThemeCtrl.setThemeConfig,this.setDefaultChain=kb.OptionsCtrl.setSelectedChain,this.subscribeEvents=kb.Os.subscribe,kb.ThemeCtrl.setThemeConfig(e),kb.a6.setEthereumClient(t),kb.ConfigCtrl.setConfig(e),this.initUi()}async initUi(){if(typeof window<"u"){await Promise.all([r.e(272),r.e(524)]).then(r.bind(r,1524));const e=document.createElement("w3m-modal");document.body.insertAdjacentElement("beforeend",e),kb.OptionsCtrl.setIsUiLoaded(!0)}}}const xb={block:_i({format(e){const t=e.transactions?.map((e=>{if("string"==typeof e)return e;const t=xb.transaction.format(e);return"0x71"===t.typeHex?t.type="eip712":"0xff"===t.typeHex&&(t.type="priority"),t}));return{l1BatchNumber:e.l1BatchNumber?(0,ti.Ad)(e.l1BatchNumber):null,l1BatchTimestamp:e.l1BatchTimestamp?(0,ti.Ad)(e.l1BatchTimestamp):null,transactions:t}}}),transaction:Si({format(e){const t={};return"0x71"===e.type?t.type="eip712":"0xff"===e.type&&(t.type="priority"),{...t,l1BatchNumber:e.l1BatchNumber?(0,ti.Ad)(e.l1BatchNumber):null,l1BatchTxIndex:e.l1BatchTxIndex?(0,ti.Ad)(e.l1BatchTxIndex):null}}}),transactionReceipt:vo({format:e=>({l1BatchNumber:e.l1BatchNumber?(0,ti.Ad)(e.l1BatchNumber):null,l1BatchTxIndex:e.l1BatchTxIndex?(0,ti.Ad)(e.l1BatchTxIndex):null,logs:e.logs.map((e=>({...co(e),l1BatchNumber:e.l1BatchNumber?(0,ti.Ad)(e.l1BatchNumber):null,transactionLogIndex:(0,ti.Sw)(e.transactionLogIndex),logType:e.logType}))),l2ToL1Logs:e.l2ToL1Logs.map((e=>({blockNumber:(0,ti.Ad)(e.blockHash),blockHash:e.blockHash,l1BatchNumber:(0,ti.Ad)(e.l1BatchNumber),transactionIndex:(0,ti.Ad)(e.transactionIndex),shardId:(0,ti.Ad)(e.shardId),isService:e.isService,sender:e.sender,key:e.key,value:e.value,transactionHash:e.transactionHash,logIndex:(0,ti.Ad)(e.logIndex)})))})}),transactionRequest:(0,gi.k1)({exclude:["customSignature","factoryDeps","gasPerPubdata","paymaster","paymasterInput"],format:e=>e.gasPerPubdata||e.paymaster&&e.paymasterInput||e.factoryDeps||e.customSignature?{eip712Meta:{...e.gasPerPubdata?{gasPerPubdata:(0,si.Sm)(e.gasPerPubdata)}:{},...e.paymaster&&e.paymasterInput?{paymasterParams:{paymaster:e.paymaster,paymasterInput:Array.from((0,va._U)(e.paymasterInput))}}:{},...e.factoryDeps?{factoryDeps:e.factoryDeps}:{},...e.customSignature?{customSignature:e.customSignature}:{}},type:"eip712"===e.type?"0x71":"0xff"}:{}})};class Pb extends Cn.k{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NegativeOffsetError"})}}class Cb extends Cn.k{constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PositionOutOfBoundsError"})}}const Sb={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Cb({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Pb({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},incrementPosition(e){if(e<0)throw new Pb({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const r=t??this.position;return this.assertPosition(r+e-1),this.bytes.subarray(r,r+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){const e=this.inspectByte();return this.position++,e},readBytes(e){const t=this.inspectBytes(e);return this.position+=e,t},readUint8(){const e=this.inspectUint8();return this.position+=1,e},readUint16(){const e=this.inspectUint16();return this.position+=2,e},readUint24(){const e=this.inspectUint24();return this.position+=3,e},readUint32(){const e=this.inspectUint32();return this.position+=4,e},setPosition(e){this.assertPosition(e),this.position=e}};function Ib(e,t="hex"){const r=_b(e),s=function(e){const t=Object.create(Sb);return t.bytes=e,t.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),t}(new Uint8Array(r.length));return r.encode(s),"hex"===t?(0,si.EH)(s.bytes):s.bytes}function _b(e){return Array.isArray(e)?function(e){const t=e.reduce(((e,t)=>e+t.length),0),r=Tb(t);return{length:t<=55?1+t:1+r+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+r),1===r?s.pushUint8(t):2===r?s.pushUint16(t):3===r?s.pushUint24(t):s.pushUint32(t));for(const{encode:t}of e)t(s)}}}(e.map((e=>_b(e)))):function(e){const t="string"==typeof e?(0,va._U)(e):e,r=Tb(t.length),s=1===t.length&&t[0]<128?1:t.length<=55?1+t.length:1+r+t.length;return{length:s,encode(e){1===t.length&&t[0]<128?e.pushBytes(t):t.length<=55?(e.pushByte(128+t.length),e.pushBytes(t)):(e.pushByte(183+r),1===r?e.pushUint8(t.length):2===r?e.pushUint16(t.length):3===r?e.pushUint24(t.length):e.pushUint32(t.length),e.pushBytes(t))}}}(e)}function Tb(e){if(e<256)return 1;if(e<65536)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new Cn.k("Length is too large.")}function Mb(e){if(!e||0===e.length)return[];const t=[];for(let r=0;r<e.length;r++){const{address:s,storageKeys:n}=e[r];for(let e=0;e<n.length;e++)if(n[e].length-2!=64)throw new pi.o$({storageKey:n[e]});if(!(0,Hi.C)(s))throw new Qi.o({address:s});t.push([s,n])}return t}function Db(e,t){const r=Li(e);return"eip1559"===r?function(e,t){const{chainId:r,gas:s,nonce:n,to:i,value:a,maxFeePerGas:o,maxPriorityFeePerGas:l,accessList:c,data:h}=e;!function(e){const{chainId:t,maxPriorityFeePerGas:r,gasPrice:s,maxFeePerGas:n,to:i}=e;if(t<=0)throw new hi.gK({chainId:t});if(i&&!(0,Hi.C)(i))throw new Qi.o({address:i});if(s)throw new Cn.k("`gasPrice` is not a valid EIP-1559 Transaction attribute.");if(n&&n>2n**256n-1n)throw new di.wC({maxFeePerGas:n});if(r&&n&&r>n)throw new di.OK({maxFeePerGas:n,maxPriorityFeePerGas:r})}(e);const u=Mb(c),d=[(0,si.Sm)(r),n?(0,si.Sm)(n):"0x",l?(0,si.Sm)(l):"0x",o?(0,si.Sm)(o):"0x",s?(0,si.Sm)(s):"0x",i??"0x",a?(0,si.Sm)(a):"0x",h??"0x",u];if(t){const e=0n===t.v?"0x":1n===t.v?(0,si.Sm)(1):27n===t.v?"0x":(0,si.Sm)(1);d.push(e,(0,ma.c)(t.r),(0,ma.c)(t.s))}return(0,ii.aK)(["0x02",Ib(d)])}(e,t):"eip2930"===r?function(e,t){const{chainId:r,gas:s,data:n,nonce:i,to:a,value:o,accessList:l,gasPrice:c}=e;!function(e){const{chainId:t,maxPriorityFeePerGas:r,gasPrice:s,maxFeePerGas:n,to:i}=e;if(t<=0)throw new hi.gK({chainId:t});if(i&&!(0,Hi.C)(i))throw new Qi.o({address:i});if(r||n)throw new Cn.k("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(s&&s>2n**256n-1n)throw new di.wC({maxFeePerGas:s})}(e);const h=Mb(l),u=[(0,si.Sm)(r),i?(0,si.Sm)(i):"0x",c?(0,si.Sm)(c):"0x",s?(0,si.Sm)(s):"0x",a??"0x",o?(0,si.Sm)(o):"0x",n??"0x",h];if(t){const e=0n===t.v?"0x":1n===t.v?(0,si.Sm)(1):27n===t.v?"0x":(0,si.Sm)(1);u.push(e,(0,ma.c)(t.r),(0,ma.c)(t.s))}return(0,ii.aK)(["0x01",Ib(u)])}(e,t):function(e,t){const{chainId:r=0,gas:s,data:n,nonce:i,to:a,value:o,gasPrice:l}=e;!function(e){const{chainId:t,maxPriorityFeePerGas:r,gasPrice:s,maxFeePerGas:n,to:i,accessList:a}=e;if(i&&!(0,Hi.C)(i))throw new Qi.o({address:i});if(void 0!==t&&t<=0)throw new hi.gK({chainId:t});if(r||n)throw new Cn.k("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(s&&s>2n**256n-1n)throw new di.wC({maxFeePerGas:s});if(a)throw new Cn.k("`accessList` is not a valid Legacy Transaction attribute.")}(e);let c=[i?(0,si.Sm)(i):"0x",l?(0,si.Sm)(l):"0x",s?(0,si.Sm)(s):"0x",a??"0x",o?(0,si.Sm)(o):"0x",n??"0x"];if(t){const e=(()=>{if(r>0)return BigInt(2*r)+BigInt(35n+t.v-27n);if(t.v>=35n){return(t.v-35n)/2n>0?t.v:27n+(35n===t.v?0n:1n)}const e=27n+(27n===t.v?0n:1n);if(t.v!==e)throw new pi.Av({v:t.v});return e})();c=[...c,(0,si.Sm)(e),t.r,t.s]}else r>0&&(c=[...c,(0,si.Sm)(r),"0x","0x"]);return Ib(c)}(e,t)}const Bb={transaction:(e,t)=>{return"customSignature"in(r=e)||"paymaster"in r||"paymasterInput"in r||"gasPerPubdata"in r||"factoryDeps"in r?function(e){const{chainId:t,gas:r,nonce:s,to:n,from:i,value:a,maxFeePerGas:o,maxPriorityFeePerGas:l,customSignature:c,factoryDeps:h,paymaster:u,paymasterInput:d,gasPerPubdata:p,data:f}=e;!function(e){const{chainId:t,to:r,from:s,paymaster:n,paymasterInput:i}=e;if(t<=0)throw new hi.gK({chainId:t});if(r&&!(0,Hi.C)(r))throw new Qi.o({address:r});if(s&&!(0,Hi.C)(s))throw new Qi.o({address:s});if(n&&!(0,Hi.C)(n))throw new Qi.o({address:n});if(n&&!i)throw new Cn.k("`paymasterInput` must be provided when `paymaster` is defined");if(!n&&i)throw new Cn.k("`paymaster` must be provided when `paymasterInput` is defined")}(e);const m=[s?(0,si.Sm)(s):"0x",l?(0,si.Sm)(l):"0x",o?(0,si.Sm)(o):"0x",r?(0,si.Sm)(r):"0x",n??"0x",a?(0,si.Sm)(a):"0x",f??"0x",(0,si.Sm)(t),(0,si.Sm)(""),(0,si.Sm)(""),(0,si.Sm)(t),i??"0x",p?(0,si.Sm)(p):"0x",h??[],c??"0x",u&&d?[u,d]:[]];return(0,ii.aK)(["0x71",Ib(m)])}(e):Db(e,t);var r}};const Ob=gn({id:324,name:"zkSync Era",network:"zksync-era",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://mainnet.era.zksync.io"],webSocket:["wss://mainnet.era.zksync.io/ws"]},public:{http:["https://mainnet.era.zksync.io"],webSocket:["wss://mainnet.era.zksync.io/ws"]}},blockExplorers:{default:{name:"zkExplorer",url:"https://explorer.zksync.io"}},contracts:{multicall3:{address:"0xF9cda624FBC7e059355ce98a31693d299FACd963"}}},{serializers:Bb,formatters:xb}),Fb=gn({id:59144,name:"Linea Mainnet",network:"linea-mainnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{infura:{http:["https://linea-mainnet.infura.io/v3"],webSocket:["wss://linea-mainnet.infura.io/ws/v3"]},default:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]},public:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://lineascan.build"},etherscan:{name:"Etherscan",url:"https://lineascan.build"},blockscout:{name:"Blockscout",url:"https://explorer.linea.build"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:42}},testnet:!1}),Nb=gn({id:534352,name:"Scroll",network:"scroll",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.scroll.io"],webSocket:["wss://wss-rpc.scroll.io/ws"]},public:{http:["https://rpc.scroll.io"],webSocket:["wss://wss-rpc.scroll.io/ws"]}},blockExplorers:{default:{name:"Scrollscan",url:"https://scrollscan.com"},blockscout:{name:"Blockscout",url:"https://blockscout.scroll.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14}},testnet:!1});const Rb=new class extends It{web3modal;_resolveConnection;_rejectConnection;connected=!1;get address(){return tc().address}constructor(){super(),this.addAllowedEvents("accountChanged")}init(e){const t=[yn,Uy,Gy,zy,Ob,Fb,Nb],{publicClient:r}=xl(t,[wb({projectId:e})]),s=function(e){const t=new zl(e);return Gl=t,t}({autoConnect:!0,connectors:Ab({projectId:e,chains:t}),publicClient:r}),n=new vb(s,t);this.web3modal=new Eb({projectId:e,themeMode:"dark",themeVariables:{"--w3m-accent-color":"#9B4CFF","--w3m-background-color":"#9B4CFF","--w3m-z-index":"999999"}},n),this.web3modal.subscribeModal((e=>{!1===e.open&&this._rejectConnection&&(this._rejectConnection(new Error("User closed wallet modal")),this._rejectConnection=void 0,this._resolveConnection=void 0)})),this.connected=void 0!==this.address;let i=this.address;nc((e=>{this.connected=void 0!==e.address,this.connected&&this._resolveConnection&&(this._resolveConnection(),this._resolveConnection=void 0,this._rejectConnection=void 0),i!==e.address&&(this.fireEvent("accountChanged"),i=e.address)}))}async signMessage(e){if(!this.address)throw new Error("Wallet is not connected");return await async function(e){const t=await Yl();if(!t)throw new pn;return await t.signMessage({message:e.message})}({message:e})}async connect(){return void 0!==this.address&&(this.connected=!0,this.fireEvent("accountChanged")),new Promise(((e,t)=>{this._resolveConnection=e,this._rejectConnection=t,this.web3modal.openModal()}))}async getBalance(){if(!this.address)throw new Error("Wallet is not connected");return(await ec({address:this.address})).value}};const Lb=new class extends ps{constructor(){super("users_public","*",50)}async fetchByWalletAddress(e){return await this.safeSelectSingle((t=>t.eq("wallet_address",e)))}async fetchTokenHolders(e,t,r){const{data:s,error:n}=await _t.client.rpc("get_token_holders",{p_chain:e,p_token_address:t,last_balance:r,max_count:this.fetchLimit});if(n)throw n;return s}async fetchPortfolioValue(e){const{data:t,error:r}=await _t.client.rpc("get_portfolio_value",{p_wallet_address:e});if(r)throw r;return BigInt(t??"0")}};const Ub=new class extends ds{async fetchUser(e){return await Lb.fetchUser(e)}get walletLinked(){return void 0!==this.user?.wallet_address}async signIn(){await _t.signIn("twitter")}async linkWallet(){Rb.connected||await Rb.connect();const e=Rb.address;if(!e)throw new Error("Wallet is not connected");const{data:t,error:r}=await _t.client.functions.invoke("new-wallet-linking-nonce",{body:{walletAddress:e}});if(r)throw r;const s=await Rb.signMessage(`${Ny.messageForWalletLinking}\n\nNonce: ${t.nonce}`),{error:n}=await _t.client.functions.invoke("link-wallet-to-user",{body:{walletAddress:e,signedMessage:s}});if(n)throw n;this.user&&(this.user.wallet_address=e,this.fireEvent("walletLinked"))}async getContractSigner(e){if(!this.user)throw new Error("User not signed in");if(!0!==Rb.connected)throw new Error("Wallet not connected");if(!this.user.wallet_address)throw new Error("Wallet not linked");const t=await Yl();if(!t)throw new Error("Wallet not connected");const{account:r,transport:s}=t;if(r.address!==this.user.wallet_address)throw new Error("Wallet address mismatch");const{chain:n}=rc();if(!n)throw new Error("Chain not found");if(n.id!==qy[e]?.chainId)throw new Error("Wrong chain");if(n&&r&&s)return new _y(new Fy(s,{chainId:n.id,name:n.name,ensAddress:n.contracts?.ensRegistry?.address}),r.address)}};class jb{abi;chain;address;viewContract;constructor(e,t,r){this.abi=e,this.chain=t,this.address=r,this.viewContract=new ap(r,e,new Dy(qy[t].rpc))}async getWriteContract(){if(!Ub.signed)try{await new Ar({title:$t("not-signed-in-title"),message:$t("not-signed-in-message"),confirmTitle:$t("not-signed-in-confirm")},(()=>Ub.signIn())).wait()}catch(e){throw new Error("Not signed in")}!0!==Rb.connected&&await Rb.connect();const e=await Yl();if(!e)throw new kr({title:$t("no-wallet-connected-title"),message:$t("no-wallet-connected-message")}),new Error("No wallet connected");if(!Ub.user?.wallet_address)try{await new Ar({title:$t("no-wallet-linked-title"),message:$t("no-wallet-linked-message"),confirmTitle:$t("no-wallet-linked-confirm")},(()=>Ub.linkWallet())).wait()}catch(e){throw new Error("No wallet linked")}const{account:t}=e;if(t.address!==Ub.user?.wallet_address)throw new kr({title:$t("wallet-address-mismatch-title"),message:$t("wallet-address-mismatch-message")}),new Error("Wallet address mismatch");const{chain:r}=rc();if(!r)throw new kr({title:$t("invalid-network-title"),message:$t("invalid-network-message",{chain:qy[this.chain].name})}),new Error("Invalid network");const s=qy[this.chain].chainId;r.id!==s&&await sc({chainId:s});const n=await Ub.getContractSigner(this.chain);if(!n)throw new Error("No signer");return new ap(this.address,this.abi,n)}}const Gb=JSON.parse('{"_g":[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint8","name":"version","type":"uint8"}],"name":"Initialized","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"oracle","type":"address"}],"name":"SetOracleAddress","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"destination","type":"address"}],"name":"SetProtocolFeeDestination","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"percent","type":"uint256"}],"name":"SetProtocolFeePercent","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"percent","type":"uint256"}],"name":"SetTokenOwnerFeePercent","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"trader","type":"address"},{"indexed":true,"internalType":"address","name":"tokenAddress","type":"address"},{"indexed":true,"internalType":"bool","name":"isBuy","type":"bool"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"price","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"protocolFee","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"tokenOwnerFee","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"additionalFee","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"supply","type":"uint256"}],"name":"Trade","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"tokenAddress","type":"address"},{"indexed":false,"internalType":"string","name":"name","type":"string"},{"indexed":false,"internalType":"string","name":"symbol","type":"string"}],"name":"UserTokenCreated","type":"event"},{"inputs":[{"internalType":"address","name":"tokenAddress","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes","name":"oracleSignature","type":"bytes"}],"name":"buyToken","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"bytes","name":"oracleSignature","type":"bytes"}],"name":"calculateAdditionalTokenOwnerFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"symbol","type":"string"}],"name":"createToken","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"tokenAddress","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"getBuyPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"tokenAddress","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"getBuyPriceAfterFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"supply","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"getPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"address","name":"tokenAddress","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"getSellPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"tokenAddress","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"getSellPriceAfterFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address payable","name":"_protocolFeeDestination","type":"address"},{"internalType":"uint256","name":"_protocolFeePercent","type":"uint256"},{"internalType":"uint256","name":"_tokenOwnerFeePercent","type":"uint256"}],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"isPalUserToken","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"membershipToken","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"membershipWeight","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"oracleAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"protocolFeeDestination","outputs":[{"internalType":"address payable","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"protocolFeePercent","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"tokenAddress","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes","name":"oracleSignature","type":"bytes"}],"name":"sellToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_oracle","type":"address"}],"name":"setOracleAddress","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address payable","name":"_feeDestination","type":"address"}],"name":"setProtocolFeeDestination","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_feePercent","type":"uint256"}],"name":"setProtocolFeePercent","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_feePercent","type":"uint256"}],"name":"setTokenOwnerFeePercent","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"tokenOwnerFeePercent","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),Vb={[Hy.Base]:"0xcF18D57f24C067C00Fa83CC4e8fE1C134177047A"},zb={[Hy.Base]:"0x6489f919432741965831f731Fa203553eA790614"};class Qb extends jb{constructor(e){super(Gb._g,e,(Ny.dev?Vb:zb)[e])}async createToken(e,t){const r=await this.getWriteContract(),s=await r.createToken(e,t),n=await s.wait();if(!n)throw new Error("No receipt");if(!Ub.user)throw new Error("No user");const i=await r.queryFilter(r.filters.UserTokenCreated(Ub.user.wallet_address),n.blockNumber,n.blockNumber);if(!i||0===i.length)throw new Error("No events");return i[0].args?.[1]}async getBuyPriceAfterFee(e,t){return await this.viewContract.getBuyPriceAfterFee(e,t)}async buyToken(e,t){const r=await this.getWriteContract();return(await r.buyToken(e,t,"0x",{value:await this.getBuyPriceAfterFee(e,t)})).wait()}async sellToken(e,t){const r=await this.getWriteContract();return(await r.sellToken(e,t,"0x")).wait()}}const Hb=JSON.parse('{"_g":[{"inputs":[{"internalType":"address","name":"owner_","type":"address"},{"internalType":"string","name":"name_","type":"string"},{"internalType":"string","name":"symbol_","type":"string"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"InvalidShortString","type":"error"},{"inputs":[{"internalType":"string","name":"str","type":"string"}],"name":"StringTooLong","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[],"name":"EIP712DomainChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferStarted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"name","type":"string"}],"name":"SetName","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"symbol","type":"string"}],"name":"SetSymbol","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"DOMAIN_SEPARATOR","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"_pal","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"acceptOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"eip712Domain","outputs":[{"internalType":"bytes1","name":"fields","type":"bytes1"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"version","type":"string"},{"internalType":"uint256","name":"chainId","type":"uint256"},{"internalType":"address","name":"verifyingContract","type":"address"},{"internalType":"bytes32","name":"salt","type":"bytes32"},{"internalType":"uint256[]","name":"extensions","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"nonces","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"pendingOwner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"permit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"name_","type":"string"}],"name":"setName","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"symbol_","type":"string"}],"name":"setSymbol","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}]}');class Kb extends jb{constructor(e,t){super(Hb._g,e,t)}async balanceOf(e){return await this.viewContract.balanceOf(e)}async setName(e){const t=await this.getWriteContract();return(await t.setName(e)).wait()}async setSymbol(e){const t=await this.getWriteContract();return(await t.setSymbol(e)).wait()}}const qb=new class{async trackEvent(e){_t.client.functions.invoke("track-contract-events",{body:{chain:e}})}};class Wb extends yr{token;nameInput;symbolInput;constructor(e){super({barrierDismissible:!0}),this.token=e,this.append(new jt(".edit-token-info-popup.popup",Kt("header",Kt("h1","Edit Token Info")),Kt("main",Kt("form.name-form",{submit:e=>e.preventDefault()},this.nameInput=new Er({label:"Name (e.g. Pal Token)",placeholder:"Name",value:e.name,required:!0}),Kt("footer",new rr({title:"Save Name",click:async(e,t)=>{t.loading=!0;try{await this.saveName()}catch(e){new kr({title:"Error",message:e.message})}t.loading=!1}}))),Kt("form.name-form",{submit:e=>e.preventDefault()},this.symbolInput=new Er({label:"Symbol (e.g. PAL)",placeholder:"Symbol",value:e.symbol,required:!0}),Kt("footer",new rr({title:"Save Symbol",click:async(e,t)=>{t.loading=!0;try{await this.saveSymbol()}catch(e){new kr({title:"Error",message:e.message})}t.loading=!1}})))),Kt("footer",new rr({type:vr.Text,tag:".cancel",title:$t("cancel-button"),click:()=>this.delete()})))),this.nameInput.select()}async saveName(){const e=new Kb(this.token.chain,this.token.token_address);await e.setName(this.nameInput.value)}async saveSymbol(){const e=new Kb(this.token.chain,this.token.token_address);await e.setSymbol(this.symbolInput.value)}}const Jb=new class{info={};async init(){await Promise.all(Object.keys(qy).map((async e=>{const t=new Dy(qy[e].rpc),r=await t.getBlock("latest");this.info[e]={blockNumber:r.number,initBlockTime:1e3*r.timestamp}})))}blockToTime(e,t){if(!this.info[e])throw new Error("Unknown chain");const r=qy[e].blockTime;return this.info[e].initBlockTime+(t-this.info[e].blockNumber)*r*1e3}};class Yb extends Mt{constructor(e){super(".activity-list-item");const t=Kt(".token-image",{click:()=>new iv(e.chain,e.token_address,void 0,e.token)});zr.selectLoadable(t,[e.token?.image_thumb,e.token?.stored_image_thumb]);const r=Kt("a",e.user?.display_name,{click:()=>Nt.go(`/${e.user?.x_username}`)}),s=Kt("span.date",Qr.fromNow(Jb.blockToTime(e.chain,e.block_number)));if("UserTokenCreated"===e.activity_name){const n=Kt("a",e.token?.name,{click:()=>new iv(e.chain,e.token_address,void 0,e.token)});this.append(Kt("header",t),Kt("main",Kt("p.description",...Zt("activity-list-item-created-token-text",{user:r,token:n})),Kt(".info",s)))}if("Trade"===e.activity_name){const n=Kt("a",e.token?.symbol,{click:()=>new iv(e.chain,e.token_address,void 0,e.token)}),i="true"===e.args[2],a=Hr.numberWithCommas(hn(e.args[3])),o=Hr.numberWithCommas(hn(e.args[4])),l=Kt(".trader-avatar",{click:()=>Nt.go(`/${e.user?.x_username}`)});zr.selectLoadable(l,[e.user?.avatar_thumb,e.user?.stored_avatar_thumb]),this.append(Kt("header",l,t),Kt("main",Kt("p.description",...Zt(i?"activity-list-item-bought-token-text":"activity-list-item-sold-token-text",{user:r,symbol:n,amount:a})),Kt(".info",Kt("span.price"+(i?".up":".down"),o," ETH, "),s)))}}}class Zb extends Mt{store;refreshed=!1;lastCreatedAt;constructor(e,t){super(e+".activity-list"),this.store=t.storeName?new Qt(t.storeName):void 0,this.domElement.setAttribute("data-empty-message",t.emptyMessage);const r=this.store?.get("cached-activities");if(r&&r.length>0)for(const e of r)try{this.append(new Yb(e))}catch(e){console.error(e)}}async refresh(){this.append(new ur),this.lastCreatedAt=void 0;const e=await this.fetchActivities();if(this.store?.set("cached-activities",e,!0),!this.deleted){this.empty();for(const t of e)this.append(new Yb(t));this.lastCreatedAt=e[e.length-1]?.created_at,this.refreshed=!0}}show(){this.deleteClass("hidden"),this.refreshed||this.refresh()}hide(){this.addClass("hidden")}}const $b=new class extends Lr{constructor(){super("activities","*",100)}enhanceActivityData(e){const t=_t.safeResult(e);for(const e of t)e.token={chain:e.chain,token_address:e.token_address,name:e.token_name,symbol:e.token_symbol,image:e.token_image,image_thumb:e.token_image_thumb,image_stored:e.token_image_stored,stored_image:e.token_stored_image,stored_image_thumb:e.token_stored_image_thumb},e.user=e.user_id?{user_id:e.user_id,display_name:e.user_display_name,avatar:e.user_avatar,avatar_thumb:e.user_avatar_thumb,stored_avatar:e.user_stored_avatar,stored_avatar_thumb:e.user_stored_avatar_thumb,x_username:e.user_x_username}:void 0;return t}async fetchGlobalActivities(e){let{data:t,error:r}=await _t.client.rpc("get_global_activities",{last_created_at:e,max_count:this.fetchLimit});if(r)throw r;return this.enhanceActivityData(t??[])}async fetchTokenHeldActivities(e,t){let{data:r,error:s}=await _t.client.rpc("get_token_held_activities",{p_wallet_address:e,last_created_at:t,max_count:this.fetchLimit});if(s)throw s;return this.enhanceActivityData(r??[])}async fetchTokenActivities(e,t,r){let{data:s,error:n}=await _t.client.rpc("get_token_activities",{p_chain:e,p_token_address:t,last_created_at:r,max_count:this.fetchLimit});if(n)throw n;return this.enhanceActivityData(s??[])}};class Xb extends Zb{chain;token;constructor(e,t){super(".token-activity-list",{emptyMessage:$t("token-activity-list-empty-message")}),this.chain=e,this.token=t}async fetchActivities(){return await $b.fetchTokenActivities(this.chain,this.token,this.lastCreatedAt)}}class ev extends Mt{store;refreshed=!1;constructor(e,t){if(super(e+".user-list"),this.store=t.storeName?new Qt(t.storeName):void 0,this.domElement.setAttribute("data-empty-message",t.emptyMessage),this.store){const e=this.store.get("cached-users");if(e)for(const t of e)this.addUserItem(t)}}async refresh(){this.append(new ur);const e=await this.fetchUsers();if(this.store?.set("cached-users",e,!0),!this.deleted){this.empty();for(const t of e)this.addUserItem(t);this.refreshed=!0}}show(){this.deleteClass("hidden"),this.refreshed||this.refresh()}hide(){this.addClass("hidden")}}class tv extends Mt{constructor(e){super(".user-list-item");const t=Kt(".avatar");zr.selectLoadable(t,[e.avatar_thumb,e.stored_avatar_thumb]),this.append(t,Kt(".name",e.display_name)),this.onDom("click",(()=>Nt.go(`/${e.x_username}`)))}}class rv extends tv{user;balanceDisplay;constructor(e,t){super(e),this.user=e,this.balanceDisplay=Kt(".balance").appendTo(this),this.symbol=t}set symbol(e){this.balanceDisplay.text=`${Hr.numberWithCommas(hn(this.user.balance))} ${e}`}}class sv extends ev{chain;token;_symbol;lastBalance;children=[];constructor(e,t,r){super(".token-holder-list",{emptyMessage:$t("token-holder-list-empty-message")}),this.chain=e,this.token=t,this._symbol=r}set symbol(e){this._symbol=e;for(const t of this.children)t.symbol=e}addUserItem(e){new rv(e,this._symbol).appendTo(this)}async fetchUsers(){const e=await Lb.fetchTokenHolders(this.chain,this.token,this.lastBalance);return this.lastBalance=e[e.length-1]?.balance,e}}const nv=new class extends Lr{constructor(){super("tokens","*, supply::text, last_fetched_price::text, total_trading_volume::text",50)}enhanceTokenData(e){const t=_t.safeResult(e);for(const e of t)e.owner_user_id&&(e.owner={user_id:e.owner_user_id,wallet_address:e.owner_wallet_address,display_name:e.owner_display_name,avatar:e.owner_avatar,avatar_thumb:e.owner_avatar_thumb,stored_avatar:e.owner_stored_avatar,stored_avatar_thumb:e.owner_stored_avatar_thumb,x_username:e.owner_x_username});return t}async fetchToken(e,t){const{data:r,error:s}=await _t.client.rpc("get_token",{p_chain:e,p_token_address:t});if(s)throw s;return this.enhanceTokenData(r??[])[0]}async fetchOwnedTokens(e,t){const{data:r,error:s}=await _t.client.rpc("get_owned_tokens",{p_wallet_address:e,last_created_at:t,max_count:this.fetchLimit});if(s)throw s;return this.enhanceTokenData(r??[])}async fetchHeldTokens(e,t){const{data:r,error:s}=await _t.client.rpc("get_held_tokens",{p_wallet_address:e,last_created_at:t,max_count:this.fetchLimit});if(s)throw s;return this.enhanceTokenData(r??[])}async fetchHeldOrOwnedTokens(e,t){const{data:r,error:s}=await _t.client.rpc("get_held_or_owned_tokens",{p_wallet_address:e,last_created_at:t,max_count:this.fetchLimit});if(s)throw s;return this.enhanceTokenData(r??[])}async fetchNewTokens(e){const{data:t,error:r}=await _t.client.rpc("get_new_tokens",{last_created_at:e,max_count:this.fetchLimit});if(r)throw r;return this.enhanceTokenData(t??[])}async fetchTopTokens(e,t=this.fetchLimit){const{data:r,error:s}=await _t.client.rpc("get_top_tokens",{last_rank:e,max_count:t});if(s)throw s;return this.enhanceTokenData(r??[])}async fetchTrendingTokens(e,t=this.fetchLimit){const{data:r,error:s}=await _t.client.rpc("get_trending_tokens",{last_purchased_at:e,max_count:t});if(s)throw s;return this.enhanceTokenData(r??[])}};class iv extends yr{chain;tokenAddress;tokenImageDisplay;tokenNameDisplay;symbolAndChainDisplay;editButtonContainer;descriptionDisplay;ownerDisplay;holderCountDisplay;priceDisplay;balanceDisplay;buyButton;sellButton;tabs;holderList;activityList;footer;constructor(e,t,r,s){super({barrierDismissible:!0}),this.chain=e,this.tokenAddress=t,this.append(new jt(".token-info-popup.popup",Kt("header",this.tokenImageDisplay=Kt(".token-image"),Kt(".info",this.tokenNameDisplay=Kt("h1",new tr),this.symbolAndChainDisplay=Kt(".symbol-and-chain")),this.editButtonContainer=Kt(".edit-button-container")),Kt("main",this.descriptionDisplay=Kt("p.description"),this.ownerDisplay=Kt("section.owner",Kt("h3","Owner"),new tr),Kt(".metrics",Kt("section.holder-count",Kt("h3","Holders"),this.holderCountDisplay=Kt("span.value",new tr)),Kt("section.price",Kt("h3","Price"),this.priceDisplay=Kt("span.value",new tr))),Kt("section.balance",Kt(".info",Kt("h3","Your Balance"),this.balanceDisplay=Kt("span.value",new tr)),this.buyButton=new rr({title:"Buy",click:()=>this.buyToken()}),this.sellButton=new rr({title:"Sell",click:()=>this.sellToken()}))),this.tabs=new Rr("token-info-popup",[{id:"holders",label:"Holders"},{id:"activity",label:"Activity"}]),this.holderList=new sv(e,t,s?s.symbol:""),this.activityList=new Xb(e,t),this.footer=Kt("footer",new rr({type:vr.Text,tag:".cancel",title:$t("cancel-button"),click:()=>this.delete()})))),s&&(zr.selectLoadable(this.tokenImageDisplay,[s.image_thumb,s.stored_image_thumb]),this.tokenNameDisplay.empty().append(s.name),this.symbolAndChainDisplay.empty().append(Kt(".symbol",s.symbol),Kt(".chain",Kt("img.icon",{src:qy[s.chain].icon}),qy[s.chain].name))),r?this.render(r):this.fetchToken(),this.tabs.on("select",(e=>{[this.holderList,this.activityList].forEach((e=>e.hide())),"holders"===e?this.holderList.show():"activity"===e&&this.activityList.show()})).init(),this.loadBalance()}render(e){zr.selectLoadable(this.tokenImageDisplay,[e.image_thumb,e.stored_image_thumb]),this.tokenNameDisplay.empty().append(e.name),this.symbolAndChainDisplay.empty().append(Kt(".symbol",e.symbol),Kt(".chain",Kt("img.icon",{src:qy[e.chain].icon}),qy[e.chain].name)),this.editButtonContainer.empty(),("string"==typeof e.owner&&e.owner===Ub.user?.wallet_address||"string"!=typeof e.owner&&e.owner.wallet_address===Ub.user?.wallet_address)&&(this.editButtonContainer.append(new rr({type:vr.Text,icon:new fr("edit"),click:()=>{new Wb(e),this.delete()}})),new rr({title:"Edit",click:()=>{new Wb(e),this.delete()}}).appendTo(this.footer,0)),this.descriptionDisplay.text=e.metadata?.description??"";const t=Kt(".avatar");"string"!=typeof e.owner&&zr.selectLoadable(t,[e.owner.avatar_thumb,e.owner.stored_avatar_thumb]),this.ownerDisplay.empty().append(Kt("h3","Owner"),Kt(".info-container","string"==typeof e.owner?new hr(".avatar",e.owner):t,"string"==typeof e.owner?Kt(".owner",Hr.shortenEthereumAddress(e.owner)):Kt(".info",Kt(".name",e.owner.display_name),Kt(".x-username",`@${e.owner.x_username}`)),{click:()=>{"string"!=typeof e.owner?(Nt.go(`/${e.owner.x_username}`),this.delete()):open(`https://etherscan.io/address/${e.owner}`)}})),this.holderCountDisplay.text=e.holder_count.toString(),this.priceDisplay.text=Hr.numberWithCommas(hn(e.last_fetched_price)),this.holderList.symbol=e.symbol}async fetchToken(){const e=await nv.fetchToken(this.chain,this.tokenAddress);e&&this.render(e)}async loadBalance(){const e=new Kb(this.chain,this.tokenAddress),t=Ub.user?.wallet_address;if(t){const r=await e.balanceOf(t);this.balanceDisplay.text=Hr.numberWithCommas(hn(r))}else this.balanceDisplay.text="0"}async buyToken(){this.buyButton.loading=!0;try{const e=new Qb(this.chain);await e.buyToken(this.tokenAddress,un("1")),await qb.trackEvent(this.chain),this.delete(),Nt.go(`/${this.chain}/${this.tokenAddress}`)}catch(e){console.error(e),this.buyButton.loading=!1}}async sellToken(){this.sellButton.loading=!0;try{const e=new Qb(this.chain);await e.sellToken(this.tokenAddress,un("1")),await qb.trackEvent(this.chain),this.delete()}catch(e){console.error(e),this.sellButton.loading=!1}}}class av extends Mt{constructor(e){super(".token-list-item");const t=Kt(".token-image",{click:()=>new iv(e.chain,e.token_address,e)});zr.selectLoadable(t,[e.image_thumb,e.stored_image_thumb]);const r=Kt("a","string"==typeof e.owner?Hr.shortenEthereumAddress(e.owner):e.owner.display_name,{click:()=>"string"==typeof e.owner?void 0:Nt.go(`/${e.owner.x_username}`)}),s=Kt("a",e.name,{click:()=>new iv(e.chain,e.token_address,e)}),n=Kt("a"," (",e.symbol,").",{click:()=>new iv(e.chain,e.token_address,e)}),i=Hr.numberWithCommas(String(e.holder_count)),a=Hr.numberWithCommas(hn(e.last_fetched_price));this.append(Kt("header",t),Kt("main",Kt("p.description",...("string"==typeof e.owner?e.owner:e.owner.wallet_address)===Ub.user?.wallet_address?["Your token "]:[r,"'s token "],s,n),Kt(".info",i,1===e.holder_count?" holder, ":" holders, ",Kt("span.price"+(void 0===e.is_price_up?"":e.is_price_up?".up":".down"),a," ETH."))))}}class ov extends Mt{store;refreshed=!1;constructor(e,t){if(super(e+".token-list"),this.store=t.storeName?new Qt(t.storeName):void 0,this.domElement.setAttribute("data-empty-message",t.emptyMessage),this.store){const e=this.store.get("cached-tokens");if(e)for(const t of e)this.addItem(t)}}addItem(e){new av(e).appendTo(this)}async refresh(){this.append(new ur);const e=await this.fetchTokens();if(this.store?.set("cached-tokens",e,!0),!this.deleted){this.empty();for(const t of e)this.addItem(t);this.refreshed=!0}}show(){return this.deleteClass("hidden"),this.refreshed||this.refresh(),this}hide(){this.addClass("hidden")}}class lv extends ov{maxCount;lastRank;constructor(e){super(".top-token-list",{storeName:"top-tokens",emptyMessage:$t("top-token-list-empty-message")}),this.maxCount=e}async fetchTokens(){const e=await nv.fetchTopTokens(this.lastRank,this.maxCount);return this.lastRank=e[e.length-1]?.rank,e}}class cv extends ov{maxCount;lastPurchasedAt;constructor(e){super(".trending-token-list",{storeName:"trending-tokens",emptyMessage:$t("trending-token-list-empty-message")}),this.maxCount=e}async fetchTokens(){const e=await nv.fetchTrendingTokens(this.lastPurchasedAt,this.maxCount);return this.lastPurchasedAt=e[e.length-1]?.last_purchased_at,e}}class hv extends Mt{constructor(){super(".sidebar"),this.append(Kt("section.trending-tokens",Kt("header",Kt("h2","Trending Tokens")),new cv(9).show(),Kt("footer",new rr({type:vr.Text,title:"Show More",click:()=>Nt.go("/explore/trending")}))),Kt("section.top-tokens",Kt("header",Kt("h2","Top Tokens")),new lv(3).show(),Kt("footer",new rr({type:vr.Text,title:"Show More",click:()=>Nt.go("/explore/top")}))))}show(){this.deleteClass("hidden")}hide(){this.addClass("hidden")}}class uv extends yr{chainSelect;nameInput;symbolInput;constructor(){super({barrierDismissible:!0}),this.append(new jt(".create-token-popup.popup",Kt("header",Kt("h1","Create Token")),Kt("main",this.chainSelect=new Mr({label:"Blockchain",placeholder:"Select a blockchain",options:Object.keys(Ny.dev?Vb:zb).map((e=>e)).map((e=>({dom:Kt(".option.chain",Kt("img.icon",{src:qy[e].icon}),qy[e].name),value:e})))}),this.nameInput=new Er({label:"Name (e.g. Pal Token)",placeholder:"Name",required:!0}),this.symbolInput=new Er({label:"Symbol (e.g. PAL)",placeholder:"Symbol",required:!0})),Kt("footer",new rr({type:vr.Text,tag:".cancel",title:$t("cancel-button"),click:()=>this.delete()}),new rr({tag:".create-token",title:"Create Token",click:(e,t)=>{new Ar({icon:new fr("warning"),title:"Important Notice",message:"You can create your own token. However, be cautious, as once a token is recorded on the blockchain, it cannot be deleted permanently. Although, the information of the token can be modified."},(async()=>{t.loading=!0;try{const e=this.chainSelect.value;if(!e)throw new Error("Please select a blockchain.");const t=this.nameInput.value,r=this.symbolInput.value,s=new Qb(e),n=await s.createToken(t,r);console.log(n),await qb.trackEvent(e),this.delete()}catch(e){new kr({title:"Error",message:e.message}),t.loading=!1}}))}}))))}}class dv extends ov{lastCreatedAt;constructor(){super(".held-token-list",{storeName:"held-tokens",emptyMessage:$t("held-token-list-empty-message")}),this.show()}async fetchTokens(){const e=Ub.user?.wallet_address;if(e){const t=await nv.fetchHeldOrOwnedTokens(e,this.lastCreatedAt);return this.lastCreatedAt=t[t.length-1]?.created_at,t}return[]}}class pv extends Mt{constructor(){super(".side-panel");const e=Kt(".avatar");Ub.user&&zr.selectLoadable(e,[Ub.user.avatar_thumb,Ub.user.stored_avatar_thumb]),this.append(Kt("main",Kt("header",Ub.user?Kt(".signed-user",e,Kt(".info",Kt(".name",Ub.user.display_name),Kt(".x-username",`@${Ub.user.x_username}`)),{click:()=>{Nt.go("/profile"),this.delete()}}):void 0,new rr({tag:".close",icon:new fr("close"),click:()=>this.delete()})),Kt("ul.menu",Kt("li",Kt("a","Profile",{click:()=>{Nt.go("/profile"),this.delete()}})),Kt("li",Kt("a","Bridges",{click:()=>{Nt.go("/bridges"),this.delete()}})),Kt("li",Kt("a","Settings",{click:()=>{Nt.go("/settings"),this.delete()}})),Kt("li",Kt("a","Logout",{click:()=>{Ub.signOut(),this.delete()}}))),Kt("section.tokens",Kt("header",Kt("h3","Your Tokens"),new rr({icon:new fr("add"),click:()=>{new uv,this.delete()}})),new dv))),this.onDom("click",(e=>{e.target===this.domElement&&this.delete()})),Dt.append(this)}}class fv extends Mt{constructor(e){super(".title-bar-user-display");const t=Kt(".avatar");zr.selectLoadable(t,[e.avatar_thumb,e.stored_avatar_thumb]),this.append(t,Kt(".name",e.display_name)),this.onDom("click",(()=>new pv))}}class mv extends Mt{titleDisplay;userSection;constructor(){super(".title-bar"),this.append(this.titleDisplay=Kt("h1"),this.userSection=Kt("section.user")),this.renderUserSection(),this.onDelegate(Ub,"walletLinked",(()=>this.renderUserSection()))}renderUserSection(){this.userSection.empty(),Ub.signed?Ub.walletLinked?this.userSection.append(new fv(Ub.user)):this.userSection.append(new rr({tag:".link-wallet",title:"Link wallet",click:()=>Ub.linkWallet()})):this.userSection.append(new rr({tag:".sign-in",title:"Sign in with 𝕏",click:()=>Ub.signIn()}))}set title(e){this.titleDisplay.text=e}set uri(e){["posts","chats","explore","activity","profile","bridges","settings"].includes(e)&&(this.title=$t(`title-${e}`))}}class gv extends Gr{static current;static append(e){gv.current.content.append(e)}static changeTitle(e){gv.current.titleBar.title=e}navBar;titleBar;content;sidebar;constructor(e,t){super(),gv.current=this,Dt.append(this.container=Kt(".layout",this.navBar=new gr({logo:Kt("img",{src:"/images/logo-transparent.png"}),menu:[{id:"feed",icon:new fr("post"),title:$t("nav-bar-menu-feed"),uri:"/feed"},{id:"chats",icon:new fr("chat"),title:$t("nav-bar-menu-chats"),uri:"/chats"},{id:"explore",icon:new fr("explore"),title:$t("nav-bar-menu-explore"),uri:"/explore"},{id:"activity",icon:new fr("browse_activity"),title:$t("nav-bar-menu-activity"),uri:"/activity"}]}),Kt("main",this.titleBar=new mv,this.content=Kt("section.content"),this.sidebar=new hv))),this.changeUri(t)}changeParams(e,t){this.changeUri(t)}changeUri(e){""===e&&(e="posts"),"general"!==e&&-1===e.indexOf("/0x")||(e="chats"),"chats"===(e=e.substring(0,-1===e.indexOf("/")?e.length:e.indexOf("/")))||"general"===e||-1!==e.indexOf("/0x")?this.sidebar.hide():this.sidebar.show(),this.navBar.active(e),this.titleBar.uri=e}}class yv extends Zb{constructor(){super(".global-activity-list",{storeName:"global-activities",emptyMessage:$t("global-activity-list-empty-message")})}async fetchActivities(){return await $b.fetchGlobalActivities(this.lastCreatedAt)}}class bv extends Zb{constructor(){super(".held-token-activity-list",{storeName:"held-token-activities",emptyMessage:$t("held-token-activity-list-empty-message")})}async fetchActivities(){return Ub.walletLinked?await $b.fetchTokenHeldActivities(Ub.user.wallet_address,this.lastCreatedAt):[]}}class vv extends Gr{tabs;globalActivityList;tokenHeldActivityList;constructor(){super(),gv.append(this.container=Kt(".activity-view",Kt("main",this.tabs=new Rr("activity-list-tabs",Ub.walletLinked?[{id:"global",label:"Global"},{id:"held",label:"Held"}]:[{id:"global",label:"Global"}]),this.globalActivityList=new yv,this.tokenHeldActivityList=Ub.walletLinked?new bv:void 0))),this.tabs.on("select",(e=>{[this.globalActivityList,this.tokenHeldActivityList].forEach((e=>e?.hide())),"global"===e?this.globalActivityList.show():"held"===e&&this.tokenHeldActivityList?.show()})).init()}}class wv extends Gr{constructor(){super(),gv.append(this.container=Kt(".bridges-view",Kt("a.bridge",Kt("header",{style:{backgroundColor:"#0153ff"}},Kt("img.logo",{src:"/images/chain/base.svg"}),new fr("arrow_outward")),Kt("h2","Base Bridge"),Kt("a.url","https://bridge.base.org/deposit"),{href:"https://bridge.base.org/deposit",target:"_blank"})))}}var Av;!function(e){e.Pal="pal",e.Discord="discord",e.Telegram="telegram"}(Av||(Av={}));const kv=Av;class Ev extends Gr{constructor(e){super(),gv.append(this.container=Kt(e+".chat-room-view"))}}class xv extends yr{constructor(){super({barrierDismissible:!0}),this.append(new jt(".popup.login-required-popup",Kt("header",Kt("h1",$t("login-required-title"))),Kt("main",Kt("p",$t("login-required-message"))),Kt("footer",new rr({type:vr.Text,tag:".cancel",click:()=>this.delete(),title:$t("cancel-button")}),new rr({tag:".login",click:()=>Ub.signIn(),title:$t("login-required-login-button")}))))}}const Pv=new class extends rs{constructor(){super("general_chat_messages",$r,100)}async upload(e){const t={files:[]};return await Promise.all(e.map((async e=>{if(Ub.user)try{const r=await Ur.uploadAttachment("general_chat_upload_files",Ub.user.user_id,e,2592e3);t.files?.push({url:r,fileName:e.name,fileType:e.type,fileSize:e.size})}catch(e){throw"Payload too large"===e.error&&new kr({title:$t("file-too-large-alert-title"),message:$t("file-too-large-alert-message",{maxFileSize:"1 MB"})}),e}}))),t}async sendMessage(e,t){const r=t.length?await this.upload(t):void 0;return await this.safeInsertAndSelect({source:kv.Pal,message:e,rich:r})}async fetchMessages(){return await this.safeSelect((e=>e.order("id",{ascending:!1})))}async fetchLastMessage(){return await this.safeSelectSingle((e=>e.order("id",{ascending:!1})))}};class Cv extends Wr{constructor(){super(".general-chat-message-form")}async sendMessage(e,t){if(!Ub.signed)throw new xv,new Error("You must be signed in to send messages");return(await Pv.sendMessage(e,t)).id}}const Sv=JSON.parse('{"v":"5.7.4","ip":0,"op":60,"fr":30,"w":500,"h":500,"nm":"C","assets":[],"layers":[{"ind":1,"ty":4,"nm":"D","sr":1,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"k":[{"i":{"x":0.16,"y":1},"o":{"x":0.167,"y":0.185},"t":10,"s":[24.402,-12.354,0],"ti":[0,0,0],"to":[0,-8,0]},{"i":{"x":0.16,"y":1},"o":{"x":0.167,"y":0.185},"t":20,"s":[24.402,-60.354,0],"ti":[0,-8,0],"to":[0,0,0]},{"t":30,"s":[24.402,-12.354,0]}],"a":1,"l":2},"a":{"a":0,"k":[-89.098,-36.354,0],"l":2},"s":{"a":0,"k":[100,100,100],"l":2}},"shapes":[{"ty":"gr","nm":"G","bm":0,"it":[{"ty":"gr","nm":"G","bm":0,"it":[{"ty":"sh","nm":"P","ind":0,"ks":{"k":{"i":[[0,-9.941],[9.941,0],[0,9.941],[-9.941,0]],"o":[[0,9.941],[-9.941,0],[0,-9.941],[9.941,0]],"v":[[-71.098,-37.854],[-89.098,-19.854],[-107.098,-37.854],[-89.098,-55.854]],"c":true},"a":0}},{"ty":"fl","nm":"F","bm":0,"c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1},{"ty":"tr","o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"nm":"T","sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}]},{"ty":"tr","o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"nm":"T","sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}]},{"ty":"gr","nm":"G","bm":0,"it":[{"ty":"gr","nm":"G","bm":0,"it":[{"ty":"sh","nm":"P","ind":0,"ks":{"k":{"i":[[0,-9.941],[9.941,0],[0,9.941],[-9.941,0]],"o":[[0,9.941],[-9.941,0],[0,-9.941],[9.941,0]],"v":[[-71.098,-34.854],[-89.098,-16.854],[-107.098,-34.854],[-89.098,-52.854]],"c":true},"a":0}},{"ty":"fl","nm":"F","bm":0,"c":{"a":0,"k":[0.81,0.81,0.81,1]},"o":{"a":0,"k":100},"r":1},{"ty":"tr","o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"nm":"T","sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}]},{"ty":"tr","o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"nm":"T","sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}]}],"ip":-2,"op":77,"st":8,"parent":5},{"ind":2,"ty":4,"nm":"D","sr":1,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"k":[{"i":{"x":0.16,"y":1},"o":{"x":0.167,"y":0.185},"t":5,"s":[-30.598,-12.354,0],"ti":[0,0,0],"to":[0,-8,0]},{"i":{"x":0.16,"y":1},"o":{"x":0.167,"y":0.185},"t":15,"s":[-30.598,-60.354,0],"ti":[0,-8,0],"to":[0,0,0]},{"t":25,"s":[-30.598,-12.354,0]}],"a":1,"l":2},"a":{"a":0,"k":[-89.098,-36.354,0],"l":2},"s":{"a":0,"k":[100,100,100],"l":2}},"shapes":[{"ty":"gr","nm":"G","bm":0,"it":[{"ty":"gr","nm":"G","bm":0,"it":[{"ty":"sh","nm":"P","ind":0,"ks":{"k":{"i":[[0,-9.941],[9.941,0],[0,9.941],[-9.941,0]],"o":[[0,9.941],[-9.941,0],[0,-9.941],[9.941,0]],"v":[[-71.098,-37.854],[-89.098,-19.854],[-107.098,-37.854],[-89.098,-55.854]],"c":true},"a":0}},{"ty":"fl","nm":"F","bm":0,"c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1},{"ty":"tr","o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"nm":"T","sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}]},{"ty":"tr","o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"nm":"T","sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}]},{"ty":"gr","nm":"G","bm":0,"it":[{"ty":"gr","nm":"G","bm":0,"it":[{"ty":"sh","nm":"P","ind":0,"ks":{"k":{"i":[[0,-9.941],[9.941,0],[0,9.941],[-9.941,0]],"o":[[0,9.941],[-9.941,0],[0,-9.941],[9.941,0]],"v":[[-71.098,-34.854],[-89.098,-16.854],[-107.098,-34.854],[-89.098,-52.854]],"c":true},"a":0}},{"ty":"fl","nm":"F","bm":0,"c":{"a":0,"k":[0.81,0.81,0.81,1]},"o":{"a":0,"k":100},"r":1},{"ty":"tr","o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"nm":"T","sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}]},{"ty":"tr","o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"nm":"T","sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}]}],"ip":-2,"op":72,"st":3,"parent":5},{"ind":3,"ty":4,"nm":"D","sr":1,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"k":[{"i":{"x":0.16,"y":1},"o":{"x":0.167,"y":0.185},"t":0,"s":[-85.598,-12.354,0],"ti":[0,0,0],"to":[0,-8,0]},{"i":{"x":0.16,"y":1},"o":{"x":0.167,"y":0.185},"t":10,"s":[-85.598,-60.354,0],"ti":[0,-8,0],"to":[0,0,0]},{"t":20,"s":[-85.598,-12.354,0]}],"a":1,"l":2},"a":{"a":0,"k":[-89.098,-36.354,0],"l":2},"s":{"a":0,"k":[100,100,100],"l":2}},"shapes":[{"ty":"gr","nm":"G","bm":0,"it":[{"ty":"gr","nm":"G","bm":0,"it":[{"ty":"sh","nm":"P","ind":0,"ks":{"k":{"i":[[0,-9.941],[9.941,0],[0,9.941],[-9.941,0]],"o":[[0,9.941],[-9.941,0],[0,-9.941],[9.941,0]],"v":[[-71.098,-37.854],[-89.098,-19.854],[-107.098,-37.854],[-89.098,-55.854]],"c":true},"a":0}},{"ty":"fl","nm":"F","bm":0,"c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1},{"ty":"tr","o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"nm":"T","sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}]},{"ty":"tr","o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"nm":"T","sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}]},{"ty":"gr","nm":"G","bm":0,"it":[{"ty":"gr","nm":"G","bm":0,"it":[{"ty":"sh","nm":"P","ind":0,"ks":{"k":{"i":[[0,-9.941],[9.941,0],[0,9.941],[-9.941,0]],"o":[[0,9.941],[-9.941,0],[0,-9.941],[9.941,0]],"v":[[-71.098,-34.854],[-89.098,-16.854],[-107.098,-34.854],[-89.098,-52.854]],"c":true},"a":0}},{"ty":"fl","nm":"F","bm":0,"c":{"a":0,"k":[0.81,0.81,0.81,1]},"o":{"a":0,"k":100},"r":1},{"ty":"tr","o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"nm":"T","sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}]},{"ty":"tr","o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"nm":"T","sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}]}],"ip":-2,"op":67,"st":-2,"parent":5},{"ind":4,"ty":4,"nm":"L","sr":1,"ks":{"o":{"a":0,"k":40},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0,0],"l":2},"a":{"a":0,"k":[0,0,0],"l":2},"s":{"a":0,"k":[100,100,100],"l":2}},"shapes":[{"ty":"gr","nm":"G","bm":0,"it":[{"ty":"sh","nm":"P","ind":0,"ks":{"k":{"i":[[0,0],[0,0],[0,-70.984],[0,0],[-12.608,0],[0,0],[0,70.984],[0,0],[70.984,0]],"o":[[0,0],[-70.984,0],[0,0],[0,12.608],[0,0],[70.984,0],[0,0],[0,-70.984],[0,0]],"v":[[-25.279,-160.534],[-25.279,-160.534],[-153.807,-32.006],[-153.807,73.693],[-130.977,96.523],[-25.279,96.523],[103.249,-32.005],[103.249,-32.006],[-25.279,-160.534]],"c":true},"a":0}},{"ty":"sh","nm":"P","ind":1,"ks":{"k":{"i":[[0,0],[-23.52,-23.52],[0,-33.263],[23.52,-23.52],[33.263,0],[0,0],[0,10.383],[0,0],[-23.52,23.52],[-33.263,0]],"o":[[33.263,0],[23.52,23.52],[0,33.263],[-23.52,23.52],[0,0],[-10.383,0],[0,0],[0,-33.263],[23.52,-23.52],[0,0]],"v":[[-25.279,-156.534],[62.776,-120.06],[99.249,-32.005],[62.776,56.049],[-25.279,92.523],[-130.977,92.523],[-149.807,73.693],[-149.807,-32.006],[-113.334,-120.06],[-25.279,-156.534]],"c":false},"a":0}},{"ty":"gf","s":{"a":0,"k":[-26.098,-155.854]},"e":{"a":0,"k":[-26.098,36.272]},"t":1,"g":{"k":{"a":0,"k":[0,1,1,1,0.394,0.8428,0.796,0.904,1,0.6078,0.298,1]},"p":3},"nm":"G","bm":0,"o":{"a":0,"k":100},"r":1},{"ty":"tr","o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"nm":"T","sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}]}],"ip":0,"op":66,"st":0,"parent":5},{"ind":5,"ty":4,"nm":"L","sr":1,"ks":{"o":{"a":0,"k":20},"r":{"a":1,"k":[{"i":{"x":[0.16],"y":[1]},"o":{"x":[0.167],"y":[0.092]},"t":38,"s":[0]},{"i":{"x":[0.16],"y":[1]},"o":{"x":[0.167],"y":[0.092]},"t":46,"s":[-8]},{"i":{"x":[0.16],"y":[1]},"o":{"x":[0.167],"y":[0.092]},"t":50,"s":[0]},{"i":{"x":[0.16],"y":[1]},"o":{"x":[0.167],"y":[0.092]},"t":54,"s":[-8]},{"t":58,"s":[0]}]},"p":{"a":0,"k":[96.193,346.523,0],"l":2},"a":{"a":0,"k":[-153.807,96.523,0],"l":2},"s":{"a":0,"k":[100,100,100],"l":2}},"shapes":[{"ty":"gr","nm":"G","bm":0,"it":[{"ty":"sh","nm":"P","ind":0,"ks":{"k":{"i":[[0,12.608],[0,0],[-70.984,0],[0,0],[0,-70.984],[0,0],[70.984,0],[0,0]],"o":[[0,0],[0,-70.984],[0,0],[70.984,0],[0,0],[0,70.984],[0,0],[-12.608,0]],"v":[[-153.807,73.693],[-153.807,-32.006],[-25.279,-160.534],[-25.279,-160.534],[103.249,-32.006],[103.249,-32.005],[-25.279,96.523],[-130.977,96.523]],"c":true},"a":0}},{"ty":"gf","s":{"a":0,"k":[-26.098,55.146]},"e":{"a":0,"k":[-26.098,-124.003]},"t":1,"g":{"k":{"a":0,"k":[0,1,1,1,0.394,0.8428,0.796,0.904,1,0.6078,0.298,1]},"p":3},"nm":"G","bm":0,"o":{"a":0,"k":100},"r":1},{"ty":"tr","o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"nm":"T","sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}]}],"ip":0,"op":66,"st":0},{"ind":6,"ty":4,"nm":"M","sr":1,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0,0],"l":2},"a":{"a":0,"k":[0,0,0],"l":2},"s":{"a":0,"k":[100,100,100],"l":2}},"shapes":[{"ty":"gr","nm":"G","bm":0,"it":[{"ty":"sh","nm":"P","ind":0,"ks":{"k":{"i":[[0,12.608],[0,0],[-70.984,0],[0,0],[0,-70.984],[0,0],[70.984,0],[0,0]],"o":[[0,0],[0,-70.984],[0,0],[70.984,0],[0,0],[0,70.984],[0,0],[-12.608,0]],"v":[[-153.807,73.693],[-153.807,-32.006],[-25.279,-160.534],[-25.279,-160.534],[103.249,-32.006],[103.249,-32.005],[-25.279,96.523],[-130.977,96.523]],"c":true},"a":0}},{"ty":"gf","s":{"a":0,"k":[-26.098,55.146]},"e":{"a":0,"k":[-26.098,-124.003]},"t":1,"g":{"k":{"a":0,"k":[0,1,1,1,0.394,0.8428,0.796,0.904,1,0.6078,0.298,1]},"p":3},"nm":"G","bm":0,"o":{"a":0,"k":100},"r":1},{"ty":"tr","o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"nm":"T","sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}]}],"ip":0,"op":66,"st":0,"parent":5,"td":1},{"ind":7,"ty":4,"nm":"L","sr":1,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":0,"s":[250,250,0],"ti":[0,0,0],"to":[0,-3.383,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":10,"s":[250,229.7,0],"ti":[0,0,0],"to":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":20,"s":[250,250,0],"ti":[0,0,0],"to":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":30,"s":[250,229.7,0],"ti":[0,0,0],"to":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":40,"s":[250,250,0],"ti":[0,0,0],"to":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":50,"s":[250,229.7,0],"ti":[0,0,0],"to":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":60,"s":[250,250,0],"ti":[0,3.383,0],"to":[0,0,0]},{"t":70,"s":[250,229.7,0]}],"a":1,"l":2},"a":{"a":0,"k":[0,0,0],"l":2},"s":{"a":0,"k":[100,100,100],"l":2}},"shapes":[{"ty":"gr","nm":"G","bm":0,"it":[{"ty":"sh","nm":"P","ind":0,"ks":{"k":{"i":[[0,9.135],[0,0],[51.426,0],[0,0],[0,-51.426],[0,0],[-51.426,0],[0,0]],"o":[[0,0],[0,-51.426],[0,0],[-51.426,0],[0,0],[0,51.426],[0,0],[9.135,0]],"v":[[147.612,126.908],[147.612,50.332],[54.497,-42.784],[54.497,-42.784],[-38.619,50.332],[-38.619,50.332],[54.497,143.447],[131.073,143.447]],"c":true},"a":0}},{"ty":"fl","nm":"F","bm":0,"c":{"a":0,"k":[0.4279,0.0245,0.9555,1]},"o":{"a":0,"k":100},"r":1},{"ty":"tr","o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"nm":"T","sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}]}],"ip":0,"op":66,"st":0,"tt":2},{"ind":8,"ty":4,"nm":"M","sr":1,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0,0],"l":2},"a":{"a":0,"k":[0,0,0],"l":2},"s":{"a":0,"k":[100,100,100],"l":2}},"shapes":[{"ty":"gr","nm":"G","bm":0,"it":[{"ty":"sh","nm":"P","ind":0,"ks":{"k":{"i":[[0,12.608],[0,0],[-70.984,0],[0,0],[0,-70.984],[0,0],[70.984,0],[0,0]],"o":[[0,0],[0,-70.984],[0,0],[70.984,0],[0,0],[0,70.984],[0,0],[-12.608,0]],"v":[[-153.807,73.693],[-153.807,-32.006],[-25.279,-160.534],[-25.279,-160.534],[103.249,-32.006],[103.249,-32.005],[-25.279,96.523],[-130.977,96.523]],"c":true},"a":0}},{"ty":"gf","s":{"a":0,"k":[-26.098,55.146]},"e":{"a":0,"k":[-26.098,-124.003]},"t":1,"g":{"k":{"a":0,"k":[0,1,1,1,0.394,0.8428,0.796,0.904,1,0.6078,0.298,1]},"p":3},"nm":"G","bm":0,"o":{"a":0,"k":100},"r":1},{"ty":"tr","o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"nm":"T","sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}]}],"ip":0,"op":66,"st":0,"ef":[{"ty":29,"ix":1,"nm":"G","ef":[{"ix":1,"nm":"B","ty":0,"v":{"a":0,"k":120}},{"ix":2,"nm":"B","ty":7,"v":{"a":0,"k":1}},{"ix":3,"nm":"R","ty":7,"v":{"a":0,"k":0}}],"en":1}],"parent":5,"td":1},{"ind":9,"ty":4,"nm":"L","sr":1,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0,0],"l":2},"a":{"a":0,"k":[0,0,0],"l":2},"s":{"a":0,"k":[100,100,100],"l":2}},"shapes":[{"ty":"gr","nm":"G","bm":0,"it":[{"ty":"sh","nm":"P","ind":0,"ks":{"k":{"i":[[0,9.135],[0,0],[51.426,0],[0,0],[0,-51.426],[0,0],[-51.426,0],[0,0]],"o":[[0,0],[0,-51.426],[0,0],[-51.426,0],[0,0],[0,51.426],[0,0],[9.135,0]],"v":[[147.612,126.908],[147.612,50.332],[54.497,-42.784],[54.497,-42.784],[-38.619,50.332],[-38.619,50.332],[54.497,143.447],[131.073,143.447]],"c":true},"a":0}},{"ty":"fl","nm":"F","bm":0,"c":{"a":0,"k":[0.4279,0.0245,0.9555,1]},"o":{"a":0,"k":100},"r":1},{"ty":"tr","o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"nm":"T","sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}]}],"ip":0,"op":66,"st":0,"ef":[{"ty":29,"ix":1,"nm":"G","ef":[{"ix":1,"nm":"B","ty":0,"v":{"a":0,"k":40}},{"ix":2,"nm":"B","ty":7,"v":{"a":0,"k":1}},{"ix":3,"nm":"R","ty":7,"v":{"a":0,"k":0}}],"en":1}],"parent":7,"tt":1}],"markers":[]}');class Iv extends Mt{constructor(){super(".message-loading-animation"),this.style({width:80,height:80}),this.append(new pr(".message-loading-animation",Sv))}}const _v=new class{openAuthorProfile(e){Nt.go(`/${e.x_username}`,void 0,e)}getSourceLabel(e){return e===kv.Discord?Kt(".source","from ",Kt("a","Discord",{href:"https://discord.gg/p2VhZAjyzP",target:"_blank"})):e===kv.Telegram?Kt(".source","from ",Kt("a","Telegram",{href:"https://t.me/krew_social",target:"_blank"})):""}};class Tv extends Zr{channel;constructor(){super(".general-chat-message-list",{storeName:"general-chat-messages",signedUserId:Ub.user?.user_id,emptyMessage:$t("chat-message-list-empty-message")},_v,new Iv),this.channel=_t.client.channel("general-chat-message-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"general_chat_messages"},(async e=>{const t=await Pv.fetchMessage(e.new.id);t&&this.addNewMessage(t)})).subscribe()}async fetchMessages(){return await Pv.fetchMessages()}delete(){this.channel.unsubscribe(),super.delete()}}class Mv extends Mt{constructor(){super(".general-chat-room-header"),this.append(Kt("button.back",new fr("arrow_back"),{click:()=>history.back()}),Kt("h1","General Chat"))}}class Dv extends Ev{constructor(e,t){super(".general-chat-room-view"),this.render(t)}changeParams(e,t){this.render(t)}render(e){this.container.deleteClass("mobile-hidden"),"chats"===e&&this.container.addClass("mobile-hidden");const t=new Mv,r=new Tv,s=new Cv;s.on("messageSending",((e,t,s)=>{Ub.user&&r.messageSending(e,kv.Pal,Ub.user,t,s)})),s.on("messageSent",((e,t)=>r.messageSent(e,t))),this.container.empty().append(t,r,s)}}const Bv=new class extends rs{constructor(){super("token_chat_messages",$r,100)}async upload(e){const t={files:[]};return await Promise.all(e.map((async e=>{if(Ub.user)try{const r=await Ur.uploadAttachment("token_chat_upload_files",Ub.user.user_id,e,2592e3);t.files?.push({url:r,fileName:e.name,fileType:e.type,fileSize:e.size})}catch(e){throw"Payload too large"===e.error&&new kr({title:$t("file-too-large-alert-title"),message:$t("file-too-large-alert-message",{maxFileSize:"1 MB"})}),e}}))),t}async sendMessage(e,t,r,s){const n=s.length?await this.upload(s):void 0;return await this.safeInsertAndSelect({chain:e,token_address:t,message:r,rich:n})}async fetchMessages(e,t){return await this.safeSelect((r=>r.eq("chain",e).eq("token_address",t).order("id",{ascending:!1})))}};class Ov extends Wr{chain;tokenAddress;constructor(e,t){super(".token-chat-message-form"),this.chain=e,this.tokenAddress=t}async sendMessage(e,t){if(!Ub.signed)throw new xv,new Error("You must be signed in to send messages");return(await Bv.sendMessage(this.chain,this.tokenAddress,e,t)).id}}class Fv extends Zr{chain;tokenAddress;channel;constructor(e,t){super(".token-chat-message-list",{storeName:`token-${e}-${t}-chat-messages`,signedUserId:Ub.user?.user_id,emptyMessage:$t("chat-message-list-empty-message")},_v,new Iv),this.chain=e,this.tokenAddress=t,this.channel=_t.client.channel(`token-${e}-${t}-chat-message-changes`).on("postgres_changes",{event:"INSERT",schema:"public",table:"token_chat_messages",filter:"token_address=eq."+t},(async t=>{const r=await Bv.fetchMessage(t.new.id);r?.chain===e&&this.addNewMessage(r)})).subscribe()}async fetchMessages(){return await Bv.fetchMessages(this.chain,this.tokenAddress)}delete(){this.channel.unsubscribe(),super.delete()}}class Nv extends Mt{chain;tokenAddress;tokenImage;title;token;constructor(e,t,r){super(".token-chat-room-header"),this.chain=e,this.tokenAddress=t,this.tokenImage=Kt(".token-image",{click:()=>new iv(e,t,this.token,r)}),zr.selectLoadable(this.tokenImage,[r?.image_thumb,r?.stored_image_thumb]),this.append(Kt("button.back",new fr("arrow_back"),{click:()=>history.back()}),this.tokenImage,this.title=Kt("h1",r?.name,{click:()=>new iv(e,t,this.token,r)})),this.fetchToken()}async fetchToken(){this.token=await nv.fetchToken(this.chain,this.tokenAddress),this.token&&(zr.selectLoadable(this.tokenImage,[this.token.image_thumb,this.token.stored_image_thumb]),this.title.text=this.token.name)}}class Rv extends Ev{constructor(e,t,r){super(".token-chat-room-view"),this.render(e.chain,e.tokenAddress,r)}changeParams(e,t,r){this.render(e.chain,e.tokenAddress,r)}async render(e,t,r){const s=new Nv(e,t,r),n=new Fv(e,t),i=new Ov(e,t);i.on("messageSending",((e,t,r)=>{Ub.user&&n.messageSending(e,kv.Pal,Ub.user,t,r)})),i.on("messageSent",((e,t)=>n.messageSent(e,t))),this.container.empty().append(s,n,i)}}class Lv extends Mt{lastMessageData;_lastMessageDisplay;constructor(e,t){super(e+".chat-room-list-item"),this.lastMessageData=t}get lastMessageDisplay(){return this._lastMessageDisplay=Kt(".last-message"),this.lastMessageData&&this.updateLastMessageData(this.lastMessageData),this._lastMessageDisplay}updateLastMessageData(e){this.lastMessageData=e,this._lastMessageDisplay?.empty().append(Kt(".message",this.lastMessageData.last_message??""),Kt(".sent-at",this.lastMessageData.last_message_sent_at===Ut?"":Qr.fromNow(this.lastMessageData.last_message_sent_at)))}}class Uv extends Lv{store=new Qt("general-chat-room-list-item");constructor(){super(".general-chat-room-list-item"),this.append(Kt("h3","General Chat"),this.lastMessageDisplay).onDom("click",(()=>Nt.go("/general")));const e=this.store.get("cached-last-message");e&&this.updateLastMessageData(e),this.fetchLastMessage()}async fetchLastMessage(){const e=await Pv.fetchLastMessage();e&&!this.deleted&&(this.updateLastMessageData({last_message:e.message,last_message_sent_at:e.created_at}),this.store.set("cached-last-message",{last_message:e.message,last_message_sent_at:e.created_at},!0))}}class jv extends Lv{constructor(e){super(".token-chat-room-list-item",e);const t=Kt(".token-image");zr.selectLoadable(t,[e.image_thumb,e.stored_image_thumb]),this.append(Kt("header",t),Kt("main",Kt("h3",Kt("span.name",e.name),Kt("span.owner"," by ","string"==typeof e.owner?Hr.shortenEthereumAddress(e.owner):e.owner.display_name),Kt("span.price"+(void 0===e.is_price_up?"":e.is_price_up?".up":".down"),Hr.numberWithCommas(hn(e.last_fetched_price))," ETH")),this.lastMessageDisplay)).onDom("click",(()=>Nt.go(`/${e.chain}/${e.token_address}`,void 0,e)))}}class Gv extends Mt{store=new Qt("chat-room-list");list;lastCreatedAt;constructor(){super(".chat-room-list"),this.append(new Uv,this.list=Kt("main"));const e=this.store.get("cached-tokens");if(e&&e.length>0)for(const t of e)this.list.append(new jv(t));this.refresh()}async refresh(){const e=Ub.user?.wallet_address;if(e){this.list.append(new ur);const t=await nv.fetchHeldOrOwnedTokens(e,this.lastCreatedAt);if(this.store.set("cached-tokens",t,!0),!this.deleted){this.list.empty();for(const e of t)this.list.append(new jv(e));this.lastCreatedAt=t[t.length-1]?.created_at}}}}class Vv extends Gr{constructor(){super(),gv.append(this.container=Kt(".chats-view",new Gv))}}class zv extends ov{lastCreatedAt;constructor(){super(".new-token-list",{storeName:"new-tokens",emptyMessage:$t("new-token-list-empty-message")})}async fetchTokens(){const e=await nv.fetchNewTokens(this.lastCreatedAt);return this.lastCreatedAt=e[e.length-1]?.created_at,e}}class Qv extends Gr{tabs;trendingTokenList;topTokenList;newTokenList;constructor(e){super(),gv.append(this.container=Kt(".explore-view",Kt("main",this.tabs=new Rr("explore",[{id:"trending",label:$t("explore-view-trending-tab")},{id:"top",label:$t("explore-view-top-tab")},{id:"new",label:$t("explore-view-new-tab")}]),this.trendingTokenList=new cv,this.topTokenList=new lv,this.newTokenList=new zv))),this.tabs.on("select",(e=>{[this.trendingTokenList,this.topTokenList,this.newTokenList].forEach((e=>e.hide())),"trending"===e?this.trendingTokenList.show():"top"===e?this.topTokenList.show():"new"===e&&this.newTokenList.show()})).init(e.type)}changeParams(e){e.type&&this.tabs.select(e.type)}}var Hv;!function(e){e[e.EVERYONE=0]="EVERYONE",e[e.TOKEN_HOLDERS=1]="TOKEN_HOLDERS"}(Hv||(Hv={}));class Kv extends Mt{store;select;refreshed=!1;lastCreatedAt;constructor(){super(".token-selector"),this.addAllowedEvents("change"),this.append(this.select=Kt("select",{change:(e,t)=>this.fireEvent("change",this.chain,this.tokenAddress)})),this.store=new Qt("held-tokens");const e=this.store.get("cached-tokens");if(e)for(const t of e)this.select.append(Kt("option",t.name,{value:`${t.chain}-${t.token_address}`}))}async refresh(){if(Ub.user?.wallet_address){this.select.append(new ur);const e=await nv.fetchHeldOrOwnedTokens(Ub.user.wallet_address,this.lastCreatedAt);if(this.store.set("cached-krews",e,!0),!this.deleted){this.select.empty();for(const t of e)this.select.append(Kt("option",t.name,{value:`${t.chain}-${t.token_address}`}));this.lastCreatedAt=e[e.length-1]?.created_at}}}get chain(){const e=this.select.domElement.value,[t]=e.split("-");return t}get tokenAddress(){const e=this.select.domElement.value,[,t]=e.split("-");return t}show(){return this.deleteClass("hidden"),this.refreshed||this.refresh(),this}hide(){return this.addClass("hidden"),this}}const qv=new class extends us{constructor(){super("posts","reposts","post_likes",es,50)}enhancePostData(e){const t=super.enhancePostData(e);for(const e of t.posts)(e.token_name||e.token_symbol||e.token_image_thumb)&&(e.target_details={token_name:e.token_name,token_symbol:e.token_symbol,token_image_thumb:e.token_image_thumb});return t}async upload(e){const t={files:[]};return await Promise.all(e.map((async e=>{if(Ub.user)try{const r=await Ur.uploadAttachment("post_upload_files",Ub.user.user_id,e,2592e3);t.files?.push({url:r,fileName:e.name,fileType:e.type,fileSize:e.size})}catch(e){throw"Payload too large"===e.error&&new kr({title:$t("file-too-large-alert-title"),message:$t("file-too-large-alert-message",{maxFileSize:"1 MB"})}),e}}))),t}async post(e,t,r,s,n){const i=n.length?await this.upload(n):void 0,a=await this.safeInsertAndSelect({target:e,chain:t,token_address:r,message:s,rich:i});return this.notifyNewGlobalPost(a),a}async comment(e,t,r){const s=r.length?await this.upload(r):void 0;return await this.safeInsertAndSelect({parent:e,message:t,rich:s})}async fetchTokenHeldPosts(e,t,r){const{data:s,error:n}=await _t.client.rpc("get_token_held_posts",{p_user_id:e,p_wallet_address:t,last_post_id:r,max_count:this.fetchLimit});if(n)throw n;return this.enhancePostData(s??[])}checkSigned(){if(!Ub.signed)throw new xv,new Error("User is not signed in.")}};class Wv extends hs{parentPostId;callback;target=Hv.EVERYONE;chain;tokenAddress;constructor(e,t,r){super([Ub.user?.avatar_thumb,Ub.user?.stored_avatar_thumb],t),this.parentPostId=e,this.callback=r}async post(e,t){const r=this.parentPostId?await qv.comment(this.parentPostId,e,t):await qv.post(this.target,this.chain,this.tokenAddress,e,t);new wr({message:$t("post-form-posted-snackbar-message"),action:{title:$t("post-form-posted-snackbar-button"),click:()=>Nt.go(`/post/${r.id}`,void 0,r)}}),this.callback&&this.callback(r)}}class Jv extends Mt{constructor(){super(".post-target-selector"),this.addAllowedEvents("change"),this.append(Kt("select",Kt("option",{value:String(Hv.EVERYONE)},$t("post-target-everyone")),Kt("option",{value:String(Hv.TOKEN_HOLDERS)},$t("post-target-token-holders")),{change:(e,t)=>this.fireEvent("change",Number(t.domElement.value))}))}}class Yv extends Mt{targetSelector;tokenSelector;form;constructor(e,t){super(".new-post-form"),this.append(Kt("header",this.targetSelector=new Jv,this.tokenSelector=(new Kv).hide()),this.form=new Wv(void 0,e,t?e=>t(e):void 0)),this.targetSelector.on("change",(e=>{this.form.target=e,e===Hv.TOKEN_HOLDERS?(this.tokenSelector.show(),this.form.chain=this.tokenSelector.chain,this.form.tokenAddress=this.tokenSelector.tokenAddress):(this.form.chain=void 0,this.form.tokenAddress=void 0)})),this.tokenSelector.on("change",((e,t)=>{this.form.chain=e,this.form.tokenAddress=t}))}show(){return this.deleteClass("hidden"),this}hide(){return this.addClass("hidden"),this}}class Zv extends yr{constructor(e){super({barrierDismissible:!0}),this.append(new jt(".popup.post-comment-popup",Kt("header",new rr({type:vr.Text,tag:".close",icon:new fr("close"),click:()=>this.delete()})),new cs(e),new Wv(e.id,!0,(()=>this.delete()))))}}class $v extends sr{constructor(e,t){super({left:t.left,top:t.top,items:[{title:$t("post-owner-menu-delete-button"),click:()=>{new Ar({title:$t("delete-post-confirm-title"),message:$t("delete-post-confirm-message"),confirmTitle:$t("delete-post-confirm-delete-button")},(()=>qv.deleteMessage(e)))}}]})}}const Xv=new class{openPostView(e){Nt.go(`/post/${e.id}`,void 0,e)}openAuthorProfile(e){Nt.go(`/${e.x_username}`,void 0,e)}openOwnerMenu(e,t){new $v(e,{left:t.right-120,top:t.top+30})}openCommentPopup(e){Ub.signed?new Zv(e):new xv}displayTarget(e){const t=Kt(".token-image");return zr.selectLoadable(t,[e.target_details?.token_image_thumb]),Kt(".target-token",t,e.target_details?.token_name,{click:t=>{t.stopPropagation(),e.chain&&e.token_address&&new iv(e.chain,e.token_address,void 0,{chain:e.chain,token_address:e.token_address,name:e.target_details?.token_name,symbol:e.target_details?.token_symbol,image:e.target_details?.token_image_thumb,image_thumb:e.target_details?.token_image_thumb})}})}},ew=JSON.parse('{"v":"5.5.7","meta":{"g":"LottieFiles AE 0.1.20","a":"","k":"","d":"","tc":""},"fr":24,"ip":0,"op":96,"w":1000,"h":800,"nm":"Main","ddd":0,"assets":[{"id":"image_0","w":58,"h":121,"u":"","p":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAB5CAYAAABodzLqAAAFiUlEQVR4XuVdPXrTQBCdNXwfdIQTYApid4RSoSCcAMfQE05AOAHkBIQTEHpwzAlICqIS6OJQkJwA0jl8fFq+NZJRZP2spH0zC0lHWDl6erNv3szuWoouyI/6l3AObn1cuXyps5Tc8y+i4/FhcGyDwXugw364obQeaFIPCgCdaNJjrdR2GWhvgT7qh2uRph0iumHDmBmjNb3RP6eb4+P7P7LXeAl0vXewrUg9tQWYGXcaRdHa+Ovdz+nfewd0fTncUYoeNwSZXLYA1iugw97BJpF62RLkX7CKVpJ56w3QQT/sdjR9cwQy+Zj90SRYM//wBqijkF14Th1F998eBnteAAWxOQOtSL9/N1kdeAHU8dxcYDU6m173AujD3sG4xBC0nrYmfL0AOuyFe0R0rzWiog9QtOULUONkrl0EoBoG8o8iyTNqKpJOp/Ppvwcam/cPSKBeiJEpw0jTayTQSNFNcTEa9sMXpOk5EuhoEihxoCjrl3pwM78rDhSdQ72xgMNeaHo+1l2E2iGuaGt0GLzwgVFoDlVar787Wh2LAh10Pyx1rlz9XpulGhdEUXTHtFVEgXLkUKO44oX3w+WDgVZqtwZBdYd+GU2CFXGgDDnUj1ZKy7ZmNbux4soziq9Dn4wOA9MEl22Ooc1C0hjzASg0hyaK+78DPRlNgm4ykcXyKEMOnSuuKKNooJr0q93J6qY4o+heLpF+NpqsbssDBRfcacUVDV1009p059MLwmJihM6h6dQiyuiwFyKb1ucUVxoozCyYvQy7R8FG2gyLhC68aZ0y86Kqi86hWcUVC110DjUN6+yeI5HQRdehWcUVZBS6Hjpvn4iLETK1JA3rbPuBPXThLc4cxRUJXbTiJg1rcUbRnb+81CLCKNrM5ymuCFDwotK59omY6sKFiGjBzItYQPgSRIHisocu2hGRonnDWlR10cV2keKyMzrshbAa1IDJtk9ExAg+P4lOR5NgflRELHTh87NEcVlDd9gLzamF29Vrfc1GZBvWIowid1jPAZWkFjZGObbBlSkuG1C0v50pbk77hF110WnFACoy82wWkCGtGCyFHpcNKMOmxtnhu2zDml11kf0hW8WFixFT2FKV4sKBcoRtlceFz1GGIjvBUNhVYEkvHCbBALERImjoomvPlBAVFttwRlm8bYyirAaFA2UoyWYYipYf8uofyJIES+78g9QqbCFzlEuEiOg0Opt2876KgIVRLhGyVVtIHkUvIKWZSg4F5LEHZ5TLCdlUKzBTz5lSbLwtDKjPbDpT3djXmqNXuOPLMUVN2HQGFL24m4RhXaV16owY2ayVN53PUS42sxuNbdOKkzzKyGZl86sKeCuvy2TeW4Vsa0a58mZTlXU2R1nyZsV6SlW4tlZdDk/bJpU487oMFcqX6Gy6ZluC2TBbW4wY6k0n4tNqjsbpxCzowk7Z1y2/bNisbQHh5qBGa8QWYO30gt7wX7U0XxdY49AFC1Br51P1IKzECLzZ37nCNkovsQMyAoSoNXO/Z7OKnSb/X8koMmRd2Tsb4KVAsSF7/nynzc22GVMINFZZ8zV2zkPWtb2zeQCFQIE7vXLPpdjcbJsxuUCBdeZJdDZdcelhbcEvAAXuO2BT2Mr0Ak0lQHtnw+o5RmHz0mEBbQOqlFHUvJRQ2EKgwBqTxd7ZsKyA8/I0Sn3Zts3NIMcolPtBFdBNH4aCFNPCCps7R10z6ov4LBTejpcV4AV049A1FzpyQ94obGkebZliRO2dDcsZZ9TsXQ5Fx41tboBrzIKpr7+mwltAN30w+WWa5atIfFXYyuolGRArsekulB2xEimgnTJqPqwCLGR9pCkIm+tKm2Mx2HHm9Qf7URRtZl8FZPPHJMdUtjtn7PbD7mWibp3Xd0mCyvvbvwGINQ1PNaQ7egAAAABJRU5ErkJggg==","e":1},{"id":"image_1","w":36,"h":31,"u":"","p":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAfCAYAAACPvW/2AAAB3klEQVRYR7XXy3HCMBAA0N3xNTNJBTKuIHQQSqADUkI6COmAVBCoICkBOoAKhGVOXBImFw6WNyOP4rHB2PrZN4aV9LT6eI0w0MM5f4iiaElE26IoFkmS/JgMhSZBtjEaswaAR932REQLE1hwUAumPp9eWFBQD6YBA4AvKeU8SZJ9/Y9gIAvM5Q5Y1WFBQB6YOq6EeYMCYUoYIr57gQ6Hw7goimXtNNkeyEaGGGPPziCNUUf73keh264UpsySS2dDYTpBWZZNAGBKRGNEHKlgItoT0RoRX0Jn5j8xVxnSs18AwJNL9izaVMt08x4SQqh1/LDo1DW0FdNYMiHEFAA+XUewaHcTU4H0XaKu8BAnpsvWialAaZrOEfHVYpYuob2YCpRlmTo9scsohm2MMCXoeDzenc/nX8OOXcKMMSVI759vl5EM2uyklBPTanFokDVmSJATZiiQM6Y6ZUIIMtgPJiFemDpI1TQzkxE7Yk5SypHNBm7rq3y5cs5HURRxHxARvcVxPPfpo/Eu87ytd4yxsS+mAVI/hBDWS4eIaZ7n6q5pfM644q7qIctMbaSUU999U8e3lrB6T6n9oEqStgpgAwBLxpjKaNCnt6bWpWw1aJ7n25AZuZxNLyjo9A06+wM14vwWqoe6VQAAAABJRU5ErkJggg==","e":1},{"id":"image_2","w":68,"h":58,"u":"","p":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEQAAAA6CAYAAAAJO/8DAAAFJ0lEQVRoQ+2bQW8bVRCAZ9Y5VPRADlUrLsQJFy5sl1+AnTOIcoIb4cgBGm6kEsJIgR7rciSVMAfco5PcgkhsBAIj0bLeVKKX1vU6EmqoSnwI3HbQrHad9Xpt79t9u2vX7CVK8t68976dmTdv5i1CzEfTChoALI4Qo+t64yTmEKl2R9HRNK2QB0tZs4AKCPBaiP49AmgogA1QrG1dbzwK0SezJqGBaFqhYFlYCglh9IIQWkhYAcWqTKP2TATCJmFZWI4NIgARAXyjKFSaJq0ZC0RTV9cJ6EbS+jtNYEYCUdViBQHeTRqGR34PASv8uwWkIUAeAJYGxkdoEcGJ7Y/I0iEH7LSl+qRAIBnAiM79zCdJcdhDQDR1tURAn0afYXY9ZZjeABB2oGTh79ktSc7IccAMAFHVYiOJ3UTOMoWlsE8q6cZBWaRnHwjHGWRhXaTzLLQlgB1FobWwMU8fiKoWtxHgzVlYpPAc2fEiFcJA6QO5rBZJeKDZ6tBDxYaij5u2DeRZNZeAhXdQIW2cpswbEIAJ5jN/QACAt2XDqK8Fmc5cAmEQSPSWftjY9kOZWyAAwE427/cnLpA8WdierU0j/myDTMe77fKpcfB0GX/MqZeACi17T8xnkaq6Wiagq1O/AskT9GuJN3SfS7Px+xL/4S7tpJDk9x1NHBK9px827OSU//i/SBayL3k+mujZ7MUHQMOoXxkC4oTxnBNpzBuUllG3lSMwhegkiuYKCipU1PUG54OCHy5IOeWHZzMl4Fs2An6mGwdcdxr/uJW6lZeWrj548CiwZLm8/CKcP/8cvKK+bP9cWVmCSxcvwMVLF4aEn57+Aw8fmtD85Q40m3fh+PjJpCmk8n93+50IxJ2NaZqJ5Et2dvbgdrUGp6f/prLwUYMQwA+GUefy7OSn3W7nc7lcYqE9a8y1jS8yhSIEpNvtFogo0Xxrs3kHPt/8cvLbSaoFQqvVqnOBbPKTBhCexcbH1+HevfuTJ5RQC956pwpIlloiZDKmaXJ26euEXkxfLO9A77z9ftLDBMoXApKWyfBM33g9zfr6GZv/gQwHZjd142A9lA85OjrSLMtKvOa7//2PUC7fysRk3BNvKCA8w6QCM3f17D8+/OCTzCJXVOhVLmKJAOGK1+UkXh/D4C233TaTEB9GZq9l1O1jSWgg3W63TCQ/xTgFMAbqNKGBmKbJCZRaGNwibba++hZ2d78T6SK9rbdGExqI40f4Eq60bNrh4X24tnFd+gIFBXZaRp3vs9mPEBDZZlO+sQX7+z8Jzl9ucwT8yHupRgiI7FNvVkGYB+lQ9U4IiGM2nJ2OHU5Og7n4tUPYZLiDoyW8BcfyJVkGYY6zsI/7fgMU1hAW0Ol0SogY6+pmtVqD29Wh4rtcBzFa2sjbRJGAOKbDWfkwX0METotTh7e2qmkBGBjHW5iSoiGO6SzmcrnIRa2sfMi4yzKRfIiXqHPoi1S/ySL3MQlGbCAsIA6Uzc2b8GvzbipmEwaGFCBxoKRlNgho5zrCkI/sVP3CHU3hGEXoRJywlvSQaN2t7KcKxHW0CwsLJZFTcVJ5EE4JOle6hb6nkaYhXvpODrYUdluWXKjqOFoRKchJBIgLx8nWc8Z+Yrxy/PgJsPlETRLZGkFUETGPIBNKFIg7IPsXImIwV4ho7MU+jmB3d/ZClTVtCIDbMj9/TQWI9004ZyEGpCEi5yH6uQi33dOnf/9Rq+290Pz5t3N/Pv7rHP9dAeTzE+djTkCx+Fs7jn+kP/8BFhTDWYTuCcYAAAAASUVORK5CYII=","e":1},{"id":"image_3","w":94,"h":154,"u":"","p":"data:image/png;base64,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","e":1},{"id":"image_4","w":90,"h":172,"u":"","p":"data:image/png;base64,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","e":1},{"id":"image_5","w":37,"h":56,"u":"","p":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAA4CAYAAAB61jFGAAABy0lEQVRoQ+WZ0U3DMBBA78gAMEFggabegKQLkA3oBnQDugHdgG5AN6Ab0A1M7P7DBDkUlFZEFJB9vvYk+h1ZT8+Xp+iKwPxtt1vTtu2CeQzkeV7uzkDuYdbaqyzLLPecPM/3LGyoDsY5R+qgvPevRHTJAZMwtQaAa21QSwC4VQXVNM0cEe9VQTnnpgDwqArKe18S0bMqqBStSv72pWiVFNQ7AJzHXqEUFKtVUlArALhRZYrbKhFTTdPMEPFBlSluq0RM9R97L6pMcVslYqqHim6VJFR0q/4XFKdVYqZUQnFaJWZKJRSnVWKmNENFtUralD6o2CyImlIJFZsFUVMqoay1F1mWvYV+7Imaim3VMaA2ADAOsXUMqOBWiUN57xdEdKfKVEyrxE0552oAeBI1ZUZl3SLWiGCAwgY4BKx7Fs+o+nWPborJnIBmnBVPMihjSkOES2krh4APmjKjckqI3X8t0QuwUDtfn/8G1c0OIQYNKAfgT1OfV9ZiF72TGNoBDkwVRbVG5l8ZKaztofo5Yi3nUwANkjAeV5tTvGk/zlQ/S9HLrlSGBjNlismMgKJ3lSJQRVGtkLFqloJS8dYNrk9LCg52KvU1cM77ABZR+3kzEoZbAAAAAElFTkSuQmCC","e":1},{"id":"image_6","w":37,"h":56,"u":"","p":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAA4CAYAAAB61jFGAAAByUlEQVRoQ+2Z7VHCQBBAd00BWkGkAeJ1YLAB04F0oB1IB9qBdCAdQAfawcldAVpB1jkGGBnkI7u3uD/kL8nO43F5kByC8OW97xVFMRaOgbIs69UMlA5L54cQSDqnLMs1Sy6oLwA4l4BpQM0A4Noa1AQAbk1BzefzESI+/kMdMhBjrIloeui4fe9nX+gmoXK0Krspy1CiVmmZsgclbZWKKZNQ0iyomDIJJc2CiinLUO8AcMX5DdQ0xW6VGlSM8ZmI7k2ZkrRKzVQIoQGAV1OmJK1SM+W9vyiK4tOUKUmr1EwtoVit0oZitUoVitsqVShuq1ShQghDAHjpegWqQnFbpQq1fIjmTZnitkrVVIKKMX4Q0WUXW+pQIYTOrToFVHowe2fKFKdVpzDVuVXqUJxWdYZy/bppERtEcEC8u5Vj1xee0WDvc3TXr4eEOAKATpf3sQC/HbcTyrnaEeFY28rRUAugFlNnRDsIXFtbppZAb9yBOc7bgHKu7lGL6a/snxhafaANqKoazFC4v5LVVLrkCZF1E5kD5OeMtSkrlhLcAsrC4t4y5aqbBwJ6yv01cOctTFXVYILCvTouwM54WlpP6zVlEiqn+lyzvgGqC/t5ANFeNgAAAABJRU5ErkJggg==","e":1},{"id":"image_7","w":33,"h":105,"u":"","p":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAABpCAYAAAC070puAAAEX0lEQVRoQ+2bPXbTQBDHZ0UBNBBOQCiI0hFKmQLnBDgOPeEEhBNgTkA4AaEnijlBTIFVQjorFDgngHQJ76HlrWUru9Lsai2NVuG9uMzTx0/zn52d2ZkwWOLXe/h1w/NYl3GY/v1zMRpON38vcbv2UmbzkP56tAMcBgBwX7r+DBjshpNg3+YZpmuMEJqXK8/zGGx+mgSjOiAohM3LFy9lwD8fxJ0eGcQyL5dfmlyc36vjHzNLpA7nDXOa238cg5d1fIP1Vo9WvJu3vlcGAIC6krC5BB/sPxu/MowDq5WG3S0gBsDhTV0IxvnWwUlHSLr0jwyCc/h4eBLsLE0g5Jw75bcqN+fuOQvjYKXKc2Y69v1IhN+7VR4g31NVkhnE1lq0zxi8qAtRVZLUEuneUHuFAEAlSdJglcaKX3UtIe6vIkm2tvt+JALWo7ogVSTJILb88R4D9qouRBVJMojttXGPM3ZIAAHLbu8ZBKVfcODvD+POru0HKfGeyi8A4DSMg9VKEIR+AUmSPB7+eCKcvfSnWoIuXsAykigQvfVo1ePwsxTd7gJrSQo5ANU+IjhtJcEgROb81O5jzVfZSlKEIEpy5nhWkmAQVJvZjMNGkgIEYZIzNwZ/HcadPZNwePHjR5zCJ+bPOA7jYKMKBMmOunhxwuDBcBJMdSA6S5CtkPTFZkl0tShJGSB9uVESjSXGuwDsHaFfgEkSFOL5etRNOBxRQpgkQSHol+nsc7SSaOvHPu0yTQOXZpU4hQDNEYIJgjRWCEvojhBMEMSxInVz7FTHOQQmiR6CdkvPVjsmiXMITJJWIPKStAKRr1e1EJRlIRL+lbRPC9HM/nGJI0fP1iBkv2gNQi4HWoMAgC9hHHTTcK75Ne0TcuXeJgQsjqJbhbhzcX57f7p53irEYke9hvg/LEHVBzGVDaWWuIZYmO9KWGLbHw85sGe0paD6tHKf8KNGUn4ZozRi9h1AlO4dlOeZGkmzFM9tLarSmPMJ4uNl3BAM3oaTQMxk4EmNg4RG6ZXpzqxID1QxU8iHrK4OzgoccoMfhXAQqDKn1PpE0zHCqgxs4rxK0UNaGaglXCzPfMuy4BMulmf+FA/rd1AfKedXRqGpX4BwvTJQn+j7kWgJyONtpCkF1hdTLEHZqtaTF9sOCoQLp8Sa+QqEy7xStpQK0Xw2hbYo8xCUDTjMLZQ9Y3FBBtFQj0MFyYXrAkTfp285FUxR1mpwEKS0Yy6ZHE0HKWEV3aSiDNG0U5p7YC6ClGlwdGYJR06Zpfh5h00hGmqwKFHRMDTqDMI0R+EMwjTD68on0HCtRMymQ3bZZKIcJ0hGZLFdq2xG8xKiuRVSOq16uYum06kiv6w9MGwqdFBLyX9sIGiVDvWg2TbV5LKYUE2SpGsziYhW5QQg1gDaqrxmKD9OkmTHxgKFzApzGBE/bnhsYHmoegoMBlX+z0N7eidDpZU673HONhgDdeyVwcgDGNX5vx8rCNI6EHnYlYD4B/SqxoiJJ3nhAAAAAElFTkSuQmCC","e":1},{"id":"image_8","w":27,"h":30,"u":"","p":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAeCAYAAADdGWXmAAAB+0lEQVRIS62WzXUTMRDHZ3YLIBzznjW2KsBUgLlxS6gAqIBQASkhqYCkApIKcB4pIKlgY8kHjqSAkXizaP3keHcteVfXHc1vPv9ahJ5jrf3gnJsXRXEcmznnfjvn7rXWf/ruv/yGbcbGmFNEvPDeT/c4u2bmM6313xToDswYcwUAn1Iuiw0irhDxdDKZPOy7swXLBUXOn5l5ti/DDUxKBwA/90XX8/2OiBZ992OY1P3VAJiU9L1Satnlo4YZYz4DwI8hoHD3loikQq2ngd0AwMkIMCCi1gmvhylkJqm/GwNWFMXbrslsYH4MUFiFzr7VMGvtU8ICJ8WDiJdKqbM249HLKEuulJp1wlar1Tkifk8KPc3oIxHJ0G2dOrOqqmZlWVZpfpKsrolI1mkXFiZytPEHgFb52uxEVVVHZVk+DVWRKJUvRCSivjlbC7her+fOOdm5QbIVvO+oyc62B6BE9CapOz1GzPw6fgk6pSXopezLwVDv/bfpdHrRxNMJiwMe8Pw8EtE8CzZkWplZa61l8P4Lccqx1i68979SbLcmMJKvZJg4OERDY/nKgh36yDYveBZswOLX8pUFC6WU/8mvmb17JqKjbFiuaEvPvPdLZj7PhiWswSMiLr33D8y8bMY+a/Tjsr1YgzuJHBEb552/4gdlFnq36PtHbOvpPzo95NwznVwFAAAAAElFTkSuQmCC","e":1},{"id":"image_9","w":369,"h":258,"u":"","p":"data:image/png;base64,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","e":1},{"id":"image_10","w":76,"h":68,"u":"","p":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAABECAYAAAArxNNGAAABVklEQVR4Xu3csW3CUBRG4XspgrtkBFcwg2lQNoAsgNjIIzAARNkAOlZAqTJC6EgTo6cI0Rmf1Mfds0716a9vRkQs6v1LPlVtZtTl7XcXyOi+M7PdnppD+ZsFazSuviLiWagegYz1+6nZ5HJy3GTGSqyHAuffn0udb9Njmdr8YW4Qo4xXwcAQBANYJRVMMCgAcxcmGBSAuQsTDArA3IUJBgVg7sIEgwIwd2GCQQGYuzDBoADMXZhgUADmLkwwKABzFyYYFIC5CxMMCsDchQkGBWDuwgSDAjB3YYJBAZi7MMGgAMxdmGBQAOYuTDAoAHMXJhgUgLkLEwwKwNyFCQYFYO7CBIMCMHdhgkEBmLswwaAAzF2YYFAA5i5MMCgAcxcmGBSAuQsTDArA3IUJBgVg7sIEgwIwd2H/AfMc1mC1v3NYHlwbCHY7uFZyT/r1o2XXtbvP2UeprqhCwH19q9P6AAAAAElFTkSuQmCC","e":1},{"id":"image_11","w":240,"h":44,"u":"","p":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAAAsCAYAAABbqTXGAAADOUlEQVR4Xu2d33EaMRCHtbpXTpgKQgdxKohdQUgFJhXEJTgVhFTgdBCnAkMHTgehAszB650yywDDv4d7yWjl++7Nw43107f6oTsh7Yo7uRaLxZX3fiwiN865q9PP+RsCHSPw6px7CiH8tNhvORRVVdXYOTdxzvUtikUTBBISmIvIuCzLaUINZ03vDVxVlX7D3FkShxYIGCTwxdJsvDHwduZ9NAgLSRAwR8B7/6HX671YECb6zlsUxV8emy2EAw2ZEJiFEHSNKPkly+XyXkS+J1eCAAhkRMDKLCxVVT055z5lxA6pEEhOIMb4rd/vP6QWogbWVbWPqYXQPgQyI/A7hDBKrVkNrO+/71ILoX0IZEbAxHswM3Bmowa5NgiIyI+yLO9Tq5HVajWJMX5NLYT2IZAZARO/B6uBb2KMz5nBQy4EUhJY1nU9HAwGus0y6bXbyMFCVtIw0HhOBKysQCuzjYHZzJHT8EFrYgJ/QgjXiTXsm9/vhV6v19dN0+h+6PdWxKEDAsYIzOq6Hll4dN5xOTqNtD1KqDuzdHWNE0nGRg9ykhGYO+ceLB1iuGjgQzw6I8cYOQ+cbMzQsAUCIvJq5eDCJR5HM7AFYGiAAATaE8DA7VlxJwTMEcDA5kKCIAi0J4CB27PiTgiYI4CBzYUEQRBoTwADt2fFnRAwRwADmwsJgiDQngAGbs+KOyFgjgAGNhcSBEGgPQEM3J4Vd0LAHIGLBt7mida0mUNzihEEgY4REJGXGOM0hKAJKI+u09IqmqRLS6uQI6tjg4TuZkHgrLzLYWkVrYtEdYYs4ojIjhPYp/PZZeTQmfdXx6HQfQhkQ0BEbrXQGqVVsgkZQiFwRGAeQhhqWlkenRkZEMiTwGdKq+QZOFRDwGluahK7MxAgkC+BGQbON3gohwAGZgxAIGMCGwNrKtm7jDuBdAh0koAmmKe0SidDT6ffAgEtMk5plbcQSfrQRQKb+sQbA2+rMmh9JJK5d3Eo0OfcCOyLq52WVsHEuYUSvV0jMPfej3bJ5s9KqxRFoaeRWNTq2rCgv9YJLGOMk6ZpJoe1mS6eB95WK9S6wWaqsFmniz4I/C8C3vupHly49P//AW3H491/g9PpAAAAAElFTkSuQmCC","e":1},{"id":"image_12","w":473,"h":539,"u":"","p":"data:image/png;base64,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","e":1},{"id":"comp_0","layers":[{"ddd":0,"ind":2,"ty":2,"nm":"left-arm","parent":5,"refId":"image_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":31,"s":[0]},{"t":61,"s":[20]}],"ix":10},"p":{"a":0,"k":[27.814,14.589,0],"ix":2},"a":{"a":0,"k":[46.906,7.181,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":240,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":2,"nm":"left-hand","parent":2,"refId":"image_1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":31,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":47,"s":[-11.867]},{"t":61,"s":[-11]}],"ix":10},"p":{"a":0,"k":[8.196,111.482,0],"ix":2},"a":{"a":0,"k":[26.196,7.09,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":240,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":2,"nm":"hhead","parent":5,"refId":"image_2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":17,"s":[12]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":24,"s":[11]},{"t":36,"s":[-11]}],"ix":10},"p":{"a":0,"k":[47.65,-5.4,0],"ix":2},"a":{"a":0,"k":[34.25,57.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":240,"st":0,"bm":0},{"ddd":0,"ind":5,"ty":2,"nm":"body-top","refId":"image_3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":15,"s":[3]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":25,"s":[6]},{"t":37,"s":[0]}],"ix":10},"p":{"a":0,"k":[620.238,444.9,0],"ix":2},"a":{"a":0,"k":[54.9,141.25,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":240,"st":0,"bm":0},{"ddd":0,"ind":6,"ty":2,"nm":"legs","refId":"image_4","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[609.573,516.8,0],"ix":2},"a":{"a":0,"k":[44.621,85.85,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":240,"st":0,"bm":0},{"ddd":0,"ind":7,"ty":2,"nm":"right-foot","parent":6,"refId":"image_5","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[66.077,164.1,0],"ix":2},"a":{"a":0,"k":[18.208,27.6,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":240,"st":0,"bm":0},{"ddd":0,"ind":8,"ty":2,"nm":"left-foot","parent":6,"refId":"image_6","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[4.386,164.1,0],"ix":2},"a":{"a":0,"k":[18.2,27.6,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":240,"st":0,"bm":0},{"ddd":0,"ind":9,"ty":2,"nm":"right-arm","parent":5,"refId":"image_7","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":31,"s":[0]},{"t":58,"s":[-91]}],"ix":10},"p":{"a":0,"k":[73.85,45.526,0],"ix":2},"a":{"a":0,"k":[11.439,97.381,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":240,"st":0,"bm":0},{"ddd":0,"ind":10,"ty":2,"nm":"right-hand","parent":9,"refId":"image_8","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":31,"s":[0]},{"t":58,"s":[13]}],"ix":10},"p":{"a":0,"k":[7.412,5.529,0],"ix":2},"a":{"a":0,"k":[19.678,24.575,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":240,"st":0,"bm":0},{"ddd":0,"ind":11,"ty":2,"nm":"pickup","refId":"image_9","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":31,"s":[0]},{"t":61,"s":[-6]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":31,"s":[607.801,320.65,0],"to":[-24.167,0,0],"ti":[24.167,0,0]},{"t":61,"s":[462.801,320.65,0]}],"ix":2},"a":{"a":0,"k":[353.062,146.9,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":240,"st":0,"bm":0}]},{"id":"comp_1","layers":[{"ddd":0,"ind":2,"ty":2,"nm":"box","refId":"image_10","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[101.175,147.95,0],"ix":2},"a":{"a":0,"k":[37.725,34,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":0,"s":[0,0,100]},{"t":10,"s":[100,100,100]}],"ix":6}},"ao":0,"ip":0,"op":240,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":2,"nm":"data","refId":"image_11","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[169.25,148.05,0],"ix":2},"a":{"a":0,"k":[0,22,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":6,"s":[0,100,100]},{"t":26,"s":[100,100,100]}],"ix":6}},"ao":0,"ip":0,"op":240,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":2,"nm":"Frame","refId":"image_12","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[236.25,269.05,0],"ix":2},"a":{"a":0,"k":[236.5,269.3,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":240,"st":0,"bm":0}]}],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Shape Layer 6","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[868,221,0],"ix":2},"a":{"a":0,"k":[259,-173,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":72,"s":[0,0,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":77,"s":[69.231,69.231,100]},{"t":82,"s":[0,0,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[26,26],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.800000059838,0.800000059838,0.800000059838,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[259,-173],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":72,"op":312,"st":72,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Shape Layer 4","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[95,364,0],"ix":2},"a":{"a":0,"k":[259,-173,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":67,"s":[0,0,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":72,"s":[69.231,69.231,100]},{"t":77,"s":[0,0,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[26,26],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.800000059838,0.800000059838,0.800000059838,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[259,-173],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":67,"op":307,"st":67,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Shape Layer 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[171,415,0],"ix":2},"a":{"a":0,"k":[259,-173,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":62,"s":[0,0,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":67,"s":[69.231,69.231,100]},{"t":72,"s":[0,0,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[26,26],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.800000059838,0.800000059838,0.800000059838,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[259,-173],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":62,"op":302,"st":62,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"Shape Layer 9","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[129,109,0],"ix":2},"a":{"a":0,"k":[259,-173,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":57,"s":[0,0,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":62,"s":[130.769,130.769,100]},{"t":67,"s":[0,0,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[26,26],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.321568627451,0.152941176471,0.780392216701,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[259,-173],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":57,"op":297,"st":57,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"Shape Layer 5","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[827,172,0],"ix":2},"a":{"a":0,"k":[259,-173,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":57,"s":[0,0,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":62,"s":[130.769,130.769,100]},{"t":67,"s":[0,0,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[26,26],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.321568627451,0.152941176471,0.780392216701,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[259,-173],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":57,"op":297,"st":57,"bm":0},{"ddd":0,"ind":6,"ty":4,"nm":"Shape Layer 8","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[208,58,0],"ix":2},"a":{"a":0,"k":[259,-173,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":52,"s":[0,0,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":57,"s":[130.769,130.769,100]},{"t":62,"s":[0,0,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[26,26],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.321568627451,0.152941176471,0.780392216701,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[259,-173],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":52,"op":292,"st":52,"bm":0},{"ddd":0,"ind":7,"ty":4,"nm":"Shape Layer 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[125,321,0],"ix":2},"a":{"a":0,"k":[259,-173,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":52,"s":[0,0,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":57,"s":[130.769,130.769,100]},{"t":62,"s":[0,0,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[26,26],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.321568627451,0.152941176471,0.780392216701,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[259,-173],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":52,"op":292,"st":52,"bm":0},{"ddd":0,"ind":8,"ty":4,"nm":"Shape Layer 7","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[171,95,0],"ix":2},"a":{"a":0,"k":[259,-173,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":47,"s":[0,0,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":52,"s":[192.308,192.308,100]},{"t":57,"s":[0,0,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[26,26],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.800000059838,0.800000059838,0.800000059838,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[259,-173],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":47,"op":287,"st":47,"bm":0},{"ddd":0,"ind":9,"ty":4,"nm":"Shape Layer 1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[759,227,0],"ix":2},"a":{"a":0,"k":[259,-173,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":47,"s":[0,0,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":52,"s":[192.308,192.308,100]},{"t":57,"s":[0,0,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[26,26],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.800000059838,0.800000059838,0.800000059838,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[259,-173],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":47,"op":287,"st":47,"bm":0},{"ddd":0,"ind":10,"ty":0,"nm":"light-weight","refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[514.25,447.375,0],"ix":2},"a":{"a":0,"k":[350,350,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":700,"h":700,"ip":0,"op":240,"st":0,"bm":0},{"ddd":0,"ind":11,"ty":0,"nm":"Light-weighted","refId":"comp_1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[624,398,0],"ix":2},"a":{"a":0,"k":[401.5,320.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":803,"h":641,"ip":0,"op":240,"st":0,"bm":0}],"markers":[]}');class tw extends Mt{constructor(){super(".post-loading-animation"),this.style({width:200,height:200}),this.append(new pr(".post-loading-animation",ew))}}class rw extends yr{constructor(){super({barrierDismissible:!0}),this.append(new jt(".popup.post-popup",Kt("header",new rr({type:vr.Text,tag:".close",icon:new fr("close"),click:()=>this.delete()})),new Yv(!0,(()=>this.delete()))))}}class sw extends as{constructor(){super(".token-held-post-list",qv,{storeName:"key-held-posts",signedUserId:Ub.user?.user_id,emptyMessage:$t("token-held-post-list-empty-message")},Xv,new tw)}async fetchPosts(){if(Ub.user?.wallet_address){const e=await qv.fetchTokenHeldPosts(Ub.user.user_id,Ub.user.wallet_address,this.lastPostId);return{fetchedPosts:e.posts.map((e=>({posts:[e],mainPostId:e.id}))),repostedPostIds:e.repostedPostIds,likedPostIds:e.likedPostIds}}return{fetchedPosts:[],repostedPostIds:[],likedPostIds:[]}}}class nw extends Gr{tabs;globalPostList;followingPostList;tokenHeldPostList;constructor(e){super(),gv.append(this.container=Kt(".posts-view",Kt("main",Ub.signed?new Yv:void 0,Kt(".post-container",Ub.signed?this.tabs=new Rr("posts-view-tabs",Ub.walletLinked?[{id:"global",label:$t("posts-view-global-tab")},{id:"following",label:$t("posts-view-following-tab")},{id:"token-held",label:$t("posts-view-token-held-tab")}]:[{id:"global",label:$t("posts-view-global-tab")},{id:"following",label:$t("posts-view-following-tab")}]):void 0,this.globalPostList=new ls(qv,{signedUserId:Ub.user?.user_id,wait:!0},Xv,new tw),Ub.signed?this.followingPostList=new os(qv,{signedUserId:Ub.user?.user_id,wait:!0},Xv,new tw):void 0,Ub.walletLinked?this.tokenHeldPostList=new sw:void 0)),Ub.signed?new rr({tag:".post",icon:new fr("add"),click:()=>new rw}):void 0)),this.tabs?this.tabs.on("select",(e=>{[this.globalPostList,this.followingPostList,this.tokenHeldPostList].forEach((e=>e?.hide())),"global"===e?this.globalPostList.show():"following"===e?this.followingPostList?.show():"token-held"===e&&this.tokenHeldPostList?.show()})).init():this.globalPostList.show()}}class iw extends Mt{postId;thread;constructor(e,t){super(".post-display"),this.postId=e,t&&this.append(this.thread=new ns([t],qv,{inView:!0,mainPostId:t.id,repostedPostIds:[],likedPostIds:[],newPostIds:[],signedUserId:Ub.user?.user_id},Xv,new Wv(e,void 0,(e=>this.thread?.addComment(e)))))}set data(e){this.empty().append(this.thread=new ns(e.posts,qv,{inView:!0,mainPostId:this.postId,repostedPostIds:e.repostedPostIds,likedPostIds:e.likedPostIds,newPostIds:[],signedUserId:Ub.user?.user_id},Xv,new Wv(this.postId,void 0,(e=>this.thread?.addComment(e)))))}}class aw extends Gr{postDisplay;lastCommentId;constructor(e,t,r){super(),gv.append(this.container=Kt(".post-view")),this.render(parseInt(e.postId),r)}changeParams(e,t,r){this.render(parseInt(e.postId),r)}async render(e,t){this.container.empty().append(this.postDisplay=new iw(e,t));const r=await qv.fetchPost(e,void 0,Ub.user?.user_id);this.postDisplay.data=r,this.lastCommentId=r.posts[r.posts.length-1]?.id}}class ow extends Mt{constructor(e){super(".user-bio-tab")}show(){this.deleteClass("hidden")}hide(){this.addClass("hidden")}}class lw extends as{userId;constructor(e){super(".user-comments-tab",qv,{storeName:e===Ub.user?.user_id?"signed-user-comments":void 0,signedUserId:Ub.user?.user_id,emptyMessage:"This user has not commented anything yet."},Xv,new tw),this.userId=e}async fetchPosts(){const e=await qv.fetchUserCommentPosts(this.userId,this.lastPostId);return{fetchedPosts:e.posts.map((e=>({posts:[e],mainPostId:e.id}))),repostedPostIds:e.repostedPostIds,likedPostIds:e.likedPostIds}}}class cw extends Mt{constructor(e){super(".horizontal-token-list-item");const t=Kt(".token-image");zr.selectLoadable(t,[e.image_thumb,e.stored_image_thumb]);const r=Kt("a",e.name),s=Kt("a"," (",e.symbol,")."),n=Hr.numberWithCommas(String(e.holder_count)),i=Hr.numberWithCommas(hn(e.last_fetched_price));this.append(Kt("header",t),Kt("main",Kt("p.description",r,s),Kt(".info",n,1===e.holder_count?" holder, ":" holders, ",Kt("span.price"+(void 0===e.is_price_up?"":e.is_price_up?".up":".down"),i," ETH.")))).onDom("click",(()=>new iv(e.chain,e.token_address,e)))}}class hw extends ov{walletAddress;lastCreatedAt;constructor(e){super(".user-holding-tokens-tab",{storeName:e===Ub.user?.wallet_address?"signed-user-holding-tokens":void 0,emptyMessage:"This user does not hold any tokens."}),this.walletAddress=e}addItem(e){new cw(e).appendTo(this)}async fetchTokens(){const e=await nv.fetchHeldTokens(this.walletAddress,this.lastCreatedAt);return this.lastCreatedAt=e[e.length-1]?.created_at,e}}class uw extends as{userId;lastLikedAt;constructor(e){super(".user-liked-posts-tab",qv,{storeName:e===Ub.user?.user_id?"signed-user-liked-posts":void 0,signedUserId:Ub.user?.user_id,emptyMessage:"This user has not liked anything yet."},Xv,new tw),this.userId=e}async fetchPosts(){const e=await qv.fetchLikedPosts(this.userId,this.lastLikedAt);return this.lastLikedAt=e.lastLikedAt,{fetchedPosts:e.data.posts.map((e=>({posts:[e],mainPostId:e.id}))),repostedPostIds:e.data.repostedPostIds,likedPostIds:e.data.likedPostIds}}}class dw extends ov{walletAddress;lastCreatedAt;constructor(e){super(".user-owned-tokens-tab",{storeName:e===Ub.user?.wallet_address?"signed-user-owned-tokens":void 0,emptyMessage:"This user does not own any tokens."}),this.walletAddress=e}addItem(e){new cw(e).appendTo(this)}async fetchTokens(){const e=await nv.fetchOwnedTokens(this.walletAddress,this.lastCreatedAt);return this.lastCreatedAt=e[e.length-1]?.created_at,e}}class pw extends as{userId;constructor(e){super(".user-posts-tab",qv,{storeName:e===Ub.user?.user_id?"signed-user-posts":void 0,signedUserId:Ub.user?.user_id,emptyMessage:"This user has not posted anything yet."},Xv,new tw),this.userId=e}async fetchPosts(){const e=await qv.fetchUserPosts(this.userId,this.lastPostId);return{fetchedPosts:e.posts.map((e=>({posts:[e],mainPostId:e.id}))),repostedPostIds:e.repostedPostIds,likedPostIds:e.likedPostIds}}}class fw extends as{userId;lastRepostedAt;constructor(e){super(".user-reposts-tab",qv,{storeName:e===Ub.user?.user_id?"signed-user-reposts":void 0,signedUserId:Ub.user?.user_id,emptyMessage:"This user has not reposted anything yet."},Xv,new tw),this.userId=e}async fetchPosts(){const e=await qv.fetchReposts(this.userId,this.lastRepostedAt);return this.lastRepostedAt=e.lastRepostedAt,{fetchedPosts:e.data.posts.map((e=>({posts:[e],mainPostId:e.id}))),repostedPostIds:e.data.repostedPostIds,likedPostIds:e.data.likedPostIds}}}class mw extends Mt{xUsername;loaded=!1;constructor(e){super(".user-tweets-tab"),this.xUsername=e}show(){if(this.deleteClass("hidden"),!this.loaded){this.loaded=!0;const e=(new ur).appendTo(this);window.twttr.widgets.createTimeline({sourceType:"profile",screenName:this.xUsername},this.domElement,{height:300,theme:"dark"}).then((()=>e.delete()))}}hide(){this.addClass("hidden")}}const gw=new class extends Lr{constructor(){super("user_wallets","*, total_token_balance::text, total_earned_trading_fees::text",50)}async fetch(e){return await this.safeSelectSingle((t=>t.eq("wallet_address",e)))}};class yw extends Mt{userWalletAddress;infoContainer;feesEarnedDisplay;portfolioValueDisplay;constructor(e,t){super(".user-profile"),this.append(this.infoContainer=Kt(".info-container"),Kt(".metrics",Kt("section.earned",new fr("savings"),Kt(".metric",Kt("h3",$t("user-profile-metrics-fees-earned-title")),this.feesEarnedDisplay=Kt(".value",new tr))),Kt("section.portfolio-value",new fr("account_balance"),Kt(".metric",Kt("h3",$t("user-profile-metrics-portfolio-value-title")),this.portfolioValueDisplay=Kt(".value",new tr))))),t&&this.renderUserInfo(t)}set user(e){this.infoContainer.empty(),e?(this.renderUserInfo(e),e.wallet_address!==this.userWalletAddress&&(this.userWalletAddress=e.wallet_address,this.fetchFeesEarned(),this.fetchPortfolioValue())):(this.feesEarnedDisplay.text="0",this.portfolioValueDisplay.text="0")}renderUserInfo(e){const t=Kt(".avatar");zr.selectLoadable(t,[e.avatar,e.stored_avatar]),this.infoContainer.append(t,Kt(".info",Kt("h2.name",e.display_name),Kt("a.x-username",`@${e.x_username}`,{href:`https://x.com/${e.x_username}`,target:"_blank"}),Kt(".link",`https://pal.social/${e.x_username}`,Kt("button.copy",new fr("content_copy"),{click:(t,r)=>{navigator.clipboard.writeText(`https://pal.social/${e.x_username}`),r.empty().append(new fr("check"))}})),Kt(".join-date",$t("user-profile-joined",{date:Qr.format(e.created_at??Ut)})),Kt(".actions",new rr({title:"𝕏",href:`https://twitter.com/${e.x_username}`,target:"_blank"}))))}async fetchFeesEarned(){const e=this.userWalletAddress?await gw.fetch(this.userWalletAddress):void 0;this.feesEarnedDisplay.text=hn(e?e.total_earned_trading_fees:"0")+" ETH"}async fetchPortfolioValue(){const e=this.userWalletAddress?await Lb.fetchPortfolioValue(this.userWalletAddress):"0";this.portfolioValueDisplay.text=hn(e)+" ETH"}}class bw extends Mt{xUsername;userId;userWalletAddress;userBio;userProfile;bioAndTweetTabContainer;tokenTabContainer;postAndFollowerTabContainer;bioAndTweetTabs;constructor(e,t){super(".user-display"),this.xUsername=e,this.append(this.userProfile=new yw(e,t),this.bioAndTweetTabContainer=Kt(".bio-and-tweet-tab-container"),this.tokenTabContainer=Kt(".token-tab-container"),this.postAndFollowerTabContainer=Kt(".post-and-follower-tab-container")),t&&(this.userId=t.user_id,this.renderTabs())}set user(e){e?(this.userProfile.user=e,e.user_id!==this.userId&&(this.userId=e.user_id,this.userWalletAddress=e.wallet_address,this.userBio=e.metadata?.bio,this.renderTabs())):(this.userProfile.user=void 0,[this.bioAndTweetTabContainer,this.tokenTabContainer,this.postAndFollowerTabContainer].forEach((e=>e.empty()))),this.bioAndTweetTabs&&!this.bioAndTweetTabs.deleted&&this.bioAndTweetTabs.select(this.userBio?"user-bio":"user-tweets")}renderTabs(){const e=new ow(this.userBio),t=new mw(this.xUsername);if(this.bioAndTweetTabs=new Rr("bio-and-tweet-tabs",[{id:"user-bio",label:"Bio"},{id:"user-tweets",label:"Tweets"}]).on("select",(r=>{[e,t].forEach((e=>e.hide())),"user-bio"===r?e.show():"user-tweets"===r&&t.show()})).init(),this.bioAndTweetTabContainer.empty().append(this.bioAndTweetTabs,e,t),this.userWalletAddress){const e=new dw(this.userWalletAddress),t=new hw(this.userWalletAddress),r=new Rr("token-tabs",[{id:"user-owned-tokens",label:"Owned Tokens"},{id:"user-holding-tokens",label:"Holding Tokens"}]).on("select",(r=>{[e,t].forEach((e=>e.hide())),"user-owned-tokens"===r?e.show():"user-holding-tokens"===r&&t.show()})).init();this.tokenTabContainer.empty().append(r,e,t)}else this.tokenTabContainer.empty();const r=new pw(this.userId),s=new lw(this.userId),n=new fw(this.userId),i=new uw(this.userId),a=new Rr("post-and-follower-tabs",[{id:"user-posts",label:"Posts"},{id:"user-comments",label:"Comments"},{id:"user-reposts",label:"Reposts"},{id:"user-liked-posts",label:"Liked"}]).on("select",(e=>{[r,s,n,i].forEach((e=>e.hide())),"user-posts"===e?r.show():"user-comments"===e?s.show():"user-reposts"===e?n.show():"user-liked-posts"===e&&i.show()})).init();this.postAndFollowerTabContainer.empty().append(a,r,s,n,i)}}class vw extends Gr{userDisplay;constructor(){super(),gv.append(this.container=Kt(".profile-view",this.userDisplay=new bw(Ub.user?.x_username??"",void 0))),this.userDisplay.user=Ub.user,Ub.signed||setTimeout((()=>Nt.goNoHistory("/")))}}class ww extends Gr{linkWalletSection;constructor(e){super(),gv.append(this.container=Kt(".settings-view",Ub.signed?this.linkWalletSection=Kt("section.link-wallet"):void 0)),this.renderLinkWalletSection(),this.container.onDelegate(Ub,"walletLinked",(()=>this.renderLinkWalletSection()))}renderLinkWalletSection(){this.linkWalletSection?.empty().append(Kt("header",Kt("h2",$t("settings-view-link-wallet-section-title"))),Kt("main",Ub.walletLinked?Kt("p.linked",$t("settings-view-link-wallet-section-linked").trim()+" ",Kt("a",Ub.user?.wallet_address,{href:`https://etherscan.io/address/${Ub.user?.wallet_address}`,target:"_blank"})):Kt("p",$t("settings-view-link-wallet-section-description"))),Kt("footer",new rr({title:$t("settings-view-link-wallet-button"),click:async(e,t)=>{t.loading=!0;try{await Ub.linkWallet(),this.renderLinkWalletSection()}catch(e){console.error(e),t.loading=!1}}})))}}class Aw extends Gr{userDisplay;constructor(e,t,r){super(),gv.append(this.container=Kt(".user-view")),this.render(e.xUsername,r)}changeParams(e,t,r){this.render(e.xUsername,r)}async render(e,t){t?.display_name&&gv.changeTitle(t.display_name),this.container.empty().append(this.userDisplay=new bw(e,t));const r=await Lb.fetchByXUsername(e);r?.display_name&&gv.changeTitle(r.display_name),this.userDisplay.user=r}}async function kw(e){Ny.dev=e.dev,Ny.infuraKey=e.infuraKey,Ny.messageForWalletLinking=e.messageForWalletLinking,Ky[Hy.Ethereum]={chainId:Ny.dev?bn.id:yn.id,name:yn.name,icon:"/images/chain/ethereum.svg",rpc:`https://${Ny.dev?"goerli":"mainnet"}.infura.io/v3/${Ny.infuraKey}`,blockExplorer:(Ny.dev?bn:yn).blockExplorers.default,blockTime:12.05},Ky[Hy.Base]={chainId:Ny.dev?Ly.id:Uy.id,name:Uy.name,icon:"/images/chain/base.svg",rpc:(Ny.dev?Ly:Uy).rpcUrls.default.http[0],blockExplorer:(Ny.dev?Ly:Uy).blockExplorers.default,blockTime:2},Ky[Hy.Arbitrum]={chainId:Ny.dev?jy.id:Gy.id,name:Gy.name,icon:"/images/chain/arbitrum.svg",rpc:(Ny.dev?jy:Gy).rpcUrls.default.http[0],blockExplorer:(Ny.dev?jy:Gy).blockExplorers.default,blockTime:.26},Ky[Hy.Optimism]={chainId:Ny.dev?Vy.id:zy.id,name:zy.name,icon:"/images/chain/optimism.svg",rpc:(Ny.dev?Vy:zy).rpcUrls.default.http[0],blockExplorer:(Ny.dev?Vy:zy).blockExplorers.default,blockTime:2},Rt.initialize(e.supabaseUrl,e.supabaseAnonKey,e.dev),Rb.init(e.walletConnectProjectId),await Vt.load(Kt("img",{src:"/images/logo-transparent.png"}),[Ub.fetchUserAndFollowsOnInit(),Jb.init()]),Nt.route("**",gv,["test/**"]),Nt.route(["explore","explore/{type}"],Qv),Nt.route("activity",vv),Nt.route("profile",vw),Nt.route("bridges",wv),Nt.route("settings",ww),Nt.route(["","posts"],nw),Nt.route("post/{postId}",aw),Nt.route(["chats","general","{chain}/{tokenAddress}"],Vv,["explore/{type}","post/{postId}","{xUsername}/holding","{xUsername}/following","{xUsername}/followers"]),Nt.route(["chats","general"],Dv),Nt.route("{chain}/{tokenAddress}",Rv,["explore/{type}","post/{postId}","{xUsername}/holding","{xUsername}/following","{xUsername}/followers"]),Nt.route("{xUsername}",Aw,["explore","activity","profile","bridges","settings","posts","chats","general"]),Vr.checkEmailAccess()}$t.setMessages({en:Kr,zh:null,"zh-tw":null,"zh-hk":null,ja:null}),$t.setMessages({en:{"login-required-title":"Login Required","login-required-message":"Login required. Would you like to login?","login-required-login-button":"Login with 𝕏","not-signed-in-title":"Not signed in","not-signed-in-message":"You need to sign in to perform this action.","not-signed-in-confirm":"Sign in","no-wallet-connected-title":"No wallet connected","no-wallet-connected-message":"You need to connect a wallet to perform this action.","no-wallet-linked-title":"No wallet linked","no-wallet-linked-message":"You need to link a wallet to perform this action.","no-wallet-linked-confirm":"Link wallet","wallet-address-mismatch-title":"Wallet address mismatch","wallet-address-mismatch-message":"The wallet address associated with your account and the current crypto wallet address do not match. Please change the crypto wallet address.","invalid-network-title":"Invalid network","invalid-network-message":"You need to be on the {chain} network to perform this action.","file-too-large-alert-title":"File Too Large","file-too-large-alert-message":"Sorry, your file is too large to upload. Our maximum file size limit is {maxFileSize}. Please select a smaller file.","title-feed":"Feed","title-post":"Post","title-chats":"Chats","title-explore":"Explore","title-activity":"Activity","title-profile":"Profile","title-bridges":"Bridges","title-settings":"Settings","nav-bar-menu-feed":"Feed","nav-bar-menu-chats":"Chats","nav-bar-menu-explore":"Explore","nav-bar-menu-activity":"Activity","settings-view-link-wallet-section-title":"Link Wallet","settings-view-link-wallet-section-linked":"Linked:\n","settings-view-link-wallet-section-description":"You can link your wallet to use Pal.","settings-view-link-wallet-button":"Link Wallet","global-activity-list-empty-message":"No global activities yet","held-token-activity-list-empty-message":"No activities you hold tokens for yet","token-activity-list-empty-message":"No activities for this token yet","activity-list-item-created-token-text":"{user} created {token}.","activity-list-item-bought-token-text":"{user} bought {amount} {symbol}.","activity-list-item-sold-token-text":"{user} sold {amount} {symbol}.","explore-view-trending-tab":"Trending","explore-view-top-tab":"Top","explore-view-new-tab":"New","new-token-list-empty-message":"No new tokens yet","top-token-list-empty-message":"No top tokens yet","trending-token-list-empty-message":"No trending tokens yet","held-token-list-empty-message":"No held tokens yet","token-holder-list-empty-message":"No holders yet","chat-message-list-empty-message":"No messages yet","feed-view-global-tab":"Global","feed-view-following-tab":"Following","feed-view-token-held-tab":"Held","post-target-everyone":"Everyone","post-target-token-holders":"Token holders","post-form-posted-snackbar-message":"Your post has been successfully published.","post-form-posted-snackbar-button":"View","token-held-post-list-empty-message":"No posts you hold tokens for yet","post-owner-menu-delete-button":"Delete","delete-post-confirm-title":"Delete Post","delete-post-confirm-message":"Are you sure you want to delete this post?","delete-post-confirm-delete-button":"Delete","user-profile-joined":"Joined {date}","user-profile-metrics-fees-earned-title":"Fees Earned","user-profile-metrics-portfolio-value-title":"Portfolio Value"},zh:null,"zh-tw":null,"zh-hk":null,ja:null}),mr.launch()},7756:(e,t,r)=>{"use strict";r.a(e,(async(e,t)=>{try{var s=r(9669);await(0,s.c)({dev:!1,supabaseUrl:"https://zwsbatwxnlcsgycwiymn.supabase.co",supabaseAnonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp3c2JhdHd4bmxjc2d5Y3dpeW1uIiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTI2NzkzODYsImV4cCI6MjAwODI1NTM4Nn0.EZo2bbviOpTkasQsDw0A6fVa8bFrMkW0wl70Ywf6hjY",walletConnectProjectId:"a7ae37d3cf98197d04b720fb165553e0",infuraKey:"b23059a837a64db4b8b2ac203f0e67a9",messageForWalletLinking:"Link Wallet to Pal"}),t()}catch(e){t(e)}}),1)},5924:()=>{},9652:(e,t,r)=>{"use strict";r.d(t,{AccountCtrl:()=>x,a6:()=>m,ConfigCtrl:()=>A,HB:()=>p,Os:()=>y,ExplorerCtrl:()=>V,IP:()=>K,OptionsCtrl:()=>v,Y3:()=>d,ThemeCtrl:()=>X,ToastCtrl:()=>te,WcConnectionCtrl:()=>Q});var s=r(6276);const n=e=>"object"==typeof e&&null!==e,i=new WeakMap,a=new WeakSet,o=(e=Object.is,t=((e,t)=>new Proxy(e,t)),r=(e=>n(e)&&!a.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)),o=(e=>e.configurable&&e.enumerable&&e.writable),l=(e=>{switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e}}),c=new WeakMap,h=((e,t,r=l)=>{const n=c.get(e);if((null==n?void 0:n[0])===t)return n[1];const o=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));return(0,s.Gm)(o,!0),c.set(e,[t,o]),Reflect.ownKeys(e).forEach((t=>{if(Object.getOwnPropertyDescriptor(o,t))return;const n=Reflect.get(e,t),l={value:n,enumerable:!0,configurable:!0};if(a.has(n))(0,s.Gm)(n,!1);else if(n instanceof Promise)delete l.value,l.get=()=>r(n);else if(i.has(n)){const[e,t]=i.get(n);l.value=h(e,t(),r)}Object.defineProperty(o,t,l)})),Object.preventExtensions(o)}),u=new WeakMap,d=[1,1],p=(l=>{if(!n(l))throw new Error("object required");const c=u.get(l);if(c)return c;let f=d[0];const m=new Set,g=(e,t=++d[0])=>{f!==t&&(f=t,m.forEach((r=>r(e,t))))};let y=d[1];const b=e=>(t,r)=>{const s=[...t];s[1]=[e,...s[1]],g(s,r)},v=new Map,w=e=>{var t;const r=v.get(e);r&&(v.delete(e),null==(t=r[1])||t.call(r))},A=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),k=(t,o,l,c,h)=>{if(t&&(e(o,c)||u.has(c)&&e(o,u.get(c))))return;w(l),n(c)&&(c=(0,s.iC)(c)||c);let d=c;if(c instanceof Promise)c.then((e=>{c.status="fulfilled",c.value=e,g(["resolve",[l],e])})).catch((e=>{c.status="rejected",c.reason=e,g(["reject",[l],e])}));else{!i.has(c)&&r(c)&&(d=p(c));const e=!a.has(d)&&i.get(d);e&&((e,t)=>{if(v.has(e))throw new Error("prop listener already exists");if(m.size){const r=t[3](b(e));v.set(e,[t,r])}else v.set(e,[t])})(l,e)}h(d),g(["set",[l],c,o])},E=t(A,{deleteProperty(e,t){const r=Reflect.get(e,t);w(t);const s=Reflect.deleteProperty(e,t);return s&&g(["delete",[t],r]),s},set(e,t,r,s){const n=Reflect.has(e,t),i=Reflect.get(e,t,s);return k(n,i,t,r,(r=>{Reflect.set(e,t,r,s)})),!0},defineProperty(e,t,r){if(o(r)){const s=Reflect.getOwnPropertyDescriptor(e,t);if(!s||o(s))return k(!!s&&"value"in s,null==s?void 0:s.value,t,r.value,(s=>{Reflect.defineProperty(e,t,{...r,value:s})})),!0}return Reflect.defineProperty(e,t,r)}});u.set(l,E);const x=[A,(e=++d[1])=>(y===e||m.size||(y=e,v.forEach((([t])=>{const r=t[1](e);r>f&&(f=r)}))),f),h,e=>{m.add(e),1===m.size&&v.forEach((([e,t],r)=>{if(t)throw new Error("remove already exists");const s=e[3](b(r));v.set(r,[e,s])}));return()=>{m.delete(e),0===m.size&&v.forEach((([e,t],r)=>{t&&(t(),v.set(r,[e]))}))}}];return i.set(E,x),Reflect.ownKeys(l).forEach((e=>{const t=Object.getOwnPropertyDescriptor(l,e);"value"in t&&(E[e]=l[e],delete t.value,delete t.writable),Object.defineProperty(A,e,t)})),E}))=>[p,i,a,e,t,r,o,l,c,h,u,d],[l]=o();function c(e={}){return l(e)}function h(e,t,r){const s=i.get(e);let n;s||console.warn("Please use proxy object");const a=[],o=s[3];let l=!1;const c=o((e=>{a.push(e),r?t(a.splice(0)):n||(n=Promise.resolve().then((()=>{n=void 0,l&&t(a.splice(0))})))}));return l=!0,()=>{l=!1,c()}}const u=c({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),d={state:u,subscribe:e=>h(u,(()=>e(u))),push(e,t){e!==u.view&&(u.view=e,t&&(u.data=t),u.history.push(e))},reset(e){u.view=e,u.history=[e]},replace(e){u.history.length>1&&(u.history[u.history.length-1]=e,u.view=e)},goBack(){if(u.history.length>1){u.history.pop();const[e]=u.history.slice(-1);u.view=e}},setData(e){u.data=e}},p={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",W3M_VERSION:"W3M_VERSION",W3M_PREFER_INJECTED_URL_FLAG:"w3mPreferInjected",RECOMMENDED_WALLET_AMOUNT:9,isMobile:()=>typeof window<"u"&&Boolean(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)),isAndroid:()=>p.isMobile()&&navigator.userAgent.toLowerCase().includes("android"),isIos(){const e=navigator.userAgent.toLowerCase();return p.isMobile()&&(e.includes("iphone")||e.includes("ipad"))},isHttpUrl:e=>e.startsWith("http://")||e.startsWith("https://"),isArray:e=>Array.isArray(e)&&e.length>0,formatNativeUrl(e,t,r){if(p.isHttpUrl(e))return this.formatUniversalUrl(e,t,r);let s=e;s.includes("://")||(s=e.replaceAll("/","").replaceAll(":",""),s=`${s}://`),s.endsWith("/")||(s=`${s}/`),this.setWalletConnectDeepLink(s,r);return`${s}wc?uri=${encodeURIComponent(t)}`},formatUniversalUrl(e,t,r){if(!p.isHttpUrl(e))return this.formatNativeUrl(e,t,r);let s=e;s.endsWith("/")||(s=`${s}/`),this.setWalletConnectDeepLink(s,r);return`${s}wc?uri=${encodeURIComponent(t)}`},wait:async e=>new Promise((t=>{setTimeout(t,e)})),openHref(e,t){window.open(e,t,"noreferrer noopener")},setWalletConnectDeepLink(e,t){try{localStorage.setItem(p.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},setWalletConnectAndroidDeepLink(e){try{const[t]=e.split("?");localStorage.setItem(p.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:t,name:"Android"}))}catch{console.info("Unable to set WalletConnect android deep link")}},removeWalletConnectDeepLink(){try{localStorage.removeItem(p.WALLETCONNECT_DEEPLINK_CHOICE)}catch{console.info("Unable to remove WalletConnect deep link")}},setWeb3ModalVersionInStorage(){try{typeof localStorage<"u"&&localStorage.setItem(p.W3M_VERSION,"2.7.1")}catch{console.info("Unable to set Web3Modal version in storage")}},getWalletRouterData(){var e;const t=null==(e=d.state.data)?void 0:e.Wallet;if(!t)throw new Error('Missing "Wallet" view data');return t},getSwitchNetworkRouterData(){var e;const t=null==(e=d.state.data)?void 0:e.SwitchNetwork;if(!t)throw new Error('Missing "SwitchNetwork" view data');return t},isPreferInjectedFlag:()=>typeof location<"u"&&new URLSearchParams(location.search).has(p.W3M_PREFER_INJECTED_URL_FLAG)};let f;const m={ethereumClient:void 0,setEthereumClient(e){f=e},client(){if(f)return f;throw new Error("ClientCtrl has no client set")}},g=c({enabled:typeof location<"u"&&(location.hostname.includes("localhost")||location.protocol.includes("https")),userSessionId:"",events:[],connectedWalletId:void 0}),y={state:g,subscribe:e=>h(g.events,(()=>e(function(e,t){const r=i.get(e);r||console.warn("Please use proxy object");const[s,n,a]=r;return a(s,n(),t)}(g.events[g.events.length-1])))),initialize(){g.enabled&&typeof(null==crypto?void 0:crypto.randomUUID)<"u"&&(g.userSessionId=crypto.randomUUID())},setConnectedWalletId(e){g.connectedWalletId=e},click(e){if(g.enabled){const t={type:"CLICK",name:e.name,userSessionId:g.userSessionId,timestamp:Date.now(),data:e};g.events.push(t)}},track(e){if(g.enabled){const t={type:"TRACK",name:e.name,userSessionId:g.userSessionId,timestamp:Date.now(),data:e};g.events.push(t)}},view(e){if(g.enabled){const t={type:"VIEW",name:e.name,userSessionId:g.userSessionId,timestamp:Date.now(),data:e};g.events.push(t)}}},b=c({selectedChain:void 0,chains:void 0,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1,isPreferInjected:!1}),v={state:b,subscribe:e=>h(b,(()=>e(b))),setChains(e){b.chains=e},getSelectedChain(){const e=m.client().getNetwork().chain;return e&&(b.selectedChain=e),b.selectedChain},setSelectedChain(e){b.selectedChain=e},setIsCustomDesktop(e){b.isCustomDesktop=e},setIsCustomMobile(e){b.isCustomMobile=e},setIsDataLoaded(e){b.isDataLoaded=e},setIsUiLoaded(e){b.isUiLoaded=e},setIsPreferInjected(e){b.isPreferInjected=e}},w=c({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chainImages:void 0,tokenImages:void 0,tokenContracts:void 0,enableNetworkView:!1,enableAccountView:!0,enableExplorer:!0,defaultChain:void 0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),A={state:w,subscribe:e=>h(w,(()=>e(w))),setConfig(e){var t,r;y.initialize(),v.setIsCustomMobile(Boolean(null==(t=e.mobileWallets)?void 0:t.length)),v.setIsCustomDesktop(Boolean(null==(r=e.desktopWallets)?void 0:r.length)),v.setChains(m.client().chains),v.setIsPreferInjected(m.client().isInjectedProviderInstalled()&&p.isPreferInjectedFlag()),e.defaultChain&&v.setSelectedChain(e.defaultChain),p.setWeb3ModalVersionInStorage(),Object.assign(w,e)}},k={async getIdentity(e,t){const{projectId:r}=A.state,s=`https://rpc.walletconnect.com/v1/identity/${e}?chainId=${`eip155:${t}`}&projectId=${r}`;return(await fetch(s)).json()}},E=c({address:void 0,profileName:void 0,profileAvatar:void 0,profileLoading:!1,balanceLoading:!1,balance:void 0,isConnected:!1}),x={state:E,subscribe:e=>h(E,(()=>e(E))),getAccount(){const e=m.client().getAccount();E.address=e.address,E.isConnected=e.isConnected},async fetchProfile(e,t){var r;try{E.profileLoading=!0,E.profileName=null,E.profileAvatar=null;const s=t??E.address,n=1,i=null==(r=v.state.chains)?void 0:r.find((e=>e.id===n));if(s&&i){try{const e=await k.getIdentity(s,n);E.profileName=e.name,E.profileAvatar=e.avatar}catch{const e=await m.client().fetchEnsName({address:s,chainId:n});if(E.profileName=e,e){const t=await m.client().fetchEnsAvatar({name:e,chainId:n});E.profileAvatar=t}}E.profileAvatar&&await e(E.profileAvatar)}}finally{E.profileLoading=!1}},async fetchBalance(e){try{const{chain:t}=m.client().getNetwork(),{tokenContracts:r}=A.state;let s;t&&r&&(s=r[t.id]),E.balanceLoading=!0;const n=e??E.address;if(n){const e=await m.client().fetchBalance({address:n,token:s});E.balance={amount:e.formatted,symbol:e.symbol}}}finally{E.balanceLoading=!1}},setAddress(e){E.address=e},setIsConnected(e){E.isConnected=e},resetBalance(){E.balance=void 0},resetAccount(){E.address=void 0,E.isConnected=!1,E.profileName=void 0,E.profileAvatar=void 0,E.balance=void 0}};var P=Object.defineProperty,C=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,_=(e,t,r)=>t in e?P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const T="https://explorer-api.walletconnect.com",M="w3m",D="js-2.7.1";async function B(e,t){const r=((e,t)=>{for(var r in t||(t={}))S.call(t,r)&&_(e,r,t[r]);if(C)for(var r of C(t))I.call(t,r)&&_(e,r,t[r]);return e})({sdkType:M,sdkVersion:D},t),s=new URL(e,T);return s.searchParams.append("projectId",A.state.projectId),Object.entries(r).forEach((([e,t])=>{t&&s.searchParams.append(e,String(t))})),(await fetch(s)).json()}const O={getDesktopListings:async e=>B("/w3m/v1/getDesktopListings",e),getMobileListings:async e=>B("/w3m/v1/getMobileListings",e),getInjectedListings:async e=>B("/w3m/v1/getInjectedListings",e),getAllListings:async e=>B("/w3m/v1/getAllListings",e),getWalletImageUrl:e=>`${T}/w3m/v1/getWalletImage/${e}?projectId=${A.state.projectId}&sdkType=${M}&sdkVersion=${D}`,getAssetImageUrl:e=>`${T}/w3m/v1/getAssetImage/${e}?projectId=${A.state.projectId}&sdkType=${M}&sdkVersion=${D}`};var F=Object.defineProperty,N=Object.getOwnPropertySymbols,R=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,U=(e,t,r)=>t in e?F(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const j=p.isMobile(),G=c({wallets:{listings:[],total:0,page:1},injectedWallets:[],search:{listings:[],total:0,page:1},recomendedWallets:[]}),V={state:G,async getRecomendedWallets(){const{explorerRecommendedWalletIds:e,explorerExcludedWalletIds:t}=A.state;if("NONE"===e||"ALL"===t&&!e)return G.recomendedWallets;if(p.isArray(e)){const t={recommendedIds:e.join(",")},{listings:r}=await O.getAllListings(t),s=Object.values(r);s.sort(((t,r)=>e.indexOf(t.id)-e.indexOf(r.id))),G.recomendedWallets=s}else{const e=p.isArray(t),r={page:1,entries:p.RECOMMENDED_WALLET_AMOUNT,version:2,excludedIds:e?t.join(","):void 0},{listings:s}=j?await O.getMobileListings(r):await O.getDesktopListings(r);G.recomendedWallets=Object.values(s)}return G.recomendedWallets},async getWallets(e){const t=((e,t)=>{for(var r in t||(t={}))R.call(t,r)&&U(e,r,t[r]);if(N)for(var r of N(t))L.call(t,r)&&U(e,r,t[r]);return e})({},e),{explorerRecommendedWalletIds:r,explorerExcludedWalletIds:s}=A.state,{recomendedWallets:n}=G;if("ALL"===s)return G.wallets;n.length?t.excludedIds=n.map((e=>e.id)).join(","):p.isArray(r)&&(t.excludedIds=r.join(",")),p.isArray(s)&&(t.excludedIds=[t.excludedIds,s].filter(Boolean).join(","));const{page:i,search:a}=e,{listings:o,total:l}=j?await O.getMobileListings(t):await O.getDesktopListings(t),c=Object.values(o),h=a?"search":"wallets";return G[h]={listings:[...G[h].listings,...c],total:l,page:i??1},{listings:c,total:l}},async getInjectedWallets(){const{listings:e}=await O.getInjectedListings({}),t=Object.values(e);return G.injectedWallets=t,G.injectedWallets},getWalletImageUrl:e=>O.getWalletImageUrl(e),getAssetImageUrl:e=>O.getAssetImageUrl(e),resetSearch(){G.search={listings:[],total:0,page:1}}},z=c({pairingEnabled:!1,pairingUri:"",pairingError:!1}),Q={state:z,subscribe:e=>h(z,(()=>e(z))),setPairingUri(e){z.pairingUri=e},setPairingError(e){z.pairingError=e},setPairingEnabled(e){z.pairingEnabled=e}},H=c({open:!1}),K={state:H,subscribe:e=>h(H,(()=>e(H))),open:async e=>new Promise((t=>{const{isUiLoaded:r,isDataLoaded:s,isPreferInjected:n,selectedChain:i}=v.state,{isConnected:a}=x.state,{enableNetworkView:o}=A.state;if(Q.setPairingEnabled(!0),a||p.removeWalletConnectDeepLink(),null!=e&&e.route)d.reset(e.route);else if(a)d.reset("Account");else if(o)d.reset("SelectNetwork");else{if(n)return m.client().connectConnector("injected",i?.id).catch((e=>console.error(e))),void t();d.reset("ConnectWallet")}const{pairingUri:l}=Q.state;if(r&&s&&(l||a))H.open=!0,t();else{const e=setInterval((()=>{const r=v.state,s=Q.state;r.isUiLoaded&&r.isDataLoaded&&(s.pairingUri||a)&&(clearInterval(e),H.open=!0,t())}),200)}})),close(){H.open=!1}};var q=Object.defineProperty,W=Object.getOwnPropertySymbols,J=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable,Z=(e,t,r)=>t in e?q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const $=c({themeMode:typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}),X={state:$,subscribe:e=>h($,(()=>e($))),setThemeConfig(e){const{themeMode:t,themeVariables:r}=e;t&&($.themeMode=t),r&&($.themeVariables=((e,t)=>{for(var r in t||(t={}))J.call(t,r)&&Z(e,r,t[r]);if(W)for(var r of W(t))Y.call(t,r)&&Z(e,r,t[r]);return e})({},r))}},ee=c({open:!1,message:"",variant:"success"}),te={state:ee,subscribe:e=>h(ee,(()=>e(ee))),openToast(e,t){ee.open=!0,ee.message=e,ee.variant=t},closeToast(){ee.open=!1}}},5028:(e,t,r)=>{"use strict";r.d(t,{U:()=>n});var s=r(5200);function n(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?(0,s.u)(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}},3028:(e,t,r)=>{"use strict";r.d(t,{W:()=>i});var s=r(5028),n=r(5200);function i(e,t){t||(t=e.reduce(((e,t)=>e+t.length),0));const r=(0,s.U)(t);let i=0;for(const t of e)r.set(t,i),i+=t.length;return(0,n.u)(r)}},2216:(e,t,r)=>{"use strict";r.d(t,{K:()=>i});var s=r(9904),n=r(5200);function i(e,t="utf8"){const r=s.c[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode(`${r.prefix}${e}`):(0,n.u)(globalThis.Buffer.from(e,"utf-8"))}},428:(e,t,r)=>{"use strict";r.d(t,{K0:()=>n.K,MR:()=>i.M,WU:()=>s.W});var s=r(3028),n=r(2216),i=r(448)},448:(e,t,r)=>{"use strict";r.d(t,{M:()=>n});var s=r(9904);function n(e,t="utf8"){const r=s.c[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}},5200:(e,t,r)=>{"use strict";function s(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}r.d(t,{u:()=>s})},9904:(e,t,r)=>{"use strict";r.d(t,{c:()=>Qe});var s={};r.r(s),r.d(s,{identity:()=>I});var n={};r.r(n),r.d(n,{base2:()=>_});var i={};r.r(i),r.d(i,{base8:()=>T});var a={};r.r(a),r.d(a,{base10:()=>M});var o={};r.r(o),r.d(o,{base16:()=>D,base16upper:()=>B});var l={};r.r(l),r.d(l,{base32:()=>O,base32hex:()=>L,base32hexpad:()=>j,base32hexpadupper:()=>G,base32hexupper:()=>U,base32pad:()=>N,base32padupper:()=>R,base32upper:()=>F,base32z:()=>V});var c={};r.r(c),r.d(c,{base36:()=>z,base36upper:()=>Q});var h={};r.r(h),r.d(h,{base58btc:()=>H,base58flickr:()=>K});var u={};r.r(u),r.d(u,{base64:()=>q,base64pad:()=>W,base64url:()=>J,base64urlpad:()=>Y});var d={};r.r(d),r.d(d,{base256emoji:()=>ee});var p={};r.r(p),r.d(p,{sha256:()=>Pe,sha512:()=>Ce});var f={};r.r(f),r.d(f,{identity:()=>Ie});var m={};r.r(m),r.d(m,{code:()=>Te,decode:()=>De,encode:()=>Me,name:()=>_e});var g={};r.r(g),r.d(g,{code:()=>Ne,decode:()=>Le,encode:()=>Re,name:()=>Fe});var y=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),s=0;s<r.length;s++)r[s]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),a=i.charCodeAt(0);if(255!==r[a])throw new TypeError(i+" is ambiguous");r[a]=n}var o=e.length,l=e.charAt(0),c=Math.log(o)/Math.log(256),h=Math.log(256)/Math.log(o);function u(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var s=0,n=0;e[t]===l;)s++,t++;for(var i=(e.length-t)*c+1>>>0,a=new Uint8Array(i);e[t];){var h=r[e.charCodeAt(t)];if(255===h)return;for(var u=0,d=i-1;(0!==h||u<n)&&-1!==d;d--,u++)h+=o*a[d]>>>0,a[d]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");n=u,t++}if(" "!==e[t]){for(var p=i-n;p!==i&&0===a[p];)p++;for(var f=new Uint8Array(s+(i-p)),m=s;p!==i;)f[m++]=a[p++];return f}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,s=0,n=0,i=t.length;n!==i&&0===t[n];)n++,r++;for(var a=(i-n)*h+1>>>0,c=new Uint8Array(a);n!==i;){for(var u=t[n],d=0,p=a-1;(0!==u||d<s)&&-1!==p;p--,d++)u+=256*c[p]>>>0,c[p]=u%o>>>0,u=u/o>>>0;if(0!==u)throw new Error("Non-zero carry");s=d,n++}for(var f=a-s;f!==a&&0===c[f];)f++;for(var m=l.repeat(r);f<a;++f)m+=e.charAt(c[f]);return m},decodeUnsafe:u,decode:function(e){var r=u(e);if(r)return r;throw new Error(`Non-${t} character`)}}};const b=y,v=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});class w{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class A{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return E(this,e)}}class k{constructor(e){this.decoders=e}or(e){return E(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const E=(e,t)=>new k({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class x{constructor(e,t,r,s){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=s,this.encoder=new w(e,t,r),this.decoder=new A(e,t,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const P=({name:e,prefix:t,encode:r,decode:s})=>new x(e,t,r,s),C=({prefix:e,name:t,alphabet:r})=>{const{encode:s,decode:n}=b(r,t);return P({prefix:e,name:t,encode:s,decode:e=>v(n(e))})},S=({name:e,prefix:t,bitsPerChar:r,alphabet:s})=>P({prefix:t,name:e,encode:e=>((e,t,r)=>{const s="="===t[t.length-1],n=(1<<r)-1;let i="",a=0,o=0;for(let s=0;s<e.length;++s)for(o=o<<8|e[s],a+=8;a>r;)a-=r,i+=t[n&o>>a];if(a&&(i+=t[n&o<<r-a]),s)for(;i.length*r&7;)i+="=";return i})(e,s,r),decode:t=>((e,t,r,s)=>{const n={};for(let e=0;e<t.length;++e)n[t[e]]=e;let i=e.length;for(;"="===e[i-1];)--i;const a=new Uint8Array(i*r/8|0);let o=0,l=0,c=0;for(let t=0;t<i;++t){const i=n[e[t]];if(void 0===i)throw new SyntaxError(`Non-${s} character`);l=l<<r|i,o+=r,o>=8&&(o-=8,a[c++]=255&l>>o)}if(o>=r||255&l<<8-o)throw new SyntaxError("Unexpected end of data");return a})(t,s,r,e)}),I=P({prefix:"\0",name:"identity",encode:e=>{return t=e,(new TextDecoder).decode(t);var t},decode:e=>(e=>(new TextEncoder).encode(e))(e)}),_=S({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),T=S({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),M=C({prefix:"9",name:"base10",alphabet:"0123456789"}),D=S({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),B=S({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),O=S({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),F=S({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),N=S({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),R=S({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),L=S({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),U=S({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),j=S({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),G=S({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),V=S({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),z=C({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Q=C({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),H=C({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),K=C({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),q=S({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),W=S({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),J=S({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Y=S({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Z=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),$=Z.reduce(((e,t,r)=>(e[r]=t,e)),[]),X=Z.reduce(((e,t,r)=>(e[t.codePointAt(0)]=r,e)),[]);const ee=P({prefix:"🚀",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+=$[t]),"")},decode:function(e){const t=[];for(const r of e){const e=X[r.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}});var te=function e(t,r,s){r=r||[];var n=s=s||0;for(;t>=ne;)r[s++]=255&t|re,t/=128;for(;t&se;)r[s++]=255&t|re,t>>>=7;return r[s]=0|t,e.bytes=s-n+1,r},re=128,se=-128,ne=Math.pow(2,31);var ie=function e(t,r){var s,n=0,i=0,a=r=r||0,o=t.length;do{if(a>=o)throw e.bytes=0,new RangeError("Could not decode varint");s=t[a++],n+=i<28?(s&oe)<<i:(s&oe)*Math.pow(2,i),i+=7}while(s>=ae);return e.bytes=a-r,n},ae=128,oe=127;var le=Math.pow(2,7),ce=Math.pow(2,14),he=Math.pow(2,21),ue=Math.pow(2,28),de=Math.pow(2,35),pe=Math.pow(2,42),fe=Math.pow(2,49),me=Math.pow(2,56),ge=Math.pow(2,63);const ye={encode:te,decode:ie,encodingLength:function(e){return e<le?1:e<ce?2:e<he?3:e<ue?4:e<de?5:e<pe?6:e<fe?7:e<me?8:e<ge?9:10}},be=(e,t,r=0)=>(ye.encode(e,t,r),t),ve=e=>ye.encodingLength(e),we=(e,t)=>{const r=t.byteLength,s=ve(e),n=s+ve(r),i=new Uint8Array(n+r);return be(e,i,0),be(r,i,s),i.set(t,n),new Ae(e,r,t,i)};class Ae{constructor(e,t,r,s){this.code=e,this.size=t,this.digest=r,this.bytes=s}}const ke=({name:e,code:t,encode:r})=>new Ee(e,t,r);class Ee{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?we(this.code,t):t.then((e=>we(this.code,e)))}throw Error("Unknown type, must be binary type")}}const xe=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Pe=ke({name:"sha2-256",code:18,encode:xe("SHA-256")}),Ce=ke({name:"sha2-512",code:19,encode:xe("SHA-512")}),Se=v,Ie={code:0,name:"identity",encode:Se,digest:e=>we(0,Se(e))},_e="raw",Te=85,Me=e=>v(e),De=e=>v(e),Be=new TextEncoder,Oe=new TextDecoder,Fe="json",Ne=512,Re=e=>Be.encode(JSON.stringify(e)),Le=e=>JSON.parse(Oe.decode(e));Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom");Symbol.for("@ipld/js-cid/CID");const Ue={...s,...n,...i,...a,...o,...l,...c,...h,...u,...d};var je=r(5028);function Ge(e,t,r,s){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:s}}}const Ve=Ge("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),ze=Ge("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{e=e.substring(1);const t=(0,je.U)(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t})),Qe={utf8:Ve,"utf-8":Ve,hex:Ue.base16,latin1:ze,ascii:ze,binary:ze,...Ue}},7303:(e,t,r)=>{"use strict";function s(e){return"string"==typeof e?{address:e,type:"json-rpc"}:e}r.d(t,{o:()=>s})},6152:(e,t,r)=>{"use strict";r.d(t,{M:()=>v});var s=r(7303),n=r(2432);const i="0x82ad56cb";var a=r(532),o=r(9856),l=r(528),c=r(5360),h=r(552),u=r(6176),d=r(1856),p=r(4932),f=r(1400);var m=r(1416),g=r(6716),y=r(6648),b=r(4116);async function v(e,t){const{account:v=e.account,batch:w=Boolean(e.batch?.multicall),blockNumber:A,blockTag:k="latest",accessList:E,data:x,gas:P,gasPrice:C,maxFeePerGas:S,maxPriorityFeePerGas:I,nonce:_,to:T,value:M,...D}=t,B=v?(0,s.o)(v):void 0;try{(0,b.q)(t);const r=(A?(0,d.c1)(A):void 0)||k,s=e.chain?.formatters?.transactionRequest?.format,a=(s||g.If)({...(0,m.A)(D,{format:s}),from:B?.address,accessList:E,data:x,gas:P,gasPrice:C,maxFeePerGas:S,maxPriorityFeePerGas:I,nonce:_,to:T,value:M});if(w&&function({request:e}){const{data:t,to:r,...s}=e;return!!t&&(!t.startsWith(i)&&(!!r&&!(Object.values(s).filter((e=>void 0!==e)).length>0)))}({request:a}))try{return await async function(e,t){const{batchSize:r=1024,wait:s=0}="object"==typeof e.batch?.multicall?e.batch.multicall:{},{blockNumber:i,blockTag:a="latest",data:p,multicallAddress:f,to:m}=t;let g=f;if(!g){if(!e.chain)throw new o.IP;g=(0,u.O)({blockNumber:i,chain:e.chain,contract:"multicall3"})}const b=i?(0,d.c1)(i):void 0,v=b||a,{schedule:w}=(0,y.K)({id:`${e.uid}.${v}`,wait:s,shouldSplitBatch(e){const t=e.reduce(((e,{data:t})=>e+(t.length-2)),0);return t>2*r},fn:async t=>{const r=t.map((e=>({allowFailure:!0,callData:e.data,target:e.to}))),s=(0,h.T)({abi:n.gH,args:[r],functionName:"aggregate3"}),i=await e.request({method:"eth_call",params:[{data:s,to:g},v]});return(0,c.i)({abi:n.gH,args:[r],functionName:"aggregate3",data:i||"0x"})}}),[{returnData:A,success:k}]=await w({data:p,to:m});if(!k)throw new l.QP({data:A});return"0x"===A?{data:void 0}:{data:A}}(e,{...a,blockNumber:A,blockTag:k})}catch(e){if(!(e instanceof o.IP||e instanceof o.Ep))throw e}const p=await e.request({method:"eth_call",params:r?[a,r]:[a]});return"0x"===p?{data:void 0}:{data:p}}catch(s){const n=function(e){if(!(e instanceof a.k))return;const t=e.walk();return"object"==typeof t.data?t.data.data:t.data}(s),{offchainLookup:i,offchainLookupSignature:o}=await r.e(820).then(r.bind(r,1820));if(n?.slice(0,10)===o&&T)return{data:await i(e,{data:n,to:T})};throw function(e,{docsPath:t,...r}){const s=(()=>{const t=(0,f.E)(e,r);return t instanceof p.sP?e:t})();return new l.mU(s,{docsPath:t,...r})}(s,{...t,account:B,chain:e.chain})}}},2432:(e,t,r)=>{"use strict";r.d(t,{EL:()=>a,IL:()=>i,YH:()=>c,gH:()=>s,qA:()=>o,w1:()=>l});const s=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],n=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"}],i=[...n,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],a=[...n,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],o=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],l=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],c=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}]},4548:(e,t,r)=>{"use strict";r.d(t,{GU:()=>s,oZ:()=>n,sz:()=>i});const s={1:"An `assert` condition failed.",17:"Arithmic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},n={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},i={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"}},4984:(e,t,r)=>{"use strict";r.d(t,{O8:()=>n,U1:()=>s,a4:()=>i});const s={gwei:9,wei:18},n={ether:-9,wei:9},i={ether:-18,gwei:-9}},4220:(e,t,r)=>{"use strict";r.d(t,{An:()=>x,Co:()=>b,GG:()=>m,Gy:()=>A,I5:()=>a,Kw:()=>o,QS:()=>u,S8:()=>y,SE:()=>p,SY:()=>l,Wu:()=>g,Y_:()=>E,Yz:()=>d,_w:()=>k,a2:()=>C,a3:()=>v,c3:()=>h,er:()=>P,im:()=>w,w0:()=>c,yq:()=>f});var s=r(796),n=r(5876),i=r(532);class a extends i.k{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join("\n"),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class o extends i.k{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join("\n"),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}i.k;class l extends i.k{constructor({data:e,params:t,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join("\n"),{metaMessages:[`Params: (${(0,s.o)(t,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=t,this.size=r}}class c extends i.k{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class h extends i.k{constructor({expectedLength:e,givenLength:t,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${t}`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class u extends i.k{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${(0,n.e)(t)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class d extends i.k{constructor({expectedLength:e,givenLength:t}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${t}`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}i.k;i.k;class p extends i.k{constructor(e,{docsPath:t}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class f extends i.k{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class m extends i.k{constructor(e,{docsPath:t}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class g extends i.k{constructor(e,{docsPath:t}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class y extends i.k{constructor(e,{docsPath:t}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class b extends i.k{constructor(e,{docsPath:t}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}i.k;class v extends i.k{constructor(e,t){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${(0,s.k)(e.abiItem)}\`, and`,`\`${t.type}\` in \`${(0,s.k)(t.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItemAmbiguityError"})}}class w extends i.k{constructor({expectedSize:e,givenSize:t}){super(`Expected bytes${e}, got bytes${t}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class A extends i.k{constructor({abiItem:e,data:t,params:r,size:n}){super([`Data size of ${n} bytes is too small for non-indexed event parameters.`].join("\n"),{metaMessages:[`Params: (${(0,s.o)(r,{includeName:!0})})`,`Data:   ${t} (${n} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=t,this.params=r,this.size=n}}class k extends i.k{constructor({abiItem:e,param:t}){super([`Expected a topic for indexed event parameter${t.name?` "${t.name}"`:""} on event "${(0,s.k)(e,{includeName:!0})}".`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class E extends i.k{constructor(e,{docsPath:t}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class x extends i.k{constructor(e,{docsPath:t}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class P extends i.k{constructor(e){super([`Value "${e}" is not a valid array.`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class C extends i.k{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}i.k},5904:(e,t,r)=>{"use strict";r.d(t,{o:()=>n});var s=r(532);class n extends s.k{constructor({address:e}){super(`Address "${e}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}},532:(e,t,r)=>{"use strict";r.d(t,{k:()=>n});var s=r(3048);class n extends Error{constructor(e,t={}){super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:(0,s.ct)()});const r=t.cause instanceof n?t.cause.details:t.cause?.message?t.cause.message:t.details,i=t.cause instanceof n&&t.cause.docsPath||t.docsPath;this.message=[e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...i?[`Docs: https://viem.sh${i}.html${t.docsSlug?`#${t.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join("\n"),t.cause&&(this.cause=t.cause),this.details=r,this.docsPath=i,this.metaMessages=t.metaMessages,this.shortMessage=e}walk(e){return i(this,e)}}function i(e,t){return t?.(e)?e:e&&"object"==typeof e&&"cause"in e?i(e.cause,t):t?null:e}},9856:(e,t,r)=>{"use strict";r.d(t,{Ep:()=>n,IP:()=>o,UF:()=>a,gK:()=>l,m6:()=>i});var s=r(532);class n extends s.k{constructor({blockNumber:e,chain:t,contract:r}){super(`Chain "${t.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class i extends s.k{constructor({chain:e,currentChainId:t}){super(`The current chain of the wallet (id: ${t}) does not match the target chain for the transaction (id: ${e.id} – ${e.name}).`,{metaMessages:[`Current Chain ID:  ${t}`,`Expected Chain ID: ${e.id} – ${e.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}}class a extends s.k{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}class o extends s.k{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}class l extends s.k{constructor({chainId:e}){super(`Chain ID "${e}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidChainIdError"})}}},528:(e,t,r)=>{"use strict";r.d(t,{mU:()=>g,Ud:()=>y,cg:()=>b,_U:()=>v,QP:()=>w});var s=r(7303),n=r(4548),i=r(1228),a=r(796),o=r(8328);function l({abiItem:e,args:t,includeFunctionName:r=!0,includeName:s=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${r?e.name:""}(${e.inputs.map(((e,r)=>`${s&&e.name?`${e.name}: `:""}${"object"==typeof t[r]?(0,o.i)(t[r]):t[r]}`)).join(", ")})`}var c=r(9720),h=r(8416),u=r(9132),d=r(4220),p=r(532),f=r(7040),m=r(3048);class g extends p.k{constructor(e,{account:t,docsPath:r,chain:n,data:i,gas:a,gasPrice:o,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:d,to:p,value:m}){const g=t?(0,s.o)(t):void 0,y=(0,f.ol)({from:g?.address,to:p,value:void 0!==m&&`${(0,h.U)(m)} ${n?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:a,gasPrice:void 0!==o&&`${(0,u.C)(o)} gwei`,maxFeePerGas:void 0!==l&&`${(0,u.C)(l)} gwei`,maxPriorityFeePerGas:void 0!==c&&`${(0,u.C)(c)} gwei`,nonce:d});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",y].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=e}}class y extends p.k{constructor(e,{abi:t,args:r,contractAddress:s,docsPath:n,functionName:i,sender:o}){const h=(0,c.Qx)({abi:t,args:r,name:i}),u=h?l({abiItem:h,args:r,includeFunctionName:!1,includeName:!1}):void 0,d=h?(0,a.k)(h,{includeName:!0}):void 0,p=(0,f.ol)({address:s&&(0,m.aw)(s),function:d,args:u&&"()"!==u&&`${[...Array(i?.length??0).keys()].map((()=>" ")).join("")}${u}`,sender:o});super(e.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Contract Call:",p].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=t,this.args=r,this.cause=e,this.contractAddress=s,this.functionName=i,this.sender=o}}class b extends p.k{constructor({abi:e,data:t,functionName:r,message:s}){let o,c,h,u,p;if(t&&"0x"!==t)try{c=(0,i.w)({abi:e,data:t});const{abiItem:r,errorName:s,args:o}=c;if("Error"===s)u=o[0];else if("Panic"===s){const[e]=o;u=n.GU[e]}else{const e=r?(0,a.k)(r,{includeName:!0}):void 0,t=r&&o?l({abiItem:r,args:o,includeFunctionName:!1,includeName:!1}):void 0;h=[e?`Error: ${e}`:"",t&&"()"!==t?`       ${[...Array(s?.length??0).keys()].map((()=>" ")).join("")}${t}`:""]}}catch(e){o=e}else s&&(u=s);o instanceof d.SE&&(p=o.signature,h=[`Unable to decode signature "${p}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${p}.`]),super(u&&"execution reverted"!==u||p?[`The contract function "${r}" reverted with the following ${p?"signature":"reason"}:`,u||p].join("\n"):`The contract function "${r}" reverted.`,{cause:o,metaMessages:h}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=c,this.reason=u,this.signature=p}}class v extends p.k{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class w extends p.k{constructor({data:e,message:t}){super(t||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}},9664:(e,t,r)=>{"use strict";r.d(t,{A:()=>n,i:()=>i});var s=r(532);class n extends s.k{constructor({offset:e,position:t,size:r}){super(`Slice ${"start"===t?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class i extends s.k{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}},6392:(e,t,r)=>{"use strict";r.d(t,{E9:()=>a,cI:()=>n,um:()=>i});var s=r(532);s.k;s.k;class n extends s.k{constructor({max:e,min:t,signed:r,size:s,value:n}){super(`Number "${n}" is not in safe ${s?`${8*s}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}s.k;class i extends s.k{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidHexBooleanError"})}}s.k;s.k;class a extends s.k{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}},4932:(e,t,r)=>{"use strict";r.d(t,{Et:()=>o,GI:()=>i,KI:()=>f,OK:()=>m,gl:()=>h,kv:()=>c,oD:()=>p,ot:()=>l,qK:()=>u,sP:()=>g,ui:()=>d,wC:()=>a});var s=r(9132),n=r(532);class i extends n.k{constructor({cause:e,message:t}={}){const r=t?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(i,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(i,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class a extends n.k{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${(0,s.C)(t)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(a,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class o extends n.k{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${(0,s.C)(t)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(o,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class l extends n.k{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is higher than the next one expected.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(l,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class c extends n.k{constructor({cause:e,nonce:t}={}){super([`Nonce provided for the transaction ${t?`(${t}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join("\n"),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(c,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class h extends n.k{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}exceeds the maximum allowed nonce.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(h,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class u extends n.k{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join("\n"),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(u,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class d extends n.k{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(d,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class p extends n.k{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction is too low.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(p,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class f extends n.k{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(f,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class m extends n.k{constructor({cause:e,maxPriorityFeePerGas:t,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${t?` = ${(0,s.C)(t)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${(0,s.C)(r)} gwei`:""}).`].join("\n"),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(m,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class g extends n.k{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}},9592:(e,t,r)=>{"use strict";r.d(t,{G8:()=>a,ID:()=>o,YP:()=>l,ol:()=>c});var s=r(8328),n=r(532),i=r(3048);class a extends n.k{constructor({body:e,details:t,headers:r,status:n,url:a}){super("HTTP request failed.",{details:t,metaMessages:[n&&`Status: ${n}`,`URL: ${(0,i.YV)(a)}`,e&&`Request body: ${(0,s.i)(e)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=r,this.status=n,this.url=a}}class o extends n.k{constructor({body:e,details:t,url:r}){super("WebSocket request failed.",{details:t,metaMessages:[`URL: ${(0,i.YV)(r)}`,`Request body: ${(0,s.i)(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebSocketRequestError"})}}class l extends n.k{constructor({body:e,error:t,url:r}){super("RPC Request failed.",{cause:t,details:t.message,metaMessages:[`URL: ${(0,i.YV)(r)}`,`Request body: ${(0,s.i)(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t.code}}class c extends n.k{constructor({body:e,url:t}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${(0,i.YV)(t)}`,`Request body: ${(0,s.i)(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}},7040:(e,t,r)=>{"use strict";r.d(t,{Av:()=>l,Gi:()=>o,Ul:()=>u,WQ:()=>d,c5:()=>c,gm:()=>p,o$:()=>h,oS:()=>f,ol:()=>a});var s=r(8416),n=r(9132),i=r(532);function a(e){const t=Object.entries(e).map((([e,t])=>void 0===t||!1===t?null:[e,t])).filter(Boolean),r=t.reduce(((e,[t])=>Math.max(e,t.length)),0);return t.map((([e,t])=>`  ${`${e}:`.padEnd(r+1)}  ${t}`)).join("\n")}class o extends i.k{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class l extends i.k{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidLegacyVError"})}}class c extends i.k{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",a(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}i.k;i.k;class h extends i.k{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStorageKeySizeError"})}}class u extends i.k{constructor(e,{account:t,docsPath:r,chain:i,data:o,gas:l,gasPrice:c,maxFeePerGas:h,maxPriorityFeePerGas:u,nonce:d,to:p,value:f}){const m=a({chain:i&&`${i?.name} (id: ${i?.id})`,from:t?.address,to:p,value:void 0!==f&&`${(0,s.U)(f)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:l,gasPrice:void 0!==c&&`${(0,n.C)(c)} gwei`,maxFeePerGas:void 0!==h&&`${(0,n.C)(h)} gwei`,maxPriorityFeePerGas:void 0!==u&&`${(0,n.C)(u)} gwei`,nonce:d});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",m].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=e}}class d extends i.k{constructor({blockHash:e,blockNumber:t,blockTag:r,hash:s,index:n}){let i="Transaction";r&&void 0!==n&&(i=`Transaction at block time "${r}" at index "${n}"`),e&&void 0!==n&&(i=`Transaction at block hash "${e}" at index "${n}"`),t&&void 0!==n&&(i=`Transaction at block number "${t}" at index "${n}"`),s&&(i=`Transaction with hash "${s}"`),super(`${i} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class p extends i.k{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class f extends i.k{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}},3048:(e,t,r)=>{"use strict";r.d(t,{aw:()=>s,YV:()=>n,ct:()=>i});const s=e=>e,n=e=>e,i=()=>"viem@1.21.3"},8816:(e,t,r)=>{"use strict";r.d(t,{$:()=>h});var s=r(4220),n=r(4660),i=r(5876),a=r(8528),o=r(6020),l=r(8460),c=r(4400);function h(e,t){if("0x"===t&&e.length>0)throw new s.w0;if((0,i.e)(t)&&(0,i.e)(t)<32)throw new s.SY({data:t,params:e,size:(0,i.e)(t)});return function({data:e,params:t}){const r=[];let n=0;for(let a=0;a<t.length;a++){if(n>=(0,i.e)(e))throw new s.SY({data:e,params:t,size:(0,i.e)(e)});const o=t[a],{consumed:l,value:c}=u({data:e,param:o,position:n});r.push(c),n+=l}return r}({data:t,params:e})}function u({data:e,param:t,position:r}){const i=(0,c._)(t.type);if(i){const[s,n]=i;return function(e,{param:t,length:r,position:s}){if(!r){const r=(0,l.Sw)((0,a.SM)(e,s,s+32,{strict:!0})),n=(0,l.Sw)((0,a.SM)(e,r,r+32,{strict:!0}));let i=0;const o=[];for(let s=0;s<n;++s){const s=u({data:(0,a.SM)(e,r+32),param:t,position:i});i+=s.consumed,o.push(s.value)}return{value:o,consumed:32}}if(d(t)){const n=(0,c._)(t.type),i=!n?.[0];let o=0;const h=[];for(let n=0;n<r;++n){const r=(0,l.Sw)((0,a.SM)(e,s,s+32,{strict:!0})),c=u({data:(0,a.SM)(e,r),param:t,position:i?o:32*n});o+=c.consumed,h.push(c.value)}return{value:h,consumed:32}}let n=0;const i=[];for(let a=0;a<r;++a){const r=u({data:e,param:t,position:s+n});n+=r.consumed,i.push(r.value)}return{value:i,consumed:n}}(e,{length:s,param:{...t,type:n},position:r})}if("tuple"===t.type)return function(e,{param:t,position:r}){const s=0===t.components.length||t.components.some((({name:e})=>!e)),n=s?[]:{};let i=0;if(d(t)){const o=(0,l.Sw)((0,a.SM)(e,r,r+32,{strict:!0}));for(let r=0;r<t.components.length;++r){const l=t.components[r],c=u({data:(0,a.SM)(e,o),param:l,position:i});i+=c.consumed,n[s?r:l?.name]=c.value}return{consumed:32,value:n}}for(let a=0;a<t.components.length;++a){const o=t.components[a],l=u({data:e,param:o,position:r+i});i+=l.consumed,n[s?a:o?.name]=l.value}return{consumed:i,value:n}}(e,{param:t,position:r});if("string"===t.type)return function(e,{position:t}){const r=(0,l.Sw)((0,a.SM)(e,t,t+32,{strict:!0})),s=(0,l.Sw)((0,a.SM)(e,r,r+32,{strict:!0}));if(0===s)return{consumed:32,value:""};const n=(0,l.M5)((0,o.c)((0,a.SM)(e,r+32,r+32+s,{strict:!0})));return{consumed:32,value:n}}(e,{position:r});if(t.type.startsWith("bytes"))return function(e,{param:t,position:r}){const[s,n]=t.type.split("bytes");if(!n){const t=(0,l.Sw)((0,a.SM)(e,r,r+32,{strict:!0})),s=(0,l.Sw)((0,a.SM)(e,t,t+32,{strict:!0}));if(0===s)return{consumed:32,value:"0x"};return{consumed:32,value:(0,a.SM)(e,t+32,t+32+s,{strict:!0})}}const i=(0,a.SM)(e,r,r+parseInt(n),{strict:!0});return{consumed:32,value:i}}(e,{param:t,position:r});const h=(0,a.SM)(e,r,r+32,{strict:!0});if(t.type.startsWith("uint")||t.type.startsWith("int"))return function(e,{param:t}){const r=t.type.startsWith("int"),s=parseInt(t.type.split("int")[1]||"256");return{consumed:32,value:s>48?(0,l.Ad)(e,{signed:r}):(0,l.Sw)(e,{signed:r})}}(h,{param:t});if("address"===t.type)return function(e){return{consumed:32,value:(0,n.U)((0,a.SM)(e,-20))}}(h);if("bool"===t.type)return function(e){return{consumed:32,value:(0,l.kB)(e)}}(h);throw new s.An(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function d(e){const{type:t}=e;if("string"===t)return!0;if("bytes"===t)return!0;if(t.endsWith("[]"))return!0;if("tuple"===t)return e.components?.some(d);const r=(0,c._)(e.type);return!(!r||!d({...e,type:r[1]}))}},1228:(e,t,r)=>{"use strict";r.d(t,{w:()=>c});var s=r(4548),n=r(4220),i=r(8528),a=r(8124),o=r(8816),l=r(796);function c({abi:e,data:t}){const r=(0,i.SM)(t,0,4);if("0x"===r)throw new n.w0;const c=[...e||[],s.oZ,s.sz].find((e=>"error"===e.type&&r===(0,a.u)((0,l.k)(e))));if(!c)throw new n.SE(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:c,args:"inputs"in c&&c.inputs&&c.inputs.length>0?(0,o.$)(c.inputs,(0,i.SM)(t,4)):void 0,errorName:c.name}}},5360:(e,t,r)=>{"use strict";r.d(t,{i:()=>o});var s=r(4220),n=r(8816),i=r(9720);const a="/docs/contract/decodeFunctionResult";function o({abi:e,args:t,functionName:r,data:o}){let l=e[0];if(r&&(l=(0,i.Qx)({abi:e,args:t,name:r}),!l))throw new s.S8(r,{docsPath:a});if("function"!==l.type)throw new s.S8(void 0,{docsPath:a});if(!l.outputs)throw new s.Co(l.name,{docsPath:a});const c=(0,n.$)(l.outputs,o);return c&&c.length>1?c:c&&1===c.length?c[0]:void 0}},4400:(e,t,r)=>{"use strict";r.d(t,{I:()=>u,_:()=>f});var s=r(4220),n=r(5904),i=r(1616),a=r(1576),o=r(9508),l=r(5876),c=r(8528),h=r(1856);function u(e,t){if(e.length!==t.length)throw new s.Yz({expectedLength:e.length,givenLength:t.length});const r=function({params:e,values:t}){const r=[];for(let s=0;s<e.length;s++)r.push(d({param:e[s],value:t[s]}));return r}({params:e,values:t}),n=p(r);return 0===n.length?"0x":n}function d({param:e,value:t}){const r=f(e.type);if(r){const[n,i]=r;return function(e,{length:t,param:r}){const n=null===t;if(!Array.isArray(e))throw new s.er(e);if(!n&&e.length!==t)throw new s.c3({expectedLength:t,givenLength:e.length,type:`${r.type}[${t}]`});let i=!1;const o=[];for(let t=0;t<e.length;t++){const s=d({param:r,value:e[t]});s.dynamic&&(i=!0),o.push(s)}if(n||i){const e=p(o);if(n){const t=(0,h.c1)(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?(0,a.WU)([t,e]):t}}if(i)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:(0,a.WU)(o.map((({encoded:e})=>e)))}}(t,{length:n,param:{...e,type:i}})}if("tuple"===e.type)return function(e,{param:t}){let r=!1;const s=[];for(let n=0;n<t.components.length;n++){const i=t.components[n],a=d({param:i,value:e[Array.isArray(e)?n:i.name]});s.push(a),a.dynamic&&(r=!0)}return{dynamic:r,encoded:r?p(s):(0,a.WU)(s.map((({encoded:e})=>e)))}}(t,{param:e});if("address"===e.type)return function(e){if(!(0,i.C)(e))throw new n.o({address:e});return{dynamic:!1,encoded:(0,o.YF)(e.toLowerCase())}}(t);if("bool"===e.type)return function(e){return{dynamic:!1,encoded:(0,o.YF)((0,h.sx)(e))}}(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){return function(e,{signed:t}){return{dynamic:!1,encoded:(0,h.c1)(e,{size:32,signed:t})}}(t,{signed:e.type.startsWith("int")})}if(e.type.startsWith("bytes"))return function(e,{param:t}){const[,r]=t.type.split("bytes"),n=(0,l.e)(e);if(!r){let t=e;return n%32!=0&&(t=(0,o.YF)(t,{dir:"right",size:32*Math.ceil((e.length-2)/2/32)})),{dynamic:!0,encoded:(0,a.WU)([(0,o.YF)((0,h.c1)(n,{size:32})),t])}}if(n!==parseInt(r))throw new s.QS({expectedSize:parseInt(r),value:e});return{dynamic:!1,encoded:(0,o.YF)(e,{dir:"right"})}}(t,{param:e});if("string"===e.type)return function(e){const t=(0,h.mi)(e),r=Math.ceil((0,l.e)(t)/32),s=[];for(let e=0;e<r;e++)s.push((0,o.YF)((0,c.SM)(t,32*e,32*(e+1)),{dir:"right"}));return{dynamic:!0,encoded:(0,a.WU)([(0,o.YF)((0,h.c1)((0,l.e)(t),{size:32})),...s])}}(t);throw new s.Y_(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function p(e){let t=0;for(let r=0;r<e.length;r++){const{dynamic:s,encoded:n}=e[r];t+=s?32:(0,l.e)(n)}const r=[],s=[];let n=0;for(let i=0;i<e.length;i++){const{dynamic:a,encoded:o}=e[i];a?(r.push((0,h.c1)(t+n,{size:32})),s.push(o),n+=(0,l.e)(o)):r.push(o)}return(0,a.WU)([...r,...s])}function f(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}},552:(e,t,r)=>{"use strict";r.d(t,{T:()=>c});var s=r(4220),n=r(1576),i=r(8124),a=r(4400),o=r(796),l=r(9720);function c({abi:e,args:t,functionName:r}){let c=e[0];if(r&&(c=(0,l.Qx)({abi:e,args:t,name:r}),!c))throw new s.S8(r,{docsPath:"/docs/contract/encodeFunctionData"});if("function"!==c.type)throw new s.S8(void 0,{docsPath:"/docs/contract/encodeFunctionData"});const h=(0,o.k)(c),u=(0,i.u)(h),d="inputs"in c&&c.inputs?(0,a.I)(c.inputs,t??[]):void 0;return(0,n.aK)([u,d??"0x"])}},796:(e,t,r)=>{"use strict";r.d(t,{k:()=>n,o:()=>i});var s=r(4220);function n(e,{includeName:t=!1}={}){if("function"!==e.type&&"event"!==e.type&&"error"!==e.type)throw new s.a2(e.type);return`${e.name}(${i(e.inputs,{includeName:t})})`}function i(e,{includeName:t=!1}={}){return e?e.map((e=>function(e,{includeName:t}){if(e.type.startsWith("tuple"))return`(${i(e.components,{includeName:t})})${e.type.slice(5)}`;return e.type+(t&&e.name?` ${e.name}`:"")}(e,{includeName:t}))).join(t?", ":","):""}},9720:(e,t,r)=>{"use strict";r.d(t,{Qx:()=>l});var s=r(4220),n=r(6332),i=r(4928),a=r(8124),o=r(1616);function l({abi:e,args:t=[],name:r}){const o=(0,n.a)(r,{strict:!1}),l=e.filter((e=>o?"function"===e.type?(0,a.u)(e)===r:"event"===e.type&&(0,i.e)(e)===r:"name"in e&&e.name===r));if(0===l.length)return;if(1===l.length)return l[0];let u;for(const e of l){if(!("inputs"in e))continue;if(!t||0===t.length){if(!e.inputs||0===e.inputs.length)return e;continue}if(!e.inputs)continue;if(0===e.inputs.length)continue;if(e.inputs.length!==t.length)continue;if(t.every(((t,r)=>{const s="inputs"in e&&e.inputs[r];return!!s&&c(t,s)}))){if(u&&"inputs"in u&&u.inputs){const r=h(e.inputs,u.inputs,t);if(r)throw new s.a3({abiItem:e,type:r[0]},{abiItem:u,type:r[1]})}u=e}}return u||l[0]}function c(e,t){const r=typeof e,s=t.type;switch(s){case"address":return(0,o.C)(e);case"bool":return"boolean"===r;case"function":case"string":return"string"===r;default:return"tuple"===s&&"components"in t?Object.values(t.components).every(((t,r)=>c(Object.values(e)[r],t))):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(s)?"number"===r||"bigint"===r:/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(s)?"string"===r||e instanceof Uint8Array:!!/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(s)&&(Array.isArray(e)&&e.every((e=>c(e,{...t,type:s.replace(/(\[[0-9]{0,}\])$/,"")}))))}}function h(e,t,r){for(const s in e){const n=e[s],i=t[s];if("tuple"===n.type&&"tuple"===i.type&&"components"in n&&"components"in i)return h(n.components,i.components,r[s]);const a=[n.type,i.type];if(!(!a.includes("address")||!a.includes("bytes20"))||(a.includes("address")&&a.includes("string")||!(!a.includes("address")||!a.includes("bytes")))&&(0,o.C)(r[s]))return a}}},4660:(e,t,r)=>{"use strict";r.d(t,{U:()=>o,m:()=>l});var s=r(5904),n=r(7224),i=r(8760),a=r(1616);function o(e,t){const r=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),s=(0,i.u)((0,n.iC)(r),"bytes"),a=(t?r.substring(`${t}0x`.length):r).split("");for(let e=0;e<40;e+=2)s[e>>1]>>4>=8&&a[e]&&(a[e]=a[e].toUpperCase()),(15&s[e>>1])>=8&&a[e+1]&&(a[e+1]=a[e+1].toUpperCase());return`0x${a.join("")}`}function l(e,t){if(!(0,a.C)(e))throw new s.o({address:e});return o(e,t)}},1616:(e,t,r)=>{"use strict";r.d(t,{C:()=>n});const s=/^0x[a-fA-F0-9]{40}$/;function n(e){return s.test(e)}},6176:(e,t,r)=>{"use strict";r.d(t,{O:()=>n});var s=r(9856);function n({blockNumber:e,chain:t,contract:r}){const n=t?.contracts?.[r];if(!n)throw new s.Ep({chain:t,contract:{name:r}});if(e&&n.blockCreated&&n.blockCreated>e)throw new s.Ep({blockNumber:e,chain:t,contract:{name:r,blockCreated:n.blockCreated}});return n.address}},1576:(e,t,r)=>{"use strict";function s(e){return"string"==typeof e[0]?n(e):function(e){let t=0;for(const r of e)t+=r.length;const r=new Uint8Array(t);let s=0;for(const t of e)r.set(t,s),s+=t.length;return r}(e)}function n(e){return`0x${e.reduce(((e,t)=>e+t.replace("0x","")),"")}`}r.d(t,{WU:()=>s,aK:()=>n})},6332:(e,t,r)=>{"use strict";function s(e,{strict:t=!0}={}){return!!e&&("string"==typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")))}r.d(t,{a:()=>s})},9508:(e,t,r)=>{"use strict";r.d(t,{YF:()=>i,eu:()=>n});var s=r(9664);function n(e,{dir:t,size:r=32}={}){return"string"==typeof e?i(e,{dir:t,size:r}):function(e,{dir:t,size:r=32}={}){if(null===r)return e;if(e.length>r)throw new s.i({size:e.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let s=0;s<r;s++){const i="right"===t;n[i?s:r-s-1]=e[i?s:e.length-s-1]}return n}(e,{dir:t,size:r})}function i(e,{dir:t,size:r=32}={}){if(null===r)return e;const n=e.replace("0x","");if(n.length>2*r)throw new s.i({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n["right"===t?"padEnd":"padStart"](2*r,"0")}`}},5876:(e,t,r)=>{"use strict";r.d(t,{e:()=>n});var s=r(6332);function n(e){return(0,s.a)(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}},8528:(e,t,r)=>{"use strict";r.d(t,{SM:()=>a});var s=r(9664),n=r(6332),i=r(5876);function a(e,t,r,{strict:s}={}){return(0,n.a)(e,{strict:!1})?function(e,t,r,{strict:s}={}){o(e,t);const n=`0x${e.replace("0x","").slice(2*(t??0),2*(r??e.length))}`;s&&l(n,t,r);return n}(e,t,r,{strict:s}):function(e,t,r,{strict:s}={}){o(e,t);const n=e.slice(t,r);s&&l(n,t,r);return n}(e,t,r,{strict:s})}function o(e,t){if("number"==typeof t&&t>0&&t>(0,i.e)(e)-1)throw new s.A({offset:t,position:"start",size:(0,i.e)(e)})}function l(e,t,r){if("number"==typeof t&&"number"==typeof r&&(0,i.e)(e)!==r-t)throw new s.A({offset:r,position:"end",size:(0,i.e)(e)})}},6020:(e,t,r)=>{"use strict";function s(e,{dir:t="left"}={}){let r="string"==typeof e?e.replace("0x",""):e,s=0;for(let e=0;e<r.length-1&&"0"===r["left"===t?e:r.length-e-1].toString();e++)s++;return r="left"===t?r.slice(s):r.slice(0,r.length-s),"string"==typeof e?(1===r.length&&"right"===t&&(r=`${r}0`),`0x${r.length%2==1?`0${r}`:r}`):r}r.d(t,{c:()=>s})},8460:(e,t,r)=>{"use strict";r.d(t,{Ad:()=>l,M5:()=>u,OO:()=>o,Sw:()=>h,kB:()=>c});var s=r(6392),n=r(5876),i=r(6020),a=r(7224);function o(e,{size:t}){if((0,n.e)(e)>t)throw new s.E9({givenSize:(0,n.e)(e),maxSize:t})}function l(e,t={}){const{signed:r}=t;t.size&&o(e,{size:t.size});const s=BigInt(e);if(!r)return s;const n=(e.length-2)/2;return s<=(1n<<8n*BigInt(n)-1n)-1n?s:s-BigInt(`0x${"f".padStart(2*n,"f")}`)-1n}function c(e,t={}){let r=e;if(t.size&&(o(r,{size:t.size}),r=(0,i.c)(r)),"0x00"===(0,i.c)(r))return!1;if("0x01"===(0,i.c)(r))return!0;throw new s.um(r)}function h(e,t={}){return Number(l(e,t))}function u(e,t={}){let r=(0,a._U)(e);return t.size&&(o(r,{size:t.size}),r=(0,i.c)(r,{dir:"right"})),(new TextDecoder).decode(r)}},7224:(e,t,r)=>{"use strict";r.d(t,{Eh:()=>c,_U:()=>d,iC:()=>p});var s=r(532),n=r(6332),i=r(9508),a=r(8460),o=r(1856);const l=new TextEncoder;function c(e,t={}){return"number"==typeof e||"bigint"==typeof e?function(e,t){const r=(0,o.c1)(e,t);return d(r)}(e,t):"boolean"==typeof e?function(e,t={}){const r=new Uint8Array(1);if(r[0]=Number(e),"number"==typeof t.size)return(0,a.OO)(r,{size:t.size}),(0,i.eu)(r,{size:t.size});return r}(e,t):(0,n.a)(e)?d(e,t):p(e,t)}const h={zero:48,nine:57,A:65,F:70,a:97,f:102};function u(e){return e>=h.zero&&e<=h.nine?e-h.zero:e>=h.A&&e<=h.F?e-(h.A-10):e>=h.a&&e<=h.f?e-(h.a-10):void 0}function d(e,t={}){let r=e;t.size&&((0,a.OO)(r,{size:t.size}),r=(0,i.eu)(r,{dir:"right",size:t.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const o=n.length/2,l=new Uint8Array(o);for(let e=0,t=0;e<o;e++){const r=u(n.charCodeAt(t++)),i=u(n.charCodeAt(t++));if(void 0===r||void 0===i)throw new s.k(`Invalid byte sequence ("${n[t-2]}${n[t-1]}" in "${n}").`);l[e]=16*r+i}return l}function p(e,t={}){const r=l.encode(e);return"number"==typeof t.size?((0,a.OO)(r,{size:t.size}),(0,i.eu)(r,{dir:"right",size:t.size})):r}},1856:(e,t,r)=>{"use strict";r.d(t,{EH:()=>c,Sm:()=>o,c1:()=>h,mi:()=>d,sx:()=>l});var s=r(6392),n=r(9508),i=r(8460);const a=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function o(e,t={}){return"number"==typeof e||"bigint"==typeof e?h(e,t):"string"==typeof e?d(e,t):"boolean"==typeof e?l(e,t):c(e,t)}function l(e,t={}){const r=`0x${Number(e)}`;return"number"==typeof t.size?((0,i.OO)(r,{size:t.size}),(0,n.eu)(r,{size:t.size})):r}function c(e,t={}){let r="";for(let t=0;t<e.length;t++)r+=a[e[t]];const s=`0x${r}`;return"number"==typeof t.size?((0,i.OO)(s,{size:t.size}),(0,n.eu)(s,{dir:"right",size:t.size})):s}function h(e,t={}){const{signed:r,size:i}=t,a=BigInt(e);let o;i?o=r?(1n<<8n*BigInt(i)-1n)-1n:2n**(8n*BigInt(i))-1n:"number"==typeof e&&(o=BigInt(Number.MAX_SAFE_INTEGER));const l="bigint"==typeof o&&r?-o-1n:0;if(o&&a>o||a<l){const t="bigint"==typeof e?"n":"";throw new s.cI({max:o?`${o}${t}`:void 0,min:`${l}${t}`,signed:r,size:i,value:`${e}${t}`})}const c=`0x${(r&&a<0?(1n<<BigInt(8*i))+BigInt(a):a).toString(16)}`;return i?(0,n.eu)(c,{size:i}):c}const u=new TextEncoder;function d(e,t={}){return c(u.encode(e),t)}},1400:(e,t,r)=>{"use strict";r.d(t,{E:()=>i});var s=r(532),n=r(4932);function i(e,t){const r=(e.details||"").toLowerCase(),i=e.walk((e=>e.code===n.GI.code));return i instanceof s.k?new n.GI({cause:e,message:i.details}):n.GI.nodeMessage.test(r)?new n.GI({cause:e,message:e.details}):n.wC.nodeMessage.test(r)?new n.wC({cause:e,maxFeePerGas:t?.maxFeePerGas}):n.Et.nodeMessage.test(r)?new n.Et({cause:e,maxFeePerGas:t?.maxFeePerGas}):n.ot.nodeMessage.test(r)?new n.ot({cause:e,nonce:t?.nonce}):n.kv.nodeMessage.test(r)?new n.kv({cause:e,nonce:t?.nonce}):n.gl.nodeMessage.test(r)?new n.gl({cause:e,nonce:t?.nonce}):n.qK.nodeMessage.test(r)?new n.qK({cause:e}):n.ui.nodeMessage.test(r)?new n.ui({cause:e,gas:t?.gas}):n.oD.nodeMessage.test(r)?new n.oD({cause:e,gas:t?.gas}):n.KI.nodeMessage.test(r)?new n.KI({cause:e}):n.OK.nodeMessage.test(r)?new n.OK({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new n.sP({cause:e})}},1416:(e,t,r)=>{"use strict";function s(e,{format:t}){if(!t)return{};const r={};return function t(s){const n=Object.keys(s);for(const i of n)i in e&&(r[i]=e[i]),s[i]&&"object"==typeof s[i]&&!Array.isArray(s[i])&&t(s[i])}(t(e||{})),r}r.d(t,{A:()=>s})},4312:(e,t,r)=>{"use strict";function s(e,t){return({exclude:r,format:s})=>({exclude:r,format:e=>{const n=t(e);if(r)for(const e of r)delete n[e];return{...n,...s(e)}},type:e})}r.d(t,{C:()=>s})},6716:(e,t,r)=>{"use strict";r.d(t,{If:()=>a,k1:()=>o});var s=r(1856),n=r(4312);const i={legacy:"0x0",eip2930:"0x1",eip1559:"0x2"};function a(e){return{...e,gas:void 0!==e.gas?(0,s.c1)(e.gas):void 0,gasPrice:void 0!==e.gasPrice?(0,s.c1)(e.gasPrice):void 0,maxFeePerGas:void 0!==e.maxFeePerGas?(0,s.c1)(e.maxFeePerGas):void 0,maxPriorityFeePerGas:void 0!==e.maxPriorityFeePerGas?(0,s.c1)(e.maxPriorityFeePerGas):void 0,nonce:void 0!==e.nonce?(0,s.c1)(e.nonce):void 0,type:void 0!==e.type?i[e.type]:void 0,value:void 0!==e.value?(0,s.c1)(e.value):void 0}}const o=(0,n.C)("transactionRequest",a)},4928:(e,t,r)=>{"use strict";r.d(t,{e:()=>a});var s=r(7224),n=r(1772);var i=r(8760);const a=e=>{return t=(e=>(0,n.y)(e))(e),(0,i.u)((0,s.Eh)(t));var t}},8124:(e,t,r)=>{"use strict";r.d(t,{u:()=>o});var s=r(8528),n=r(7224),i=r(1772),a=r(8760);const o=e=>{return(0,s.SM)((t=(0,i.y)(e),(0,a.u)((0,n.Eh)(t))),0,4);var t}},1772:(e,t,r)=>{"use strict";r.d(t,{y:()=>o});const s=/^tuple(?<array>(\[(\d*)\])*)$/;function n(e){let t=e.type;if(s.test(e.type)&&"components"in e){t="(";const r=e.components.length;for(let s=0;s<r;s++){t+=n(e.components[s]),s<r-1&&(t+=", ")}const i=function(e,t){const r=e.exec(t);return r?.groups}(s,e.type);return t+=`)${i?.array??""}`,n({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function i(e){let t="";const r=e.length;for(let s=0;s<r;s++){t+=n(e[s]),s!==r-1&&(t+=", ")}return t}var a=r(532);const o=e=>{var t;return function(e){let t=!0,r="",s=0,n="",i=!1;for(let a=0;a<e.length;a++){const o=e[a];if(["(",")",","].includes(o)&&(t=!0),"("===o&&s++,")"===o&&s--,t)if(0!==s)" "!==o?(n+=o,r+=o):","!==e[a-1]&&","!==r&&",("!==r&&(r="",t=!1);else if(" "===o&&["event","function",""].includes(n))n="";else if(n+=o,")"===o){i=!0;break}}if(!i)throw new a.k("Unable to normalize signature.");return n}("string"==typeof e?e:"function"===(t=e).type?`function ${t.name}(${i(t.inputs)})${t.stateMutability&&"nonpayable"!==t.stateMutability?` ${t.stateMutability}`:""}${t.outputs.length?` returns (${i(t.outputs)})`:""}`:"event"===t.type?`event ${t.name}(${i(t.inputs)})`:"error"===t.type?`error ${t.name}(${i(t.inputs)})`:"constructor"===t.type?`constructor(${i(t.inputs)})${"payable"===t.stateMutability?" payable":""}`:"fallback"===t.type?"fallback()":"receive() external payable")}},8760:(e,t,r)=>{"use strict";function s(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function n(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function i(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function a(e,t){n(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}r.d(t,{u:()=>R});const o=BigInt(2**32-1),l=BigInt(32);function c(e,t=!1){return t?{h:Number(e&o),l:Number(e>>l&o)}:{h:0|Number(e>>l&o),l:0|Number(e&o)}}function h(e,t=!1){let r=new Uint32Array(e.length),s=new Uint32Array(e.length);for(let n=0;n<e.length;n++){const{h:i,l:a}=c(e[n],t);[r[n],s[n]]=[i,a]}return[r,s]}const u=(e,t,r)=>e<<r|t>>>32-r,d=(e,t,r)=>t<<r|e>>>32-r,p=(e,t,r)=>t<<r-32|e>>>64-r,f=(e,t,r)=>e<<r-32|t>>>64-r;const m=e=>e instanceof Uint8Array;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function g(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),!m(e))throw new Error("expected Uint8Array, got "+typeof e);return e}class y{clone(){return this._cloneInto()}}const[b,v,w]=[[],[],[]],A=BigInt(0),k=BigInt(1),E=BigInt(2),x=BigInt(7),P=BigInt(256),C=BigInt(113);for(let e=0,t=k,r=1,s=0;e<24;e++){[r,s]=[s,(2*r+3*s)%5],b.push(2*(5*s+r)),v.push((e+1)*(e+2)/2%64);let n=A;for(let e=0;e<7;e++)t=(t<<k^(t>>x)*C)%P,t&E&&(n^=k<<(k<<BigInt(e))-k);w.push(n)}const[S,I]=h(w,!0),_=(e,t,r)=>r>32?p(e,t,r):u(e,t,r),T=(e,t,r)=>r>32?f(e,t,r):d(e,t,r);class M extends y{constructor(e,t,r,n=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,s(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var a;this.state=new Uint8Array(200),this.state32=(a=this.state,new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4)))}keccak(){!function(e,t=24){const r=new Uint32Array(10);for(let s=24-t;s<24;s++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const s=(t+8)%10,n=(t+2)%10,i=r[n],a=r[n+1],o=_(i,a,1)^r[s],l=T(i,a,1)^r[s+1];for(let r=0;r<50;r+=10)e[t+r]^=o,e[t+r+1]^=l}let t=e[2],n=e[3];for(let r=0;r<24;r++){const s=v[r],i=_(t,n,s),a=T(t,n,s),o=b[r];t=e[o],n=e[o+1],e[o]=i,e[o+1]=a}for(let t=0;t<50;t+=10){for(let s=0;s<10;s++)r[s]=e[t+s];for(let s=0;s<10;s++)e[t+s]^=~r[(s+2)%10]&r[(s+4)%10]}e[0]^=S[s],e[1]^=I[s]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){i(this);const{blockLen:t,state:r}=this,s=(e=g(e)).length;for(let n=0;n<s;){const i=Math.min(t-this.pos,s-n);for(let t=0;t<i;t++)r[this.pos++]^=e[n++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,0!=(128&t)&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){i(this,!1),n(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,n=e.length;s<n;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,n-s);e.set(t.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return s(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(a(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:n,enableXOF:i}=this;return e||(e=new M(t,r,s,i,n)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=n,e.suffix=r,e.outputLen=s,e.enableXOF=i,e.destroyed=this.destroyed,e}}const D=(e,t,r)=>function(e){const t=t=>e().update(g(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}((()=>new M(t,e,r))),B=D(1,136,32);var O=r(6332),F=r(7224),N=r(1856);function R(e,t){const r=t||"hex",s=B((0,O.a)(e,{strict:!1})?(0,F.Eh)(e):e);return"bytes"===r?s:(0,N.Sm)(s)}},6648:(e,t,r)=>{"use strict";r.d(t,{K:()=>n});const s=new Map;function n({fn:e,id:t,shouldSplitBatch:r,wait:n=0,sort:i}){const a=async()=>{const t=l();o();const r=t.map((({args:e})=>e));0!==r.length&&e(r).then((e=>{i&&Array.isArray(e)&&e.sort(i);for(let r=0;r<t.length;r++){const{pendingPromise:s}=t[r];s.resolve?.([e[r],e])}})).catch((e=>{for(let r=0;r<t.length;r++){const{pendingPromise:s}=t[r];s.reject?.(e)}}))},o=()=>s.delete(t),l=()=>s.get(t)||[],c=e=>s.set(t,[...l(),e]);return{flush:o,async schedule(e){const t={},s=new Promise(((e,r)=>{t.resolve=e,t.reject=r})),i=r?.([...l().map((({args:e})=>e)),e]);i&&a();return l().length>0?(c({args:e,pendingPromise:t}),s):(c({args:e,pendingPromise:t}),setTimeout(a,n),s)}}}},8328:(e,t,r)=>{"use strict";r.d(t,{i:()=>s});const s=(e,t,r)=>JSON.stringify(e,((e,r)=>{const s="bigint"==typeof r?r.toString():r;return"function"==typeof t?t(e,s):s}),r)},4116:(e,t,r)=>{"use strict";r.d(t,{q:()=>l});var s=r(7303),n=r(5904),i=r(4932),a=r(7040),o=r(1616);function l(e){const{account:t,gasPrice:r,maxFeePerGas:l,maxPriorityFeePerGas:c,to:h}=e,u=t?(0,s.o)(t):void 0;if(u&&!(0,o.C)(u.address))throw new n.o({address:u.address});if(h&&!(0,o.C)(h))throw new n.o({address:h});if(void 0!==r&&(void 0!==l||void 0!==c))throw new a.Gi;if(l&&l>2n**256n-1n)throw new i.wC({maxFeePerGas:l});if(c&&l&&c>l)throw new i.OK({maxFeePerGas:l,maxPriorityFeePerGas:c})}},8416:(e,t,r)=>{"use strict";r.d(t,{U:()=>i});var s=r(4984),n=r(2347);function i(e,t="wei"){return(0,n.e)(e,s.U1[t])}},9132:(e,t,r)=>{"use strict";r.d(t,{C:()=>i});var s=r(4984),n=r(2347);function i(e,t="wei"){return(0,n.e)(e,s.O8[t])}},2347:(e,t,r)=>{"use strict";function s(e,t){let r=e.toString();const s=r.startsWith("-");s&&(r=r.slice(1)),r=r.padStart(t,"0");let[n,i]=[r.slice(0,r.length-t),r.slice(r.length-t)];return i=i.replace(/(0+)$/,""),`${s?"-":""}${n||"0"}${i?`.${i}`:""}`}r.d(t,{e:()=>s})}},__webpack_module_cache__={},webpackQueues,webpackExports,webpackError,resolveQueue,leafPrototypes,getProto,inProgress;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.amdO={},webpackQueues="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",webpackExports="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",webpackError="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",resolveQueue=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},__webpack_require__.a=(e,t,r)=>{var s;r&&((s=[]).d=-1);var n,i,a,o=new Set,l=e.exports,c=new Promise(((e,t)=>{a=t,i=e}));c[webpackExports]=l,c[webpackQueues]=e=>(s&&e(s),o.forEach(e),c.catch((e=>{}))),e.exports=c,t((e=>{var t;n=(e=>e.map((e=>{if(null!==e&&"object"==typeof e){if(e[webpackQueues])return e;if(e.then){var t=[];t.d=0,e.then((e=>{r[webpackExports]=e,resolveQueue(t)}),(e=>{r[webpackError]=e,resolveQueue(t)}));var r={};return r[webpackQueues]=e=>e(t),r}}var s={};return s[webpackQueues]=e=>{},s[webpackExports]=e,s})))(e);var r=()=>n.map((e=>{if(e[webpackError])throw e[webpackError];return e[webpackExports]})),i=new Promise((e=>{(t=()=>e(r)).r=0;var i=e=>e!==s&&!o.has(e)&&(o.add(e),e&&!e.d&&(t.r++,e.push(t)));n.map((e=>e[webpackQueues](i)))}));return t.r?i:r()}),(e=>(e?a(c[webpackError]=e):i(l),resolveQueue(s)))),s&&s.d<0&&(s.d=0)},__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},getProto=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,__webpack_require__.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var r=Object.create(null);__webpack_require__.r(r);var s={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var n=2&t&&e;"object"==typeof n&&!~leafPrototypes.indexOf(n);n=getProto(n))Object.getOwnPropertyNames(n).forEach((t=>s[t]=()=>e[t]));return s.default=()=>e,__webpack_require__.d(r,s),r},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,r)=>(__webpack_require__.f[r](e,t),t)),[])),__webpack_require__.u=e=>e+".js",__webpack_require__.miniCssF=e=>{},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),inProgress={},__webpack_require__.l=(e,t,r,s)=>{if(inProgress[e])inProgress[e].push(t);else{var n,i;if(void 0!==r)for(var a=document.getElementsByTagName("script"),o=0;o<a.length;o++){var l=a[o];if(l.getAttribute("src")==e){n=l;break}}n||(i=!0,(n=document.createElement("script")).charset="utf-8",n.timeout=120,__webpack_require__.nc&&n.setAttribute("nonce",__webpack_require__.nc),n.src=e),inProgress[e]=[t];var c=(t,r)=>{n.onerror=n.onload=null,clearTimeout(h);var s=inProgress[e];if(delete inProgress[e],n.parentNode&&n.parentNode.removeChild(n),s&&s.forEach((e=>e(r))),t)return t(r)},h=setTimeout(c.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=c.bind(null,n.onerror),n.onload=c.bind(null,n.onload),i&&document.head.appendChild(n)}},__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;__webpack_require__.g.importScripts&&(e=__webpack_require__.g.location+"");var t=__webpack_require__.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var s=r.length-1;s>-1&&!e;)e=r[s--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=e})(),(()=>{var e={336:0};__webpack_require__.f.j=(t,r)=>{var s=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==s)if(s)r.push(s[2]);else{var n=new Promise(((r,n)=>s=e[t]=[r,n]));r.push(s[2]=n);var i=__webpack_require__.p+__webpack_require__.u(t),a=new Error;__webpack_require__.l(i,(r=>{if(__webpack_require__.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var n=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+n+": "+i+")",a.name="ChunkLoadError",a.type=n,a.request=i,s[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var s,n,[i,a,o]=r,l=0;if(i.some((t=>0!==e[t]))){for(s in a)__webpack_require__.o(a,s)&&(__webpack_require__.m[s]=a[s]);if(o)o(__webpack_require__)}for(t&&t(r);l<i.length;l++)n=i[l],__webpack_require__.o(e,n)&&e[n]&&e[n][0](),e[n]=0},r=self.webpackChunk=self.webpackChunk||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var __webpack_exports__=__webpack_require__(7756)})();