(()=>{var __webpack_modules__={4354:(t,e,r)=>{"use strict";var s=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw new Error("unable to locate global object")}();t.exports=e=s.fetch,s.fetch&&(e.default=s.fetch.bind(s)),e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response},9151:(t,e,r)=>{const s=r(5763),n={};for(const t of Object.keys(s))n[s[t]]=t;const i={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};t.exports=i;for(const t of Object.keys(i)){if(!("channels"in i[t]))throw new Error("missing channels property: "+t);if(!("labels"in i[t]))throw new Error("missing channel labels property: "+t);if(i[t].labels.length!==i[t].channels)throw new Error("channel and label counts mismatch: "+t);const{channels:e,labels:r}=i[t];delete i[t].channels,delete i[t].labels,Object.defineProperty(i[t],"channels",{value:e}),Object.defineProperty(i[t],"labels",{value:r})}i.rgb.hsl=function(t){const e=t[0]/255,r=t[1]/255,s=t[2]/255,n=Math.min(e,r,s),i=Math.max(e,r,s),a=i-n;let o,l;i===n?o=0:e===i?o=(r-s)/a:r===i?o=2+(s-e)/a:s===i&&(o=4+(e-r)/a),o=Math.min(60*o,360),o<0&&(o+=360);const c=(n+i)/2;return l=i===n?0:c<=.5?a/(i+n):a/(2-i-n),[o,100*l,100*c]},i.rgb.hsv=function(t){let e,r,s,n,i;const a=t[0]/255,o=t[1]/255,l=t[2]/255,c=Math.max(a,o,l),h=c-Math.min(a,o,l),u=function(t){return(c-t)/6/h+.5};return 0===h?(n=0,i=0):(i=h/c,e=u(a),r=u(o),s=u(l),a===c?n=s-r:o===c?n=1/3+e-s:l===c&&(n=2/3+r-e),n<0?n+=1:n>1&&(n-=1)),[360*n,100*i,100*c]},i.rgb.hwb=function(t){const e=t[0],r=t[1];let s=t[2];const n=i.rgb.hsl(t)[0],a=1/255*Math.min(e,Math.min(r,s));return s=1-1/255*Math.max(e,Math.max(r,s)),[n,100*a,100*s]},i.rgb.cmyk=function(t){const e=t[0]/255,r=t[1]/255,s=t[2]/255,n=Math.min(1-e,1-r,1-s);return[100*((1-e-n)/(1-n)||0),100*((1-r-n)/(1-n)||0),100*((1-s-n)/(1-n)||0),100*n]},i.rgb.keyword=function(t){const e=n[t];if(e)return e;let r,i=1/0;for(const e of Object.keys(s)){const n=s[e],l=(o=n,((a=t)[0]-o[0])**2+(a[1]-o[1])**2+(a[2]-o[2])**2);l<i&&(i=l,r=e)}var a,o;return r},i.keyword.rgb=function(t){return s[t]},i.rgb.xyz=function(t){let e=t[0]/255,r=t[1]/255,s=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,s=s>.04045?((s+.055)/1.055)**2.4:s/12.92;return[100*(.4124*e+.3576*r+.1805*s),100*(.2126*e+.7152*r+.0722*s),100*(.0193*e+.1192*r+.9505*s)]},i.rgb.lab=function(t){const e=i.rgb.xyz(t);let r=e[0],s=e[1],n=e[2];r/=95.047,s/=100,n/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,s=s>.008856?s**(1/3):7.787*s+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;return[116*s-16,500*(r-s),200*(s-n)]},i.hsl.rgb=function(t){const e=t[0]/360,r=t[1]/100,s=t[2]/100;let n,i,a;if(0===r)return a=255*s,[a,a,a];n=s<.5?s*(1+r):s+r-s*r;const o=2*s-n,l=[0,0,0];for(let t=0;t<3;t++)i=e+1/3*-(t-1),i<0&&i++,i>1&&i--,a=6*i<1?o+6*(n-o)*i:2*i<1?n:3*i<2?o+(n-o)*(2/3-i)*6:o,l[t]=255*a;return l},i.hsl.hsv=function(t){const e=t[0];let r=t[1]/100,s=t[2]/100,n=r;const i=Math.max(s,.01);s*=2,r*=s<=1?s:2-s,n*=i<=1?i:2-i;return[e,100*(0===s?2*n/(i+n):2*r/(s+r)),100*((s+r)/2)]},i.hsv.rgb=function(t){const e=t[0]/60,r=t[1]/100;let s=t[2]/100;const n=Math.floor(e)%6,i=e-Math.floor(e),a=255*s*(1-r),o=255*s*(1-r*i),l=255*s*(1-r*(1-i));switch(s*=255,n){case 0:return[s,l,a];case 1:return[o,s,a];case 2:return[a,s,l];case 3:return[a,o,s];case 4:return[l,a,s];case 5:return[s,a,o]}},i.hsv.hsl=function(t){const e=t[0],r=t[1]/100,s=t[2]/100,n=Math.max(s,.01);let i,a;a=(2-r)*s;const o=(2-r)*n;return i=r*n,i/=o<=1?o:2-o,i=i||0,a/=2,[e,100*i,100*a]},i.hwb.rgb=function(t){const e=t[0]/360;let r=t[1]/100,s=t[2]/100;const n=r+s;let i;n>1&&(r/=n,s/=n);const a=Math.floor(6*e),o=1-s;i=6*e-a,0!=(1&a)&&(i=1-i);const l=r+i*(o-r);let c,h,u;switch(a){default:case 6:case 0:c=o,h=l,u=r;break;case 1:c=l,h=o,u=r;break;case 2:c=r,h=o,u=l;break;case 3:c=r,h=l,u=o;break;case 4:c=l,h=r,u=o;break;case 5:c=o,h=r,u=l}return[255*c,255*h,255*u]},i.cmyk.rgb=function(t){const e=t[0]/100,r=t[1]/100,s=t[2]/100,n=t[3]/100;return[255*(1-Math.min(1,e*(1-n)+n)),255*(1-Math.min(1,r*(1-n)+n)),255*(1-Math.min(1,s*(1-n)+n))]},i.xyz.rgb=function(t){const e=t[0]/100,r=t[1]/100,s=t[2]/100;let n,i,a;return n=3.2406*e+-1.5372*r+-.4986*s,i=-.9689*e+1.8758*r+.0415*s,a=.0557*e+-.204*r+1.057*s,n=n>.0031308?1.055*n**(1/2.4)-.055:12.92*n,i=i>.0031308?1.055*i**(1/2.4)-.055:12.92*i,a=a>.0031308?1.055*a**(1/2.4)-.055:12.92*a,n=Math.min(Math.max(0,n),1),i=Math.min(Math.max(0,i),1),a=Math.min(Math.max(0,a),1),[255*n,255*i,255*a]},i.xyz.lab=function(t){let e=t[0],r=t[1],s=t[2];e/=95.047,r/=100,s/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,s=s>.008856?s**(1/3):7.787*s+16/116;return[116*r-16,500*(e-r),200*(r-s)]},i.lab.xyz=function(t){let e,r,s;r=(t[0]+16)/116,e=t[1]/500+r,s=r-t[2]/200;const n=r**3,i=e**3,a=s**3;return r=n>.008856?n:(r-16/116)/7.787,e=i>.008856?i:(e-16/116)/7.787,s=a>.008856?a:(s-16/116)/7.787,e*=95.047,r*=100,s*=108.883,[e,r,s]},i.lab.lch=function(t){const e=t[0],r=t[1],s=t[2];let n;n=360*Math.atan2(s,r)/2/Math.PI,n<0&&(n+=360);return[e,Math.sqrt(r*r+s*s),n]},i.lch.lab=function(t){const e=t[0],r=t[1],s=t[2]/360*2*Math.PI;return[e,r*Math.cos(s),r*Math.sin(s)]},i.rgb.ansi16=function(t,e=null){const[r,s,n]=t;let a=null===e?i.rgb.hsv(t)[2]:e;if(a=Math.round(a/50),0===a)return 30;let o=30+(Math.round(n/255)<<2|Math.round(s/255)<<1|Math.round(r/255));return 2===a&&(o+=60),o},i.hsv.ansi16=function(t){return i.rgb.ansi16(i.hsv.rgb(t),t[2])},i.rgb.ansi256=function(t){const e=t[0],r=t[1],s=t[2];if(e===r&&r===s)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;return 16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(s/255*5)},i.ansi16.rgb=function(t){let e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const r=.5*(1+~~(t>50));return[(1&e)*r*255,(e>>1&1)*r*255,(e>>2&1)*r*255]},i.ansi256.rgb=function(t){if(t>=232){const e=10*(t-232)+8;return[e,e,e]}let e;t-=16;return[Math.floor(t/36)/5*255,Math.floor((e=t%36)/6)/5*255,e%6/5*255]},i.rgb.hex=function(t){const e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},i.hex.rgb=function(t){const e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let r=e[0];3===e[0].length&&(r=r.split("").map((t=>t+t)).join(""));const s=parseInt(r,16);return[s>>16&255,s>>8&255,255&s]},i.rgb.hcg=function(t){const e=t[0]/255,r=t[1]/255,s=t[2]/255,n=Math.max(Math.max(e,r),s),i=Math.min(Math.min(e,r),s),a=n-i;let o,l;return o=a<1?i/(1-a):0,l=a<=0?0:n===e?(r-s)/a%6:n===r?2+(s-e)/a:4+(e-r)/a,l/=6,l%=1,[360*l,100*a,100*o]},i.hsl.hcg=function(t){const e=t[1]/100,r=t[2]/100,s=r<.5?2*e*r:2*e*(1-r);let n=0;return s<1&&(n=(r-.5*s)/(1-s)),[t[0],100*s,100*n]},i.hsv.hcg=function(t){const e=t[1]/100,r=t[2]/100,s=e*r;let n=0;return s<1&&(n=(r-s)/(1-s)),[t[0],100*s,100*n]},i.hcg.rgb=function(t){const e=t[0]/360,r=t[1]/100,s=t[2]/100;if(0===r)return[255*s,255*s,255*s];const n=[0,0,0],i=e%1*6,a=i%1,o=1-a;let l=0;switch(Math.floor(i)){case 0:n[0]=1,n[1]=a,n[2]=0;break;case 1:n[0]=o,n[1]=1,n[2]=0;break;case 2:n[0]=0,n[1]=1,n[2]=a;break;case 3:n[0]=0,n[1]=o,n[2]=1;break;case 4:n[0]=a,n[1]=0,n[2]=1;break;default:n[0]=1,n[1]=0,n[2]=o}return l=(1-r)*s,[255*(r*n[0]+l),255*(r*n[1]+l),255*(r*n[2]+l)]},i.hcg.hsv=function(t){const e=t[1]/100,r=e+t[2]/100*(1-e);let s=0;return r>0&&(s=e/r),[t[0],100*s,100*r]},i.hcg.hsl=function(t){const e=t[1]/100,r=t[2]/100*(1-e)+.5*e;let s=0;return r>0&&r<.5?s=e/(2*r):r>=.5&&r<1&&(s=e/(2*(1-r))),[t[0],100*s,100*r]},i.hcg.hwb=function(t){const e=t[1]/100,r=e+t[2]/100*(1-e);return[t[0],100*(r-e),100*(1-r)]},i.hwb.hcg=function(t){const e=t[1]/100,r=1-t[2]/100,s=r-e;let n=0;return s<1&&(n=(r-s)/(1-s)),[t[0],100*s,100*n]},i.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},i.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},i.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},i.gray.hsl=function(t){return[0,0,t[0]]},i.gray.hsv=i.gray.hsl,i.gray.hwb=function(t){return[0,100,t[0]]},i.gray.cmyk=function(t){return[0,0,0,t[0]]},i.gray.lab=function(t){return[t[0],0,0]},i.gray.hex=function(t){const e=255&Math.round(t[0]/100*255),r=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(r.length)+r},i.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}},4701:(t,e,r)=>{const s=r(9151),n=r(1784),i={};Object.keys(s).forEach((t=>{i[t]={},Object.defineProperty(i[t],"channels",{value:s[t].channels}),Object.defineProperty(i[t],"labels",{value:s[t].labels});const e=n(t);Object.keys(e).forEach((r=>{const s=e[r];i[t][r]=function(t){const e=function(...e){const r=e[0];if(null==r)return r;r.length>1&&(e=r);const s=t(e);if("object"==typeof s)for(let t=s.length,e=0;e<t;e++)s[e]=Math.round(s[e]);return s};return"conversion"in t&&(e.conversion=t.conversion),e}(s),i[t][r].raw=function(t){const e=function(...e){const r=e[0];return null==r?r:(r.length>1&&(e=r),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(s)}))})),t.exports=i},1784:(t,e,r)=>{const s=r(9151);function n(t){const e=function(){const t={},e=Object.keys(s);for(let r=e.length,s=0;s<r;s++)t[e[s]]={distance:-1,parent:null};return t}(),r=[t];for(e[t].distance=0;r.length;){const t=r.pop(),n=Object.keys(s[t]);for(let s=n.length,i=0;i<s;i++){const s=n[i],a=e[s];-1===a.distance&&(a.distance=e[t].distance+1,a.parent=t,r.unshift(s))}}return e}function i(t,e){return function(r){return e(t(r))}}function a(t,e){const r=[e[t].parent,t];let n=s[e[t].parent][t],a=e[t].parent;for(;e[a].parent;)r.unshift(e[a].parent),n=i(s[e[a].parent][a],n),a=e[a].parent;return n.conversion=r,n}t.exports=function(t){const e=n(t),r={},s=Object.keys(e);for(let t=s.length,n=0;n<t;n++){const t=s[n];null!==e[t].parent&&(r[t]=a(t,e))}return r}},5763:t=>{"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},3774:(t,e,r)=>{var s=r(5763),n=r(6152),i=Object.hasOwnProperty,a=Object.create(null);for(var o in s)i.call(s,o)&&(a[s[o]]=o);var l=t.exports={to:{},get:{}};function c(t,e,r){return Math.min(Math.max(e,t),r)}function h(t){var e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}l.get=function(t){var e,r;switch(t.substring(0,3).toLowerCase()){case"hsl":e=l.get.hsl(t),r="hsl";break;case"hwb":e=l.get.hwb(t),r="hwb";break;default:e=l.get.rgb(t),r="rgb"}return e?{model:r,value:e}:null},l.get.rgb=function(t){if(!t)return null;var e,r,n,a=[0,0,0,1];if(e=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(n=e[2],e=e[1],r=0;r<3;r++){var o=2*r;a[r]=parseInt(e.slice(o,o+2),16)}n&&(a[3]=parseInt(n,16)/255)}else if(e=t.match(/^#([a-f0-9]{3,4})$/i)){for(n=(e=e[1])[3],r=0;r<3;r++)a[r]=parseInt(e[r]+e[r],16);n&&(a[3]=parseInt(n+n,16)/255)}else if(e=t.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(r=0;r<3;r++)a[r]=parseInt(e[r+1],0);e[4]&&(e[5]?a[3]=.01*parseFloat(e[4]):a[3]=parseFloat(e[4]))}else{if(!(e=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(e=t.match(/^(\w+)$/))?"transparent"===e[1]?[0,0,0,0]:i.call(s,e[1])?((a=s[e[1]])[3]=1,a):null:null;for(r=0;r<3;r++)a[r]=Math.round(2.55*parseFloat(e[r+1]));e[4]&&(e[5]?a[3]=.01*parseFloat(e[4]):a[3]=parseFloat(e[4]))}for(r=0;r<3;r++)a[r]=c(a[r],0,255);return a[3]=c(a[3],0,1),a},l.get.hsl=function(t){if(!t)return null;var e=t.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(e){var r=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,c(parseFloat(e[2]),0,100),c(parseFloat(e[3]),0,100),c(isNaN(r)?1:r,0,1)]}return null},l.get.hwb=function(t){if(!t)return null;var e=t.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(e){var r=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,c(parseFloat(e[2]),0,100),c(parseFloat(e[3]),0,100),c(isNaN(r)?1:r,0,1)]}return null},l.to.hex=function(){var t=n(arguments);return"#"+h(t[0])+h(t[1])+h(t[2])+(t[3]<1?h(Math.round(255*t[3])):"")},l.to.rgb=function(){var t=n(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},l.to.rgb.percent=function(){var t=n(arguments),e=Math.round(t[0]/255*100),r=Math.round(t[1]/255*100),s=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+r+"%, "+s+"%)":"rgba("+e+"%, "+r+"%, "+s+"%, "+t[3]+")"},l.to.hsl=function(){var t=n(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},l.to.hwb=function(){var t=n(arguments),e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},l.to.keyword=function(t){return a[t.slice(0,3)]}},9406:(t,e,r)=>{const s=r(3774),n=r(4701),i=["keyword","gray","hex"],a={};for(const t of Object.keys(n))a[[...n[t].labels].sort().join("")]=t;const o={};function l(t,e){if(!(this instanceof l))return new l(t,e);if(e&&e in i&&(e=null),e&&!(e in n))throw new Error("Unknown model: "+e);let r,c;if(null==t)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof l)this.model=t.model,this.color=[...t.color],this.valpha=t.valpha;else if("string"==typeof t){const e=s.get(t);if(null===e)throw new Error("Unable to parse color from string: "+t);this.model=e.model,c=n[this.model].channels,this.color=e.value.slice(0,c),this.valpha="number"==typeof e.value[c]?e.value[c]:1}else if(t.length>0){this.model=e||"rgb",c=n[this.model].channels;const r=Array.prototype.slice.call(t,0,c);this.color=d(r,c),this.valpha="number"==typeof t[c]?t[c]:1}else if("number"==typeof t)this.model="rgb",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;const e=Object.keys(t);"alpha"in t&&(e.splice(e.indexOf("alpha"),1),this.valpha="number"==typeof t.alpha?t.alpha:0);const s=e.sort().join("");if(!(s in a))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=a[s];const{labels:i}=n[this.model],o=[];for(r=0;r<i.length;r++)o.push(t[i[r]]);this.color=d(o)}if(o[this.model])for(c=n[this.model].channels,r=0;r<c;r++){const t=o[this.model][r];t&&(this.color[r]=t(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}l.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(t){let e=this.model in s.to?this:this.rgb();e=e.round("number"==typeof t?t:1);const r=1===e.valpha?e.color:[...e.color,this.valpha];return s.to[e.model](r)},percentString(t){const e=this.rgb().round("number"==typeof t?t:1),r=1===e.valpha?e.color:[...e.color,this.valpha];return s.to.rgb.percent(r)},array(){return 1===this.valpha?[...this.color]:[...this.color,this.valpha]},object(){const t={},{channels:e}=n[this.model],{labels:r}=n[this.model];for(let s=0;s<e;s++)t[r[s]]=this.color[s];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray(){const t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject(){const t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round(t){return t=Math.max(t||0,0),new l([...this.color.map(c(t)),this.valpha],this.model)},alpha(t){return void 0!==t?new l([...this.color,Math.max(0,Math.min(1,t))],this.model):this.valpha},red:h("rgb",0,u(255)),green:h("rgb",1,u(255)),blue:h("rgb",2,u(255)),hue:h(["hsl","hsv","hsl","hwb","hcg"],0,(t=>(t%360+360)%360)),saturationl:h("hsl",1,u(100)),lightness:h("hsl",2,u(100)),saturationv:h("hsv",1,u(100)),value:h("hsv",2,u(100)),chroma:h("hcg",1,u(100)),gray:h("hcg",2,u(100)),white:h("hwb",1,u(100)),wblack:h("hwb",2,u(100)),cyan:h("cmyk",0,u(100)),magenta:h("cmyk",1,u(100)),yellow:h("cmyk",2,u(100)),black:h("cmyk",3,u(100)),x:h("xyz",0,u(95.047)),y:h("xyz",1,u(100)),z:h("xyz",2,u(108.833)),l:h("lab",0,u(100)),a:h("lab",1),b:h("lab",2),keyword(t){return void 0!==t?new l(t):n[this.model].keyword(this.color)},hex(t){return void 0!==t?new l(t):s.to.hex(this.rgb().round().color)},hexa(t){if(void 0!==t)return new l(t);const e=this.rgb().round().color;let r=Math.round(255*this.valpha).toString(16).toUpperCase();return 1===r.length&&(r="0"+r),s.to.hex(e)+r},rgbNumber(){const t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity(){const t=this.rgb().color,e=[];for(const[r,s]of t.entries()){const t=s/255;e[r]=t<=.04045?t/12.92:((t+.055)/1.055)**2.4}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(t){const e=this.luminosity(),r=t.luminosity();return e>r?(e+.05)/(r+.05):(r+.05)/(e+.05)},level(t){const e=this.contrast(t);return e>=7?"AAA":e>=4.5?"AA":""},isDark(){const t=this.rgb().color;return(2126*t[0]+7152*t[1]+722*t[2])/1e4<128},isLight(){return!this.isDark()},negate(){const t=this.rgb();for(let e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten(t){const e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken(t){const e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate(t){const e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate(t){const e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten(t){const e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken(t){const e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale(){const t=this.rgb().color,e=.3*t[0]+.59*t[1]+.11*t[2];return l.rgb(e,e,e)},fade(t){return this.alpha(this.valpha-this.valpha*t)},opaquer(t){return this.alpha(this.valpha+this.valpha*t)},rotate(t){const e=this.hsl();let r=e.color[0];return r=(r+t)%360,r=r<0?360+r:r,e.color[0]=r,e},mix(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);const r=t.rgb(),s=this.rgb(),n=void 0===e?.5:e,i=2*n-1,a=r.alpha()-s.alpha(),o=((i*a==-1?i:(i+a)/(1+i*a))+1)/2,c=1-o;return l.rgb(o*r.red()+c*s.red(),o*r.green()+c*s.green(),o*r.blue()+c*s.blue(),r.alpha()*n+s.alpha()*(1-n))}};for(const t of Object.keys(n)){if(i.includes(t))continue;const{channels:e}=n[t];l.prototype[t]=function(...e){return this.model===t?new l(this):e.length>0?new l(e,t):new l([...(r=n[this.model][t].raw(this.color),Array.isArray(r)?r:[r]),this.valpha],t);var r},l[t]=function(...r){let s=r[0];return"number"==typeof s&&(s=d(r,e)),new l(s,t)}}function c(t){return function(e){return function(t,e){return Number(t.toFixed(e))}(e,t)}}function h(t,e,r){t=Array.isArray(t)?t:[t];for(const s of t)(o[s]||(o[s]=[]))[e]=r;return t=t[0],function(s){let n;return void 0!==s?(r&&(s=r(s)),n=this[t](),n.color[e]=s,n):(n=this[t]().color[e],r&&(n=r(n)),n)}}function u(t){return function(e){return Math.max(0,Math.min(t,e))}}function d(t,e){for(let r=0;r<e;r++)"number"!=typeof t[r]&&(t[r]=0);return t}t.exports=l},5670:t=>{var e=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};t.exports=function(){if(this)return this;if("object"==typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(t){return e()}try{return __global__||e()}finally{delete Object.prototype.__global__}}()},6759:t=>{t.exports=function(t){return!(!t||"string"==typeof t)&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&"String"!==t.constructor.name))}},2543:function(module,exports,__webpack_require__){var factory;"undefined"!=typeof navigator&&(factory=function(){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(t){_useWebWorker=!!t},getWebWorker=function(){return _useWebWorker},setLocationHref=function(t){locationHref=t},getLocationHref=function(){return locationHref};function createTag(t){return document.createElement(t)}function extendPrototype(t,e){var r,s,n=t.length;for(r=0;r<n;r+=1)for(var i in s=t[r].prototype)Object.prototype.hasOwnProperty.call(s,i)&&(e.prototype[i]=s[i])}function getDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)}function createProxyFunction(t){function e(){}return e.prototype=t,e}var audioControllerFactory=function(){function t(t){this.audios=[],this.audioFactory=t,this._volume=1,this._isMuted=!1}return t.prototype={addAudio:function(t){this.audios.push(t)},pause:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].pause()},resume:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].resume()},setRate:function(t){var e,r=this.audios.length;for(e=0;e<r;e+=1)this.audios[e].setRate(t)},createAudio:function(t){return this.audioFactory?this.audioFactory(t):window.Howl?new window.Howl({src:[t]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(t){this.audioFactory=t},setVolume:function(t){this._volume=t,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].volume(this._volume*(this._isMuted?0:1))}},function(){return new t}}(),createTypedArray=function(){function t(t,e){var r,s=0,n=[];switch(t){case"int16":case"uint8c":r=1;break;default:r=1.1}for(s=0;s<e;s+=1)n.push(r);return n}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(e,r){return"float32"===e?new Float32Array(r):"int16"===e?new Int16Array(r):"uint8c"===e?new Uint8ClampedArray(r):t(e,r)}:t}();function createSizedArray(t){return Array.apply(null,{length:t})}function _typeof$6(t){return _typeof$6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$6(t)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),_shouldRoundValues=!1,bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface$1(){return{}}!function(){var t,e=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],r=e.length;for(t=0;t<r;t+=1)BMMath[e[t]]=Math[e[t]]}(),BMMath.random=Math.random,BMMath.abs=function(t){if("object"===_typeof$6(t)&&t.length){var e,r=createSizedArray(t.length),s=t.length;for(e=0;e<s;e+=1)r[e]=Math.abs(t[e]);return r}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(t){_shouldRoundValues=!!t}function bmRnd(t){return _shouldRoundValues?Math.round(t):t}function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin="0 0",t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility="visible",t.style.webkitBackfaceVisibility="visible",t.style.transformStyle="preserve-3d",t.style.webkitTransformStyle="preserve-3d",t.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(t,e,r,s){this.type=t,this.currentTime=e,this.totalTime=r,this.direction=s<0?-1:1}function BMCompleteEvent(t,e){this.type=t,this.direction=e<0?-1:1}function BMCompleteLoopEvent(t,e,r,s){this.type=t,this.currentLoop=r,this.totalLoops=e,this.direction=s<0?-1:1}function BMSegmentStartEvent(t,e,r){this.type=t,this.firstFrame=e,this.totalFrames=r}function BMDestroyEvent(t,e){this.type=t,this.target=e}function BMRenderFrameErrorEvent(t,e){this.type="renderFrameError",this.nativeError=t,this.currentTime=e}function BMConfigErrorEvent(t){this.type="configError",this.nativeError=t}function BMAnimationConfigErrorEvent(t,e){this.type=t,this.nativeError=e}var createElementID=(_count=0,function(){return idPrefix$1+"__lottie_element_"+(_count+=1)}),_count;function HSVtoRGB(t,e,r){var s,n,i,a,o,l,c,h;switch(l=r*(1-e),c=r*(1-(o=6*t-(a=Math.floor(6*t)))*e),h=r*(1-(1-o)*e),a%6){case 0:s=r,n=h,i=l;break;case 1:s=c,n=r,i=l;break;case 2:s=l,n=r,i=h;break;case 3:s=l,n=c,i=r;break;case 4:s=h,n=l,i=r;break;case 5:s=r,n=l,i=c}return[s,n,i]}function RGBtoHSV(t,e,r){var s,n=Math.max(t,e,r),i=Math.min(t,e,r),a=n-i,o=0===n?0:a/n,l=n/255;switch(n){case i:s=0;break;case t:s=e-r+a*(e<r?6:0),s/=6*a;break;case e:s=r-t+2*a,s/=6*a;break;case r:s=t-e+4*a,s/=6*a}return[s,o,l]}function addSaturationToRGB(t,e){var r=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return r[1]+=e,r[1]>1?r[1]=1:r[1]<=0&&(r[1]=0),HSVtoRGB(r[0],r[1],r[2])}function addBrightnessToRGB(t,e){var r=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return r[2]+=e,r[2]>1?r[2]=1:r[2]<0&&(r[2]=0),HSVtoRGB(r[0],r[1],r[2])}function addHueToRGB(t,e){var r=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return r[0]+=e/360,r[0]>1?r[0]-=1:r[0]<0&&(r[0]+=1),HSVtoRGB(r[0],r[1],r[2])}var rgbToHex=function(){var t,e,r=[];for(t=0;t<256;t+=1)e=t.toString(16),r[t]=1===e.length?"0"+e:e;return function(t,e,s){return t<0&&(t=0),e<0&&(e=0),s<0&&(s=0),"#"+r[t]+r[e]+r[s]}}(),setSubframeEnabled=function(t){subframeEnabled=!!t},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(t){expressionsPlugin=t},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(t){expressionsInterfaces=t},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(t){defaultCurveSegments=t},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(t){idPrefix$1=t},getIdPrefix=function(){return idPrefix$1};function createNS(t){return document.createElementNS(svgNS,t)}function _typeof$5(t){return _typeof$5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$5(t)}var dataManager=function(){var t,e,r=1,s=[],n={onmessage:function(){},postMessage:function(e){t({data:e})}},i={postMessage:function(t){n.onmessage({data:t})}};function a(){e||(e=function(e){if(window.Worker&&window.Blob&&getWebWorker()){var r=new Blob(["var _workerSelf = self; self.onmessage = ",e.toString()],{type:"text/javascript"}),s=URL.createObjectURL(r);return new Worker(s)}return t=e,n}((function(t){if(i.dataManager||(i.dataManager=function(){function t(n,i){var a,o,l,c,h,d,p=n.length;for(o=0;o<p;o+=1)if("ks"in(a=n[o])&&!a.completed){if(a.completed=!0,a.hasMask){var f=a.masksProperties;for(c=f.length,l=0;l<c;l+=1)if(f[l].pt.k.i)s(f[l].pt.k);else for(d=f[l].pt.k.length,h=0;h<d;h+=1)f[l].pt.k[h].s&&s(f[l].pt.k[h].s[0]),f[l].pt.k[h].e&&s(f[l].pt.k[h].e[0])}0===a.ty?(a.layers=e(a.refId,i),t(a.layers,i)):4===a.ty?r(a.shapes):5===a.ty&&u(a)}}function e(t,e){var r=function(t,e){for(var r=0,s=e.length;r<s;){if(e[r].id===t)return e[r];r+=1}return null}(t,e);return r?r.layers.__used?JSON.parse(JSON.stringify(r.layers)):(r.layers.__used=!0,r.layers):null}function r(t){var e,n,i;for(e=t.length-1;e>=0;e-=1)if("sh"===t[e].ty)if(t[e].ks.k.i)s(t[e].ks.k);else for(i=t[e].ks.k.length,n=0;n<i;n+=1)t[e].ks.k[n].s&&s(t[e].ks.k[n].s[0]),t[e].ks.k[n].e&&s(t[e].ks.k[n].e[0]);else"gr"===t[e].ty&&r(t[e].it)}function s(t){var e,r=t.i.length;for(e=0;e<r;e+=1)t.i[e][0]+=t.v[e][0],t.i[e][1]+=t.v[e][1],t.o[e][0]+=t.v[e][0],t.o[e][1]+=t.v[e][1]}function n(t,e){var r=e?e.split("."):[100,100,100];return t[0]>r[0]||!(r[0]>t[0])&&(t[1]>r[1]||!(r[1]>t[1])&&(t[2]>r[2]||!(r[2]>t[2])&&null))}var i,a=function(){var t=[4,4,14];function e(t){var e,r,s,n=t.length;for(e=0;e<n;e+=1)5===t[e].ty&&(s=void 0,s=(r=t[e]).t.d,r.t.d={k:[{s,t:0}]})}return function(r){if(n(t,r.v)&&(e(r.layers),r.assets)){var s,i=r.assets.length;for(s=0;s<i;s+=1)r.assets[s].layers&&e(r.assets[s].layers)}}}(),o=(i=[4,7,99],function(t){if(t.chars&&!n(i,t.v)){var e,s=t.chars.length;for(e=0;e<s;e+=1){var a=t.chars[e];a.data&&a.data.shapes&&(r(a.data.shapes),a.data.ip=0,a.data.op=99999,a.data.st=0,a.data.sr=1,a.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},t.chars[e].t||(a.data.shapes.push({ty:"no"}),a.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}),l=function(){var t=[5,7,15];function e(t){var e,r,s=t.length;for(e=0;e<s;e+=1)5===t[e].ty&&(r=void 0,"number"==typeof(r=t[e].t.p).a&&(r.a={a:0,k:r.a}),"number"==typeof r.p&&(r.p={a:0,k:r.p}),"number"==typeof r.r&&(r.r={a:0,k:r.r}))}return function(r){if(n(t,r.v)&&(e(r.layers),r.assets)){var s,i=r.assets.length;for(s=0;s<i;s+=1)r.assets[s].layers&&e(r.assets[s].layers)}}}(),c=function(){var t=[4,1,9];function e(t){var r,s,n,i=t.length;for(r=0;r<i;r+=1)if("gr"===t[r].ty)e(t[r].it);else if("fl"===t[r].ty||"st"===t[r].ty)if(t[r].c.k&&t[r].c.k[0].i)for(n=t[r].c.k.length,s=0;s<n;s+=1)t[r].c.k[s].s&&(t[r].c.k[s].s[0]/=255,t[r].c.k[s].s[1]/=255,t[r].c.k[s].s[2]/=255,t[r].c.k[s].s[3]/=255),t[r].c.k[s].e&&(t[r].c.k[s].e[0]/=255,t[r].c.k[s].e[1]/=255,t[r].c.k[s].e[2]/=255,t[r].c.k[s].e[3]/=255);else t[r].c.k[0]/=255,t[r].c.k[1]/=255,t[r].c.k[2]/=255,t[r].c.k[3]/=255}function r(t){var r,s=t.length;for(r=0;r<s;r+=1)4===t[r].ty&&e(t[r].shapes)}return function(e){if(n(t,e.v)&&(r(e.layers),e.assets)){var s,i=e.assets.length;for(s=0;s<i;s+=1)e.assets[s].layers&&r(e.assets[s].layers)}}}(),h=function(){var t=[4,4,18];function e(t){var r,s,n;for(r=t.length-1;r>=0;r-=1)if("sh"===t[r].ty)if(t[r].ks.k.i)t[r].ks.k.c=t[r].closed;else for(n=t[r].ks.k.length,s=0;s<n;s+=1)t[r].ks.k[s].s&&(t[r].ks.k[s].s[0].c=t[r].closed),t[r].ks.k[s].e&&(t[r].ks.k[s].e[0].c=t[r].closed);else"gr"===t[r].ty&&e(t[r].it)}function r(t){var r,s,n,i,a,o,l=t.length;for(s=0;s<l;s+=1){if((r=t[s]).hasMask){var c=r.masksProperties;for(i=c.length,n=0;n<i;n+=1)if(c[n].pt.k.i)c[n].pt.k.c=c[n].cl;else for(o=c[n].pt.k.length,a=0;a<o;a+=1)c[n].pt.k[a].s&&(c[n].pt.k[a].s[0].c=c[n].cl),c[n].pt.k[a].e&&(c[n].pt.k[a].e[0].c=c[n].cl)}4===r.ty&&e(r.shapes)}}return function(e){if(n(t,e.v)&&(r(e.layers),e.assets)){var s,i=e.assets.length;for(s=0;s<i;s+=1)e.assets[s].layers&&r(e.assets[s].layers)}}}();function u(t){0===t.t.a.length&&t.t.p}var d={completeData:function(r){r.__complete||(c(r),a(r),o(r),l(r),h(r),t(r.layers,r.assets),function(r,s){if(r){var n=0,i=r.length;for(n=0;n<i;n+=1)1===r[n].t&&(r[n].data.layers=e(r[n].data.refId,s),t(r[n].data.layers,s))}}(r.chars,r.assets),r.__complete=!0)}};return d.checkColors=c,d.checkChars=o,d.checkPathProperties=l,d.checkShapes=h,d.completeLayers=t,d}()),i.assetLoader||(i.assetLoader=function(){function t(t){var e=t.getResponseHeader("content-type");return e&&"json"===t.responseType&&-1!==e.indexOf("json")||t.response&&"object"===_typeof$5(t.response)?t.response:t.response&&"string"==typeof t.response?JSON.parse(t.response):t.responseText?JSON.parse(t.responseText):null}return{load:function(e,r,s,n){var i,a=new XMLHttpRequest;try{a.responseType="json"}catch(t){}a.onreadystatechange=function(){if(4===a.readyState)if(200===a.status)i=t(a),s(i);else try{i=t(a),s(i)}catch(t){n&&n(t)}};try{a.open(["G","E","T"].join(""),e,!0)}catch(t){a.open(["G","E","T"].join(""),r+"/"+e,!0)}a.send()}}}()),"loadAnimation"===t.data.type)i.assetLoader.load(t.data.path,t.data.fullPath,(function(e){i.dataManager.completeData(e),i.postMessage({id:t.data.id,payload:e,status:"success"})}),(function(){i.postMessage({id:t.data.id,status:"error"})}));else if("complete"===t.data.type){var e=t.data.animation;i.dataManager.completeData(e),i.postMessage({id:t.data.id,payload:e,status:"success"})}else"loadData"===t.data.type&&i.assetLoader.load(t.data.path,t.data.fullPath,(function(e){i.postMessage({id:t.data.id,payload:e,status:"success"})}),(function(){i.postMessage({id:t.data.id,status:"error"})}))})),e.onmessage=function(t){var e=t.data,r=e.id,n=s[r];s[r]=null,"success"===e.status?n.onComplete(e.payload):n.onError&&n.onError()})}function o(t,e){var n="processId_"+(r+=1);return s[n]={onComplete:t,onError:e},n}return{loadAnimation:function(t,r,s){a();var n=o(r,s);e.postMessage({type:"loadAnimation",path:t,fullPath:window.location.origin+window.location.pathname,id:n})},loadData:function(t,r,s){a();var n=o(r,s);e.postMessage({type:"loadData",path:t,fullPath:window.location.origin+window.location.pathname,id:n})},completeAnimation:function(t,r,s){a();var n=o(r,s);e.postMessage({type:"complete",animation:t,id:n})}}}(),ImagePreloader=function(){var t=function(){var t=createTag("canvas");t.width=1,t.height=1;var e=t.getContext("2d");return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),t}();function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function r(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function s(t,e,r){var s="";if(t.e)s=t.p;else if(e){var n=t.p;-1!==n.indexOf("images/")&&(n=n.split("/")[1]),s=e+n}else s=r,s+=t.u?t.u:"",s+=t.p;return s}function n(t){var e=0,r=setInterval(function(){(t.getBBox().width||e>500)&&(this._imageLoaded(),clearInterval(r)),e+=1}.bind(this),50)}function i(t){var e={assetData:t},r=s(t,this.assetsPath,this.path);return dataManager.loadData(r,function(t){e.img=t,this._footageLoaded()}.bind(this),function(){e.img={},this._footageLoaded()}.bind(this)),e}function a(){this._imageLoaded=e.bind(this),this._footageLoaded=r.bind(this),this.testImageLoaded=n.bind(this),this.createFootageData=i.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return a.prototype={loadAssets:function(t,e){var r;this.imagesLoadedCb=e;var s=t.length;for(r=0;r<s;r+=1)t[r].layers||(t[r].t&&"seq"!==t[r].t?3===t[r].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(t[r]))):(this.totalImages+=1,this.images.push(this._createImageData(t[r]))))},setAssetsPath:function(t){this.assetsPath=t||""},setPath:function(t){this.path=t||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(t){for(var e=0,r=this.images.length;e<r;){if(this.images[e].assetData===t)return this.images[e].img;e+=1}return null},createImgData:function(e){var r=s(e,this.assetsPath,this.path),n=createTag("img");n.crossOrigin="anonymous",n.addEventListener("load",this._imageLoaded,!1),n.addEventListener("error",function(){i.img=t,this._imageLoaded()}.bind(this),!1),n.src=r;var i={img:n,assetData:e};return i},createImageData:function(e){var r=s(e,this.assetsPath,this.path),n=createNS("image");isSafari?this.testImageLoaded(n):n.addEventListener("load",this._imageLoaded,!1),n.addEventListener("error",function(){i.img=t,this._imageLoaded()}.bind(this),!1),n.setAttributeNS("http://www.w3.org/1999/xlink","href",r),this._elementHelper.append?this._elementHelper.append(n):this._elementHelper.appendChild(n);var i={img:n,assetData:e};return i},imageLoaded:e,footageLoaded:r,setCacheType:function(t,e){"svg"===t?(this._elementHelper=e,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},a}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(t,e){if(this._cbs[t])for(var r=this._cbs[t],s=0;s<r.length;s+=1)r[s](e)},addEventListener:function(t,e){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(e),function(){this.removeEventListener(t,e)}.bind(this)},removeEventListener:function(t,e){if(e){if(this._cbs[t]){for(var r=0,s=this._cbs[t].length;r<s;)this._cbs[t][r]===e&&(this._cbs[t].splice(r,1),r-=1,s-=1),r+=1;this._cbs[t].length||(this._cbs[t]=null)}}else this._cbs[t]=null}};var markerParser=function(){function t(t){for(var e,r=t.split("\r\n"),s={},n=0,i=0;i<r.length;i+=1)2===(e=r[i].split(":")).length&&(s[e[0]]=e[1].trim(),n+=1);if(0===n)throw new Error;return s}return function(e){for(var r=[],s=0;s<e.length;s+=1){var n=e[s],i={time:n.tm,duration:n.dr};try{i.payload=JSON.parse(e[s].cm)}catch(r){try{i.payload=t(e[s].cm)}catch(t){i.payload={name:e[s].cm}}}r.push(i)}return r}}(),ProjectInterface=function(){function t(t){this.compositions.push(t)}return function(){function e(t){for(var e=0,r=this.compositions.length;e<r;){if(this.compositions[e].data&&this.compositions[e].data.nm===t)return this.compositions[e].prepareFrame&&this.compositions[e].data.xt&&this.compositions[e].prepareFrame(this.currentFrame),this.compositions[e].compInterface;e+=1}return null}return e.compositions=[],e.currentFrame=0,e.registerComposition=t,e}}(),renderers={},registerRenderer=function(t,e){renderers[t]=e};function getRenderer(t){return renderers[t]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var t in renderers)if(renderers[t])return t;return""}function _typeof$4(t){return _typeof$4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$4(t)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(t){(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var e="svg";t.animType?e=t.animType:t.renderer&&(e=t.renderer);var r=getRenderer(e);this.renderer=new r(this,t.rendererSettings),this.imagePreloader.setCacheType(e,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=e,""===t.loop||null===t.loop||void 0===t.loop||!0===t.loop?this.loop=!0:!1===t.loop?this.loop=!1:this.loop=parseInt(t.loop,10),this.autoplay=!("autoplay"in t)||t.autoplay,this.name=t.name?t.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(t,"autoloadSegments")||t.autoloadSegments,this.assetsPath=t.assetsPath,this.initialSegment=t.initialSegment,t.audioFactory&&this.audioController.setAudioFactory(t.audioFactory),t.animationData?this.setupAnimation(t.animationData):t.path&&(-1!==t.path.lastIndexOf("\\")?this.path=t.path.substr(0,t.path.lastIndexOf("\\")+1):this.path=t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(t.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(t){dataManager.completeAnimation(t,this.configAnimation)},AnimationItem.prototype.setData=function(t,e){e&&"object"!==_typeof$4(e)&&(e=JSON.parse(e));var r={wrapper:t,animationData:e},s=t.attributes;r.path=s.getNamedItem("data-animation-path")?s.getNamedItem("data-animation-path").value:s.getNamedItem("data-bm-path")?s.getNamedItem("data-bm-path").value:s.getNamedItem("bm-path")?s.getNamedItem("bm-path").value:"",r.animType=s.getNamedItem("data-anim-type")?s.getNamedItem("data-anim-type").value:s.getNamedItem("data-bm-type")?s.getNamedItem("data-bm-type").value:s.getNamedItem("bm-type")?s.getNamedItem("bm-type").value:s.getNamedItem("data-bm-renderer")?s.getNamedItem("data-bm-renderer").value:s.getNamedItem("bm-renderer")?s.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var n=s.getNamedItem("data-anim-loop")?s.getNamedItem("data-anim-loop").value:s.getNamedItem("data-bm-loop")?s.getNamedItem("data-bm-loop").value:s.getNamedItem("bm-loop")?s.getNamedItem("bm-loop").value:"";"false"===n?r.loop=!1:"true"===n?r.loop=!0:""!==n&&(r.loop=parseInt(n,10));var i=s.getNamedItem("data-anim-autoplay")?s.getNamedItem("data-anim-autoplay").value:s.getNamedItem("data-bm-autoplay")?s.getNamedItem("data-bm-autoplay").value:!s.getNamedItem("bm-autoplay")||s.getNamedItem("bm-autoplay").value;r.autoplay="false"!==i,r.name=s.getNamedItem("data-name")?s.getNamedItem("data-name").value:s.getNamedItem("data-bm-name")?s.getNamedItem("data-bm-name").value:s.getNamedItem("bm-name")?s.getNamedItem("bm-name").value:"","false"===(s.getNamedItem("data-anim-prerender")?s.getNamedItem("data-anim-prerender").value:s.getNamedItem("data-bm-prerender")?s.getNamedItem("data-bm-prerender").value:s.getNamedItem("bm-prerender")?s.getNamedItem("bm-prerender").value:"")&&(r.prerender=!1),r.path?this.setParams(r):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));var e,r,s=this.animationData.layers,n=s.length,i=t.layers,a=i.length;for(r=0;r<a;r+=1)for(e=0;e<n;){if(s[e].id===i[r].id){s[e]=i[r];break}e+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(n=t.assets.length,e=0;e<n;e+=1)this.animationData.assets.push(t.assets[e]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(t){this.animationData=t;var e=getExpressionsPlugin();e&&e.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||0===t.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var e=t.shift();this.timeCompleted=e.time*this.frameRate;var r=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(r,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(t){if(this.renderer)try{this.animationData=t,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(t.assets),this.markers=markerParser(t.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(t){this.triggerConfigError(t)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var t=getExpressionsPlugin();t&&t.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(t,e){var r="number"==typeof t?t:void 0,s="number"==typeof e?e:void 0;this.renderer.updateContainerSize(r,s)},AnimationItem.prototype.setSubframe=function(t){this.isSubframeEnabled=!!t},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(t){this.triggerRenderFrameError(t)}},AnimationItem.prototype.play=function(t){t&&this.name!==t||!0===this.isPaused&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(t){t&&this.name!==t||!1===this.isPaused&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(t){t&&this.name!==t||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!==t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(t){for(var e,r=0;r<this.markers.length;r+=1)if((e=this.markers[r]).payload&&e.payload.name===t)return e;return null},AnimationItem.prototype.goToAndStop=function(t,e,r){if(!r||this.name===r){var s=Number(t);if(isNaN(s)){var n=this.getMarkerData(t);n&&this.goToAndStop(n.time,!0)}else e?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(t,e,r){if(!r||this.name===r){var s=Number(t);if(isNaN(s)){var n=this.getMarkerData(t);n&&(n.duration?this.playSegments([n.time,n.time+n.duration],!0):this.goToAndStop(n.time,!0))}else this.goToAndStop(s,e,r);this.play()}},AnimationItem.prototype.advanceTime=function(t){if(!0!==this.isPaused&&!1!==this.isLoaded){var e=this.currentRawFrame+t*this.frameModifier,r=!1;e>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(r=!0,e=this.totalFrames-1):e<0?this.checkSegments(e%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(r=!0,e=0):(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(e),r&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(t,e){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=t[0]-t[1],this.timeCompleted=this.totalFrames,this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=t[1]-t[0],this.timeCompleted=this.totalFrames,this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,e){var r=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?r=t:this.currentRawFrame+this.firstFrame>e&&(r=e-t)),this.firstFrame=t,this.totalFrames=e-t,this.timeCompleted=this.totalFrames,-1!==r&&this.goToAndStop(r,!0)},AnimationItem.prototype.playSegments=function(t,e){if(e&&(this.segments.length=0),"object"===_typeof$4(t[0])){var r,s=t.length;for(r=0;r<s;r+=1)this.segments.push(t[r])}else this.segments.push(t);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(t){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),t),!0)},AnimationItem.prototype.destroy=function(t){t&&this.name!==t||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(t){this.loop=t},AnimationItem.prototype.setVolume=function(t,e){e&&this.name!==e||this.audioController.setVolume(t)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(t){t&&this.name!==t||this.audioController.mute()},AnimationItem.prototype.unmute=function(t){t&&this.name!==t||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var e="";if(t.e)e=t.p;else if(this.assetsPath){var r=t.p;-1!==r.indexOf("images/")&&(r=r.split("/")[1]),e=this.assetsPath+r}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e},AnimationItem.prototype.getAssetData=function(t){for(var e=0,r=this.assets.length;e<r;){if(t===this.assets[e].id)return this.assets[e];e+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(t,e,r){try{this.renderer.getElementByPath(t).updateDocumentData(e,r)}catch(t){}},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(t,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}"enterFrame"===t&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===t&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),"complete"===t&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),"segmentStart"===t&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),"destroy"===t&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},AnimationItem.prototype.triggerRenderFrameError=function(t){var e=new BMRenderFrameErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)},AnimationItem.prototype.triggerConfigError=function(t){var e=new BMConfigErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)};var animationManager=function(){var t={},e=[],r=0,s=0,n=0,i=!0,a=!1;function o(t){for(var r=0,n=t.target;r<s;)e[r].animation===n&&(e.splice(r,1),r-=1,s-=1,n.isPaused||h()),r+=1}function l(t,r){if(!t)return null;for(var n=0;n<s;){if(e[n].elem===t&&null!==e[n].elem)return e[n].animation;n+=1}var i=new AnimationItem;return u(i,t),i.setData(t,r),i}function c(){n+=1,f()}function h(){n-=1}function u(t,r){t.addEventListener("destroy",o),t.addEventListener("_active",c),t.addEventListener("_idle",h),e.push({elem:r,animation:t}),s+=1}function d(t){var o,l=t-r;for(o=0;o<s;o+=1)e[o].animation.advanceTime(l);r=t,n&&!a?window.requestAnimationFrame(d):i=!0}function p(t){r=t,window.requestAnimationFrame(d)}function f(){!a&&n&&i&&(window.requestAnimationFrame(p),i=!1)}return t.registerAnimation=l,t.loadAnimation=function(t){var e=new AnimationItem;return u(e,null),e.setParams(t),e},t.setSpeed=function(t,r){var n;for(n=0;n<s;n+=1)e[n].animation.setSpeed(t,r)},t.setDirection=function(t,r){var n;for(n=0;n<s;n+=1)e[n].animation.setDirection(t,r)},t.play=function(t){var r;for(r=0;r<s;r+=1)e[r].animation.play(t)},t.pause=function(t){var r;for(r=0;r<s;r+=1)e[r].animation.pause(t)},t.stop=function(t){var r;for(r=0;r<s;r+=1)e[r].animation.stop(t)},t.togglePause=function(t){var r;for(r=0;r<s;r+=1)e[r].animation.togglePause(t)},t.searchAnimations=function(t,e,r){var s,n=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),i=n.length;for(s=0;s<i;s+=1)r&&n[s].setAttribute("data-bm-type",r),l(n[s],t);if(e&&0===i){r||(r="svg");var a=document.getElementsByTagName("body")[0];a.innerText="";var o=createTag("div");o.style.width="100%",o.style.height="100%",o.setAttribute("data-bm-type",r),a.appendChild(o),l(o,t)}},t.resize=function(){var t;for(t=0;t<s;t+=1)e[t].animation.resize()},t.goToAndStop=function(t,r,n){var i;for(i=0;i<s;i+=1)e[i].animation.goToAndStop(t,r,n)},t.destroy=function(t){var r;for(r=s-1;r>=0;r-=1)e[r].animation.destroy(t)},t.freeze=function(){a=!0},t.unfreeze=function(){a=!1,f()},t.setVolume=function(t,r){var n;for(n=0;n<s;n+=1)e[n].animation.setVolume(t,r)},t.mute=function(t){var r;for(r=0;r<s;r+=1)e[r].animation.mute(t)},t.unmute=function(t){var r;for(r=0;r<s;r+=1)e[r].animation.unmute(t)},t.getRegisteredAnimations=function(){var t,r=e.length,s=[];for(t=0;t<r;t+=1)s.push(e[t].animation);return s},t}(),BezierFactory=function(){var t={getBezierEasing:function(t,r,s,n,i){var a=i||("bez_"+t+"_"+r+"_"+s+"_"+n).replace(/\./g,"p");if(e[a])return e[a];var o=new h([t,r,s,n]);return e[a]=o,o}},e={},r=11,s=1/(r-1),n="function"==typeof Float32Array;function i(t,e){return 1-3*e+3*t}function a(t,e){return 3*e-6*t}function o(t){return 3*t}function l(t,e,r){return((i(e,r)*t+a(e,r))*t+o(e))*t}function c(t,e,r){return 3*i(e,r)*t*t+2*a(e,r)*t+o(e)}function h(t){this._p=t,this._mSampleValues=n?new Float32Array(r):new Array(r),this._precomputed=!1,this.get=this.get.bind(this)}return h.prototype={get:function(t){var e=this._p[0],r=this._p[1],s=this._p[2],n=this._p[3];return this._precomputed||this._precompute(),e===r&&s===n?t:0===t?0:1===t?1:l(this._getTForX(t),r,n)},_precompute:function(){var t=this._p[0],e=this._p[1],r=this._p[2],s=this._p[3];this._precomputed=!0,t===e&&r===s||this._calcSampleValues()},_calcSampleValues:function(){for(var t=this._p[0],e=this._p[2],n=0;n<r;++n)this._mSampleValues[n]=l(n*s,t,e)},_getTForX:function(t){for(var e=this._p[0],n=this._p[2],i=this._mSampleValues,a=0,o=1,h=r-1;o!==h&&i[o]<=t;++o)a+=s;var u=a+(t-i[--o])/(i[o+1]-i[o])*s,d=c(u,e,n);return d>=.001?function(t,e,r,s){for(var n=0;n<4;++n){var i=c(e,r,s);if(0===i)return e;e-=(l(e,r,s)-t)/i}return e}(t,u,e,n):0===d?u:function(t,e,r,s,n){var i,a,o=0;do{(i=l(a=e+(r-e)/2,s,n)-t)>0?r=a:e=a}while(Math.abs(i)>1e-7&&++o<10);return a}(t,a,a+s,e,n)}},t}(),pooling={double:function(t){return t.concat(createSizedArray(t.length))}},poolFactory=function(t,e,r){var s=0,n=t,i=createSizedArray(n);return{newElement:function(){return s?i[s-=1]:e()},release:function(t){s===n&&(i=pooling.double(i),n*=2),r&&r(t),i[s]=t,s+=1}}},bezierLengthPool=poolFactory(8,(function(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}})),segmentsLengthPool=poolFactory(8,(function(){return{lengths:[],totalLength:0}}),(function(t){var e,r=t.lengths.length;for(e=0;e<r;e+=1)bezierLengthPool.release(t.lengths[e]);t.lengths.length=0}));function bezFunction(){var t=Math;function e(t,e,r,s,n,i){var a=t*s+e*n+r*i-n*s-i*t-r*e;return a>-.001&&a<.001}var r=function(t,e,r,s){var n,i,a,o,l,c,h=getDefaultCurveSegments(),u=0,d=[],p=[],f=bezierLengthPool.newElement();for(a=r.length,n=0;n<h;n+=1){for(l=n/(h-1),c=0,i=0;i<a;i+=1)o=bmPow(1-l,3)*t[i]+3*bmPow(1-l,2)*l*r[i]+3*(1-l)*bmPow(l,2)*s[i]+bmPow(l,3)*e[i],d[i]=o,null!==p[i]&&(c+=bmPow(d[i]-p[i],2)),p[i]=d[i];c&&(u+=c=bmSqrt(c)),f.percents[n]=l,f.lengths[n]=u}return f.addedLength=u,f};function s(t){this.segmentLength=0,this.points=new Array(t)}function n(t,e){this.partialLength=t,this.point=e}var i,a=(i={},function(t,r,a,o){var l=(t[0]+"_"+t[1]+"_"+r[0]+"_"+r[1]+"_"+a[0]+"_"+a[1]+"_"+o[0]+"_"+o[1]).replace(/\./g,"p");if(!i[l]){var c,h,u,d,p,f,m,g=getDefaultCurveSegments(),y=0,b=null;2===t.length&&(t[0]!==r[0]||t[1]!==r[1])&&e(t[0],t[1],r[0],r[1],t[0]+a[0],t[1]+a[1])&&e(t[0],t[1],r[0],r[1],r[0]+o[0],r[1]+o[1])&&(g=2);var v=new s(g);for(u=a.length,c=0;c<g;c+=1){for(m=createSizedArray(u),p=c/(g-1),f=0,h=0;h<u;h+=1)d=bmPow(1-p,3)*t[h]+3*bmPow(1-p,2)*p*(t[h]+a[h])+3*(1-p)*bmPow(p,2)*(r[h]+o[h])+bmPow(p,3)*r[h],m[h]=d,null!==b&&(f+=bmPow(m[h]-b[h],2));y+=f=bmSqrt(f),v.points[c]=new n(f,m),b=m}v.segmentLength=y,i[l]=v}return i[l]});function o(t,e){var r=e.percents,s=e.lengths,n=r.length,i=bmFloor((n-1)*t),a=t*e.addedLength,o=0;if(i===n-1||0===i||a===s[i])return r[i];for(var l=s[i]>a?-1:1,c=!0;c;)if(s[i]<=a&&s[i+1]>a?(o=(a-s[i])/(s[i+1]-s[i]),c=!1):i+=l,i<0||i>=n-1){if(i===n-1)return r[i];c=!1}return r[i]+(r[i+1]-r[i])*o}var l=createTypedArray("float32",8);return{getSegmentsLength:function(t){var e,s=segmentsLengthPool.newElement(),n=t.c,i=t.v,a=t.o,o=t.i,l=t._length,c=s.lengths,h=0;for(e=0;e<l-1;e+=1)c[e]=r(i[e],i[e+1],a[e],o[e+1]),h+=c[e].addedLength;return n&&l&&(c[e]=r(i[e],i[0],a[e],o[0]),h+=c[e].addedLength),s.totalLength=h,s},getNewSegment:function(e,r,s,n,i,a,c){i<0?i=0:i>1&&(i=1);var h,u=o(i,c),d=o(a=a>1?1:a,c),p=e.length,f=1-u,m=1-d,g=f*f*f,y=u*f*f*3,b=u*u*f*3,v=u*u*u,w=f*f*m,A=u*f*m+f*u*m+f*f*d,k=u*u*m+f*u*d+u*f*d,E=u*u*d,x=f*m*m,P=u*m*m+f*d*m+f*m*d,C=u*d*m+f*d*d+u*m*d,S=u*d*d,I=m*m*m,_=d*m*m+m*d*m+m*m*d,T=d*d*m+m*d*d+d*m*d,M=d*d*d;for(h=0;h<p;h+=1)l[4*h]=t.round(1e3*(g*e[h]+y*s[h]+b*n[h]+v*r[h]))/1e3,l[4*h+1]=t.round(1e3*(w*e[h]+A*s[h]+k*n[h]+E*r[h]))/1e3,l[4*h+2]=t.round(1e3*(x*e[h]+P*s[h]+C*n[h]+S*r[h]))/1e3,l[4*h+3]=t.round(1e3*(I*e[h]+_*s[h]+T*n[h]+M*r[h]))/1e3;return l},getPointInSegment:function(e,r,s,n,i,a){var l=o(i,a),c=1-l;return[t.round(1e3*(c*c*c*e[0]+(l*c*c+c*l*c+c*c*l)*s[0]+(l*l*c+c*l*l+l*c*l)*n[0]+l*l*l*r[0]))/1e3,t.round(1e3*(c*c*c*e[1]+(l*c*c+c*l*c+c*c*l)*s[1]+(l*l*c+c*l*l+l*c*l)*n[1]+l*l*l*r[1]))/1e3]},buildBezierData:a,pointOnLine2D:e,pointOnLine3D:function(r,s,n,i,a,o,l,c,h){if(0===n&&0===o&&0===h)return e(r,s,i,a,l,c);var u,d=t.sqrt(t.pow(i-r,2)+t.pow(a-s,2)+t.pow(o-n,2)),p=t.sqrt(t.pow(l-r,2)+t.pow(c-s,2)+t.pow(h-n,2)),f=t.sqrt(t.pow(l-i,2)+t.pow(c-a,2)+t.pow(h-o,2));return(u=d>p?d>f?d-p-f:f-p-d:f>p?f-p-d:p-d-f)>-1e-4&&u<1e-4}}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(t,e){var r,s=this.offsetTime;"multidimensional"===this.propType&&(r=createTypedArray("float32",this.pv.length));for(var n,i,a,o,l,c,h,u,d,p=e.lastIndex,f=p,m=this.keyframes.length-1,g=!0;g;){if(n=this.keyframes[f],i=this.keyframes[f+1],f===m-1&&t>=i.t-s){n.h&&(n=i),p=0;break}if(i.t-s>t){p=f;break}f<m-1?f+=1:(p=0,g=!1)}a=this.keyframesMetadata[f]||{};var y,b=i.t-s,v=n.t-s;if(n.to){a.bezierData||(a.bezierData=bez.buildBezierData(n.s,i.s||n.e,n.to,n.ti));var w=a.bezierData;if(t>=b||t<v){var A=t>=b?w.points.length-1:0;for(l=w.points[A].point.length,o=0;o<l;o+=1)r[o]=w.points[A].point[o]}else{a.__fnct?d=a.__fnct:(d=BezierFactory.getBezierEasing(n.o.x,n.o.y,n.i.x,n.i.y,n.n).get,a.__fnct=d),c=d((t-v)/(b-v));var k,E=w.segmentLength*c,x=e.lastFrame<t&&e._lastKeyframeIndex===f?e._lastAddedLength:0;for(u=e.lastFrame<t&&e._lastKeyframeIndex===f?e._lastPoint:0,g=!0,h=w.points.length;g;){if(x+=w.points[u].partialLength,0===E||0===c||u===w.points.length-1){for(l=w.points[u].point.length,o=0;o<l;o+=1)r[o]=w.points[u].point[o];break}if(E>=x&&E<x+w.points[u+1].partialLength){for(k=(E-x)/w.points[u+1].partialLength,l=w.points[u].point.length,o=0;o<l;o+=1)r[o]=w.points[u].point[o]+(w.points[u+1].point[o]-w.points[u].point[o])*k;break}u<h-1?u+=1:g=!1}e._lastPoint=u,e._lastAddedLength=x-w.points[u].partialLength,e._lastKeyframeIndex=f}}else{var P,C,S,I,_;if(m=n.s.length,y=i.s||n.e,this.sh&&1!==n.h)t>=b?(r[0]=y[0],r[1]=y[1],r[2]=y[2]):t<=v?(r[0]=n.s[0],r[1]=n.s[1],r[2]=n.s[2]):quaternionToEuler(r,slerp(createQuaternion(n.s),createQuaternion(y),(t-v)/(b-v)));else for(f=0;f<m;f+=1)1!==n.h&&(t>=b?c=1:t<v?c=0:(n.o.x.constructor===Array?(a.__fnct||(a.__fnct=[]),a.__fnct[f]?d=a.__fnct[f]:(P=void 0===n.o.x[f]?n.o.x[0]:n.o.x[f],C=void 0===n.o.y[f]?n.o.y[0]:n.o.y[f],S=void 0===n.i.x[f]?n.i.x[0]:n.i.x[f],I=void 0===n.i.y[f]?n.i.y[0]:n.i.y[f],d=BezierFactory.getBezierEasing(P,C,S,I).get,a.__fnct[f]=d)):a.__fnct?d=a.__fnct:(P=n.o.x,C=n.o.y,S=n.i.x,I=n.i.y,d=BezierFactory.getBezierEasing(P,C,S,I).get,n.keyframeMetadata=d),c=d((t-v)/(b-v)))),y=i.s||n.e,_=1===n.h?n.s[f]:n.s[f]+(y[f]-n.s[f])*c,"multidimensional"===this.propType?r[f]=_:r=_}return e.lastIndex=p,r}function slerp(t,e,r){var s,n,i,a,o,l=[],c=t[0],h=t[1],u=t[2],d=t[3],p=e[0],f=e[1],m=e[2],g=e[3];return(n=c*p+h*f+u*m+d*g)<0&&(n=-n,p=-p,f=-f,m=-m,g=-g),1-n>1e-6?(s=Math.acos(n),i=Math.sin(s),a=Math.sin((1-r)*s)/i,o=Math.sin(r*s)/i):(a=1-r,o=r),l[0]=a*c+o*p,l[1]=a*h+o*f,l[2]=a*u+o*m,l[3]=a*d+o*g,l}function quaternionToEuler(t,e){var r=e[0],s=e[1],n=e[2],i=e[3],a=Math.atan2(2*s*i-2*r*n,1-2*s*s-2*n*n),o=Math.asin(2*r*s+2*n*i),l=Math.atan2(2*r*i-2*s*n,1-2*r*r-2*n*n);t[0]=a/degToRads,t[1]=o/degToRads,t[2]=l/degToRads}function createQuaternion(t){var e=t[0]*degToRads,r=t[1]*degToRads,s=t[2]*degToRads,n=Math.cos(e/2),i=Math.cos(r/2),a=Math.cos(s/2),o=Math.sin(e/2),l=Math.sin(r/2),c=Math.sin(s/2);return[o*l*a+n*i*c,o*i*a+n*l*c,n*l*a-o*i*c,n*i*a-o*l*c]}function getValueAtCurrentTime(){var t=this.comp.renderedFrame-this.offsetTime,e=this.keyframes[0].t-this.offsetTime,r=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(t===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=r&&t>=r||this._caching.lastFrame<e&&t<e))){this._caching.lastFrame>=t&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var s=this.interpolateValue(t,this._caching);this.pv=s}return this._caching.lastFrame=t,this.pv}function setVValue(t){var e;if("unidimensional"===this.propType)e=t*this.mult,mathAbs(this.v-e)>1e-5&&(this.v=e,this._mdf=!0);else for(var r=0,s=this.v.length;r<s;)e=t[r]*this.mult,mathAbs(this.v[r]-e)>1e-5&&(this.v[r]=e,this._mdf=!0),r+=1}function processEffectsSequence(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var t;this.lock=!0,this._mdf=this._isFirstFrame;var e=this.effectsSequence.length,r=this.kf?this.pv:this.data.k;for(t=0;t<e;t+=1)r=this.effectsSequence[t](r);this.setVValue(r),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function ValueProperty(t,e,r,s){this.propType="unidimensional",this.mult=r||1,this.data=e,this.v=r?e.k*r:e.k,this.pv=e.k,this._mdf=!1,this.elem=t,this.container=s,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(t,e,r,s){var n;this.propType="multidimensional",this.mult=r||1,this.data=e,this._mdf=!1,this.elem=t,this.container=s,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1;var i=e.k.length;for(this.v=createTypedArray("float32",i),this.pv=createTypedArray("float32",i),this.vel=createTypedArray("float32",i),n=0;n<i;n+=1)this.v[n]=e.k[n]*this.mult,this.pv[n]=e.k[n];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(t,e,r,s){this.propType="unidimensional",this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=e,this.mult=r||1,this.elem=t,this.container=s,this.comp=t.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(t,e,r,s){var n;this.propType="multidimensional";var i,a,o,l,c=e.k.length;for(n=0;n<c-1;n+=1)e.k[n].to&&e.k[n].s&&e.k[n+1]&&e.k[n+1].s&&(i=e.k[n].s,a=e.k[n+1].s,o=e.k[n].to,l=e.k[n].ti,(2===i.length&&(i[0]!==a[0]||i[1]!==a[1])&&bez.pointOnLine2D(i[0],i[1],a[0],a[1],i[0]+o[0],i[1]+o[1])&&bez.pointOnLine2D(i[0],i[1],a[0],a[1],a[0]+l[0],a[1]+l[1])||3===i.length&&(i[0]!==a[0]||i[1]!==a[1]||i[2]!==a[2])&&bez.pointOnLine3D(i[0],i[1],i[2],a[0],a[1],a[2],i[0]+o[0],i[1]+o[1],i[2]+o[2])&&bez.pointOnLine3D(i[0],i[1],i[2],a[0],a[1],a[2],a[0]+l[0],a[1]+l[1],a[2]+l[2]))&&(e.k[n].to=null,e.k[n].ti=null),i[0]===a[0]&&i[1]===a[1]&&0===o[0]&&0===o[1]&&0===l[0]&&0===l[1]&&(2===i.length||i[2]===a[2]&&0===o[2]&&0===l[2])&&(e.k[n].to=null,e.k[n].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=e,this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=r||1,this.elem=t,this.container=s,this.comp=t.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var h=e.k[0].s.length;for(this.v=createTypedArray("float32",h),this.pv=createTypedArray("float32",h),n=0;n<h;n+=1)this.v[n]=initFrame,this.pv[n]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",h)},this.addEffect=addEffect}var PropertyFactory={getProp:function(t,e,r,s,n){var i;if(e.sid&&(e=t.globalData.slotManager.getProp(e)),e.k.length)if("number"==typeof e.k[0])i=new MultiDimensionalProperty(t,e,s,n);else switch(r){case 0:i=new KeyframedValueProperty(t,e,s,n);break;case 1:i=new KeyframedMultidimensionalProperty(t,e,s,n)}else i=new ValueProperty(t,e,s,n);return i.effectsSequence.length&&n.addDynamicProperty(i),i}};function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&(this.dynamicProperties.push(t),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var t;this._mdf=!1;var e=this.dynamicProperties.length;for(t=0;t<e;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(t){this.container=t,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=poolFactory(8,(function(){return createTypedArray("float32",2)}));function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(t,e){this.c=t,this.setLength(e);for(var r=0;r<e;)this.v[r]=pointPool.newElement(),this.o[r]=pointPool.newElement(),this.i[r]=pointPool.newElement(),r+=1},ShapePath.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,e,r,s,n){var i;switch(this._length=Math.max(this._length,s+1),this._length>=this._maxLength&&this.doubleArrayLength(),r){case"v":i=this.v;break;case"i":i=this.i;break;case"o":i=this.o;break;default:i=[]}(!i[s]||i[s]&&!n)&&(i[s]=pointPool.newElement()),i[s][0]=t,i[s][1]=e},ShapePath.prototype.setTripleAt=function(t,e,r,s,n,i,a,o){this.setXYAt(t,e,"v",a,o),this.setXYAt(r,s,"o",a,o),this.setXYAt(n,i,"i",a,o)},ShapePath.prototype.reverse=function(){var t=new ShapePath;t.setPathData(this.c,this._length);var e=this.v,r=this.o,s=this.i,n=0;this.c&&(t.setTripleAt(e[0][0],e[0][1],s[0][0],s[0][1],r[0][0],r[0][1],0,!1),n=1);var i,a=this._length-1,o=this._length;for(i=n;i<o;i+=1)t.setTripleAt(e[a][0],e[a][1],s[a][0],s[a][1],r[a][0],r[a][1],i,!1),a-=1;return t},ShapePath.prototype.length=function(){return this._length};var shapePool=(factory=poolFactory(4,(function(){return new ShapePath}),(function(t){var e,r=t._length;for(e=0;e<r;e+=1)pointPool.release(t.v[e]),pointPool.release(t.i[e]),pointPool.release(t.o[e]),t.v[e]=null,t.i[e]=null,t.o[e]=null;t._length=0,t.c=!1})),factory.clone=function(t){var e,r=factory.newElement(),s=void 0===t._length?t.v.length:t._length;for(r.setLength(s),r.c=t.c,e=0;e<s;e+=1)r.setTripleAt(t.v[e][0],t.v[e][1],t.o[e][0],t.o[e][1],t.i[e][0],t.i[e][1],e);return r},factory),factory;function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)shapePool.release(this.shapes[t]);this._length=0};var shapeCollectionPool=(ob={newShapeCollection:function(){return _length?pool[_length-=1]:new ShapeCollection},release:function(t){var e,r=t._length;for(e=0;e<r;e+=1)shapePool.release(t.shapes[e]);t._length=0,_length===_maxLength&&(pool=pooling.double(pool),_maxLength*=2),pool[_length]=t,_length+=1}},_length=0,_maxLength=4,pool=createSizedArray(_maxLength),ob),ob,_length,_maxLength,pool,ShapePropertyFactory=function(){var t=-999999;function e(t,e,r){var s,n,i,a,o,l,c,h,u,d=r.lastIndex,p=this.keyframes;if(t<p[0].t-this.offsetTime)s=p[0].s[0],i=!0,d=0;else if(t>=p[p.length-1].t-this.offsetTime)s=p[p.length-1].s?p[p.length-1].s[0]:p[p.length-2].e[0],i=!0;else{for(var f,m,g,y=d,b=p.length-1,v=!0;v&&(f=p[y],!((m=p[y+1]).t-this.offsetTime>t));)y<b-1?y+=1:v=!1;if(g=this.keyframesMetadata[y]||{},d=y,!(i=1===f.h)){if(t>=m.t-this.offsetTime)h=1;else if(t<f.t-this.offsetTime)h=0;else{var w;g.__fnct?w=g.__fnct:(w=BezierFactory.getBezierEasing(f.o.x,f.o.y,f.i.x,f.i.y).get,g.__fnct=w),h=w((t-(f.t-this.offsetTime))/(m.t-this.offsetTime-(f.t-this.offsetTime)))}n=m.s?m.s[0]:f.e[0]}s=f.s[0]}for(l=e._length,c=s.i[0].length,r.lastIndex=d,a=0;a<l;a+=1)for(o=0;o<c;o+=1)u=i?s.i[a][o]:s.i[a][o]+(n.i[a][o]-s.i[a][o])*h,e.i[a][o]=u,u=i?s.o[a][o]:s.o[a][o]+(n.o[a][o]-s.o[a][o])*h,e.o[a][o]=u,u=i?s.v[a][o]:s.v[a][o]+(n.v[a][o]-s.v[a][o])*h,e.v[a][o]=u}function r(){var e=this.comp.renderedFrame-this.offsetTime,r=this.keyframes[0].t-this.offsetTime,s=this.keyframes[this.keyframes.length-1].t-this.offsetTime,n=this._caching.lastFrame;return n!==t&&(n<r&&e<r||n>s&&e>s)||(this._caching.lastIndex=n<e?this._caching.lastIndex:0,this.interpolateShape(e,this.pv,this._caching)),this._caching.lastFrame=e,this.pv}function s(){this.paths=this.localShapeCollection}function n(t){(function(t,e){if(t._length!==e._length||t.c!==e.c)return!1;var r,s=t._length;for(r=0;r<s;r+=1)if(t.v[r][0]!==e.v[r][0]||t.v[r][1]!==e.v[r][1]||t.o[r][0]!==e.o[r][0]||t.o[r][1]!==e.o[r][1]||t.i[r][0]!==e.i[r][0]||t.i[r][1]!==e.i[r][1])return!1;return!0})(this.v,t)||(this.v=shapePool.clone(t),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function i(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var t,e;this.lock=!0,this._mdf=!1,t=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var r=this.effectsSequence.length;for(e=0;e<r;e+=1)t=this.effectsSequence[e](t);this.setVValue(t),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function a(t,e,r){this.propType="shape",this.comp=t.comp,this.container=t,this.elem=t,this.data=e,this.k=!1,this.kf=!1,this._mdf=!1;var n=3===r?e.pt.k:e.ks.k;this.v=shapePool.clone(n),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=s,this.effectsSequence=[]}function o(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function l(e,n,i){this.propType="shape",this.comp=e.comp,this.elem=e,this.container=e,this.offsetTime=e.data.st,this.keyframes=3===i?n.pt.k:n.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var a=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,a),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=t,this.reset=s,this._caching={lastFrame:t,lastIndex:0},this.effectsSequence=[r.bind(this)]}a.prototype.interpolateShape=e,a.prototype.getValue=i,a.prototype.setVValue=n,a.prototype.addEffect=o,l.prototype.getValue=i,l.prototype.interpolateShape=e,l.prototype.setVValue=n,l.prototype.addEffect=o;var c=function(){var t=roundCorner;function e(t,e){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=e.d,this.elem=t,this.comp=t.comp,this.frameId=-1,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return e.prototype={reset:s,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var e=this.p.v[0],r=this.p.v[1],s=this.s.v[0]/2,n=this.s.v[1]/2,i=3!==this.d,a=this.v;a.v[0][0]=e,a.v[0][1]=r-n,a.v[1][0]=i?e+s:e-s,a.v[1][1]=r,a.v[2][0]=e,a.v[2][1]=r+n,a.v[3][0]=i?e-s:e+s,a.v[3][1]=r,a.i[0][0]=i?e-s*t:e+s*t,a.i[0][1]=r-n,a.i[1][0]=i?e+s:e-s,a.i[1][1]=r-n*t,a.i[2][0]=i?e+s*t:e-s*t,a.i[2][1]=r+n,a.i[3][0]=i?e-s:e+s,a.i[3][1]=r+n*t,a.o[0][0]=i?e+s*t:e-s*t,a.o[0][1]=r-n,a.o[1][0]=i?e+s:e-s,a.o[1][1]=r+n*t,a.o[2][0]=i?e-s*t:e+s*t,a.o[2][1]=r+n,a.o[3][0]=i?e-s:e+s,a.o[3][1]=r-n*t}},extendPrototype([DynamicPropertyContainer],e),e}(),h=function(){function t(t,e){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=t,this.comp=t.comp,this.data=e,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),1===e.sy?(this.ir=PropertyFactory.getProp(t,e.ir,0,0,this),this.is=PropertyFactory.getProp(t,e.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(t,e.pt,0,0,this),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,degToRads,this),this.or=PropertyFactory.getProp(t,e.or,0,0,this),this.os=PropertyFactory.getProp(t,e.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return t.prototype={reset:s,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var t,e,r,s,n=2*Math.floor(this.pt.v),i=2*Math.PI/n,a=!0,o=this.or.v,l=this.ir.v,c=this.os.v,h=this.is.v,u=2*Math.PI*o/(2*n),d=2*Math.PI*l/(2*n),p=-Math.PI/2;p+=this.r.v;var f=3===this.data.d?-1:1;for(this.v._length=0,t=0;t<n;t+=1){r=a?c:h,s=a?u:d;var m=(e=a?o:l)*Math.cos(p),g=e*Math.sin(p),y=0===m&&0===g?0:g/Math.sqrt(m*m+g*g),b=0===m&&0===g?0:-m/Math.sqrt(m*m+g*g);m+=+this.p.v[0],g+=+this.p.v[1],this.v.setTripleAt(m,g,m-y*s*r*f,g-b*s*r*f,m+y*s*r*f,g+b*s*r*f,t,!0),a=!a,p+=i*f}},convertPolygonToPath:function(){var t,e=Math.floor(this.pt.v),r=2*Math.PI/e,s=this.or.v,n=this.os.v,i=2*Math.PI*s/(4*e),a=.5*-Math.PI,o=3===this.data.d?-1:1;for(a+=this.r.v,this.v._length=0,t=0;t<e;t+=1){var l=s*Math.cos(a),c=s*Math.sin(a),h=0===l&&0===c?0:c/Math.sqrt(l*l+c*c),u=0===l&&0===c?0:-l/Math.sqrt(l*l+c*c);l+=+this.p.v[0],c+=+this.p.v[1],this.v.setTripleAt(l,c,l-h*i*n*o,c-u*i*n*o,l+h*i*n*o,c+u*i*n*o,t,!0),a+=r*o}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],t),t}(),u=function(){function t(t,e){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=t,this.comp=t.comp,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return t.prototype={convertRectToPath:function(){var t=this.p.v[0],e=this.p.v[1],r=this.s.v[0]/2,s=this.s.v[1]/2,n=bmMin(r,s,this.r.v),i=n*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(t+r,e-s+n,t+r,e-s+n,t+r,e-s+i,0,!0),this.v.setTripleAt(t+r,e+s-n,t+r,e+s-i,t+r,e+s-n,1,!0),0!==n?(this.v.setTripleAt(t+r-n,e+s,t+r-n,e+s,t+r-i,e+s,2,!0),this.v.setTripleAt(t-r+n,e+s,t-r+i,e+s,t-r+n,e+s,3,!0),this.v.setTripleAt(t-r,e+s-n,t-r,e+s-n,t-r,e+s-i,4,!0),this.v.setTripleAt(t-r,e-s+n,t-r,e-s+i,t-r,e-s+n,5,!0),this.v.setTripleAt(t-r+n,e-s,t-r+n,e-s,t-r+i,e-s,6,!0),this.v.setTripleAt(t+r-n,e-s,t+r-i,e-s,t+r-n,e-s,7,!0)):(this.v.setTripleAt(t-r,e+s,t-r+i,e+s,t-r,e+s,2),this.v.setTripleAt(t-r,e-s,t-r,e-s+i,t-r,e-s,3))):(this.v.setTripleAt(t+r,e-s+n,t+r,e-s+i,t+r,e-s+n,0,!0),0!==n?(this.v.setTripleAt(t+r-n,e-s,t+r-n,e-s,t+r-i,e-s,1,!0),this.v.setTripleAt(t-r+n,e-s,t-r+i,e-s,t-r+n,e-s,2,!0),this.v.setTripleAt(t-r,e-s+n,t-r,e-s+n,t-r,e-s+i,3,!0),this.v.setTripleAt(t-r,e+s-n,t-r,e+s-i,t-r,e+s-n,4,!0),this.v.setTripleAt(t-r+n,e+s,t-r+n,e+s,t-r+i,e+s,5,!0),this.v.setTripleAt(t+r-n,e+s,t+r-i,e+s,t+r-n,e+s,6,!0),this.v.setTripleAt(t+r,e+s-n,t+r,e+s-n,t+r,e+s-i,7,!0)):(this.v.setTripleAt(t-r,e-s,t-r+i,e-s,t-r,e-s,1,!0),this.v.setTripleAt(t-r,e+s,t-r,e+s-i,t-r,e+s,2,!0),this.v.setTripleAt(t+r,e+s,t+r-i,e+s,t+r,e+s,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:s},extendPrototype([DynamicPropertyContainer],t),t}(),d={getShapeProp:function(t,e,r){var s;return 3===r||4===r?s=(3===r?e.pt:e.ks).k.length?new l(t,e,r):new a(t,e,r):5===r?s=new u(t,e):6===r?s=new c(t,e):7===r&&(s=new h(t,e)),s.k&&t.addDynamicProperty(s),s},getConstructorFunction:function(){return a},getKeyframedConstructorFunction:function(){return l}};return d}(),Matrix=function(){var t=Math.cos,e=Math.sin,r=Math.tan,s=Math.round;function n(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function i(r){if(0===r)return this;var s=t(r),n=e(r);return this._t(s,-n,0,0,n,s,0,0,0,0,1,0,0,0,0,1)}function a(r){if(0===r)return this;var s=t(r),n=e(r);return this._t(1,0,0,0,0,s,-n,0,0,n,s,0,0,0,0,1)}function o(r){if(0===r)return this;var s=t(r),n=e(r);return this._t(s,0,n,0,0,1,0,0,-n,0,s,0,0,0,0,1)}function l(r){if(0===r)return this;var s=t(r),n=e(r);return this._t(s,-n,0,0,n,s,0,0,0,0,1,0,0,0,0,1)}function c(t,e){return this._t(1,e,t,1,0,0)}function h(t,e){return this.shear(r(t),r(e))}function u(s,n){var i=t(n),a=e(n);return this._t(i,a,0,0,-a,i,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,r(s),1,0,0,0,0,1,0,0,0,0,1)._t(i,-a,0,0,a,i,0,0,0,0,1,0,0,0,0,1)}function d(t,e,r){return r||0===r||(r=1),1===t&&1===e&&1===r?this:this._t(t,0,0,0,0,e,0,0,0,0,r,0,0,0,0,1)}function p(t,e,r,s,n,i,a,o,l,c,h,u,d,p,f,m){return this.props[0]=t,this.props[1]=e,this.props[2]=r,this.props[3]=s,this.props[4]=n,this.props[5]=i,this.props[6]=a,this.props[7]=o,this.props[8]=l,this.props[9]=c,this.props[10]=h,this.props[11]=u,this.props[12]=d,this.props[13]=p,this.props[14]=f,this.props[15]=m,this}function f(t,e,r){return r=r||0,0!==t||0!==e||0!==r?this._t(1,0,0,0,0,1,0,0,0,0,1,0,t,e,r,1):this}function m(t,e,r,s,n,i,a,o,l,c,h,u,d,p,f,m){var g=this.props;if(1===t&&0===e&&0===r&&0===s&&0===n&&1===i&&0===a&&0===o&&0===l&&0===c&&1===h&&0===u)return g[12]=g[12]*t+g[15]*d,g[13]=g[13]*i+g[15]*p,g[14]=g[14]*h+g[15]*f,g[15]*=m,this._identityCalculated=!1,this;var y=g[0],b=g[1],v=g[2],w=g[3],A=g[4],k=g[5],E=g[6],x=g[7],P=g[8],C=g[9],S=g[10],I=g[11],_=g[12],T=g[13],M=g[14],D=g[15];return g[0]=y*t+b*n+v*l+w*d,g[1]=y*e+b*i+v*c+w*p,g[2]=y*r+b*a+v*h+w*f,g[3]=y*s+b*o+v*u+w*m,g[4]=A*t+k*n+E*l+x*d,g[5]=A*e+k*i+E*c+x*p,g[6]=A*r+k*a+E*h+x*f,g[7]=A*s+k*o+E*u+x*m,g[8]=P*t+C*n+S*l+I*d,g[9]=P*e+C*i+S*c+I*p,g[10]=P*r+C*a+S*h+I*f,g[11]=P*s+C*o+S*u+I*m,g[12]=_*t+T*n+M*l+D*d,g[13]=_*e+T*i+M*c+D*p,g[14]=_*r+T*a+M*h+D*f,g[15]=_*s+T*o+M*u+D*m,this._identityCalculated=!1,this}function g(t){var e=t.props;return this.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function y(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function b(t){for(var e=0;e<16;){if(t.props[e]!==this.props[e])return!1;e+=1}return!0}function v(t){var e;for(e=0;e<16;e+=1)t.props[e]=this.props[e];return t}function w(t){var e;for(e=0;e<16;e+=1)this.props[e]=t[e]}function A(t,e,r){return{x:t*this.props[0]+e*this.props[4]+r*this.props[8]+this.props[12],y:t*this.props[1]+e*this.props[5]+r*this.props[9]+this.props[13],z:t*this.props[2]+e*this.props[6]+r*this.props[10]+this.props[14]}}function k(t,e,r){return t*this.props[0]+e*this.props[4]+r*this.props[8]+this.props[12]}function E(t,e,r){return t*this.props[1]+e*this.props[5]+r*this.props[9]+this.props[13]}function x(t,e,r){return t*this.props[2]+e*this.props[6]+r*this.props[10]+this.props[14]}function P(){var t=this.props[0]*this.props[5]-this.props[1]*this.props[4],e=this.props[5]/t,r=-this.props[1]/t,s=-this.props[4]/t,n=this.props[0]/t,i=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/t,a=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/t,o=new Matrix;return o.props[0]=e,o.props[1]=r,o.props[4]=s,o.props[5]=n,o.props[12]=i,o.props[13]=a,o}function C(t){return this.getInverseMatrix().applyToPointArray(t[0],t[1],t[2]||0)}function S(t){var e,r=t.length,s=[];for(e=0;e<r;e+=1)s[e]=C(t[e]);return s}function I(t,e,r){var s=createTypedArray("float32",6);if(this.isIdentity())s[0]=t[0],s[1]=t[1],s[2]=e[0],s[3]=e[1],s[4]=r[0],s[5]=r[1];else{var n=this.props[0],i=this.props[1],a=this.props[4],o=this.props[5],l=this.props[12],c=this.props[13];s[0]=t[0]*n+t[1]*a+l,s[1]=t[0]*i+t[1]*o+c,s[2]=e[0]*n+e[1]*a+l,s[3]=e[0]*i+e[1]*o+c,s[4]=r[0]*n+r[1]*a+l,s[5]=r[0]*i+r[1]*o+c}return s}function _(t,e,r){return this.isIdentity()?[t,e,r]:[t*this.props[0]+e*this.props[4]+r*this.props[8]+this.props[12],t*this.props[1]+e*this.props[5]+r*this.props[9]+this.props[13],t*this.props[2]+e*this.props[6]+r*this.props[10]+this.props[14]]}function T(t,e){if(this.isIdentity())return t+","+e;var r=this.props;return Math.round(100*(t*r[0]+e*r[4]+r[12]))/100+","+Math.round(100*(t*r[1]+e*r[5]+r[13]))/100}function M(){for(var t=0,e=this.props,r="matrix3d(";t<16;)r+=s(1e4*e[t])/1e4,r+=15===t?")":",",t+=1;return r}function D(t){return t<1e-6&&t>0||t>-1e-6&&t<0?s(1e4*t)/1e4:t}function B(){var t=this.props;return"matrix("+D(t[0])+","+D(t[1])+","+D(t[4])+","+D(t[5])+","+D(t[12])+","+D(t[13])+")"}return function(){this.reset=n,this.rotate=i,this.rotateX=a,this.rotateY=o,this.rotateZ=l,this.skew=h,this.skewFromAxis=u,this.shear=c,this.scale=d,this.setTransform=p,this.translate=f,this.transform=m,this.multiply=g,this.applyToPoint=A,this.applyToX=k,this.applyToY=E,this.applyToZ=x,this.applyToPointArray=_,this.applyToTriplePoints=I,this.applyToPointStringified=T,this.toCSS=M,this.to2dCSS=B,this.clone=v,this.cloneFromProps=w,this.equals=b,this.inversePoints=S,this.inversePoint=C,this.getInverseMatrix=P,this._t=this.transform,this.isIdentity=y,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(t){return _typeof$3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$3(t)}var lottie={},standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";function setLocation(t){setLocationHref(t)}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(t){setSubframeEnabled(t)}function setPrefix(t){setIdPrefix(t)}function loadAnimation(t){return!0===standalone&&(t.animationData=JSON.parse(animationData)),animationManager.loadAnimation(t)}function setQuality(t){if("string"==typeof t)switch(t){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10)}else!isNaN(t)&&t>1&&setDefaultCurveSegments(t);getDefaultCurveSegments()>=50?roundValues(!1):roundValues(!0)}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(t,e){"expressions"===t&&setExpressionsPlugin(e)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var e=queryString.split("&"),r=0;r<e.length;r+=1){var s=e[r].split("=");if(decodeURIComponent(s[0])==t)return decodeURIComponent(s[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";var queryString="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{"object"!==_typeof$3(exports)&&__webpack_require__.amdO}catch(t){}var ShapeModifiers=function(){var t={},e={};return t.registerModifier=function(t,r){e[t]||(e[t]=r)},t.getModifier=function(t,r,s){return new e[t](r,s)},t}();function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){if(!this.closed){t.sh.container.addDynamicProperty(t.sh);var e={shape:t.sh,data:t,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&t.setAsAnimated()}},ShapeModifier.prototype.init=function(t,e){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(t,e){this.s=PropertyFactory.getProp(t,e.s,0,.01,this),this.e=PropertyFactory.getProp(t,e.e,0,.01,this),this.o=PropertyFactory.getProp(t,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(t){t.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(t,e,r,s,n){var i=[];e<=1?i.push({s:t,e}):t>=1?i.push({s:t-1,e:e-1}):(i.push({s:t,e:1}),i.push({s:0,e:e-1}));var a,o,l=[],c=i.length;for(a=0;a<c;a+=1){var h,u;(o=i[a]).e*n<s||o.s*n>s+r||(h=o.s*n<=s?0:(o.s*n-s)/r,u=o.e*n>=s+r?1:(o.e*n-s)/r,l.push([h,u]))}return l.length||l.push([0,0]),l},TrimModifier.prototype.releasePathsData=function(t){var e,r=t.length;for(e=0;e<r;e+=1)segmentsLengthPool.release(t[e]);return t.length=0,t},TrimModifier.prototype.processShapes=function(t){var e,r,s,n;if(this._mdf||t){var i=this.o.v%360/360;if(i<0&&(i+=1),(e=this.s.v>1?1+i:this.s.v<0?0+i:this.s.v+i)>(r=this.e.v>1?1+i:this.e.v<0?0+i:this.e.v+i)){var a=e;e=r,r=a}e=1e-4*Math.round(1e4*e),r=1e-4*Math.round(1e4*r),this.sValue=e,this.eValue=r}else e=this.sValue,r=this.eValue;var o,l,c,h,u,d=this.shapes.length,p=0;if(r===e)for(n=0;n<d;n+=1)this.shapes[n].localShapeCollection.releaseShapes(),this.shapes[n].shape._mdf=!0,this.shapes[n].shape.paths=this.shapes[n].localShapeCollection,this._mdf&&(this.shapes[n].pathsData.length=0);else if(1===r&&0===e||0===r&&1===e){if(this._mdf)for(n=0;n<d;n+=1)this.shapes[n].pathsData.length=0,this.shapes[n].shape._mdf=!0}else{var f,m,g=[];for(n=0;n<d;n+=1)if((f=this.shapes[n]).shape._mdf||this._mdf||t||2===this.m){if(l=(s=f.shape.paths)._length,u=0,!f.shape._mdf&&f.pathsData.length)u=f.totalShapeLength;else{for(c=this.releasePathsData(f.pathsData),o=0;o<l;o+=1)h=bez.getSegmentsLength(s.shapes[o]),c.push(h),u+=h.totalLength;f.totalShapeLength=u,f.pathsData=c}p+=u,f.shape._mdf=!0}else f.shape.paths=f.localShapeCollection;var y,b=e,v=r,w=0;for(n=d-1;n>=0;n-=1)if((f=this.shapes[n]).shape._mdf){for((m=f.localShapeCollection).releaseShapes(),2===this.m&&d>1?(y=this.calculateShapeEdges(e,r,f.totalShapeLength,w,p),w+=f.totalShapeLength):y=[[b,v]],l=y.length,o=0;o<l;o+=1){b=y[o][0],v=y[o][1],g.length=0,v<=1?g.push({s:f.totalShapeLength*b,e:f.totalShapeLength*v}):b>=1?g.push({s:f.totalShapeLength*(b-1),e:f.totalShapeLength*(v-1)}):(g.push({s:f.totalShapeLength*b,e:f.totalShapeLength}),g.push({s:0,e:f.totalShapeLength*(v-1)}));var A=this.addShapes(f,g[0]);if(g[0].s!==g[0].e){if(g.length>1)if(f.shape.paths.shapes[f.shape.paths._length-1].c){var k=A.pop();this.addPaths(A,m),A=this.addShapes(f,g[1],k)}else this.addPaths(A,m),A=this.addShapes(f,g[1]);this.addPaths(A,m)}}f.shape.paths=m}}},TrimModifier.prototype.addPaths=function(t,e){var r,s=t.length;for(r=0;r<s;r+=1)e.addShape(t[r])},TrimModifier.prototype.addSegment=function(t,e,r,s,n,i,a){n.setXYAt(e[0],e[1],"o",i),n.setXYAt(r[0],r[1],"i",i+1),a&&n.setXYAt(t[0],t[1],"v",i),n.setXYAt(s[0],s[1],"v",i+1)},TrimModifier.prototype.addSegmentFromArray=function(t,e,r,s){e.setXYAt(t[1],t[5],"o",r),e.setXYAt(t[2],t[6],"i",r+1),s&&e.setXYAt(t[0],t[4],"v",r),e.setXYAt(t[3],t[7],"v",r+1)},TrimModifier.prototype.addShapes=function(t,e,r){var s,n,i,a,o,l,c,h,u=t.pathsData,d=t.shape.paths.shapes,p=t.shape.paths._length,f=0,m=[],g=!0;for(r?(o=r._length,h=r._length):(r=shapePool.newElement(),o=0,h=0),m.push(r),s=0;s<p;s+=1){for(l=u[s].lengths,r.c=d[s].c,i=d[s].c?l.length:l.length+1,n=1;n<i;n+=1)if(f+(a=l[n-1]).addedLength<e.s)f+=a.addedLength,r.c=!1;else{if(f>e.e){r.c=!1;break}e.s<=f&&e.e>=f+a.addedLength?(this.addSegment(d[s].v[n-1],d[s].o[n-1],d[s].i[n],d[s].v[n],r,o,g),g=!1):(c=bez.getNewSegment(d[s].v[n-1],d[s].v[n],d[s].o[n-1],d[s].i[n],(e.s-f)/a.addedLength,(e.e-f)/a.addedLength,l[n-1]),this.addSegmentFromArray(c,r,o,g),g=!1,r.c=!1),f+=a.addedLength,o+=1}if(d[s].c&&l.length){if(a=l[n-1],f<=e.e){var y=l[n-1].addedLength;e.s<=f&&e.e>=f+y?(this.addSegment(d[s].v[n-1],d[s].o[n-1],d[s].i[0],d[s].v[0],r,o,g),g=!1):(c=bez.getNewSegment(d[s].v[n-1],d[s].v[0],d[s].o[n-1],d[s].i[0],(e.s-f)/y,(e.e-f)/y,l[n-1]),this.addSegmentFromArray(c,r,o,g),g=!1,r.c=!1)}else r.c=!1;f+=a.addedLength,o+=1}if(r._length&&(r.setXYAt(r.v[h][0],r.v[h][1],"i",h),r.setXYAt(r.v[r._length-1][0],r.v[r._length-1][1],"o",r._length-1)),f>e.e)break;s<p-1&&(r=shapePool.newElement(),g=!0,m.push(r),o=0)}return m},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(t,e){var r=e/100,s=[0,0],n=t._length,i=0;for(i=0;i<n;i+=1)s[0]+=t.v[i][0],s[1]+=t.v[i][1];s[0]/=n,s[1]/=n;var a,o,l,c,h,u,d=shapePool.newElement();for(d.c=t.c,i=0;i<n;i+=1)a=t.v[i][0]+(s[0]-t.v[i][0])*r,o=t.v[i][1]+(s[1]-t.v[i][1])*r,l=t.o[i][0]+(s[0]-t.o[i][0])*-r,c=t.o[i][1]+(s[1]-t.o[i][1])*-r,h=t.i[i][0]+(s[0]-t.i[i][0])*-r,u=t.i[i][1]+(s[1]-t.i[i][1])*-r,d.setTripleAt(a,o,l,c,h,u,i);return d},PuckerAndBloatModifier.prototype.processShapes=function(t){var e,r,s,n,i,a,o=this.shapes.length,l=this.amount.v;if(0!==l)for(r=0;r<o;r+=1){if(a=(i=this.shapes[r]).localShapeCollection,i.shape._mdf||this._mdf||t)for(a.releaseShapes(),i.shape._mdf=!0,e=i.shape.paths.shapes,n=i.shape.paths._length,s=0;s<n;s+=1)a.addShape(this.processPath(e[s],l));i.shape.paths=i.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var t=[0,0];function e(t,e,r){if(this.elem=t,this.frameId=-1,this.propType="transform",this.data=e,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(r||t),e.p&&e.p.s?(this.px=PropertyFactory.getProp(t,e.p.x,0,0,this),this.py=PropertyFactory.getProp(t,e.p.y,0,0,this),e.p.z&&(this.pz=PropertyFactory.getProp(t,e.p.z,0,0,this))):this.p=PropertyFactory.getProp(t,e.p||{k:[0,0,0]},1,0,this),e.rx){if(this.rx=PropertyFactory.getProp(t,e.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(t,e.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(t,e.rz,0,degToRads,this),e.or.k[0].ti){var s,n=e.or.k.length;for(s=0;s<n;s+=1)e.or.k[s].to=null,e.or.k[s].ti=null}this.or=PropertyFactory.getProp(t,e.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(t,e.r||{k:0},0,degToRads,this);e.sk&&(this.sk=PropertyFactory.getProp(t,e.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(t,e.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(t,e.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(t,e.s||{k:[100,100,100]},1,.01,this),e.o?this.o=PropertyFactory.getProp(t,e.o,0,.01,t):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return e.prototype={applyToMatrix:function(t){var e=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||e,this.a&&t.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&t.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&t.skewFromAxis(-this.sk.v,this.sa.v),this.r?t.rotate(-this.r.v):t.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?t.translate(this.px.v,this.py.v,-this.pz.v):t.translate(this.px.v,this.py.v,0):t.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(e){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||e){var r;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var s,n;if(r=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(s=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/r,0),n=this.p.getValueAtTime(this.p.keyframes[0].t/r,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(s=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/r,0),n=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/r,0)):(s=this.p.pv,n=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/r,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){s=[],n=[];var i=this.px,a=this.py;i._caching.lastFrame+i.offsetTime<=i.keyframes[0].t?(s[0]=i.getValueAtTime((i.keyframes[0].t+.01)/r,0),s[1]=a.getValueAtTime((a.keyframes[0].t+.01)/r,0),n[0]=i.getValueAtTime(i.keyframes[0].t/r,0),n[1]=a.getValueAtTime(a.keyframes[0].t/r,0)):i._caching.lastFrame+i.offsetTime>=i.keyframes[i.keyframes.length-1].t?(s[0]=i.getValueAtTime(i.keyframes[i.keyframes.length-1].t/r,0),s[1]=a.getValueAtTime(a.keyframes[a.keyframes.length-1].t/r,0),n[0]=i.getValueAtTime((i.keyframes[i.keyframes.length-1].t-.01)/r,0),n[1]=a.getValueAtTime((a.keyframes[a.keyframes.length-1].t-.01)/r,0)):(s=[i.pv,a.pv],n[0]=i.getValueAtTime((i._caching.lastFrame+i.offsetTime-.01)/r,i.offsetTime),n[1]=a.getValueAtTime((a._caching.lastFrame+a.offsetTime-.01)/r,a.offsetTime))}else s=n=t;this.v.rotate(-Math.atan2(s[1]-n[1],s[0]-n[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],e),e.prototype.addDynamicProperty=function(t){this._addDynamicProperty(t),this.elem.addDynamicProperty(t),this._isDirty=!0},e.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(t,r,s){return new e(t,r,s)}}}();function RepeaterModifier(){}function RoundCornersModifier(){}function floatEqual(t,e){return 1e5*Math.abs(t-e)<=Math.min(Math.abs(t),Math.abs(e))}function floatZero(t){return Math.abs(t)<=1e-5}function lerp(t,e,r){return t*(1-r)+e*r}function lerpPoint(t,e,r){return[lerp(t[0],e[0],r),lerp(t[1],e[1],r)]}function quadRoots(t,e,r){if(0===t)return[];var s=e*e-4*t*r;if(s<0)return[];var n=-e/(2*t);if(0===s)return[n];var i=Math.sqrt(s)/(2*t);return[n-i,n+i]}function polynomialCoefficients(t,e,r,s){return[3*e-t-3*r+s,3*t-6*e+3*r,-3*t+3*e,t]}function singlePoint(t){return new PolynomialBezier(t,t,t,t,!1)}function PolynomialBezier(t,e,r,s,n){n&&pointEqual(t,e)&&(e=lerpPoint(t,s,1/3)),n&&pointEqual(r,s)&&(r=lerpPoint(t,s,2/3));var i=polynomialCoefficients(t[0],e[0],r[0],s[0]),a=polynomialCoefficients(t[1],e[1],r[1],s[1]);this.a=[i[0],a[0]],this.b=[i[1],a[1]],this.c=[i[2],a[2]],this.d=[i[3],a[3]],this.points=[t,e,r,s]}function extrema(t,e){var r=t.points[0][e],s=t.points[t.points.length-1][e];if(r>s){var n=s;s=r,r=n}for(var i=quadRoots(3*t.a[e],2*t.b[e],t.c[e]),a=0;a<i.length;a+=1)if(i[a]>0&&i[a]<1){var o=t.point(i[a])[e];o<r?r=o:o>s&&(s=o)}return{min:r,max:s}}function intersectData(t,e,r){var s=t.boundingBox();return{cx:s.cx,cy:s.cy,width:s.width,height:s.height,bez:t,t:(e+r)/2,t1:e,t2:r}}function splitData(t){var e=t.bez.split(.5);return[intersectData(e[0],t.t1,t.t),intersectData(e[1],t.t,t.t2)]}function boxIntersect(t,e){return 2*Math.abs(t.cx-e.cx)<t.width+e.width&&2*Math.abs(t.cy-e.cy)<t.height+e.height}function intersectsImpl(t,e,r,s,n,i){if(boxIntersect(t,e))if(r>=i||t.width<=s&&t.height<=s&&e.width<=s&&e.height<=s)n.push([t.t,e.t]);else{var a=splitData(t),o=splitData(e);intersectsImpl(a[0],o[0],r+1,s,n,i),intersectsImpl(a[0],o[1],r+1,s,n,i),intersectsImpl(a[1],o[0],r+1,s,n,i),intersectsImpl(a[1],o[1],r+1,s,n,i)}}function crossProduct(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function lineIntersection(t,e,r,s){var n=[t[0],t[1],1],i=[e[0],e[1],1],a=[r[0],r[1],1],o=[s[0],s[1],1],l=crossProduct(crossProduct(n,i),crossProduct(a,o));return floatZero(l[2])?null:[l[0]/l[2],l[1]/l[2]]}function polarOffset(t,e,r){return[t[0]+Math.cos(e)*r,t[1]-Math.sin(e)*r]}function pointDistance(t,e){return Math.hypot(t[0]-e[0],t[1]-e[1])}function pointEqual(t,e){return floatEqual(t[0],e[0])&&floatEqual(t[1],e[1])}function ZigZagModifier(){}function setPoint(t,e,r,s,n,i,a){var o=r-Math.PI/2,l=r+Math.PI/2,c=e[0]+Math.cos(r)*s*n,h=e[1]-Math.sin(r)*s*n;t.setTripleAt(c,h,c+Math.cos(o)*i,h-Math.sin(o)*i,c+Math.cos(l)*a,h-Math.sin(l)*a,t.length())}function getPerpendicularVector(t,e){var r=[e[0]-t[0],e[1]-t[1]],s=.5*-Math.PI;return[Math.cos(s)*r[0]-Math.sin(s)*r[1],Math.sin(s)*r[0]+Math.cos(s)*r[1]]}function getProjectingAngle(t,e){var r=0===e?t.length()-1:e-1,s=(e+1)%t.length(),n=getPerpendicularVector(t.v[r],t.v[s]);return Math.atan2(0,1)-Math.atan2(n[1],n[0])}function zigZagCorner(t,e,r,s,n,i,a){var o=getProjectingAngle(e,r),l=e.v[r%e._length],c=e.v[0===r?e._length-1:r-1],h=e.v[(r+1)%e._length],u=2===i?Math.sqrt(Math.pow(l[0]-c[0],2)+Math.pow(l[1]-c[1],2)):0,d=2===i?Math.sqrt(Math.pow(l[0]-h[0],2)+Math.pow(l[1]-h[1],2)):0;setPoint(t,e.v[r%e._length],o,a,s,d/(2*(n+1)),u/(2*(n+1)),i)}function zigZagSegment(t,e,r,s,n,i){for(var a=0;a<s;a+=1){var o=(a+1)/(s+1),l=2===n?Math.sqrt(Math.pow(e.points[3][0]-e.points[0][0],2)+Math.pow(e.points[3][1]-e.points[0][1],2)):0,c=e.normalAngle(o);setPoint(t,e.point(o),c,i,r,l/(2*(s+1)),l/(2*(s+1)),n),i=-i}return i}function linearOffset(t,e,r){var s=Math.atan2(e[0]-t[0],e[1]-t[1]);return[polarOffset(t,s,r),polarOffset(e,s,r)]}function offsetSegment(t,e){var r,s,n,i,a,o,l;r=(l=linearOffset(t.points[0],t.points[1],e))[0],s=l[1],n=(l=linearOffset(t.points[1],t.points[2],e))[0],i=l[1],a=(l=linearOffset(t.points[2],t.points[3],e))[0],o=l[1];var c=lineIntersection(r,s,n,i);null===c&&(c=s);var h=lineIntersection(a,o,n,i);return null===h&&(h=a),new PolynomialBezier(r,c,h,o)}function joinLines(t,e,r,s,n){var i=e.points[3],a=r.points[0];if(3===s)return i;if(pointEqual(i,a))return i;if(2===s){var o=-e.tangentAngle(1),l=-r.tangentAngle(0)+Math.PI,c=lineIntersection(i,polarOffset(i,o+Math.PI/2,100),a,polarOffset(a,o+Math.PI/2,100)),h=c?pointDistance(c,i):pointDistance(i,a)/2,u=polarOffset(i,o,2*h*roundCorner);return t.setXYAt(u[0],u[1],"o",t.length()-1),u=polarOffset(a,l,2*h*roundCorner),t.setTripleAt(a[0],a[1],a[0],a[1],u[0],u[1],t.length()),a}var d=lineIntersection(pointEqual(i,e.points[2])?e.points[0]:e.points[2],i,a,pointEqual(a,r.points[1])?r.points[3]:r.points[1]);return d&&pointDistance(d,i)<n?(t.setTripleAt(d[0],d[1],d[0],d[1],d[0],d[1],t.length()),d):i}function getIntersection(t,e){var r=t.intersections(e);return r.length&&floatEqual(r[0][0],1)&&r.shift(),r.length?r[0]:null}function pruneSegmentIntersection(t,e){var r=t.slice(),s=e.slice(),n=getIntersection(t[t.length-1],e[0]);return n&&(r[t.length-1]=t[t.length-1].split(n[0])[0],s[0]=e[0].split(n[1])[1]),t.length>1&&e.length>1&&(n=getIntersection(t[0],e[e.length-1]))?[[t[0].split(n[0])[0]],[e[e.length-1].split(n[1])[1]]]:[r,s]}function pruneIntersections(t){for(var e,r=1;r<t.length;r+=1)e=pruneSegmentIntersection(t[r-1],t[r]),t[r-1]=e[0],t[r]=e[1];return t.length>1&&(e=pruneSegmentIntersection(t[t.length-1],t[0]),t[t.length-1]=e[0],t[0]=e[1]),t}function offsetSegmentSplit(t,e){var r,s,n,i,a=t.inflectionPoints();if(0===a.length)return[offsetSegment(t,e)];if(1===a.length||floatEqual(a[1],1))return r=(n=t.split(a[0]))[0],s=n[1],[offsetSegment(r,e),offsetSegment(s,e)];r=(n=t.split(a[0]))[0];var o=(a[1]-a[0])/(1-a[0]);return i=(n=n[1].split(o))[0],s=n[1],[offsetSegment(r,e),offsetSegment(i,e),offsetSegment(s,e)]}function OffsetPathModifier(){}function getFontProperties(t){for(var e=t.fStyle?t.fStyle.split(" "):[],r="normal",s="normal",n=e.length,i=0;i<n;i+=1)switch(e[i].toLowerCase()){case"italic":s="italic";break;case"bold":r="700";break;case"black":r="900";break;case"medium":r="500";break;case"regular":case"normal":r="400";break;case"light":case"thin":r="200"}return{style:s,weight:t.fWeight||r}}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,e.c,0,null,this),this.o=PropertyFactory.getProp(t,e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(t,e.tr,this),this.so=PropertyFactory.getProp(t,e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(t,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,e,r,s,n,i){var a=i?-1:1,o=s.s.v[0]+(1-s.s.v[0])*(1-n),l=s.s.v[1]+(1-s.s.v[1])*(1-n);t.translate(s.p.v[0]*a*n,s.p.v[1]*a*n,s.p.v[2]),e.translate(-s.a.v[0],-s.a.v[1],s.a.v[2]),e.rotate(-s.r.v*a*n),e.translate(s.a.v[0],s.a.v[1],s.a.v[2]),r.translate(-s.a.v[0],-s.a.v[1],s.a.v[2]),r.scale(i?1/o:o,i?1/l:l),r.translate(s.a.v[0],s.a.v[1],s.a.v[2])},RepeaterModifier.prototype.init=function(t,e,r,s){for(this.elem=t,this.arr=e,this.pos=r,this.elemsData=s,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e[r]);r>0;)r-=1,this._elements.unshift(e[r]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e]._processed=!1,"gr"===t[e].ty&&this.resetElements(t[e].it)},RepeaterModifier.prototype.cloneElements=function(t){var e=JSON.parse(JSON.stringify(t));return this.resetElements(e),e},RepeaterModifier.prototype.changeGroupRender=function(t,e){var r,s=t.length;for(r=0;r<s;r+=1)t[r]._render=e,"gr"===t[r].ty&&this.changeGroupRender(t[r].it,e)},RepeaterModifier.prototype.processShapes=function(t){var e,r,s,n,i,a=!1;if(this._mdf||t){var o,l=Math.ceil(this.c.v);if(this._groups.length<l){for(;this._groups.length<l;){var c={it:this.cloneElements(this._elements),ty:"gr"};c.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,c),this._groups.splice(0,0,c),this._currentCopies+=1}this.elem.reloadShapes(),a=!0}for(i=0,s=0;s<=this._groups.length-1;s+=1){if(o=i<l,this._groups[s]._render=o,this.changeGroupRender(this._groups[s].it,o),!o){var h=this.elemsData[s].it,u=h[h.length-1];0!==u.transform.op.v?(u.transform.op._mdf=!0,u.transform.op.v=0):u.transform.op._mdf=!1}i+=1}this._currentCopies=l;var d=this.o.v,p=d%1,f=d>0?Math.floor(d):Math.ceil(d),m=this.pMatrix.props,g=this.rMatrix.props,y=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var b,v,w=0;if(d>0){for(;w<f;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),w+=1;p&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,p,!1),w+=p)}else if(d<0){for(;w>f;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),w-=1;p&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-p,!0),w-=p)}for(s=1===this.data.m?0:this._currentCopies-1,n=1===this.data.m?1:-1,i=this._currentCopies;i;){if(v=(r=(e=this.elemsData[s].it)[e.length-1].transform.mProps.v.props).length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+(this.eo.v-this.so.v)*(s/(this._currentCopies-1)),0!==w){for((0!==s&&1===n||s!==this._currentCopies-1&&-1===n)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15]),this.matrix.transform(y[0],y[1],y[2],y[3],y[4],y[5],y[6],y[7],y[8],y[9],y[10],y[11],y[12],y[13],y[14],y[15]),this.matrix.transform(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15]),b=0;b<v;b+=1)r[b]=this.matrix.props[b];this.matrix.reset()}else for(this.matrix.reset(),b=0;b<v;b+=1)r[b]=this.matrix.props[b];w+=1,i-=1,s+=n}}else for(i=this._currentCopies,s=0,n=1;i;)r=(e=this.elemsData[s].it)[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,i-=1,s+=n;return a},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(t,e){var r,s=shapePool.newElement();s.c=t.c;var n,i,a,o,l,c,h,u,d,p,f,m,g=t._length,y=0;for(r=0;r<g;r+=1)n=t.v[r],a=t.o[r],i=t.i[r],n[0]===a[0]&&n[1]===a[1]&&n[0]===i[0]&&n[1]===i[1]?0!==r&&r!==g-1||t.c?(o=0===r?t.v[g-1]:t.v[r-1],c=(l=Math.sqrt(Math.pow(n[0]-o[0],2)+Math.pow(n[1]-o[1],2)))?Math.min(l/2,e)/l:0,h=f=n[0]+(o[0]-n[0])*c,u=m=n[1]-(n[1]-o[1])*c,d=h-(h-n[0])*roundCorner,p=u-(u-n[1])*roundCorner,s.setTripleAt(h,u,d,p,f,m,y),y+=1,o=r===g-1?t.v[0]:t.v[r+1],c=(l=Math.sqrt(Math.pow(n[0]-o[0],2)+Math.pow(n[1]-o[1],2)))?Math.min(l/2,e)/l:0,h=d=n[0]+(o[0]-n[0])*c,u=p=n[1]+(o[1]-n[1])*c,f=h-(h-n[0])*roundCorner,m=u-(u-n[1])*roundCorner,s.setTripleAt(h,u,d,p,f,m,y),y+=1):(s.setTripleAt(n[0],n[1],a[0],a[1],i[0],i[1],y),y+=1):(s.setTripleAt(t.v[r][0],t.v[r][1],t.o[r][0],t.o[r][1],t.i[r][0],t.i[r][1],y),y+=1);return s},RoundCornersModifier.prototype.processShapes=function(t){var e,r,s,n,i,a,o=this.shapes.length,l=this.rd.v;if(0!==l)for(r=0;r<o;r+=1){if(a=(i=this.shapes[r]).localShapeCollection,i.shape._mdf||this._mdf||t)for(a.releaseShapes(),i.shape._mdf=!0,e=i.shape.paths.shapes,n=i.shape.paths._length,s=0;s<n;s+=1)a.addShape(this.processPath(e[s],l));i.shape.paths=i.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},PolynomialBezier.prototype.point=function(t){return[((this.a[0]*t+this.b[0])*t+this.c[0])*t+this.d[0],((this.a[1]*t+this.b[1])*t+this.c[1])*t+this.d[1]]},PolynomialBezier.prototype.derivative=function(t){return[(3*t*this.a[0]+2*this.b[0])*t+this.c[0],(3*t*this.a[1]+2*this.b[1])*t+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(t){var e=this.derivative(t);return Math.atan2(e[1],e[0])},PolynomialBezier.prototype.normalAngle=function(t){var e=this.derivative(t);return Math.atan2(e[0],e[1])},PolynomialBezier.prototype.inflectionPoints=function(){var t=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(t))return[];var e=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/t,r=e*e-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/t;if(r<0)return[];var s=Math.sqrt(r);return floatZero(s)?s>0&&s<1?[e]:[]:[e-s,e+s].filter((function(t){return t>0&&t<1}))},PolynomialBezier.prototype.split=function(t){if(t<=0)return[singlePoint(this.points[0]),this];if(t>=1)return[this,singlePoint(this.points[this.points.length-1])];var e=lerpPoint(this.points[0],this.points[1],t),r=lerpPoint(this.points[1],this.points[2],t),s=lerpPoint(this.points[2],this.points[3],t),n=lerpPoint(e,r,t),i=lerpPoint(r,s,t),a=lerpPoint(n,i,t);return[new PolynomialBezier(this.points[0],e,n,a,!0),new PolynomialBezier(a,i,s,this.points[3],!0)]},PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var t=this.bounds();return{left:t.x.min,right:t.x.max,top:t.y.min,bottom:t.y.max,width:t.x.max-t.x.min,height:t.y.max-t.y.min,cx:(t.x.max+t.x.min)/2,cy:(t.y.max+t.y.min)/2}},PolynomialBezier.prototype.intersections=function(t,e,r){void 0===e&&(e=2),void 0===r&&(r=7);var s=[];return intersectsImpl(intersectData(this,0,1),intersectData(t,0,1),0,e,s,r),s},PolynomialBezier.shapeSegment=function(t,e){var r=(e+1)%t.length();return new PolynomialBezier(t.v[e],t.o[e],t.i[r],t.v[r],!0)},PolynomialBezier.shapeSegmentInverted=function(t,e){var r=(e+1)%t.length();return new PolynomialBezier(t.v[r],t.i[r],t.o[e],t.v[e],!0)},extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(t,e.s,0,null,this),this.frequency=PropertyFactory.getProp(t,e.r,0,null,this),this.pointsType=PropertyFactory.getProp(t,e.pt,0,null,this),this._isAnimated=0!==this.amplitude.effectsSequence.length||0!==this.frequency.effectsSequence.length||0!==this.pointsType.effectsSequence.length},ZigZagModifier.prototype.processPath=function(t,e,r,s){var n=t._length,i=shapePool.newElement();if(i.c=t.c,t.c||(n-=1),0===n)return i;var a=-1,o=PolynomialBezier.shapeSegment(t,0);zigZagCorner(i,t,0,e,r,s,a);for(var l=0;l<n;l+=1)a=zigZagSegment(i,o,e,r,s,-a),o=l!==n-1||t.c?PolynomialBezier.shapeSegment(t,(l+1)%n):null,zigZagCorner(i,t,l+1,e,r,s,a);return i},ZigZagModifier.prototype.processShapes=function(t){var e,r,s,n,i,a,o=this.shapes.length,l=this.amplitude.v,c=Math.max(0,Math.round(this.frequency.v)),h=this.pointsType.v;if(0!==l)for(r=0;r<o;r+=1){if(a=(i=this.shapes[r]).localShapeCollection,i.shape._mdf||this._mdf||t)for(a.releaseShapes(),i.shape._mdf=!0,e=i.shape.paths.shapes,n=i.shape.paths._length,s=0;s<n;s+=1)a.addShape(this.processPath(e[s],l,c,h));i.shape.paths=i.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this.miterLimit=PropertyFactory.getProp(t,e.ml,0,null,this),this.lineJoin=e.lj,this._isAnimated=0!==this.amount.effectsSequence.length},OffsetPathModifier.prototype.processPath=function(t,e,r,s){var n=shapePool.newElement();n.c=t.c;var i,a,o,l=t.length();t.c||(l-=1);var c=[];for(i=0;i<l;i+=1)o=PolynomialBezier.shapeSegment(t,i),c.push(offsetSegmentSplit(o,e));if(!t.c)for(i=l-1;i>=0;i-=1)o=PolynomialBezier.shapeSegmentInverted(t,i),c.push(offsetSegmentSplit(o,e));c=pruneIntersections(c);var h=null,u=null;for(i=0;i<c.length;i+=1){var d=c[i];for(u&&(h=joinLines(n,u,d[0],r,s)),u=d[d.length-1],a=0;a<d.length;a+=1)o=d[a],h&&pointEqual(o.points[0],h)?n.setXYAt(o.points[1][0],o.points[1][1],"o",n.length()-1):n.setTripleAt(o.points[0][0],o.points[0][1],o.points[1][0],o.points[1][1],o.points[0][0],o.points[0][1],n.length()),n.setTripleAt(o.points[3][0],o.points[3][1],o.points[3][0],o.points[3][1],o.points[2][0],o.points[2][1],n.length()),h=o.points[3]}return c.length&&joinLines(n,u,c[0][0],r,s),n},OffsetPathModifier.prototype.processShapes=function(t){var e,r,s,n,i,a,o=this.shapes.length,l=this.amount.v,c=this.miterLimit.v,h=this.lineJoin;if(0!==l)for(r=0;r<o;r+=1){if(a=(i=this.shapes[r]).localShapeCollection,i.shape._mdf||this._mdf||t)for(a.releaseShapes(),i.shape._mdf=!0,e=i.shape.paths.shapes,n=i.shape.paths._length,s=0;s<n;s+=1)a.addShape(this.processPath(e[s],l,h,c));i.shape.paths=i.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var FontManager=function(){var t={w:0,size:0,shapes:[],data:{shapes:[]}},e=[];e=e.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var r=127988,s=127462,n=127487,i=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function a(t,e){var r=createTag("span");r.setAttribute("aria-hidden",!0),r.style.fontFamily=e;var s=createTag("span");s.innerText="giItT1WQy@!-/#",r.style.position="absolute",r.style.left="-10000px",r.style.top="-10000px",r.style.fontSize="300px",r.style.fontVariant="normal",r.style.fontStyle="normal",r.style.fontWeight="normal",r.style.letterSpacing="0",r.appendChild(s),document.body.appendChild(r);var n=s.offsetWidth;return s.style.fontFamily=function(t){var e,r=t.split(","),s=r.length,n=[];for(e=0;e<s;e+=1)"sans-serif"!==r[e]&&"monospace"!==r[e]&&n.push(r[e]);return n.join(",")}(t)+", "+e,{node:s,w:n,parent:r}}function o(t,e){var r,s=document.body&&e?"svg":"canvas",n=getFontProperties(t);if("svg"===s){var i=createNS("text");i.style.fontSize="100px",i.setAttribute("font-family",t.fFamily),i.setAttribute("font-style",n.style),i.setAttribute("font-weight",n.weight),i.textContent="1",t.fClass?(i.style.fontFamily="inherit",i.setAttribute("class",t.fClass)):i.style.fontFamily=t.fFamily,e.appendChild(i),r=i}else{var a=new OffscreenCanvas(500,500).getContext("2d");a.font=n.style+" "+n.weight+" 100px "+t.fFamily,r=a}return{measureText:function(t){return"svg"===s?(r.textContent=t,r.getComputedTextLength()):r.measureText(t).width}}}function l(t){var e=0,r=t.charCodeAt(0);if(r>=55296&&r<=56319){var s=t.charCodeAt(1);s>=56320&&s<=57343&&(e=1024*(r-55296)+s-56320+65536)}return e}function c(t){var e=l(t);return e>=s&&e<=n}var h=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};h.isModifier=function(t,e){var r=t.toString(16)+e.toString(16);return-1!==i.indexOf(r)},h.isZeroWidthJoiner=function(t){return 8205===t},h.isFlagEmoji=function(t){return c(t.substr(0,2))&&c(t.substr(2,2))},h.isRegionalCode=c,h.isCombinedCharacter=function(t){return-1!==e.indexOf(t)},h.isRegionalFlag=function(t,e){var s=l(t.substr(e,2));if(s!==r)return!1;var n=0;for(e+=2;n<5;){if((s=l(t.substr(e,2)))<917601||s>917626)return!1;n+=1,e+=2}return 917631===l(t.substr(e,2))},h.isVariationSelector=function(t){return 65039===t},h.BLACK_FLAG_CODE_POINT=r;var u={addChars:function(t){if(t){var e;this.chars||(this.chars=[]);var r,s,n=t.length,i=this.chars.length;for(e=0;e<n;e+=1){for(r=0,s=!1;r<i;)this.chars[r].style===t[e].style&&this.chars[r].fFamily===t[e].fFamily&&this.chars[r].ch===t[e].ch&&(s=!0),r+=1;s||(this.chars.push(t[e]),i+=1)}}},addFonts:function(t,e){if(t){if(this.chars)return this.isLoaded=!0,void(this.fonts=t.list);if(!document.body)return this.isLoaded=!0,t.list.forEach((function(t){t.helper=o(t),t.cache={}})),void(this.fonts=t.list);var r,s=t.list,n=s.length,i=n;for(r=0;r<n;r+=1){var l,c,h=!0;if(s[r].loaded=!1,s[r].monoCase=a(s[r].fFamily,"monospace"),s[r].sansCase=a(s[r].fFamily,"sans-serif"),s[r].fPath){if("p"===s[r].fOrigin||3===s[r].origin){if((l=document.querySelectorAll('style[f-forigin="p"][f-family="'+s[r].fFamily+'"], style[f-origin="3"][f-family="'+s[r].fFamily+'"]')).length>0&&(h=!1),h){var u=createTag("style");u.setAttribute("f-forigin",s[r].fOrigin),u.setAttribute("f-origin",s[r].origin),u.setAttribute("f-family",s[r].fFamily),u.type="text/css",u.innerText="@font-face {font-family: "+s[r].fFamily+"; font-style: normal; src: url('"+s[r].fPath+"');}",e.appendChild(u)}}else if("g"===s[r].fOrigin||1===s[r].origin){for(l=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),c=0;c<l.length;c+=1)-1!==l[c].href.indexOf(s[r].fPath)&&(h=!1);if(h){var d=createTag("link");d.setAttribute("f-forigin",s[r].fOrigin),d.setAttribute("f-origin",s[r].origin),d.type="text/css",d.rel="stylesheet",d.href=s[r].fPath,document.body.appendChild(d)}}else if("t"===s[r].fOrigin||2===s[r].origin){for(l=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),c=0;c<l.length;c+=1)s[r].fPath===l[c].src&&(h=!1);if(h){var p=createTag("link");p.setAttribute("f-forigin",s[r].fOrigin),p.setAttribute("f-origin",s[r].origin),p.setAttribute("rel","stylesheet"),p.setAttribute("href",s[r].fPath),e.appendChild(p)}}}else s[r].loaded=!0,i-=1;s[r].helper=o(s[r],e),s[r].cache={},this.fonts.push(s[r])}0===i?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(e,r,s){for(var n=0,i=this.chars.length;n<i;){if(this.chars[n].ch===e&&this.chars[n].style===r&&this.chars[n].fFamily===s)return this.chars[n];n+=1}return("string"==typeof e&&13!==e.charCodeAt(0)||!e)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",e,r,s)),t},getFontByName:function(t){for(var e=0,r=this.fonts.length;e<r;){if(this.fonts[e].fName===t)return this.fonts[e];e+=1}return this.fonts[0]},measureText:function(t,e,r){var s=this.getFontByName(e),n=t;if(!s.cache[n]){var i=s.helper;if(" "===t){var a=i.measureText("|"+t+"|"),o=i.measureText("||");s.cache[n]=(a-o)/100}else s.cache[n]=i.measureText(t)/100}return s.cache[n]*r},checkLoadedFonts:function(){var t,e,r,s=this.fonts.length,n=s;for(t=0;t<s;t+=1)this.fonts[t].loaded?n-=1:"n"===this.fonts[t].fOrigin||0===this.fonts[t].origin?this.fonts[t].loaded=!0:(e=this.fonts[t].monoCase.node,r=this.fonts[t].monoCase.w,e.offsetWidth!==r?(n-=1,this.fonts[t].loaded=!0):(e=this.fonts[t].sansCase.node,r=this.fonts[t].sansCase.w,e.offsetWidth!==r&&(n-=1,this.fonts[t].loaded=!0)),this.fonts[t].loaded&&(this.fonts[t].sansCase.parent.parentNode.removeChild(this.fonts[t].sansCase.parent),this.fonts[t].monoCase.parent.parentNode.removeChild(this.fonts[t].monoCase.parent)));0!==n&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}};return h.prototype=u,h}();function SlotManager(t){this.animationData=t}function slotFactory(t){return new SlotManager(t)}function RenderableElement(){}SlotManager.prototype.getProp=function(t){return this.animationData.slots&&this.animationData.slots[t.sid]?Object.assign(t,this.animationData.slots[t.sid].p):t},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(t){-1===this.renderableComponents.indexOf(t)&&this.renderableComponents.push(t)},removeRenderableComponent:function(t){-1!==this.renderableComponents.indexOf(t)&&this.renderableComponents.splice(this.renderableComponents.indexOf(t),1)},prepareRenderableFrame:function(t){this.checkLayerLimits(t)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var t,e=this.renderableComponents.length;for(t=0;t<e;t+=1)this.renderableComponents[t].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(t){return blendModeEnums[t]||""}),blendModeEnums;function SliderEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function AngleEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function ColorEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,1,0,r)}function PointEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,1,0,r)}function LayerIndexEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function MaskIndexEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function CheckboxEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function NoValueEffect(){this.p={}}function EffectsManager(t,e){var r,s=t.ef||[];this.effectElements=[];var n,i=s.length;for(r=0;r<i;r+=1)n=new GroupEffect(s[r],e),this.effectElements.push(n)}function GroupEffect(t,e){this.init(t,e)}function BaseElement(){}function FrameElement(){}function FootageElement(t,e,r){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.footageData=e.imageLoader.getAsset(this.assetData),this.initBaseData(t,e,r)}function AudioElement(t,e,r){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.initBaseData(t,e,r),this._isPlaying=!1,this._canPlay=!1;var s=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(s),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,t.au&&t.au.lv?t.au.lv:{k:[100]},1,.01,this)}function BaseRenderer(){}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(t,e){var r;this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(e);var s,n=this.data.ef.length,i=this.data.ef;for(r=0;r<n;r+=1){switch(s=null,i[r].ty){case 0:s=new SliderEffect(i[r],e,this);break;case 1:s=new AngleEffect(i[r],e,this);break;case 2:s=new ColorEffect(i[r],e,this);break;case 3:s=new PointEffect(i[r],e,this);break;case 4:case 7:s=new CheckboxEffect(i[r],e,this);break;case 10:s=new LayerIndexEffect(i[r],e,this);break;case 11:s=new MaskIndexEffect(i[r],e,this);break;case 5:s=new EffectsManager(i[r],e,this);break;default:s=new NoValueEffect(i[r],e,this)}s&&this.effectElements.push(s)}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var t=0,e=this.data.masksProperties.length;t<e;){if("n"!==this.data.masksProperties[t].mode&&!1!==this.data.masksProperties[t].cl)return!0;t+=1}return!1},initExpressions:function(){var t=getExpressionInterfaces();if(t){var e=t("layer"),r=t("effects"),s=t("shape"),n=t("text"),i=t("comp");this.layerInterface=e(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var a=r.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(a),0===this.data.ty||this.data.xt?this.compInterface=i(this):4===this.data.ty?(this.layerInterface.shapeInterface=s(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=n(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var t=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=t},initBaseData:function(t,e,r){this.globalData=e,this.comp=r,this.data=t,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(t,e){var r,s=this.dynamicProperties.length;for(r=0;r<s;r+=1)(e||this._isParent&&"transform"===this.dynamicProperties[r].propType)&&(this.dynamicProperties[r].getValue(),this.dynamicProperties[r]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&this.dynamicProperties.push(t)}},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var t=getExpressionInterfaces();if(t){var e=t("footage");this.layerInterface=e(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(t){if(this.prepareRenderableFrame(t,!0),this.prepareProperties(t,!0),this.tm._placeholder)this._currentTime=t/this.data.sr;else{var e=this.tm.v;this._currentTime=e}this._volume=this.lv.v[0];var r=this._volume*this._volumeMultiplier;this._previousVolume!==r&&(this._previousVolume=r,this.audio.volume(r))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(t){this.audio.rate(t)},AudioElement.prototype.volume=function(t){this._volumeMultiplier=t,this._previousVolume=t*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(t){var e,r,s=this.layers.length;for(this.completeLayers=!0,e=s-1;e>=0;e-=1)this.elements[e]||(r=this.layers[e]).ip-r.st<=t-this.layers[e].st&&r.op-r.st>t-this.layers[e].st&&this.buildItem(e),this.completeLayers=!!this.elements[e]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:default:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 6:return this.createAudio(t);case 13:return this.createCamera(t);case 15:return this.createFootage(t)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(t){return new AudioElement(t,this.globalData,this)},BaseRenderer.prototype.createFootage=function(t){return new FootageElement(t,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.buildItem(t);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){var e;this.completeLayers=!1;var r,s=t.length,n=this.layers.length;for(e=0;e<s;e+=1)for(r=0;r<n;){if(this.layers[r].id===t[e].id){this.layers[r]=t[e];break}r+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,e,r){for(var s=this.elements,n=this.layers,i=0,a=n.length;i<a;)n[i].ind==e&&(s[i]&&!0!==s[i]?(r.push(s[i]),s[i].setAsParent(),void 0!==n[i].parent?this.buildElementParenting(t,n[i].parent,r):t.setHierarchy(r)):(this.buildItem(i),this.addPendingElement(t))),i+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},BaseRenderer.prototype.searchExtraCompositions=function(t){var e,r=t.length;for(e=0;e<r;e+=1)if(t[e].xt){var s=this.createComp(t[e]);s.initExpressions(),this.globalData.projectInterface.registerComposition(s)}},BaseRenderer.prototype.getElementById=function(t){var e,r=this.elements.length;for(e=0;e<r;e+=1)if(this.elements[e].data.ind===t)return this.elements[e];return null},BaseRenderer.prototype.getElementByPath=function(t){var e,r=t.shift();if("number"==typeof r)e=this.elements[r];else{var s,n=this.elements.length;for(s=0;s<n;s+=1)if(this.elements[s].data.nm===r){e=this.elements[s];break}}return 0===t.length?e:e.getElementByPath(t)},BaseRenderer.prototype.setupGlobalData=function(t,e){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(t),this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}function MaskElement(t,e,r){this.data=t,this.element=e,this.globalData=r,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var s,n,i=this.globalData.defs,a=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(a),this.solidPath="";var o,l,c,h,u,d,p=this.masksProperties,f=0,m=[],g=createElementID(),y="clipPath",b="clip-path";for(s=0;s<a;s+=1)if(("a"!==p[s].mode&&"n"!==p[s].mode||p[s].inv||100!==p[s].o.k||p[s].o.x)&&(y="mask",b="mask"),"s"!==p[s].mode&&"i"!==p[s].mode||0!==f?c=null:((c=createNS("rect")).setAttribute("fill","#ffffff"),c.setAttribute("width",this.element.comp.data.w||0),c.setAttribute("height",this.element.comp.data.h||0),m.push(c)),n=createNS("path"),"n"===p[s].mode)this.viewData[s]={op:PropertyFactory.getProp(this.element,p[s].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[s],3),elem:n,lastPath:""},i.appendChild(n);else{var v;if(f+=1,n.setAttribute("fill","s"===p[s].mode?"#000000":"#ffffff"),n.setAttribute("clip-rule","nonzero"),0!==p[s].x.k?(y="mask",b="mask",d=PropertyFactory.getProp(this.element,p[s].x,0,null,this.element),v=createElementID(),(h=createNS("filter")).setAttribute("id",v),(u=createNS("feMorphology")).setAttribute("operator","erode"),u.setAttribute("in","SourceGraphic"),u.setAttribute("radius","0"),h.appendChild(u),i.appendChild(h),n.setAttribute("stroke","s"===p[s].mode?"#000000":"#ffffff")):(u=null,d=null),this.storedData[s]={elem:n,x:d,expan:u,lastPath:"",lastOperator:"",filterId:v,lastRadius:0},"i"===p[s].mode){l=m.length;var w=createNS("g");for(o=0;o<l;o+=1)w.appendChild(m[o]);var A=createNS("mask");A.setAttribute("mask-type","alpha"),A.setAttribute("id",g+"_"+f),A.appendChild(n),i.appendChild(A),w.setAttribute("mask","url("+getLocationHref()+"#"+g+"_"+f+")"),m.length=0,m.push(w)}else m.push(n);p[s].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[s]={elem:n,lastPath:"",op:PropertyFactory.getProp(this.element,p[s].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[s],3),invRect:c},this.viewData[s].prop.k||this.drawPath(p[s],this.viewData[s].prop.v,this.viewData[s])}for(this.maskElement=createNS(y),a=m.length,s=0;s<a;s+=1)this.maskElement.appendChild(m[s]);f>0&&(this.maskElement.setAttribute("id",g),this.element.maskedElement.setAttribute(b,"url("+getLocationHref()+"#"+g+")"),i.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}TransformElement.prototype={initTransform:function(){var t=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:t,localMat:t,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var t,e=this.finalTransform.mat,r=0,s=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;r<s;){if(this.hierarchy[r].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}r+=1}if(this.finalTransform._matMdf)for(t=this.finalTransform.mProp.v.props,e.cloneFromProps(t),r=0;r<s;r+=1)e.multiply(this.hierarchy[r].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var t=0,e=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;t<e;)this.localTransforms[t]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[t]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),t+=1;if(this.finalTransform._localMatMdf){var r=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(r),t=1;t<e;t+=1){var s=this.localTransforms[t].matrix;r.multiply(s)}r.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var n=this.finalTransform.localOpacity;for(t=0;t<e;t+=1)n*=.01*this.localTransforms[t].opacity;this.finalTransform.localOpacity=n}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var t=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(t.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var e=0,r=t.length;for(e=0;e<r;e+=1)this.localTransforms.push(t[e])}}},globalToLocal:function(t){var e=[];e.push(this.finalTransform);for(var r,s=!0,n=this.comp;s;)n.finalTransform?(n.data.hasMask&&e.splice(0,0,n.finalTransform),n=n.comp):s=!1;var i,a=e.length;for(r=0;r<a;r+=1)i=e[r].mat.applyToPointArray(0,0,0),t=[t[0]-i[0],t[1]-i[1],0];return t},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.renderFrame=function(t){var e,r=this.element.finalTransform.mat,s=this.masksProperties.length;for(e=0;e<s;e+=1)if((this.viewData[e].prop._mdf||t)&&this.drawPath(this.masksProperties[e],this.viewData[e].prop.v,this.viewData[e]),(this.viewData[e].op._mdf||t)&&this.viewData[e].elem.setAttribute("fill-opacity",this.viewData[e].op.v),"n"!==this.masksProperties[e].mode&&(this.viewData[e].invRect&&(this.element.finalTransform.mProp._mdf||t)&&this.viewData[e].invRect.setAttribute("transform",r.getInverseMatrix().to2dCSS()),this.storedData[e].x&&(this.storedData[e].x._mdf||t))){var n=this.storedData[e].expan;this.storedData[e].x.v<0?("erode"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="erode",this.storedData[e].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[e].filterId+")")),n.setAttribute("radius",-this.storedData[e].x.v)):("dilate"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="dilate",this.storedData[e].elem.setAttribute("filter",null)),this.storedData[e].elem.setAttribute("stroke-width",2*this.storedData[e].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,t+=" h-"+this.globalData.compSize.w,t+=" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(t,e,r){var s,n,i=" M"+e.v[0][0]+","+e.v[0][1];for(n=e._length,s=1;s<n;s+=1)i+=" C"+e.o[s-1][0]+","+e.o[s-1][1]+" "+e.i[s][0]+","+e.i[s][1]+" "+e.v[s][0]+","+e.v[s][1];if(e.c&&n>1&&(i+=" C"+e.o[s-1][0]+","+e.o[s-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),r.lastPath!==i){var a="";r.elem&&(e.c&&(a=t.inv?this.solidPath+i:i),r.elem.setAttribute("d",a)),r.lastPath=i}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var t={createFilter:function(t,e){var r=createNS("filter");return r.setAttribute("id",t),!0!==e&&(r.setAttribute("filterUnits","objectBoundingBox"),r.setAttribute("x","0%"),r.setAttribute("y","0%"),r.setAttribute("width","100%"),r.setAttribute("height","100%")),r},createAlphaToLuminanceFilter:function(){var t=createNS("feColorMatrix");return t.setAttribute("type","matrix"),t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),t}};return t}(),featureSupport=function(){var t={maskType:!0,svgLumaHidden:!0,offscreenCanvas:"undefined"!=typeof OffscreenCanvas};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(t.maskType=!1),/firefox/i.test(navigator.userAgent)&&(t.svgLumaHidden=!1),t}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(t){var e,r,s="SourceGraphic",n=t.data.ef?t.data.ef.length:0,i=createElementID(),a=filtersFactory.createFilter(i,!0),o=0;for(this.filters=[],e=0;e<n;e+=1){r=null;var l=t.data.ef[e].ty;registeredEffects$1[l]&&(r=new(0,registeredEffects$1[l].effect)(a,t.effectsManager.effectElements[e],t,idPrefix+o,s),s=idPrefix+o,registeredEffects$1[l].countsAsEffect&&(o+=1)),r&&this.filters.push(r)}o&&(t.globalData.defs.appendChild(a),t.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+i+")")),this.filters.length&&t.addRenderableComponent(this)}function registerEffect$1(t,e,r){registeredEffects$1[t]={effect:e,countsAsEffect:r}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(t,e,r){this.assetData=e.getAssetData(t.refId),this.assetData&&this.assetData.sid&&(this.assetData=e.slotManager.getProp(this.assetData)),this.initElement(t,e,r),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(t,e){this.elem=t,this.pos=e}function IShapeElement(){}SVGEffects.prototype.renderFrame=function(t){var e,r=this.filters.length;for(e=0;e<r;e+=1)this.filters[e].renderFrame(t)},SVGEffects.prototype.getEffects=function(t){var e,r=this.filters.length,s=[];for(e=0;e<r;e+=1)this.filters[e].type===t&&s.push(this.filters[e]);return s},SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var t=null;if(this.data.td){this.matteMasks={};var e=createNS("g");e.setAttribute("id",this.layerId),e.appendChild(this.layerElement),t=e,this.globalData.defs.appendChild(e)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),t=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var r=createNS("clipPath"),s=createNS("path");s.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var n=createElementID();if(r.setAttribute("id",n),r.appendChild(s),this.globalData.defs.appendChild(r),this.checkMasks()){var i=createNS("g");i.setAttribute("clip-path","url("+getLocationHref()+"#"+n+")"),i.appendChild(this.layerElement),this.transformedElement=i,t?t.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+n+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(t){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[t]){var e,r,s,n,i=this.layerId+"_"+t;if(1===t||3===t){var a=createNS("mask");a.setAttribute("id",i),a.setAttribute("mask-type",3===t?"luminance":"alpha"),(s=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),a.appendChild(s),this.globalData.defs.appendChild(a),featureSupport.maskType||1!==t||(a.setAttribute("mask-type","luminance"),e=createElementID(),r=filtersFactory.createFilter(e),this.globalData.defs.appendChild(r),r.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(n=createNS("g")).appendChild(s),a.appendChild(n),n.setAttribute("filter","url("+getLocationHref()+"#"+e+")"))}else if(2===t){var o=createNS("mask");o.setAttribute("id",i),o.setAttribute("mask-type","alpha");var l=createNS("g");o.appendChild(l),e=createElementID(),r=filtersFactory.createFilter(e);var c=createNS("feComponentTransfer");c.setAttribute("in","SourceGraphic"),r.appendChild(c);var h=createNS("feFuncA");h.setAttribute("type","table"),h.setAttribute("tableValues","1.0 0.0"),c.appendChild(h),this.globalData.defs.appendChild(r);var u=createNS("rect");u.setAttribute("width",this.comp.data.w),u.setAttribute("height",this.comp.data.h),u.setAttribute("x","0"),u.setAttribute("y","0"),u.setAttribute("fill","#ffffff"),u.setAttribute("opacity","0"),l.setAttribute("filter","url("+getLocationHref()+"#"+e+")"),l.appendChild(u),(s=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),l.appendChild(s),featureSupport.maskType||(o.setAttribute("mask-type","luminance"),r.appendChild(filtersFactory.createAlphaToLuminanceFilter()),n=createNS("g"),l.appendChild(u),n.appendChild(this.layerElement),l.appendChild(n)),this.globalData.defs.appendChild(o)}this.matteMasks[t]=i}return this.matteMasks[t]},setMatte:function(t){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+t+")")}},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(t){this.hierarchy=t},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initTransform(t,e,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function(t){var e,r=this.shapeModifiers.length;for(e=0;e<r;e+=1)this.shapeModifiers[e].addShape(t)},isShapeInAnimatedModifiers:function(t){for(var e=this.shapeModifiers.length;0<e;)if(this.shapeModifiers[0].isAnimatedWithShape(t))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var t,e=this.shapes.length;for(t=0;t<e;t+=1)this.shapes[t].sh.reset();for(t=(e=this.shapeModifiers.length)-1;t>=0&&!this.shapeModifiers[t].processShapes(this._isFirstFrame);t-=1);}},searchProcessedElement:function(t){for(var e=this.processedElements,r=0,s=e.length;r<s;){if(e[r].elem===t)return e[r].pos;r+=1}return 0},addProcessedElement:function(t,e){for(var r=this.processedElements,s=r.length;s;)if(r[s-=1].elem===t)return void(r[s].pos=e);r.push(new ProcessedElement(t,e))},prepareFrame:function(t){this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(t,e,r){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=r,this.lvl=e,this._isAnimated=!!r.k;for(var s=0,n=t.length;s<n;){if(t[s].mProps.dynamicProperties.length){this._isAnimated=!0;break}s+=1}}function SVGStyleData(t,e){this.data=t,this.type=t.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=!0===t.hd,this.pElem=createNS("path"),this.msElem=null}function DashProperty(t,e,r,s){var n;this.elem=t,this.frameId=-1,this.dataProps=createSizedArray(e.length),this.renderer=r,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",e.length?e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(s);var i,a=e.length||0;for(n=0;n<a;n+=1)i=PropertyFactory.getProp(t,e[n].v,0,0,this),this.k=i.k||this.k,this.dataProps[n]={n:e[n].n,p:i};this.k||this.getValue(!0),this._isAnimated=this.k}function SVGStrokeStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=r,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=r}function SVGNoStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.style=r}function GradientProperty(t,e,r){this.data=e,this.c=createTypedArray("uint8c",4*e.p);var s=e.k.k[0].s?e.k.k[0].s.length-4*e.p:e.k.k.length-4*e.p;this.o=createTypedArray("float32",s),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=s,this.initDynamicPropertyContainer(r),this.prop=PropertyFactory.getProp(t,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,e,r)}function SVGGradientStrokeStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.initGradientData(t,e,r),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(t,e,r){this.transform={mProps:t,op:e,container:r},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(t){if((this.elem.globalData.frameId!==this.frameId||t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var e=0,r=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),e=0;e<r;e+=1)"o"!==this.dataProps[e].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(t,e){for(var r=0,s=this.o.length/2;r<s;){if(Math.abs(t[4*r]-t[4*e+2*r])>.01)return!1;r+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,e=this.data.k.k.length;t<e;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){var e,r,s,n=4*this.data.p;for(e=0;e<n;e+=1)r=e%4==0?100:255,s=Math.round(this.prop.v[e]*r),this.c[e]!==s&&(this.c[e]=s,this._cmdf=!t);if(this.o.length)for(n=this.prop.v.length,e=4*this.data.p;e<n;e+=1)r=e%2==0?100:1,s=e%2==0?Math.round(100*this.prop.v[e]):this.prop.v[e],this.o[e-4*this.data.p]!==s&&(this.o[e-4*this.data.p]=s,this._omdf=!t);this._mdf=!t}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(t,e,r){this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.s=PropertyFactory.getProp(t,e.s,1,null,this),this.e=PropertyFactory.getProp(t,e.e,1,null,this),this.h=PropertyFactory.getProp(t,e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(t,e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(t,e.g,this),this.style=r,this.stops=[],this.setGradientData(r.pElem,e),this.setGradientOpacity(e,r),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(t,e){var r=createElementID(),s=createNS(1===e.t?"linearGradient":"radialGradient");s.setAttribute("id",r),s.setAttribute("spreadMethod","pad"),s.setAttribute("gradientUnits","userSpaceOnUse");var n,i,a,o=[];for(a=4*e.g.p,i=0;i<a;i+=4)n=createNS("stop"),s.appendChild(n),o.push(n);t.setAttribute("gf"===e.ty?"fill":"stroke","url("+getLocationHref()+"#"+r+")"),this.gf=s,this.cst=o},SVGGradientFillStyleData.prototype.setGradientOpacity=function(t,e){if(this.g._hasOpacity&&!this.g._collapsable){var r,s,n,i=createNS("mask"),a=createNS("path");i.appendChild(a);var o=createElementID(),l=createElementID();i.setAttribute("id",l);var c=createNS(1===t.t?"linearGradient":"radialGradient");c.setAttribute("id",o),c.setAttribute("spreadMethod","pad"),c.setAttribute("gradientUnits","userSpaceOnUse"),n=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var h=this.stops;for(s=4*t.g.p;s<n;s+=2)(r=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),c.appendChild(r),h.push(r);a.setAttribute("gf"===t.ty?"fill":"stroke","url("+getLocationHref()+"#"+o+")"),"gs"===t.ty&&(a.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),a.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),1===t.lj&&a.setAttribute("stroke-miterlimit",t.ml)),this.of=c,this.ms=i,this.ost=h,this.maskId=l,e.msElem=a}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var buildShapeString=function(t,e,r,s){if(0===e)return"";var n,i=t.o,a=t.i,o=t.v,l=" M"+s.applyToPointStringified(o[0][0],o[0][1]);for(n=1;n<e;n+=1)l+=" C"+s.applyToPointStringified(i[n-1][0],i[n-1][1])+" "+s.applyToPointStringified(a[n][0],a[n][1])+" "+s.applyToPointStringified(o[n][0],o[n][1]);return r&&e&&(l+=" C"+s.applyToPointStringified(i[n-1][0],i[n-1][1])+" "+s.applyToPointStringified(a[0][0],a[0][1])+" "+s.applyToPointStringified(o[0][0],o[0][1]),l+="z"),l},SVGElementsRenderer=function(){var t=new Matrix,e=new Matrix;function r(t,e,r){(r||e.transform.op._mdf)&&e.transform.container.setAttribute("opacity",e.transform.op.v),(r||e.transform.mProps._mdf)&&e.transform.container.setAttribute("transform",e.transform.mProps.v.to2dCSS())}function s(){}function n(r,s,n){var i,a,o,l,c,h,u,d,p,f,m=s.styles.length,g=s.lvl;for(h=0;h<m;h+=1){if(l=s.sh._mdf||n,s.styles[h].lvl<g){for(d=e.reset(),p=g-s.styles[h].lvl,f=s.transformers.length-1;!l&&p>0;)l=s.transformers[f].mProps._mdf||l,p-=1,f-=1;if(l)for(p=g-s.styles[h].lvl,f=s.transformers.length-1;p>0;)d.multiply(s.transformers[f].mProps.v),p-=1,f-=1}else d=t;if(a=(u=s.sh.paths)._length,l){for(o="",i=0;i<a;i+=1)(c=u.shapes[i])&&c._length&&(o+=buildShapeString(c,c._length,c.c,d));s.caches[h]=o}else o=s.caches[h];s.styles[h].d+=!0===r.hd?"":o,s.styles[h]._mdf=l||s.styles[h]._mdf}}function i(t,e,r){var s=e.style;(e.c._mdf||r)&&s.pElem.setAttribute("fill","rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||r)&&s.pElem.setAttribute("fill-opacity",e.o.v)}function a(t,e,r){o(t,e,r),l(0,e,r)}function o(t,e,r){var s,n,i,a,o,l=e.gf,c=e.g._hasOpacity,h=e.s.v,u=e.e.v;if(e.o._mdf||r){var d="gf"===t.ty?"fill-opacity":"stroke-opacity";e.style.pElem.setAttribute(d,e.o.v)}if(e.s._mdf||r){var p=1===t.t?"x1":"cx",f="x1"===p?"y1":"cy";l.setAttribute(p,h[0]),l.setAttribute(f,h[1]),c&&!e.g._collapsable&&(e.of.setAttribute(p,h[0]),e.of.setAttribute(f,h[1]))}if(e.g._cmdf||r){s=e.cst;var m=e.g.c;for(i=s.length,n=0;n<i;n+=1)(a=s[n]).setAttribute("offset",m[4*n]+"%"),a.setAttribute("stop-color","rgb("+m[4*n+1]+","+m[4*n+2]+","+m[4*n+3]+")")}if(c&&(e.g._omdf||r)){var g=e.g.o;for(i=(s=e.g._collapsable?e.cst:e.ost).length,n=0;n<i;n+=1)a=s[n],e.g._collapsable||a.setAttribute("offset",g[2*n]+"%"),a.setAttribute("stop-opacity",g[2*n+1])}if(1===t.t)(e.e._mdf||r)&&(l.setAttribute("x2",u[0]),l.setAttribute("y2",u[1]),c&&!e.g._collapsable&&(e.of.setAttribute("x2",u[0]),e.of.setAttribute("y2",u[1])));else if((e.s._mdf||e.e._mdf||r)&&(o=Math.sqrt(Math.pow(h[0]-u[0],2)+Math.pow(h[1]-u[1],2)),l.setAttribute("r",o),c&&!e.g._collapsable&&e.of.setAttribute("r",o)),e.e._mdf||e.h._mdf||e.a._mdf||r){o||(o=Math.sqrt(Math.pow(h[0]-u[0],2)+Math.pow(h[1]-u[1],2)));var y=Math.atan2(u[1]-h[1],u[0]-h[0]),b=e.h.v;b>=1?b=.99:b<=-1&&(b=-.99);var v=o*b,w=Math.cos(y+e.a.v)*v+h[0],A=Math.sin(y+e.a.v)*v+h[1];l.setAttribute("fx",w),l.setAttribute("fy",A),c&&!e.g._collapsable&&(e.of.setAttribute("fx",w),e.of.setAttribute("fy",A))}}function l(t,e,r){var s=e.style,n=e.d;n&&(n._mdf||r)&&n.dashStr&&(s.pElem.setAttribute("stroke-dasharray",n.dashStr),s.pElem.setAttribute("stroke-dashoffset",n.dashoffset[0])),e.c&&(e.c._mdf||r)&&s.pElem.setAttribute("stroke","rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||r)&&s.pElem.setAttribute("stroke-opacity",e.o.v),(e.w._mdf||r)&&(s.pElem.setAttribute("stroke-width",e.w.v),s.msElem&&s.msElem.setAttribute("stroke-width",e.w.v))}return{createRenderFunction:function(t){switch(t.ty){case"fl":return i;case"gf":return o;case"gs":return a;case"st":return l;case"sh":case"el":case"rc":case"sr":return n;case"tr":return r;case"no":return s;default:return null}}}}();function SVGShapeElement(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,r),this.prevViewData=[]}function LetterProps(t,e,r,s,n,i){this.o=t,this.sw=e,this.sc=r,this.fc=s,this.m=n,this.p=i,this._mdf={o:!0,sw:!!e,sc:!!r,fc:!!s,m:!0,p:!0}}function TextProperty(t,e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,e.d&&e.d.sid&&(e.d=t.globalData.slotManager.getProp(e.d)),this.data=e,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var t,e,r,s,n=this.shapes.length,i=this.stylesList.length,a=[],o=!1;for(r=0;r<i;r+=1){for(s=this.stylesList[r],o=!1,a.length=0,t=0;t<n;t+=1)-1!==(e=this.shapes[t]).styles.indexOf(s)&&(a.push(e),o=e._isAnimated||o);a.length>1&&o&&this.setShapesAsAnimated(a)}},SVGShapeElement.prototype.setShapesAsAnimated=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(t,e){var r,s=new SVGStyleData(t,e),n=s.pElem;return"st"===t.ty?r=new SVGStrokeStyleData(this,t,s):"fl"===t.ty?r=new SVGFillStyleData(this,t,s):"gf"===t.ty||"gs"===t.ty?(r=new("gf"===t.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,t,s),this.globalData.defs.appendChild(r.gf),r.maskId&&(this.globalData.defs.appendChild(r.ms),this.globalData.defs.appendChild(r.of),n.setAttribute("mask","url("+getLocationHref()+"#"+r.maskId+")"))):"no"===t.ty&&(r=new SVGNoStyleData(this,t,s)),"st"!==t.ty&&"gs"!==t.ty||(n.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),n.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),n.setAttribute("fill-opacity","0"),1===t.lj&&n.setAttribute("stroke-miterlimit",t.ml)),2===t.r&&n.setAttribute("fill-rule","evenodd"),t.ln&&n.setAttribute("id",t.ln),t.cl&&n.setAttribute("class",t.cl),t.bm&&(n.style["mix-blend-mode"]=getBlendMode(t.bm)),this.stylesList.push(s),this.addToAnimatedContents(t,r),r},SVGShapeElement.prototype.createGroupElement=function(t){var e=new ShapeGroupData;return t.ln&&e.gr.setAttribute("id",t.ln),t.cl&&e.gr.setAttribute("class",t.cl),t.bm&&(e.gr.style["mix-blend-mode"]=getBlendMode(t.bm)),e},SVGShapeElement.prototype.createTransformElement=function(t,e){var r=TransformPropertyFactory.getTransformProperty(this,t,this),s=new SVGTransformData(r,r.o,e);return this.addToAnimatedContents(t,s),s},SVGShapeElement.prototype.createShapeElement=function(t,e,r){var s=4;"rc"===t.ty?s=5:"el"===t.ty?s=6:"sr"===t.ty&&(s=7);var n=new SVGShapeData(e,r,ShapePropertyFactory.getShapeProp(this,t,s,this));return this.shapes.push(n),this.addShapeToModifiers(n),this.addToAnimatedContents(t,n),n},SVGShapeElement.prototype.addToAnimatedContents=function(t,e){for(var r=0,s=this.animatedContents.length;r<s;){if(this.animatedContents[r].element===e)return;r+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(t),element:e,data:t})},SVGShapeElement.prototype.setElementStyles=function(t){var e,r=t.styles,s=this.stylesList.length;for(e=0;e<s;e+=1)this.stylesList[e].closed||r.push(this.stylesList[e])},SVGShapeElement.prototype.reloadShapes=function(){var t;this._isFirstFrame=!0;var e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(t,e,r,s,n,i,a){var o,l,c,h,u,d,p=[].concat(i),f=t.length-1,m=[],g=[];for(o=f;o>=0;o-=1){if((d=this.searchProcessedElement(t[o]))?e[o]=r[d-1]:t[o]._render=a,"fl"===t[o].ty||"st"===t[o].ty||"gf"===t[o].ty||"gs"===t[o].ty||"no"===t[o].ty)d?e[o].style.closed=!1:e[o]=this.createStyleElement(t[o],n),t[o]._render&&e[o].style.pElem.parentNode!==s&&s.appendChild(e[o].style.pElem),m.push(e[o].style);else if("gr"===t[o].ty){if(d)for(c=e[o].it.length,l=0;l<c;l+=1)e[o].prevViewData[l]=e[o].it[l];else e[o]=this.createGroupElement(t[o]);this.searchShapes(t[o].it,e[o].it,e[o].prevViewData,e[o].gr,n+1,p,a),t[o]._render&&e[o].gr.parentNode!==s&&s.appendChild(e[o].gr)}else"tr"===t[o].ty?(d||(e[o]=this.createTransformElement(t[o],s)),h=e[o].transform,p.push(h)):"sh"===t[o].ty||"rc"===t[o].ty||"el"===t[o].ty||"sr"===t[o].ty?(d||(e[o]=this.createShapeElement(t[o],p,n)),this.setElementStyles(e[o])):"tm"===t[o].ty||"rd"===t[o].ty||"ms"===t[o].ty||"pb"===t[o].ty||"zz"===t[o].ty||"op"===t[o].ty?(d?(u=e[o]).closed=!1:((u=ShapeModifiers.getModifier(t[o].ty)).init(this,t[o]),e[o]=u,this.shapeModifiers.push(u)),g.push(u)):"rp"===t[o].ty&&(d?(u=e[o]).closed=!0:(u=ShapeModifiers.getModifier(t[o].ty),e[o]=u,u.init(this,t,o,e),this.shapeModifiers.push(u),a=!1),g.push(u));this.addProcessedElement(t[o],o+1)}for(f=m.length,o=0;o<f;o+=1)m[o].closed=!0;for(f=g.length,o=0;o<f;o+=1)g[o].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){var t;this.renderModifiers();var e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].reset();for(this.renderShape(),t=0;t<e;t+=1)(this.stylesList[t]._mdf||this._isFirstFrame)&&(this.stylesList[t].msElem&&(this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].d="M0 0"+this.stylesList[t].d),this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var t,e,r=this.animatedContents.length;for(t=0;t<r;t+=1)e=this.animatedContents[t],(this._isFirstFrame||e.element._isAnimated)&&!0!==e.data&&e.fn(e.data,e.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(t,e,r,s,n,i){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var a=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,a=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,a=!0),this.sc!==r&&(this.sc=r,this._mdf.sc=!0,a=!0),this.fc!==s&&(this.fc=s,this._mdf.fc=!0,a=!0),this.m!==n&&(this.m=n,this._mdf.m=!0,a=!0),!i.length||this.p[0]===i[0]&&this.p[1]===i[1]&&this.p[4]===i[4]&&this.p[5]===i[5]&&this.p[12]===i[12]&&this.p[13]===i[13]||(this.p=i,this._mdf.p=!0,a=!0),a},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},TextProperty.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(t){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||t){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,r=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var s;this.lock=!0,this._mdf=!1;var n=this.effectsSequence.length,i=t||this.data.d.k[this.keysIndex].s;for(s=0;s<n;s+=1)i=r!==this.keysIndex?this.effectsSequence[s](i,i.t):this.effectsSequence[s](this.currentData,i.t);e!==i&&this.setCurrentData(i),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var t=this.data.d.k,e=this.elem.comp.renderedFrame,r=0,s=t.length;r<=s-1&&!(r===s-1||t[r+1].t>e);)r+=1;return this.keysIndex!==r&&(this.keysIndex=r),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(t){for(var e,r,s=[],n=0,i=t.length,a=!1,o=!1,l="";n<i;)a=o,o=!1,e=t.charCodeAt(n),l=t.charAt(n),FontManager.isCombinedCharacter(e)?a=!0:e>=55296&&e<=56319?FontManager.isRegionalFlag(t,n)?l=t.substr(n,14):(r=t.charCodeAt(n+1))>=56320&&r<=57343&&(FontManager.isModifier(e,r)?(l=t.substr(n,2),a=!0):l=FontManager.isFlagEmoji(t.substr(n,4))?t.substr(n,4):t.substr(n,2)):e>56319?(r=t.charCodeAt(n+1),FontManager.isVariationSelector(e)&&(a=!0)):FontManager.isZeroWidthJoiner(e)&&(a=!0,o=!0),a?(s[s.length-1]+=l,a=!1):s.push(l),n+=l.length;return s},TextProperty.prototype.completeTextData=function(t){t.__complete=!0;var e,r,s,n,i,a,o,l=this.elem.globalData.fontManager,c=this.data,h=[],u=0,d=c.m.g,p=0,f=0,m=0,g=[],y=0,b=0,v=l.getFontByName(t.f),w=0,A=getFontProperties(v);t.fWeight=A.weight,t.fStyle=A.style,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),r=t.finalText.length,t.finalLineHeight=t.lh;var k,E=t.tr/1e3*t.finalSize;if(t.sz)for(var x,P,C=!0,S=t.sz[0],I=t.sz[1];C;){x=0,y=0,r=(P=this.buildFinalText(t.t)).length,E=t.tr/1e3*t.finalSize;var _=-1;for(e=0;e<r;e+=1)k=P[e].charCodeAt(0),s=!1," "===P[e]?_=e:13!==k&&3!==k||(y=0,s=!0,x+=t.finalLineHeight||1.2*t.finalSize),l.chars?(o=l.getCharData(P[e],v.fStyle,v.fFamily),w=s?0:o.w*t.finalSize/100):w=l.measureText(P[e],t.f,t.finalSize),y+w>S&&" "!==P[e]?(-1===_?r+=1:e=_,x+=t.finalLineHeight||1.2*t.finalSize,P.splice(e,_===e?1:0,"\r"),_=-1,y=0):(y+=w,y+=E);x+=v.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&I<x?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=P,r=t.finalText.length,C=!1)}y=-E,w=0;var T,M=0;for(e=0;e<r;e+=1)if(s=!1,13===(k=(T=t.finalText[e]).charCodeAt(0))||3===k?(M=0,g.push(y),b=y>b?y:b,y=-2*E,n="",s=!0,m+=1):n=T,l.chars?(o=l.getCharData(T,v.fStyle,l.getFontByName(t.f).fFamily),w=s?0:o.w*t.finalSize/100):w=l.measureText(n,t.f,t.finalSize)," "===T?M+=w+E:(y+=w+E+M,M=0),h.push({l:w,an:w,add:p,n:s,anIndexes:[],val:n,line:m,animatorJustifyOffset:0}),2==d){if(p+=w,""===n||" "===n||e===r-1){for(""!==n&&" "!==n||(p-=w);f<=e;)h[f].an=p,h[f].ind=u,h[f].extra=w,f+=1;u+=1,p=0}}else if(3==d){if(p+=w,""===n||e===r-1){for(""===n&&(p-=w);f<=e;)h[f].an=p,h[f].ind=u,h[f].extra=w,f+=1;p=0,u+=1}}else h[u].ind=u,h[u].extra=0,u+=1;if(t.l=h,b=y>b?y:b,g.push(y),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=b,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=g;var D,B,F,O,N=c.a;a=N.length;var R=[];for(i=0;i<a;i+=1){for((D=N[i]).a.sc&&(t.strokeColorAnim=!0),D.a.sw&&(t.strokeWidthAnim=!0),(D.a.fc||D.a.fh||D.a.fs||D.a.fb)&&(t.fillColorAnim=!0),O=0,F=D.s.b,e=0;e<r;e+=1)(B=h[e]).anIndexes[i]=O,(1==F&&""!==B.val||2==F&&""!==B.val&&" "!==B.val||3==F&&(B.n||" "==B.val||e==r-1)||4==F&&(B.n||e==r-1))&&(1===D.s.rn&&R.push(O),O+=1);c.a[i].s.totalChars=O;var L,U=-1;if(1===D.s.rn)for(e=0;e<r;e+=1)U!=(B=h[e]).anIndexes[i]&&(U=B.anIndexes[i],L=R.splice(Math.floor(Math.random()*R.length),1)[0]),B.anIndexes[i]=L}t.yOffset=t.finalLineHeight||1.2*t.finalSize,t.ls=t.ls||0,t.ascent=v.ascent*t.finalSize/100},TextProperty.prototype.updateDocumentData=function(t,e){e=void 0===e?this.keysIndex:e;var r=this.copyData({},this.data.d.k[e].s);r=this.copyData(r,t),this.data.d.k[e].s=r,this.recalculate(e),this.setCurrentData(r),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(t){var e=this.data.d.k[t].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},TextProperty.prototype.canResizeFont=function(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var t=Math.max,e=Math.min,r=Math.floor;function s(t,e){this._currentTextLength=-1,this.k=!1,this.data=e,this.elem=t,this.comp=t.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(t),this.s=PropertyFactory.getProp(t,e.s||{k:0},0,0,this),this.e="e"in e?PropertyFactory.getProp(t,e.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(t,e.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(t,e.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(t,e.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(t,e.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(t,e.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return s.prototype={getMult:function(s){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var n=0,i=0,a=1,o=1;this.ne.v>0?n=this.ne.v/100:i=-this.ne.v/100,this.xe.v>0?a=1-this.xe.v/100:o=1+this.xe.v/100;var l=BezierFactory.getBezierEasing(n,i,a,o).get,c=0,h=this.finalS,u=this.finalE,d=this.data.sh;if(2===d)c=l(c=u===h?s>=u?1:0:t(0,e(.5/(u-h)+(s-h)/(u-h),1)));else if(3===d)c=l(c=u===h?s>=u?0:1:1-t(0,e(.5/(u-h)+(s-h)/(u-h),1)));else if(4===d)u===h?c=0:(c=t(0,e(.5/(u-h)+(s-h)/(u-h),1)))<.5?c*=2:c=1-2*(c-.5),c=l(c);else if(5===d){if(u===h)c=0;else{var p=u-h,f=-p/2+(s=e(t(0,s+.5-h),u-h)),m=p/2;c=Math.sqrt(1-f*f/(m*m))}c=l(c)}else 6===d?(u===h?c=0:(s=e(t(0,s+.5-h),u-h),c=(1+Math.cos(Math.PI+2*Math.PI*s/(u-h)))/2),c=l(c)):(s>=r(h)&&(c=t(0,e(s-h<0?e(u,1)-(h-s):u-s,1))),c=l(c));if(100!==this.sm.v){var g=.01*this.sm.v;0===g&&(g=1e-8);var y=.5-.5*g;c<y?c=0:(c=(c-y)/g)>1&&(c=1)}return c*this.a.v},getValue:function(t){this.iterateDynamicProperties(),this._mdf=t||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,t&&2===this.data.r&&(this.e.v=this._currentTextLength);var e=2===this.data.r?1:100/this.data.totalChars,r=this.o.v/e,s=this.s.v/e+r,n=this.e.v/e+r;if(s>n){var i=s;s=n,n=i}this.finalS=s,this.finalE=n}},extendPrototype([DynamicPropertyContainer],s),{getTextSelectorProp:function(t,e,r){return new s(t,e,r)}}}();function TextAnimatorDataProperty(t,e,r){var s={propType:!1},n=PropertyFactory.getProp,i=e.a;this.a={r:i.r?n(t,i.r,0,degToRads,r):s,rx:i.rx?n(t,i.rx,0,degToRads,r):s,ry:i.ry?n(t,i.ry,0,degToRads,r):s,sk:i.sk?n(t,i.sk,0,degToRads,r):s,sa:i.sa?n(t,i.sa,0,degToRads,r):s,s:i.s?n(t,i.s,1,.01,r):s,a:i.a?n(t,i.a,1,0,r):s,o:i.o?n(t,i.o,0,.01,r):s,p:i.p?n(t,i.p,1,0,r):s,sw:i.sw?n(t,i.sw,0,0,r):s,sc:i.sc?n(t,i.sc,1,0,r):s,fc:i.fc?n(t,i.fc,1,0,r):s,fh:i.fh?n(t,i.fh,0,0,r):s,fs:i.fs?n(t,i.fs,0,.01,r):s,fb:i.fb?n(t,i.fb,0,.01,r):s,t:i.t?n(t,i.t,0,0,r):s},this.s=TextSelectorProp.getTextSelectorProp(t,e.s,r),this.s.t=e.s.t}function TextAnimatorProperty(t,e,r){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=r,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(r)}function ITextElement(){}TextAnimatorProperty.prototype.searchProperties=function(){var t,e,r=this._textData.a.length,s=PropertyFactory.getProp;for(t=0;t<r;t+=1)e=this._textData.a[t],this._animatorsData[t]=new TextAnimatorDataProperty(this._elem,e,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:s(this._elem,this._textData.p.a,0,0,this),f:s(this._elem,this._textData.p.f,0,0,this),l:s(this._elem,this._textData.p.l,0,0,this),r:s(this._elem,this._textData.p.r,0,0,this),p:s(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=s(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(t,e){if(this.lettersChangedFlag=e,this._mdf||this._isFirstFrame||e||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var r,s,n,i,a,o,l,c,h,u,d,p,f,m,g,y,b,v,w,A=this._moreOptions.alignment.v,k=this._animatorsData,E=this._textData,x=this.mHelper,P=this._renderType,C=this.renderedLetters.length,S=t.l;if(this._hasMaskedPath){if(w=this._pathData.m,!this._pathData.n||this._pathData._mdf){var I,_=w.v;for(this._pathData.r.v&&(_=_.reverse()),a={tLength:0,segments:[]},i=_._length-1,y=0,n=0;n<i;n+=1)I=bez.buildBezierData(_.v[n],_.v[n+1],[_.o[n][0]-_.v[n][0],_.o[n][1]-_.v[n][1]],[_.i[n+1][0]-_.v[n+1][0],_.i[n+1][1]-_.v[n+1][1]]),a.tLength+=I.segmentLength,a.segments.push(I),y+=I.segmentLength;n=i,w.v.c&&(I=bez.buildBezierData(_.v[n],_.v[0],[_.o[n][0]-_.v[n][0],_.o[n][1]-_.v[n][1]],[_.i[0][0]-_.v[0][0],_.i[0][1]-_.v[0][1]]),a.tLength+=I.segmentLength,a.segments.push(I),y+=I.segmentLength),this._pathData.pi=a}if(a=this._pathData.pi,o=this._pathData.f.v,d=0,u=1,c=0,h=!0,m=a.segments,o<0&&w.v.c)for(a.tLength<Math.abs(o)&&(o=-Math.abs(o)%a.tLength),u=(f=m[d=m.length-1].points).length-1;o<0;)o+=f[u].partialLength,(u-=1)<0&&(u=(f=m[d-=1].points).length-1);p=(f=m[d].points)[u-1],g=(l=f[u]).partialLength}i=S.length,r=0,s=0;var T,M,D,B,F,O=1.2*t.finalSize*.714,N=!0;D=k.length;var R,L,U,j,G,V,z,Q,H,q,K,W,J=-1,Y=o,Z=d,X=u,$=-1,tt="",et=this.defaultPropsArray;if(2===t.j||1===t.j){var rt=0,st=0,nt=2===t.j?-.5:-1,it=0,at=!0;for(n=0;n<i;n+=1)if(S[n].n){for(rt&&(rt+=st);it<n;)S[it].animatorJustifyOffset=rt,it+=1;rt=0,at=!0}else{for(M=0;M<D;M+=1)(T=k[M].a).t.propType&&(at&&2===t.j&&(st+=T.t.v*nt),(F=k[M].s.getMult(S[n].anIndexes[M],E.a[M].s.totalChars)).length?rt+=T.t.v*F[0]*nt:rt+=T.t.v*F*nt);at=!1}for(rt&&(rt+=st);it<n;)S[it].animatorJustifyOffset=rt,it+=1}for(n=0;n<i;n+=1){if(x.reset(),j=1,S[n].n)r=0,s+=t.yOffset,s+=N?1:0,o=Y,N=!1,this._hasMaskedPath&&(u=X,p=(f=m[d=Z].points)[u-1],g=(l=f[u]).partialLength,c=0),tt="",K="",H="",W="",et=this.defaultPropsArray;else{if(this._hasMaskedPath){if($!==S[n].line){switch(t.j){case 1:o+=y-t.lineWidths[S[n].line];break;case 2:o+=(y-t.lineWidths[S[n].line])/2}$=S[n].line}J!==S[n].ind&&(S[J]&&(o+=S[J].extra),o+=S[n].an/2,J=S[n].ind),o+=A[0]*S[n].an*.005;var ot=0;for(M=0;M<D;M+=1)(T=k[M].a).p.propType&&((F=k[M].s.getMult(S[n].anIndexes[M],E.a[M].s.totalChars)).length?ot+=T.p.v[0]*F[0]:ot+=T.p.v[0]*F),T.a.propType&&((F=k[M].s.getMult(S[n].anIndexes[M],E.a[M].s.totalChars)).length?ot+=T.a.v[0]*F[0]:ot+=T.a.v[0]*F);for(h=!0,this._pathData.a.v&&(o=.5*S[0].an+(y-this._pathData.f.v-.5*S[0].an-.5*S[S.length-1].an)*J/(i-1),o+=this._pathData.f.v);h;)c+g>=o+ot||!f?(b=(o+ot-c)/l.partialLength,L=p.point[0]+(l.point[0]-p.point[0])*b,U=p.point[1]+(l.point[1]-p.point[1])*b,x.translate(-A[0]*S[n].an*.005,-A[1]*O*.01),h=!1):f&&(c+=l.partialLength,(u+=1)>=f.length&&(u=0,m[d+=1]?f=m[d].points:w.v.c?(u=0,f=m[d=0].points):(c-=l.partialLength,f=null)),f&&(p=l,g=(l=f[u]).partialLength));R=S[n].an/2-S[n].add,x.translate(-R,0,0)}else R=S[n].an/2-S[n].add,x.translate(-R,0,0),x.translate(-A[0]*S[n].an*.005,-A[1]*O*.01,0);for(M=0;M<D;M+=1)(T=k[M].a).t.propType&&(F=k[M].s.getMult(S[n].anIndexes[M],E.a[M].s.totalChars),0===r&&0===t.j||(this._hasMaskedPath?F.length?o+=T.t.v*F[0]:o+=T.t.v*F:F.length?r+=T.t.v*F[0]:r+=T.t.v*F));for(t.strokeWidthAnim&&(V=t.sw||0),t.strokeColorAnim&&(G=t.sc?[t.sc[0],t.sc[1],t.sc[2]]:[0,0,0]),t.fillColorAnim&&t.fc&&(z=[t.fc[0],t.fc[1],t.fc[2]]),M=0;M<D;M+=1)(T=k[M].a).a.propType&&((F=k[M].s.getMult(S[n].anIndexes[M],E.a[M].s.totalChars)).length?x.translate(-T.a.v[0]*F[0],-T.a.v[1]*F[1],T.a.v[2]*F[2]):x.translate(-T.a.v[0]*F,-T.a.v[1]*F,T.a.v[2]*F));for(M=0;M<D;M+=1)(T=k[M].a).s.propType&&((F=k[M].s.getMult(S[n].anIndexes[M],E.a[M].s.totalChars)).length?x.scale(1+(T.s.v[0]-1)*F[0],1+(T.s.v[1]-1)*F[1],1):x.scale(1+(T.s.v[0]-1)*F,1+(T.s.v[1]-1)*F,1));for(M=0;M<D;M+=1){if(T=k[M].a,F=k[M].s.getMult(S[n].anIndexes[M],E.a[M].s.totalChars),T.sk.propType&&(F.length?x.skewFromAxis(-T.sk.v*F[0],T.sa.v*F[1]):x.skewFromAxis(-T.sk.v*F,T.sa.v*F)),T.r.propType&&(F.length?x.rotateZ(-T.r.v*F[2]):x.rotateZ(-T.r.v*F)),T.ry.propType&&(F.length?x.rotateY(T.ry.v*F[1]):x.rotateY(T.ry.v*F)),T.rx.propType&&(F.length?x.rotateX(T.rx.v*F[0]):x.rotateX(T.rx.v*F)),T.o.propType&&(F.length?j+=(T.o.v*F[0]-j)*F[0]:j+=(T.o.v*F-j)*F),t.strokeWidthAnim&&T.sw.propType&&(F.length?V+=T.sw.v*F[0]:V+=T.sw.v*F),t.strokeColorAnim&&T.sc.propType)for(Q=0;Q<3;Q+=1)F.length?G[Q]+=(T.sc.v[Q]-G[Q])*F[0]:G[Q]+=(T.sc.v[Q]-G[Q])*F;if(t.fillColorAnim&&t.fc){if(T.fc.propType)for(Q=0;Q<3;Q+=1)F.length?z[Q]+=(T.fc.v[Q]-z[Q])*F[0]:z[Q]+=(T.fc.v[Q]-z[Q])*F;T.fh.propType&&(z=F.length?addHueToRGB(z,T.fh.v*F[0]):addHueToRGB(z,T.fh.v*F)),T.fs.propType&&(z=F.length?addSaturationToRGB(z,T.fs.v*F[0]):addSaturationToRGB(z,T.fs.v*F)),T.fb.propType&&(z=F.length?addBrightnessToRGB(z,T.fb.v*F[0]):addBrightnessToRGB(z,T.fb.v*F))}}for(M=0;M<D;M+=1)(T=k[M].a).p.propType&&(F=k[M].s.getMult(S[n].anIndexes[M],E.a[M].s.totalChars),this._hasMaskedPath?F.length?x.translate(0,T.p.v[1]*F[0],-T.p.v[2]*F[1]):x.translate(0,T.p.v[1]*F,-T.p.v[2]*F):F.length?x.translate(T.p.v[0]*F[0],T.p.v[1]*F[1],-T.p.v[2]*F[2]):x.translate(T.p.v[0]*F,T.p.v[1]*F,-T.p.v[2]*F));if(t.strokeWidthAnim&&(H=V<0?0:V),t.strokeColorAnim&&(q="rgb("+Math.round(255*G[0])+","+Math.round(255*G[1])+","+Math.round(255*G[2])+")"),t.fillColorAnim&&t.fc&&(K="rgb("+Math.round(255*z[0])+","+Math.round(255*z[1])+","+Math.round(255*z[2])+")"),this._hasMaskedPath){if(x.translate(0,-t.ls),x.translate(0,A[1]*O*.01+s,0),this._pathData.p.v){v=(l.point[1]-p.point[1])/(l.point[0]-p.point[0]);var lt=180*Math.atan(v)/Math.PI;l.point[0]<p.point[0]&&(lt+=180),x.rotate(-lt*Math.PI/180)}x.translate(L,U,0),o-=A[0]*S[n].an*.005,S[n+1]&&J!==S[n+1].ind&&(o+=S[n].an/2,o+=.001*t.tr*t.finalSize)}else{switch(x.translate(r,s,0),t.ps&&x.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:x.translate(S[n].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[S[n].line]),0,0);break;case 2:x.translate(S[n].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[S[n].line])/2,0,0)}x.translate(0,-t.ls),x.translate(R,0,0),x.translate(A[0]*S[n].an*.005,A[1]*O*.01,0),r+=S[n].l+.001*t.tr*t.finalSize}"html"===P?tt=x.toCSS():"svg"===P?tt=x.to2dCSS():et=[x.props[0],x.props[1],x.props[2],x.props[3],x.props[4],x.props[5],x.props[6],x.props[7],x.props[8],x.props[9],x.props[10],x.props[11],x.props[12],x.props[13],x.props[14],x.props[15]],W=j}C<=n?(B=new LetterProps(W,H,q,K,tt,et),this.renderedLetters.push(B),C+=1,this.lettersChangedFlag=!0):(B=this.renderedLetters[n],this.lettersChangedFlag=B.update(W,H,q,K,tt,et)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(t,e,r){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,e,r),this.textProperty=new TextProperty(this,t.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(t.t,this.renderType,this),this.initTransform(t,e,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)},ITextElement.prototype.createPathShape=function(t,e){var r,s,n=e.length,i="";for(r=0;r<n;r+=1)"sh"===e[r].ty&&(s=e[r].ks.k,i+=buildShapeString(s,s.i.length,!0,t));return i},ITextElement.prototype.updateDocumentData=function(t,e){this.textProperty.updateDocumentData(t,e)},ITextElement.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},ITextElement.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},ITextElement.prototype.applyTextPropertiesToMatrix=function(t,e,r,s,n){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+t.ascent,0),e.translate(0,-t.ls,0),t.j){case 1:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[r]),0,0);break;case 2:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[r])/2,0,0)}e.translate(s,n,0)},ITextElement.prototype.buildColor=function(t){return"rgb("+Math.round(255*t[0])+","+Math.round(255*t[1])+","+Math.round(255*t[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(t,e,r){this.textSpans=[],this.renderType="svg",this.initElement(t,e,r)}function ISolidElement(t,e,r){this.initElement(t,e,r)}function NullElement(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initFrame(),this.initTransform(t,e,r),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(t,e,r){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function SVGRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var r="";if(e&&e.title){var s=createNS("title"),n=createElementID();s.setAttribute("id",n),s.textContent=e.title,this.svgElement.appendChild(s),r+=n}if(e&&e.description){var i=createNS("desc"),a=createElementID();i.setAttribute("id",a),i.textContent=e.description,this.svgElement.appendChild(i),r+=" "+a}r&&this.svgElement.setAttribute("aria-labelledby",r);var o=createNS("defs");this.svgElement.appendChild(o);var l=createNS("g");this.svgElement.appendChild(l),this.layerElement=l,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!(e&&!1===e.hideOnTransparent),viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||"",id:e&&e.id||"",focusable:e&&e.focusable,filterSize:{width:e&&e.filterSize&&e.filterSize.width||"100%",height:e&&e.filterSize&&e.filterSize.height||"100%",x:e&&e.filterSize&&e.filterSize.x||"0%",y:e&&e.filterSize&&e.filterSize.y||"0%"},width:e&&e.width,height:e&&e.height,runExpressions:!e||void 0===e.runExpressions||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:o,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(t){for(var e=0,r=t.length,s=[],n="";e<r;)t[e]===String.fromCharCode(13)||t[e]===String.fromCharCode(3)?(s.push(n),n=""):n+=t[e],e+=1;return s.push(n),s},SVGTextLottieElement.prototype.buildShapeData=function(t,e){if(t.shapes&&t.shapes.length){var r=t.shapes[0];if(r.it){var s=r.it[r.it.length-1];s.s&&(s.s.k[0]=e,s.s.k[1]=e)}}return t},SVGTextLottieElement.prototype.buildNewText=function(){var t,e;this.addDynamicProperty(this);var r=this.textProperty.currentData;this.renderedLetters=createSizedArray(r?r.l.length:0),r.fc?this.layerElement.setAttribute("fill",this.buildColor(r.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),r.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(r.sc)),this.layerElement.setAttribute("stroke-width",r.sw)),this.layerElement.setAttribute("font-size",r.finalSize);var s=this.globalData.fontManager.getFontByName(r.f);if(s.fClass)this.layerElement.setAttribute("class",s.fClass);else{this.layerElement.setAttribute("font-family",s.fFamily);var n=r.fWeight,i=r.fStyle;this.layerElement.setAttribute("font-style",i),this.layerElement.setAttribute("font-weight",n)}this.layerElement.setAttribute("aria-label",r.t);var a,o=r.l||[],l=!!this.globalData.fontManager.chars;e=o.length;var c=this.mHelper,h=this.data.singleShape,u=0,d=0,p=!0,f=.001*r.tr*r.finalSize;if(!h||l||r.sz){var m,g=this.textSpans.length;for(t=0;t<e;t+=1){if(this.textSpans[t]||(this.textSpans[t]={span:null,childSpan:null,glyph:null}),!l||!h||0===t){if(a=g>t?this.textSpans[t].span:createNS(l?"g":"text"),g<=t){if(a.setAttribute("stroke-linecap","butt"),a.setAttribute("stroke-linejoin","round"),a.setAttribute("stroke-miterlimit","4"),this.textSpans[t].span=a,l){var y=createNS("g");a.appendChild(y),this.textSpans[t].childSpan=y}this.textSpans[t].span=a,this.layerElement.appendChild(a)}a.style.display="inherit"}if(c.reset(),h&&(o[t].n&&(u=-f,d+=r.yOffset,d+=p?1:0,p=!1),this.applyTextPropertiesToMatrix(r,c,o[t].line,u,d),u+=o[t].l||0,u+=f),l){var b;if(1===(m=this.globalData.fontManager.getCharData(r.finalText[t],s.fStyle,this.globalData.fontManager.getFontByName(r.f).fFamily)).t)b=new SVGCompElement(m.data,this.globalData,this);else{var v=emptyShapeData;m.data&&m.data.shapes&&(v=this.buildShapeData(m.data,r.finalSize)),b=new SVGShapeElement(v,this.globalData,this)}if(this.textSpans[t].glyph){var w=this.textSpans[t].glyph;this.textSpans[t].childSpan.removeChild(w.layerElement),w.destroy()}this.textSpans[t].glyph=b,b._debug=!0,b.prepareFrame(0),b.renderFrame(),this.textSpans[t].childSpan.appendChild(b.layerElement),1===m.t&&this.textSpans[t].childSpan.setAttribute("transform","scale("+r.finalSize/100+","+r.finalSize/100+")")}else h&&a.setAttribute("transform","translate("+c.props[12]+","+c.props[13]+")"),a.textContent=o[t].val,a.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}h&&a&&a.setAttribute("d","")}else{var A=this.textContainer,k="start";switch(r.j){case 1:k="end";break;case 2:k="middle";break;default:k="start"}A.setAttribute("text-anchor",k),A.setAttribute("letter-spacing",f);var E=this.buildTextContents(r.finalText);for(e=E.length,d=r.ps?r.ps[1]+r.ascent:0,t=0;t<e;t+=1)(a=this.textSpans[t].span||createNS("tspan")).textContent=E[t],a.setAttribute("x",0),a.setAttribute("y",d),a.style.display="inherit",A.appendChild(a),this.textSpans[t]||(this.textSpans[t]={span:null,glyph:null}),this.textSpans[t].span=a,d+=r.finalLineHeight;this.layerElement.appendChild(A)}for(;t<this.textSpans.length;)this.textSpans[t].span.style.display="none",t+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var t=this.layerElement.getBBox();this.bbox={top:t.y,left:t.x,width:t.width,height:t.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var t,e,r=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,t=0;t<r;t+=1)(e=this.textSpans[t].glyph)&&(e.prepareFrame(this.comp.renderedFrame-this.data.st),e._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var t,e;this._sizeChanged=!0;var r,s,n,i=this.textAnimator.renderedLetters,a=this.textProperty.currentData.l;for(e=a.length,t=0;t<e;t+=1)a[t].n||(r=i[t],s=this.textSpans[t].span,(n=this.textSpans[t].glyph)&&n.renderFrame(),r._mdf.m&&s.setAttribute("transform",r.m),r._mdf.o&&s.setAttribute("opacity",r.o),r._mdf.sw&&s.setAttribute("stroke-width",r.sw),r._mdf.sc&&s.setAttribute("stroke",r.sc),r._mdf.fc&&s.setAttribute("fill",r.fc))}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var t=createNS("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)},NullElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(t){return new NullElement(t,this.globalData,this)},SVGRendererBase.prototype.createShape=function(t){return new SVGShapeElement(t,this.globalData,this)},SVGRendererBase.prototype.createText=function(t){return new SVGTextLottieElement(t,this.globalData,this)},SVGRendererBase.prototype.createImage=function(t){return new IImageElement(t,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(t){return new ISolidElement(t,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(t){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",t.w),this.svgElement.setAttribute("height",t.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(t,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var r=createNS("clipPath"),s=createNS("rect");s.setAttribute("width",t.w),s.setAttribute("height",t.h),s.setAttribute("x",0),s.setAttribute("y",0);var n=createElementID();r.setAttribute("id",n),r.appendChild(s),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+n+")"),e.appendChild(r),this.layers=t.layers,this.elements=createSizedArray(t.layers.length)},SVGRendererBase.prototype.destroy=function(){var t;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(t){var e=0,r=this.layers.length;for(e=0;e<r;e+=1)if(this.layers[e].ind===t)return e;return-1},SVGRendererBase.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!==this.layers[t].ty){e[t]=!0;var r=this.createItem(this.layers[t]);if(e[t]=r,getExpressionsPlugin()&&(0===this.layers[t].ty&&this.globalData.projectInterface.registerComposition(r),r.initExpressions()),this.appendElementInPos(r,t),this.layers[t].tt){var s="tp"in this.layers[t]?this.findIndexByInd(this.layers[t].tp):t-1;if(-1===s)return;if(this.elements[s]&&!0!==this.elements[s]){var n=e[s].getMatte(this.layers[t].tt);r.setMatte(n)}else this.buildItem(s),this.addPendingElement(r)}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var e=0,r=this.elements.length;e<r;){if(this.elements[e]===t){var s="tp"in t.data?this.findIndexByInd(t.data.tp):e-1,n=this.elements[s].getMatte(this.layers[e].tt);t.setMatte(n);break}e+=1}}},SVGRendererBase.prototype.renderFrame=function(t){if(this.renderedFrame!==t&&!this.destroyed){var e;null===t?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var r=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=r-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<r;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(t,e){var r=t.getBaseElement();if(r){for(var s,n=0;n<e;)this.elements[n]&&!0!==this.elements[n]&&this.elements[n].getBaseElement()&&(s=this.elements[n].getBaseElement()),n+=1;s?this.layerElement.insertBefore(r,s):this.layerElement.appendChild(r)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initTransform(t,e,r),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&e.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=t/this.data.sr;else{var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}var r,s=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),r=s-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&(this.elements[r].prepareFrame(this.renderedFrame-this.layers[r].st),this.elements[r]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)},ShapeTransformManager.prototype={addTransformSequence:function(t){var e,r=t.length,s="_";for(e=0;e<r;e+=1)s+=t[e].transform.key+"_";var n=this.sequences[s];return n||(n={transforms:[].concat(t),finalTransform:new Matrix,_mdf:!1},this.sequences[s]=n,this.sequenceList.push(n)),n},processSequence:function(t,e){for(var r=0,s=t.transforms.length,n=e;r<s&&!e;){if(t.transforms[r].transform.mProps._mdf){n=!0;break}r+=1}if(n)for(t.finalTransform.reset(),r=s-1;r>=0;r-=1)t.finalTransform.multiply(t.transforms[r].transform.mProps.v);t._mdf=n},processSequences:function(t){var e,r=this.sequenceList.length;for(e=0;e<r;e+=1)this.processSequence(this.sequenceList[e],t)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var t="__lottie_element_luma_buffer",e=null,r=null,s=null;function n(){var n,i,a;e||(n=createNS("svg"),i=createNS("filter"),a=createNS("feColorMatrix"),i.setAttribute("id",t),a.setAttribute("type","matrix"),a.setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),i.appendChild(a),n.appendChild(i),n.setAttribute("id",t+"_svg"),featureSupport.svgLumaHidden&&(n.style.display="none"),s=n,document.body.appendChild(s),e=createTag("canvas"),(r=e.getContext("2d")).filter="url(#"+t+")",r.fillStyle="rgba(0,0,0,0)",r.fillRect(0,0,1,1))}return{load:n,get:function(s){return e||n(),e.width=s.width,e.height=s.height,r.filter="url(#"+t+")",e}}};function createCanvas(t,e){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(t,e);var r=createTag("canvas");return r.width=t,r.height=e,r}var assetLoader={loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas},registeredEffects={};function CVEffects(t){var e,r,s=t.data.ef?t.data.ef.length:0;for(this.filters=[],e=0;e<s;e+=1){r=null;var n=t.data.ef[e].ty;registeredEffects[n]&&(r=new(0,registeredEffects[n].effect)(t.effectsManager.effectElements[e],t)),r&&this.filters.push(r)}this.filters.length&&t.addRenderableComponent(this)}function registerEffect(t,e){registeredEffects[t]={effect:e}}function CVMaskElement(t,e){var r;this.data=t,this.element=e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var s=this.masksProperties.length,n=!1;for(r=0;r<s;r+=1)"n"!==this.masksProperties[r].mode&&(n=!0),this.viewData[r]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[r],3);this.hasMasks=n,n&&this.element.addRenderableComponent(this)}function CVBaseElement(){}CVEffects.prototype.renderFrame=function(t){var e,r=this.filters.length;for(e=0;e<r;e+=1)this.filters[e].renderFrame(t)},CVEffects.prototype.getEffects=function(t){var e,r=this.filters.length,s=[];for(e=0;e<r;e+=1)this.filters[e].type===t&&s.push(this.filters[e]);return s},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var t,e,r,s,n=this.element.finalTransform.mat,i=this.element.canvasContext,a=this.masksProperties.length;for(i.beginPath(),t=0;t<a;t+=1)if("n"!==this.masksProperties[t].mode){var o;this.masksProperties[t].inv&&(i.moveTo(0,0),i.lineTo(this.element.globalData.compSize.w,0),i.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),i.lineTo(0,this.element.globalData.compSize.h),i.lineTo(0,0)),s=this.viewData[t].v,e=n.applyToPointArray(s.v[0][0],s.v[0][1],0),i.moveTo(e[0],e[1]);var l=s._length;for(o=1;o<l;o+=1)r=n.applyToTriplePoints(s.o[o-1],s.i[o],s.v[o]),i.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);r=n.applyToTriplePoints(s.o[o-1],s.i[0],s.v[0]),i.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5])}this.element.globalData.renderer.save(!0),i.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};function CVShapeData(t,e,r,s){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var n,i=4;"rc"===e.ty?i=5:"el"===e.ty?i=6:"sr"===e.ty&&(i=7),this.sh=ShapePropertyFactory.getShapeProp(t,e,i,t);var a,o=r.length;for(n=0;n<o;n+=1)r[n].closed||(a={transforms:s.addTransformSequence(r[n].transforms),trNodes:[]},this.styledShapes.push(a),r[n].elements.push(a))}function CVShapeElement(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(t,e,r)}function CVTextElement(t,e,r){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(t,e,r)}function CVImageElement(t,e,r){this.assetData=e.getAssetData(t.refId),this.img=e.imageLoader.getAsset(this.assetData),this.initElement(t,e,r)}function CVSolidElement(t,e,r){this.initElement(t,e,r)}function CanvasRendererBase(){}function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){var t;for(this.stack=[],this.cArrPos=0,this.cTr=new Matrix,t=0;t<15;t+=1){var e=new CanvasContext;this.stack[t]=e}this._length=15,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}function CVCompElement(t,e,r){this.completeLayers=!1,this.layers=t.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(t,e,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function CanvasRenderer(t,e){this.animationItem=t,this.renderConfig={clearCanvas:!e||void 0===e.clearCanvas||e.clearCanvas,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",className:e&&e.className||"",id:e&&e.id||"",runExpressions:!e||void 0===e.runExpressions||e.runExpressions},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}function HBaseElement(){}function HSolidElement(t,e,r){this.initElement(t,e,r)}function HShapeElement(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(t,e,r),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(t,e,r){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(t,e,r)}function HCameraElement(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initHierarchy();var s=PropertyFactory.getProp;if(this.pe=s(this,t.pe,0,0,this),t.ks.p.s?(this.px=s(this,t.ks.p.x,1,0,this),this.py=s(this,t.ks.p.y,1,0,this),this.pz=s(this,t.ks.p.z,1,0,this)):this.p=s(this,t.ks.p,1,0,this),t.ks.a&&(this.a=s(this,t.ks.a,1,0,this)),t.ks.or.k.length&&t.ks.or.k[0].to){var n,i=t.ks.or.k.length;for(n=0;n<i;n+=1)t.ks.or.k[n].to=null,t.ks.or.k[n].ti=null}this.or=s(this,t.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=s(this,t.ks.rx,0,degToRads,this),this.ry=s(this,t.ks.ry,0,degToRads,this),this.rz=s(this,t.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HImageElement(t,e,r){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,r)}function HybridRendererBase(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&!1===e.hideOnTransparent),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function HCompElement(t,e,r){this.layers=t.layers,this.supports3d=!t.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function HybridRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&!1===e.hideOnTransparent),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"},runExpressions:!e||void 0===e.runExpressions||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var t=this.globalData.canvasContext,e=assetLoader.createCanvas(t.canvas.width,t.canvas.height);this.buffers.push(e);var r=assetLoader.createCanvas(t.canvas.width,t.canvas.height);this.buffers.push(r),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var t=this.globalData;if(t.blendMode!==this.data.bm){t.blendMode=this.data.bm;var e=getBlendMode(this.data.bm);t.canvasContext.globalCompositeOperation=e}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(t){t.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var t=this.buffers[0].getContext("2d");this.clearCanvas(t),t.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var t=this.buffers[1],e=t.getContext("2d");if(this.clearCanvas(e),e.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform),this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1).renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var r=assetLoader.getLumaCanvas(this.canvasContext.canvas);r.getContext("2d").drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(r,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(t,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(t){if(!this.hidden&&!this.data.hd&&(1!==this.data.td||t)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var e=0===this.data.ty;this.prepareLayer(),this.globalData.renderer.save(e),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(e),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(t,e){var r={data:t,type:t.ty,preTransforms:this.transformsManager.addTransformSequence(e),transforms:[],elements:[],closed:!0===t.hd},s={};if("fl"===t.ty||"st"===t.ty?(s.c=PropertyFactory.getProp(this,t.c,1,255,this),s.c.k||(r.co="rgb("+bmFloor(s.c.v[0])+","+bmFloor(s.c.v[1])+","+bmFloor(s.c.v[2])+")")):"gf"!==t.ty&&"gs"!==t.ty||(s.s=PropertyFactory.getProp(this,t.s,1,null,this),s.e=PropertyFactory.getProp(this,t.e,1,null,this),s.h=PropertyFactory.getProp(this,t.h||{k:0},0,.01,this),s.a=PropertyFactory.getProp(this,t.a||{k:0},0,degToRads,this),s.g=new GradientProperty(this,t.g,this)),s.o=PropertyFactory.getProp(this,t.o,0,.01,this),"st"===t.ty||"gs"===t.ty){if(r.lc=lineCapEnum[t.lc||2],r.lj=lineJoinEnum[t.lj||2],1==t.lj&&(r.ml=t.ml),s.w=PropertyFactory.getProp(this,t.w,0,null,this),s.w.k||(r.wi=s.w.v),t.d){var n=new DashProperty(this,t.d,"canvas",this);s.d=n,s.d.k||(r.da=s.d.dashArray,r.do=s.d.dashoffset[0])}}else r.r=2===t.r?"evenodd":"nonzero";return this.stylesList.push(r),s.style=r,s},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(t){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,t.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,t,this)}}},CVShapeElement.prototype.createShapeElement=function(t){var e=new CVShapeData(this,t,this.stylesList,this.transformsManager);return this.shapes.push(e),this.addShapeToModifiers(e),e},CVShapeElement.prototype.reloadShapes=function(){var t;this._isFirstFrame=!0;var e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(t){var e,r=this.stylesList.length;for(e=0;e<r;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.push(t)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.pop()},CVShapeElement.prototype.closeStyles=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e].closed=!0},CVShapeElement.prototype.searchShapes=function(t,e,r,s,n){var i,a,o,l,c,h,u=t.length-1,d=[],p=[],f=[].concat(n);for(i=u;i>=0;i-=1){if((l=this.searchProcessedElement(t[i]))?e[i]=r[l-1]:t[i]._shouldRender=s,"fl"===t[i].ty||"st"===t[i].ty||"gf"===t[i].ty||"gs"===t[i].ty)l?e[i].style.closed=!1:e[i]=this.createStyleElement(t[i],f),d.push(e[i].style);else if("gr"===t[i].ty){if(l)for(o=e[i].it.length,a=0;a<o;a+=1)e[i].prevViewData[a]=e[i].it[a];else e[i]=this.createGroupElement(t[i]);this.searchShapes(t[i].it,e[i].it,e[i].prevViewData,s,f)}else"tr"===t[i].ty?(l||(h=this.createTransformElement(t[i]),e[i]=h),f.push(e[i]),this.addTransformToStyleList(e[i])):"sh"===t[i].ty||"rc"===t[i].ty||"el"===t[i].ty||"sr"===t[i].ty?l||(e[i]=this.createShapeElement(t[i])):"tm"===t[i].ty||"rd"===t[i].ty||"pb"===t[i].ty||"zz"===t[i].ty||"op"===t[i].ty?(l?(c=e[i]).closed=!1:((c=ShapeModifiers.getModifier(t[i].ty)).init(this,t[i]),e[i]=c,this.shapeModifiers.push(c)),p.push(c)):"rp"===t[i].ty&&(l?(c=e[i]).closed=!0:(c=ShapeModifiers.getModifier(t[i].ty),e[i]=c,c.init(this,t,i,e),this.shapeModifiers.push(c),s=!1),p.push(c));this.addProcessedElement(t[i],i+1)}for(this.removeTransformFromStyleList(),this.closeStyles(d),u=p.length,i=0;i<u;i+=1)p[i].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(t,e){(t._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=t.opacity,e.opacity*=e.op.v,e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var t,e,r,s,n,i,a,o,l,c=this.stylesList.length,h=this.globalData.renderer,u=this.globalData.canvasContext;for(t=0;t<c;t+=1)if(("st"!==(o=(l=this.stylesList[t]).type)&&"gs"!==o||0!==l.wi)&&l.data._shouldRender&&0!==l.coOp&&0!==this.globalData.currentGlobalAlpha){for(h.save(),i=l.elements,"st"===o||"gs"===o?(h.ctxStrokeStyle("st"===o?l.co:l.grd),h.ctxLineWidth(l.wi),h.ctxLineCap(l.lc),h.ctxLineJoin(l.lj),h.ctxMiterLimit(l.ml||0)):h.ctxFillStyle("fl"===o?l.co:l.grd),h.ctxOpacity(l.coOp),"st"!==o&&"gs"!==o&&u.beginPath(),h.ctxTransform(l.preTransforms.finalTransform.props),r=i.length,e=0;e<r;e+=1){for("st"!==o&&"gs"!==o||(u.beginPath(),l.da&&(u.setLineDash(l.da),u.lineDashOffset=l.do)),n=(a=i[e].trNodes).length,s=0;s<n;s+=1)"m"===a[s].t?u.moveTo(a[s].p[0],a[s].p[1]):"c"===a[s].t?u.bezierCurveTo(a[s].pts[0],a[s].pts[1],a[s].pts[2],a[s].pts[3],a[s].pts[4],a[s].pts[5]):u.closePath();"st"!==o&&"gs"!==o||(h.ctxStroke(),l.da&&u.setLineDash(this.dashResetter))}"st"!==o&&"gs"!==o&&this.globalData.renderer.ctxFill(l.r),h.restore()}},CVShapeElement.prototype.renderShape=function(t,e,r,s){var n,i;for(i=t,n=e.length-1;n>=0;n-=1)"tr"===e[n].ty?(i=r[n].transform,this.renderShapeTransform(t,i)):"sh"===e[n].ty||"el"===e[n].ty||"rc"===e[n].ty||"sr"===e[n].ty?this.renderPath(e[n],r[n]):"fl"===e[n].ty?this.renderFill(e[n],r[n],i):"st"===e[n].ty?this.renderStroke(e[n],r[n],i):"gf"===e[n].ty||"gs"===e[n].ty?this.renderGradientFill(e[n],r[n],i):"gr"===e[n].ty?this.renderShape(i,e[n].it,r[n].it):e[n].ty;s&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(t,e){if(this._isFirstFrame||e._mdf||t.transforms._mdf){var r,s,n,i=t.trNodes,a=e.paths,o=a._length;i.length=0;var l=t.transforms.finalTransform;for(n=0;n<o;n+=1){var c=a.shapes[n];if(c&&c.v){for(s=c._length,r=1;r<s;r+=1)1===r&&i.push({t:"m",p:l.applyToPointArray(c.v[0][0],c.v[0][1],0)}),i.push({t:"c",pts:l.applyToTriplePoints(c.o[r-1],c.i[r],c.v[r])});1===s&&i.push({t:"m",p:l.applyToPointArray(c.v[0][0],c.v[0][1],0)}),c.c&&s&&(i.push({t:"c",pts:l.applyToTriplePoints(c.o[r-1],c.i[0],c.v[0])}),i.push({t:"z"}))}}t.trNodes=i}},CVShapeElement.prototype.renderPath=function(t,e){if(!0!==t.hd&&t._shouldRender){var r,s=e.styledShapes.length;for(r=0;r<s;r+=1)this.renderStyledShape(e.styledShapes[r],e.sh)}},CVShapeElement.prototype.renderFill=function(t,e,r){var s=e.style;(e.c._mdf||this._isFirstFrame)&&(s.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||r._opMdf||this._isFirstFrame)&&(s.coOp=e.o.v*r.opacity)},CVShapeElement.prototype.renderGradientFill=function(t,e,r){var s,n=e.style;if(!n.grd||e.g._mdf||e.s._mdf||e.e._mdf||1!==t.t&&(e.h._mdf||e.a._mdf)){var i,a=this.globalData.canvasContext,o=e.s.v,l=e.e.v;if(1===t.t)s=a.createLinearGradient(o[0],o[1],l[0],l[1]);else{var c=Math.sqrt(Math.pow(o[0]-l[0],2)+Math.pow(o[1]-l[1],2)),h=Math.atan2(l[1]-o[1],l[0]-o[0]),u=e.h.v;u>=1?u=.99:u<=-1&&(u=-.99);var d=c*u,p=Math.cos(h+e.a.v)*d+o[0],f=Math.sin(h+e.a.v)*d+o[1];s=a.createRadialGradient(p,f,0,o[0],o[1],c)}var m=t.g.p,g=e.g.c,y=1;for(i=0;i<m;i+=1)e.g._hasOpacity&&e.g._collapsable&&(y=e.g.o[2*i+1]),s.addColorStop(g[4*i]/100,"rgba("+g[4*i+1]+","+g[4*i+2]+","+g[4*i+3]+","+y+")");n.grd=s}n.coOp=e.o.v*r.opacity},CVShapeElement.prototype.renderStroke=function(t,e,r){var s=e.style,n=e.d;n&&(n._mdf||this._isFirstFrame)&&(s.da=n.dashArray,s.do=n.dashoffset[0]),(e.c._mdf||this._isFirstFrame)&&(s.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||r._opMdf||this._isFirstFrame)&&(s.coOp=e.o.v*r.opacity),(e.w._mdf||this._isFirstFrame)&&(s.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=!1;t.fc?(e=!0,this.values.fill=this.buildColor(t.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;var r=!1;t.sc&&(r=!0,this.values.stroke=this.buildColor(t.sc),this.values.sWidth=t.sw);var s,n,i,a,o,l,c,h,u,d,p,f,m=this.globalData.fontManager.getFontByName(t.f),g=t.l,y=this.mHelper;this.stroke=r,this.values.fValue=t.finalSize+"px "+this.globalData.fontManager.getFontByName(t.f).fFamily,n=t.finalText.length;var b=this.data.singleShape,v=.001*t.tr*t.finalSize,w=0,A=0,k=!0,E=0;for(s=0;s<n;s+=1){a=(i=this.globalData.fontManager.getCharData(t.finalText[s],m.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily))&&i.data||{},y.reset(),b&&g[s].n&&(w=-v,A+=t.yOffset,A+=k?1:0,k=!1),u=(c=a.shapes?a.shapes[0].it:[]).length,y.scale(t.finalSize/100,t.finalSize/100),b&&this.applyTextPropertiesToMatrix(t,y,g[s].line,w,A),p=createSizedArray(u-1);var x=0;for(h=0;h<u;h+=1)if("sh"===c[h].ty){for(l=c[h].ks.k.i.length,d=c[h].ks.k,f=[],o=1;o<l;o+=1)1===o&&f.push(y.applyToX(d.v[0][0],d.v[0][1],0),y.applyToY(d.v[0][0],d.v[0][1],0)),f.push(y.applyToX(d.o[o-1][0],d.o[o-1][1],0),y.applyToY(d.o[o-1][0],d.o[o-1][1],0),y.applyToX(d.i[o][0],d.i[o][1],0),y.applyToY(d.i[o][0],d.i[o][1],0),y.applyToX(d.v[o][0],d.v[o][1],0),y.applyToY(d.v[o][0],d.v[o][1],0));f.push(y.applyToX(d.o[o-1][0],d.o[o-1][1],0),y.applyToY(d.o[o-1][0],d.o[o-1][1],0),y.applyToX(d.i[0][0],d.i[0][1],0),y.applyToY(d.i[0][0],d.i[0][1],0),y.applyToX(d.v[0][0],d.v[0][1],0),y.applyToY(d.v[0][0],d.v[0][1],0)),p[x]=f,x+=1}b&&(w+=g[s].l,w+=v),this.textSpans[E]?this.textSpans[E].elem=p:this.textSpans[E]={elem:p},E+=1}},CVTextElement.prototype.renderInnerContent=function(){var t,e,r,s,n,i;this.validateText(),this.canvasContext.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var a,o=this.textAnimator.renderedLetters,l=this.textProperty.currentData.l;e=l.length;var c,h,u=null,d=null,p=null,f=this.globalData.renderer;for(t=0;t<e;t+=1)if(!l[t].n){if((a=o[t])&&(f.save(),f.ctxTransform(a.p),f.ctxOpacity(a.o)),this.fill){for(a&&a.fc?u!==a.fc&&(f.ctxFillStyle(a.fc),u=a.fc):u!==this.values.fill&&(u=this.values.fill,f.ctxFillStyle(this.values.fill)),s=(c=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<s;r+=1)for(i=(h=c[r]).length,this.globalData.canvasContext.moveTo(h[0],h[1]),n=2;n<i;n+=6)this.globalData.canvasContext.bezierCurveTo(h[n],h[n+1],h[n+2],h[n+3],h[n+4],h[n+5]);this.globalData.canvasContext.closePath(),f.ctxFill()}if(this.stroke){for(a&&a.sw?p!==a.sw&&(p=a.sw,f.ctxLineWidth(a.sw)):p!==this.values.sWidth&&(p=this.values.sWidth,f.ctxLineWidth(this.values.sWidth)),a&&a.sc?d!==a.sc&&(d=a.sc,f.ctxStrokeStyle(a.sc)):d!==this.values.stroke&&(d=this.values.stroke,f.ctxStrokeStyle(this.values.stroke)),s=(c=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<s;r+=1)for(i=(h=c[r]).length,this.globalData.canvasContext.moveTo(h[0],h[1]),n=2;n<i;n+=6)this.globalData.canvasContext.bezierCurveTo(h[n],h[n+1],h[n+2],h[n+3],h[n+4],h[n+5]);this.globalData.canvasContext.closePath(),f.ctxStroke()}a&&this.globalData.renderer.restore()}},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var t=createTag("canvas");t.width=this.assetData.w,t.height=this.assetData.h;var e,r,s=t.getContext("2d"),n=this.img.width,i=this.img.height,a=n/i,o=this.assetData.w/this.assetData.h,l=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;a>o&&"xMidYMid slice"===l||a<o&&"xMidYMid slice"!==l?e=(r=i)*o:r=(e=n)/o,s.drawImage(this.img,(n-e)/2,(i-r)/2,e,r,0,0,this.assetData.w,this.assetData.h),this.img=t}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(t){return new CVShapeElement(t,this.globalData,this)},CanvasRendererBase.prototype.createText=function(t){return new CVTextElement(t,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(t){return new CVImageElement(t,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(t){return new CVSolidElement(t,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(t){1===t[0]&&0===t[1]&&0===t[4]&&1===t[5]&&0===t[12]&&0===t[13]||this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13])},CanvasRendererBase.prototype.ctxOpacity=function(t){this.canvasContext.globalAlpha*=t<0?0:t},CanvasRendererBase.prototype.ctxFillStyle=function(t){this.canvasContext.fillStyle=t},CanvasRendererBase.prototype.ctxStrokeStyle=function(t){this.canvasContext.strokeStyle=t},CanvasRendererBase.prototype.ctxLineWidth=function(t){this.canvasContext.lineWidth=t},CanvasRendererBase.prototype.ctxLineCap=function(t){this.canvasContext.lineCap=t},CanvasRendererBase.prototype.ctxLineJoin=function(t){this.canvasContext.lineJoin=t},CanvasRendererBase.prototype.ctxMiterLimit=function(t){this.canvasContext.miterLimit=t},CanvasRendererBase.prototype.ctxFill=function(t){this.canvasContext.fill(t)},CanvasRendererBase.prototype.ctxFillRect=function(t,e,r,s){this.canvasContext.fillRect(t,e,r,s)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(t){this.renderConfig.clearCanvas?(t&&(this.globalData.blendMode="source-over"),this.contextData.restore(t)):this.canvasContext.restore()},CanvasRendererBase.prototype.configAnimation=function(t){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var e=this.animationItem.container.style;e.width="100%",e.height="100%";var r="0px 0px 0px";e.transformOrigin=r,e.mozTransformOrigin=r,e.webkitTransformOrigin=r,e["-webkit-transform"]=r,e.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=t,this.layers=t.layers,this.transformCanvas={w:t.w,h:t.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(t,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(t.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(t,e){var r,s,n,i;if(this.reset(),t?(r=t,s=e,this.canvasContext.canvas.width=r,this.canvasContext.canvas.height=s):(this.animationItem.wrapper&&this.animationItem.container?(r=this.animationItem.wrapper.offsetWidth,s=this.animationItem.wrapper.offsetHeight):(r=this.canvasContext.canvas.width,s=this.canvasContext.canvas.height),this.canvasContext.canvas.width=r*this.renderConfig.dpr,this.canvasContext.canvas.height=s*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var a=this.renderConfig.preserveAspectRatio.split(" "),o=a[1]||"meet",l=a[0]||"xMidYMid",c=l.substr(0,4),h=l.substr(4);n=r/s,(i=this.transformCanvas.w/this.transformCanvas.h)>n&&"meet"===o||i<n&&"slice"===o?(this.transformCanvas.sx=r/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=r/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=s/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=s/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===c&&(i<n&&"meet"===o||i>n&&"slice"===o)?(r-this.transformCanvas.w*(s/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===c&&(i<n&&"meet"===o||i>n&&"slice"===o)?(r-this.transformCanvas.w*(s/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===h&&(i>n&&"meet"===o||i<n&&"slice"===o)?(s-this.transformCanvas.h*(r/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===h&&(i>n&&"meet"===o||i<n&&"slice"===o)?(s-this.transformCanvas.h*(r/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"===this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=r/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=s/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){var t;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),t=(this.layers?this.layers.length:0)-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(t,e){if((this.renderedFrame!==t||!0!==this.renderConfig.clearCanvas||e)&&!this.destroyed&&-1!==t){var r;this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||e,this.globalData.projectInterface.currentFrame=t;var s=this.layers.length;for(this.completeLayers||this.checkLayers(t),r=s-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].prepareFrame(t-this.layers[r].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),r=s-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!==this.layers[t].ty){var r=this.createItem(this.layers[t],this,this.globalData);e[t]=r,r.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"},CVContextData.prototype.duplicate=function(){var t=2*this._length,e=0;for(e=this._length;e<t;e+=1)this.stack[e]=new CanvasContext;this._length=t},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(t){this.cArrPos-=1;var e,r=this.stack[this.cArrPos],s=r.transform,n=this.cTr.props;for(e=0;e<16;e+=1)n[e]=s[e];if(t){this.nativeContext.restore();var i=this.stack[this.cArrPos+1];this.appliedFillStyle=i.fillStyle,this.appliedStrokeStyle=i.strokeStyle,this.appliedLineWidth=i.lineWidth,this.appliedLineCap=i.lineCap,this.appliedLineJoin=i.lineJoin,this.appliedMiterLimit=i.miterLimit}this.nativeContext.setTransform(s[0],s[1],s[4],s[5],s[12],s[13]),(t||-1!==r.opacity&&this.currentOpacity!==r.opacity)&&(this.nativeContext.globalAlpha=r.opacity,this.currentOpacity=r.opacity),this.currentFillStyle=r.fillStyle,this.currentStrokeStyle=r.strokeStyle,this.currentLineWidth=r.lineWidth,this.currentLineCap=r.lineCap,this.currentLineJoin=r.lineJoin,this.currentMiterLimit=r.miterLimit},CVContextData.prototype.save=function(t){t&&this.nativeContext.save();var e=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var r,s=this.stack[this.cArrPos];for(r=0;r<16;r+=1)s.transform[r]=e[r];this.cArrPos+=1;var n=this.stack[this.cArrPos];n.opacity=s.opacity,n.fillStyle=s.fillStyle,n.strokeStyle=s.strokeStyle,n.lineWidth=s.lineWidth,n.lineCap=s.lineCap,n.lineJoin=s.lineJoin,n.miterLimit=s.miterLimit},CVContextData.prototype.setOpacity=function(t){this.stack[this.cArrPos].opacity=t},CVContextData.prototype.setContext=function(t){this.nativeContext=t},CVContextData.prototype.fillStyle=function(t){this.stack[this.cArrPos].fillStyle!==t&&(this.currentFillStyle=t,this.stack[this.cArrPos].fillStyle=t)},CVContextData.prototype.strokeStyle=function(t){this.stack[this.cArrPos].strokeStyle!==t&&(this.currentStrokeStyle=t,this.stack[this.cArrPos].strokeStyle=t)},CVContextData.prototype.lineWidth=function(t){this.stack[this.cArrPos].lineWidth!==t&&(this.currentLineWidth=t,this.stack[this.cArrPos].lineWidth=t)},CVContextData.prototype.lineCap=function(t){this.stack[this.cArrPos].lineCap!==t&&(this.currentLineCap=t,this.stack[this.cArrPos].lineCap=t)},CVContextData.prototype.lineJoin=function(t){this.stack[this.cArrPos].lineJoin!==t&&(this.currentLineJoin=t,this.stack[this.cArrPos].lineJoin=t)},CVContextData.prototype.miterLimit=function(t){this.stack[this.cArrPos].miterLimit!==t&&(this.currentMiterLimit=t,this.stack[this.cArrPos].miterLimit=t)},CVContextData.prototype.transform=function(t){this.transformMat.cloneFromProps(t);var e=this.cTr;this.transformMat.multiply(e),e.cloneFromProps(this.transformMat.props);var r=e.props;this.nativeContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13])},CVContextData.prototype.opacity=function(t){var e=this.stack[this.cArrPos].opacity;e*=t<0?0:t,this.stack[this.cArrPos].opacity!==e&&(this.currentOpacity!==t&&(this.nativeContext.globalAlpha=t,this.currentOpacity=t),this.stack[this.cArrPos].opacity=e)},CVContextData.prototype.fill=function(t){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(t)},CVContextData.prototype.fillRect=function(t,e,r,s){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(t,e,r,s)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()},extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var t,e=this.canvasContext;for(e.beginPath(),e.moveTo(0,0),e.lineTo(this.data.w,0),e.lineTo(this.data.w,this.data.h),e.lineTo(0,this.data.h),e.lineTo(0,0),e.clip(),t=this.layers.length-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},CVCompElement.prototype.destroy=function(){var t;for(t=this.layers.length-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)},extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){var t=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var e=this.finalTransform.mat.toCSS();t.transform=e,t.webkitTransform=e}this.finalTransform._opMdf&&(t.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var t;this.data.hasMask?((t=createNS("rect")).setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((t=createTag("div")).style.width=this.data.sw+"px",t.style.height=this.data.sh+"px",t.style.backgroundColor=this.data.sc),this.layerElement.appendChild(t)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var t;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),t=this.svgElement;else{t=createNS("svg");var e=this.comp.data?this.comp.data:this.globalData.compSize;t.setAttribute("width",e.w),t.setAttribute("height",e.h),t.appendChild(this.shapesContainer),this.layerElement.appendChild(t)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=t},HShapeElement.prototype.getTransformedPoint=function(t,e){var r,s=t.length;for(r=0;r<s;r+=1)e=t[r].mProps.v.applyToPointArray(e[0],e[1],0);return e},HShapeElement.prototype.calculateShapeBoundingBox=function(t,e){var r,s,n,i,a,o=t.sh.v,l=t.transformers,c=o._length;if(!(c<=1)){for(r=0;r<c-1;r+=1)s=this.getTransformedPoint(l,o.v[r]),n=this.getTransformedPoint(l,o.o[r]),i=this.getTransformedPoint(l,o.i[r+1]),a=this.getTransformedPoint(l,o.v[r+1]),this.checkBounds(s,n,i,a,e);o.c&&(s=this.getTransformedPoint(l,o.v[r]),n=this.getTransformedPoint(l,o.o[r]),i=this.getTransformedPoint(l,o.i[0]),a=this.getTransformedPoint(l,o.v[0]),this.checkBounds(s,n,i,a,e))}},HShapeElement.prototype.checkBounds=function(t,e,r,s,n){this.getBoundsOfCurve(t,e,r,s);var i=this.shapeBoundingBox;n.x=bmMin(i.left,n.x),n.xMax=bmMax(i.right,n.xMax),n.y=bmMin(i.top,n.y),n.yMax=bmMax(i.bottom,n.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(t,e,r,s){for(var n,i,a,o,l,c,h,u=[[t[0],s[0]],[t[1],s[1]]],d=0;d<2;++d)i=6*t[d]-12*e[d]+6*r[d],n=-3*t[d]+9*e[d]-9*r[d]+3*s[d],a=3*e[d]-3*t[d],i|=0,a|=0,0==(n|=0)&&0===i||(0===n?(o=-a/i)>0&&o<1&&u[d].push(this.calculateF(o,t,e,r,s,d)):(l=i*i-4*a*n)>=0&&((c=(-i+bmSqrt(l))/(2*n))>0&&c<1&&u[d].push(this.calculateF(c,t,e,r,s,d)),(h=(-i-bmSqrt(l))/(2*n))>0&&h<1&&u[d].push(this.calculateF(h,t,e,r,s,d))));this.shapeBoundingBox.left=bmMin.apply(null,u[0]),this.shapeBoundingBox.top=bmMin.apply(null,u[1]),this.shapeBoundingBox.right=bmMax.apply(null,u[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,u[1])},HShapeElement.prototype.calculateF=function(t,e,r,s,n,i){return bmPow(1-t,3)*e[i]+3*bmPow(1-t,2)*t*r[i]+3*(1-t)*bmPow(t,2)*s[i]+bmPow(t,3)*n[i]},HShapeElement.prototype.calculateBoundingBox=function(t,e){var r,s=t.length;for(r=0;r<s;r+=1)t[r]&&t[r].sh?this.calculateShapeBoundingBox(t[r],e):t[r]&&t[r].it?this.calculateBoundingBox(t[r].it,e):t[r]&&t[r].style&&t[r].w&&this.expandStrokeBoundingBox(t[r].w,e)},HShapeElement.prototype.expandStrokeBoundingBox=function(t,e){var r=0;if(t.keyframes){for(var s=0;s<t.keyframes.length;s+=1){var n=t.keyframes[s].s;n>r&&(r=n)}r*=t.mult}else r=t.v*t.mult;e.x-=r,e.xMax+=r,e.y-=r,e.yMax+=r},HShapeElement.prototype.currentBoxContains=function(t){return this.currentBBox.x<=t.x&&this.currentBBox.y<=t.y&&this.currentBBox.width+this.currentBBox.x>=t.x+t.width&&this.currentBBox.height+this.currentBBox.y>=t.y+t.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var t=this.tempBoundingBox,e=999999;if(t.x=e,t.xMax=-e,t.y=e,t.yMax=-e,this.calculateBoundingBox(this.itemsData,t),t.width=t.xMax<t.x?0:t.xMax-t.x,t.height=t.yMax<t.y?0:t.yMax-t.y,this.currentBoxContains(t))return;var r=!1;if(this.currentBBox.w!==t.width&&(this.currentBBox.w=t.width,this.shapeCont.setAttribute("width",t.width),r=!0),this.currentBBox.h!==t.height&&(this.currentBBox.h=t.height,this.shapeCont.setAttribute("height",t.height),r=!0),r||this.currentBBox.x!==t.x||this.currentBBox.y!==t.y){this.currentBBox.w=t.width,this.currentBBox.h=t.height,this.currentBBox.x=t.x,this.currentBBox.y=t.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var s=this.shapeCont.style,n="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";s.transform=n,s.webkitTransform=n}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var t=createNS("g");this.maskedElement.appendChild(t),this.innerElem=t}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=this.innerElem.style,r=t.fc?this.buildColor(t.fc):"rgba(0,0,0,0)";e.fill=r,e.color=r,t.sc&&(e.stroke=this.buildColor(t.sc),e.strokeWidth=t.sw+"px");var s,n,i=this.globalData.fontManager.getFontByName(t.f);if(!this.globalData.fontManager.chars)if(e.fontSize=t.finalSize+"px",e.lineHeight=t.finalSize+"px",i.fClass)this.innerElem.className=i.fClass;else{e.fontFamily=i.fFamily;var a=t.fWeight,o=t.fStyle;e.fontStyle=o,e.fontWeight=a}var l,c,h,u=t.l;n=u.length;var d,p=this.mHelper,f="",m=0;for(s=0;s<n;s+=1){if(this.globalData.fontManager.chars?(this.textPaths[m]?l=this.textPaths[m]:((l=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),l.setAttribute("stroke-linejoin",lineJoinEnum[2]),l.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[m]?h=(c=this.textSpans[m]).children[0]:((c=createTag("div")).style.lineHeight=0,(h=createNS("svg")).appendChild(l),styleDiv(c)))):this.isMasked?l=this.textPaths[m]?this.textPaths[m]:createNS("text"):this.textSpans[m]?(c=this.textSpans[m],l=this.textPaths[m]):(styleDiv(c=createTag("span")),styleDiv(l=createTag("span")),c.appendChild(l)),this.globalData.fontManager.chars){var g,y=this.globalData.fontManager.getCharData(t.finalText[s],i.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily);if(g=y?y.data:null,p.reset(),g&&g.shapes&&g.shapes.length&&(d=g.shapes[0].it,p.scale(t.finalSize/100,t.finalSize/100),f=this.createPathShape(p,d),l.setAttribute("d",f)),this.isMasked)this.innerElem.appendChild(l);else{if(this.innerElem.appendChild(c),g&&g.shapes){document.body.appendChild(h);var b=h.getBBox();h.setAttribute("width",b.width+2),h.setAttribute("height",b.height+2),h.setAttribute("viewBox",b.x-1+" "+(b.y-1)+" "+(b.width+2)+" "+(b.height+2));var v=h.style,w="translate("+(b.x-1)+"px,"+(b.y-1)+"px)";v.transform=w,v.webkitTransform=w,u[s].yOffset=b.y-1}else h.setAttribute("width",1),h.setAttribute("height",1);c.appendChild(h)}}else if(l.textContent=u[s].val,l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(l);else{this.innerElem.appendChild(c);var A=l.style,k="translate3d(0,"+-t.finalSize/1.2+"px,0)";A.transform=k,A.webkitTransform=k}this.isMasked?this.textSpans[m]=l:this.textSpans[m]=c,this.textSpans[m].style.display="block",this.textPaths[m]=l,m+=1}for(;m<this.textSpans.length;)this.textSpans[m].style.display="none",m+=1},HTextElement.prototype.renderInnerContent=function(){var t;if(this.validateText(),this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),t=this.svgElement.style;var e="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";t.transform=e,t.webkitTransform=e}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var r,s,n,i,a,o=0,l=this.textAnimator.renderedLetters,c=this.textProperty.currentData.l;for(s=c.length,r=0;r<s;r+=1)c[r].n?o+=1:(i=this.textSpans[r],a=this.textPaths[r],n=l[o],o+=1,n._mdf.m&&(this.isMasked?i.setAttribute("transform",n.m):(i.style.webkitTransform=n.m,i.style.transform=n.m)),i.style.opacity=n.o,n.sw&&n._mdf.sw&&a.setAttribute("stroke-width",n.sw),n.sc&&n._mdf.sc&&a.setAttribute("stroke",n.sc),n.fc&&n._mdf.fc&&(a.setAttribute("fill",n.fc),a.style.color=n.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var h=this.innerElem.getBBox();if(this.currentBBox.w!==h.width&&(this.currentBBox.w=h.width,this.svgElement.setAttribute("width",h.width)),this.currentBBox.h!==h.height&&(this.currentBBox.h=h.height,this.svgElement.setAttribute("height",h.height)),this.currentBBox.w!==h.width+2||this.currentBBox.h!==h.height+2||this.currentBBox.x!==h.x-1||this.currentBBox.y!==h.y-1){this.currentBBox.w=h.width+2,this.currentBBox.h=h.height+2,this.currentBBox.x=h.x-1,this.currentBBox.y=h.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),t=this.svgElement.style;var u="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";t.transform=u,t.webkitTransform=u}}}},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var t,e,r,s,n=this.comp.threeDElements.length;for(t=0;t<n;t+=1)if("3d"===(e=this.comp.threeDElements[t]).type){r=e.perspectiveElem.style,s=e.container.style;var i=this.pe.v+"px",a="0px 0px 0px",o="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";r.perspective=i,r.webkitPerspective=i,s.transformOrigin=a,s.mozTransformOrigin=a,s.webkitTransformOrigin=a,r.transform=o,r.webkitTransform=o}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t,e,r=this._isFirstFrame;if(this.hierarchy)for(e=this.hierarchy.length,t=0;t<e;t+=1)r=this.hierarchy[t].finalTransform.mProp._mdf||r;if(r||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(t=e=this.hierarchy.length-1;t>=0;t-=1){var s=this.hierarchy[t].finalTransform.mProp;this.mat.translate(-s.p.v[0],-s.p.v[1],s.p.v[2]),this.mat.rotateX(-s.or.v[0]).rotateY(-s.or.v[1]).rotateZ(s.or.v[2]),this.mat.rotateX(-s.rx.v).rotateY(-s.ry.v).rotateZ(s.rz.v),this.mat.scale(1/s.s.v[0],1/s.s.v[1],1/s.s.v[2]),this.mat.translate(s.a.v[0],s.a.v[1],s.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var n;n=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var i=Math.sqrt(Math.pow(n[0],2)+Math.pow(n[1],2)+Math.pow(n[2],2)),a=[n[0]/i,n[1]/i,n[2]/i],o=Math.sqrt(a[2]*a[2]+a[0]*a[0]),l=Math.atan2(a[1],o),c=Math.atan2(a[0],-a[2]);this.mat.rotateY(c).rotateX(-l)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var h=!this._prevMat.equals(this.mat);if((h||this.pe._mdf)&&this.comp.threeDElements){var u,d,p;for(e=this.comp.threeDElements.length,t=0;t<e;t+=1)if("3d"===(u=this.comp.threeDElements[t]).type){if(h){var f=this.mat.toCSS();(p=u.container.style).transform=f,p.webkitTransform=f}this.pe._mdf&&((d=u.perspectiveElem.style).perspective=this.pe.v+"px",d.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData),e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(e),e.crossOrigin="anonymous",e.src=t,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRendererBase.prototype.appendElementInPos=function(t,e){var r=t.getBaseElement();if(r){var s=this.layers[e];if(s.ddd&&this.supports3d)this.addTo3dContainer(r,e);else if(this.threeDElements)this.addTo3dContainer(r,e);else{for(var n,i,a=0;a<e;)this.elements[a]&&!0!==this.elements[a]&&this.elements[a].getBaseElement&&(i=this.elements[a],n=(this.layers[a].ddd?this.getThreeDContainerByPos(a):i.getBaseElement())||n),a+=1;n?s.ddd&&this.supports3d||this.layerElement.insertBefore(r,n):s.ddd&&this.supports3d||this.layerElement.appendChild(r)}}},HybridRendererBase.prototype.createShape=function(t){return this.supports3d?new HShapeElement(t,this.globalData,this):new SVGShapeElement(t,this.globalData,this)},HybridRendererBase.prototype.createText=function(t){return this.supports3d?new HTextElement(t,this.globalData,this):new SVGTextLottieElement(t,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(t){return this.supports3d?new HImageElement(t,this.globalData,this):new IImageElement(t,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(t){return this.supports3d?new HSolidElement(t,this.globalData,this):new ISolidElement(t,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(t){for(var e=0,r=this.threeDElements.length;e<r;){if(this.threeDElements[e].startPos<=t&&this.threeDElements[e].endPos>=t)return this.threeDElements[e].perspectiveElem;e+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(t,e){var r,s,n=createTag("div");styleDiv(n);var i=createTag("div");if(styleDiv(i),"3d"===e){(r=n.style).width=this.globalData.compSize.w+"px",r.height=this.globalData.compSize.h+"px";var a="50% 50%";r.webkitTransformOrigin=a,r.mozTransformOrigin=a,r.transformOrigin=a;var o="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(s=i.style).transform=o,s.webkitTransform=o}n.appendChild(i);var l={container:i,perspectiveElem:n,startPos:t,endPos:t,type:e};return this.threeDElements.push(l),l},HybridRendererBase.prototype.build3dContainers=function(){var t,e,r=this.layers.length,s="";for(t=0;t<r;t+=1)this.layers[t].ddd&&3!==this.layers[t].ty?("3d"!==s&&(s="3d",e=this.createThreeDContainer(t,"3d")),e.endPos=Math.max(e.endPos,t)):("2d"!==s&&(s="2d",e=this.createThreeDContainer(t,"2d")),e.endPos=Math.max(e.endPos,t));for(t=(r=this.threeDElements.length)-1;t>=0;t-=1)this.resizerElem.appendChild(this.threeDElements[t].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(t,e){for(var r=0,s=this.threeDElements.length;r<s;){if(e<=this.threeDElements[r].endPos){for(var n,i=this.threeDElements[r].startPos;i<e;)this.elements[i]&&this.elements[i].getBaseElement&&(n=this.elements[i].getBaseElement()),i+=1;n?this.threeDElements[r].container.insertBefore(t,n):this.threeDElements[r].container.appendChild(t);break}r+=1}},HybridRendererBase.prototype.configAnimation=function(t){var e=createTag("div"),r=this.animationItem.wrapper,s=e.style;s.width=t.w+"px",s.height=t.h+"px",this.resizerElem=e,styleDiv(e),s.transformStyle="flat",s.mozTransformStyle="flat",s.webkitTransformStyle="flat",this.renderConfig.className&&e.setAttribute("class",this.renderConfig.className),r.appendChild(e),s.overflow="hidden";var n=createNS("svg");n.setAttribute("width","1"),n.setAttribute("height","1"),styleDiv(n),this.resizerElem.appendChild(n);var i=createNS("defs");n.appendChild(i),this.data=t,this.setupGlobalData(t,n),this.globalData.defs=i,this.layers=t.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){var t;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var t,e,r,s,n=this.animationItem.wrapper.offsetWidth,i=this.animationItem.wrapper.offsetHeight,a=n/i;this.globalData.compSize.w/this.globalData.compSize.h>a?(t=n/this.globalData.compSize.w,e=n/this.globalData.compSize.w,r=0,s=(i-this.globalData.compSize.h*(n/this.globalData.compSize.w))/2):(t=i/this.globalData.compSize.h,e=i/this.globalData.compSize.h,r=(n-this.globalData.compSize.w*(i/this.globalData.compSize.h))/2,s=0);var o=this.resizerElem.style;o.webkitTransform="matrix3d("+t+",0,0,0,0,"+e+",0,0,0,0,1,0,"+r+","+s+",0,1)",o.transform=o.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var t,e=this.globalData.compSize.w,r=this.globalData.compSize.h,s=this.threeDElements.length;for(t=0;t<s;t+=1){var n=this.threeDElements[t].perspectiveElem.style;n.webkitPerspective=Math.sqrt(Math.pow(e,2)+Math.pow(r,2))+"px",n.perspective=n.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(t){var e,r=t.length,s=createTag("div");for(e=0;e<r;e+=1)if(t[e].xt){var n=this.createComp(t[e],s,this.globalData.comp,null);n.initExpressions(),this.globalData.projectInterface.registerComposition(n)}},extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(t,e){for(var r,s=0;s<e;)this.elements[s]&&this.elements[s].getBaseElement&&(r=this.elements[s].getBaseElement()),s+=1;r?this.layerElement.insertBefore(t,r):this.layerElement.appendChild(t)},HCompElement.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)},extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)};var CompExpressionInterface=function(t){function e(e){for(var r=0,s=t.layers.length;r<s;){if(t.layers[r].nm===e||t.layers[r].ind===e)return t.elements[r].layerInterface;r+=1}return null}return Object.defineProperty(e,"_name",{value:t.data.nm}),e.layer=e,e.pixelAspect=1,e.height=t.data.h||t.globalData.compSize.h,e.width=t.data.w||t.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/t.globalData.frameRate,e.displayStartTime=0,e.numLayers=t.layers.length,e};function _typeof$2(t){return _typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$2(t)}function seedRandom(t,e){var r,s=this,n=256,i="random",a=e.pow(n,6),o=e.pow(2,52),l=2*o,c=n-1;function h(t){var e,r=t.length,s=this,i=0,a=s.i=s.j=0,o=s.S=[];for(r||(t=[r++]);i<n;)o[i]=i++;for(i=0;i<n;i++)o[i]=o[a=c&a+t[i%r]+(e=o[i])],o[a]=e;s.g=function(t){for(var e,r=0,i=s.i,a=s.j,o=s.S;t--;)e=o[i=c&i+1],r=r*n+o[c&(o[i]=o[a=c&a+e])+(o[a]=e)];return s.i=i,s.j=a,r}}function u(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function d(t,e){var r,s=[],n=_typeof$2(t);if(e&&"object"==n)for(r in t)try{s.push(d(t[r],e-1))}catch(t){}return s.length?s:"string"==n?t:t+"\0"}function p(t,e){for(var r,s=t+"",n=0;n<s.length;)e[c&n]=c&(r^=19*e[c&n])+s.charCodeAt(n++);return f(e)}function f(t){return String.fromCharCode.apply(0,t)}e["seed"+i]=function(c,m,g){var y=[],b=p(d((m=!0===m?{entropy:!0}:m||{}).entropy?[c,f(t)]:null===c?function(){try{if(r)return f(r.randomBytes(n));var e=new Uint8Array(n);return(s.crypto||s.msCrypto).getRandomValues(e),f(e)}catch(e){var i=s.navigator,a=i&&i.plugins;return[+new Date,s,a,s.screen,f(t)]}}():c,3),y),v=new h(y),w=function(){for(var t=v.g(6),e=a,r=0;t<o;)t=(t+r)*n,e*=n,r=v.g(1);for(;t>=l;)t/=2,e/=2,r>>>=1;return(t+r)/e};return w.int32=function(){return 0|v.g(4)},w.quick=function(){return v.g(4)/4294967296},w.double=w,p(f(v.S),t),(m.pass||g||function(t,r,s,n){return n&&(n.S&&u(n,v),t.state=function(){return u(v,{})}),s?(e[i]=t,r):t})(w,b,"global"in m?m.global:this==e,m.state)},p(e.random(),t)}function initialize$2(t){seedRandom([],t)}var propTypes={SHAPE:"shape"};function _typeof$1(t){return _typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$1(t)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(t){return t.constructor===Array||t.constructor===Float32Array}function isNumerable(t,e){return"number"===t||e instanceof Number||"boolean"===t||"string"===t}function $bm_neg(t){var e=_typeof$1(t);if("number"===e||t instanceof Number||"boolean"===e)return-t;if($bm_isInstanceOfArray(t)){var r,s=t.length,n=[];for(r=0;r<s;r+=1)n[r]=-t[r];return n}return t.propType?t.v:-t}initialize$2(BMMath);var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(t,e){var r=_typeof$1(t),s=_typeof$1(e);if(isNumerable(r,t)&&isNumerable(s,e)||"string"===r||"string"===s)return t+e;if($bm_isInstanceOfArray(t)&&isNumerable(s,e))return(t=t.slice(0))[0]+=e,t;if(isNumerable(r,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t+e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var n=0,i=t.length,a=e.length,o=[];n<i||n<a;)("number"==typeof t[n]||t[n]instanceof Number)&&("number"==typeof e[n]||e[n]instanceof Number)?o[n]=t[n]+e[n]:o[n]=void 0===e[n]?t[n]:t[n]||e[n],n+=1;return o}return 0}var add=sum;function sub(t,e){var r=_typeof$1(t),s=_typeof$1(e);if(isNumerable(r,t)&&isNumerable(s,e))return"string"===r&&(t=parseInt(t,10)),"string"===s&&(e=parseInt(e,10)),t-e;if($bm_isInstanceOfArray(t)&&isNumerable(s,e))return(t=t.slice(0))[0]-=e,t;if(isNumerable(r,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t-e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var n=0,i=t.length,a=e.length,o=[];n<i||n<a;)("number"==typeof t[n]||t[n]instanceof Number)&&("number"==typeof e[n]||e[n]instanceof Number)?o[n]=t[n]-e[n]:o[n]=void 0===e[n]?t[n]:t[n]||e[n],n+=1;return o}return 0}function mul(t,e){var r,s,n,i=_typeof$1(t),a=_typeof$1(e);if(isNumerable(i,t)&&isNumerable(a,e))return t*e;if($bm_isInstanceOfArray(t)&&isNumerable(a,e)){for(n=t.length,r=createTypedArray("float32",n),s=0;s<n;s+=1)r[s]=t[s]*e;return r}if(isNumerable(i,t)&&$bm_isInstanceOfArray(e)){for(n=e.length,r=createTypedArray("float32",n),s=0;s<n;s+=1)r[s]=t*e[s];return r}return 0}function div(t,e){var r,s,n,i=_typeof$1(t),a=_typeof$1(e);if(isNumerable(i,t)&&isNumerable(a,e))return t/e;if($bm_isInstanceOfArray(t)&&isNumerable(a,e)){for(n=t.length,r=createTypedArray("float32",n),s=0;s<n;s+=1)r[s]=t[s]/e;return r}if(isNumerable(i,t)&&$bm_isInstanceOfArray(e)){for(n=e.length,r=createTypedArray("float32",n),s=0;s<n;s+=1)r[s]=t/e[s];return r}return 0}function mod(t,e){return"string"==typeof t&&(t=parseInt(t,10)),"string"==typeof e&&(e=parseInt(e,10)),t%e}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(t,e,r){if(e>r){var s=r;r=e,e=s}return Math.min(Math.max(t,e),r)}function radiansToDegrees(t){return t/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(t){return t*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(t,e){if("number"==typeof t||t instanceof Number)return e=e||0,Math.abs(t-e);var r;e||(e=helperLengthArray);var s=Math.min(t.length,e.length),n=0;for(r=0;r<s;r+=1)n+=Math.pow(e[r]-t[r],2);return Math.sqrt(n)}function normalize(t){return div(t,length(t))}function rgbToHsl(t){var e,r,s=t[0],n=t[1],i=t[2],a=Math.max(s,n,i),o=Math.min(s,n,i),l=(a+o)/2;if(a===o)e=0,r=0;else{var c=a-o;switch(r=l>.5?c/(2-a-o):c/(a+o),a){case s:e=(n-i)/c+(n<i?6:0);break;case n:e=(i-s)/c+2;break;case i:e=(s-n)/c+4}e/=6}return[e,r,l,t[3]]}function hue2rgb(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function hslToRgb(t){var e,r,s,n=t[0],i=t[1],a=t[2];if(0===i)e=a,s=a,r=a;else{var o=a<.5?a*(1+i):a+i-a*i,l=2*a-o;e=hue2rgb(l,o,n+1/3),r=hue2rgb(l,o,n),s=hue2rgb(l,o,n-1/3)}return[e,r,s,t[3]]}function linear(t,e,r,s,n){if(void 0!==s&&void 0!==n||(s=e,n=r,e=0,r=1),r<e){var i=r;r=e,e=i}if(t<=e)return s;if(t>=r)return n;var a,o=r===e?0:(t-e)/(r-e);if(!s.length)return s+(n-s)*o;var l=s.length,c=createTypedArray("float32",l);for(a=0;a<l;a+=1)c[a]=s[a]+(n[a]-s[a])*o;return c}function random(t,e){if(void 0===e&&(void 0===t?(t=0,e=1):(e=t,t=void 0)),e.length){var r,s=e.length;t||(t=createTypedArray("float32",s));var n=createTypedArray("float32",s),i=BMMath.random();for(r=0;r<s;r+=1)n[r]=t[r]+i*(e[r]-t[r]);return n}return void 0===t&&(t=0),t+BMMath.random()*(e-t)}function createPath(t,e,r,s){var n,i=t.length,a=shapePool.newElement();a.setPathData(!!s,i);var o,l,c=[0,0];for(n=0;n<i;n+=1)o=e&&e[n]?e[n]:c,l=r&&r[n]?r[n]:c,a.setTripleAt(t[n][0],t[n][1],l[0]+t[n][0],l[1]+t[n][1],o[0]+t[n][0],o[1]+t[n][1],n,!0);return a}function initiateExpression(elem,data,property){function noOp(t){return t}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function(t,e){var r,s,n=this.pv.length?this.pv.length:1,i=createTypedArray("float32",n),a=Math.floor(5*time);for(r=0,s=0;r<a;){for(s=0;s<n;s+=1)i[s]+=-e+2*e*BMMath.random();r+=1}var o=5*time,l=o-Math.floor(o),c=createTypedArray("float32",n);if(n>1){for(s=0;s<n;s+=1)c[s]=this.pv[s]+i[s]+(-e+2*e*BMMath.random())*l;return c}return this.pv+i[0]+(-e+2*e*BMMath.random())*l}.bind(this);function loopInDuration(t,e){return loopIn(t,e,!0)}function loopOutDuration(t,e){return loopOut(t,e,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(t,e){var r=[e[0]-t[0],e[1]-t[1],e[2]-t[2]],s=Math.atan2(r[0],Math.sqrt(r[1]*r[1]+r[2]*r[2]))/degToRads;return[-Math.atan2(r[1],r[2])/degToRads,s,0]}function easeOut(t,e,r,s,n){return applyEase(easeOutBez,t,e,r,s,n)}function easeIn(t,e,r,s,n){return applyEase(easeInBez,t,e,r,s,n)}function ease(t,e,r,s,n){return applyEase(easeInOutBez,t,e,r,s,n)}function applyEase(t,e,r,s,n,i){void 0===n?(n=r,i=s):e=(e-r)/(s-r),e>1?e=1:e<0&&(e=0);var a=t(e);if($bm_isInstanceOfArray(n)){var o,l=n.length,c=createTypedArray("float32",l);for(o=0;o<l;o+=1)c[o]=(i[o]-n[o])*a+n[o];return c}return(i-n)*a+n}function nearestKey(t){var e,r,s,n=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(r=-1,(t*=elem.comp.globalData.frameRate)<data.k[0].t)r=1,s=data.k[0].t;else{for(e=0;e<n-1;e+=1){if(t===data.k[e].t){r=e+1,s=data.k[e].t;break}if(t>data.k[e].t&&t<data.k[e+1].t){t-data.k[e].t>data.k[e+1].t-t?(r=e+2,s=data.k[e+1].t):(r=e+1,s=data.k[e].t);break}}-1===r&&(r=e+1,s=data.k[e].t)}else r=0,s=0;var i={};return i.index=r,i.time=s/elem.comp.globalData.frameRate,i}function key(t){var e,r,s;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+t);t-=1,e={time:data.k[t].t/elem.comp.globalData.frameRate,value:[]};var n=Object.prototype.hasOwnProperty.call(data.k[t],"s")?data.k[t].s:data.k[t-1].e;for(s=n.length,r=0;r<s;r+=1)e[r]=n[r],e.value[r]=n[r];return e}function framesToTime(t,e){return e||(e=elem.comp.globalData.frameRate),t/e}function timeToFrames(t,e){return t||0===t||(t=time),e||(e=elem.comp.globalData.frameRate),t*e}function seedRandom(t){BMMath.seedrandom(randSeed+t)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(t,e){return"string"==typeof value?void 0===e?value.substring(t):value.substring(t,e):""}function substr(t,e){return"string"==typeof value?void 0===e?value.substr(t):value.substr(t,e):""}function posterizeTime(t){time=0===t?0:Math.floor(time*t)/t,value=valueAtTime(time)}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(t){return value=t,this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var t={initExpressions:function(t){var e=0,r=[];t.renderer.compInterface=CompExpressionInterface(t.renderer),t.renderer.globalData.projectInterface.registerComposition(t.renderer),t.renderer.globalData.pushExpression=function(){e+=1},t.renderer.globalData.popExpression=function(){0==(e-=1)&&function(){var t,e=r.length;for(t=0;t<e;t+=1)r[t].release();r.length=0}()},t.renderer.globalData.registerExpressionProperty=function(t){-1===r.indexOf(t)&&r.push(t)}}};return t.resetFrame=ExpressionManager.resetFrame,t}(),MaskManagerInterface=function(){function t(t,e){this._mask=t,this._data=e}return Object.defineProperty(t.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(t.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(e){var r,s=createSizedArray(e.viewData.length),n=e.viewData.length;for(r=0;r<n;r+=1)s[r]=new t(e.viewData[r],e.masksProperties[r]);return function(t){for(r=0;r<n;){if(e.masksProperties[r].nm===t)return s[r];r+=1}return null}}}(),ExpressionPropertyInterface=function(){var t={pv:0,v:0,mult:1},e={pv:[0,0,0],v:[0,0,0],mult:1};function r(t,e,r){Object.defineProperty(t,"velocity",{get:function(){return e.getVelocityAtTime(e.comp.currentFrame)}}),t.numKeys=e.keyframes?e.keyframes.length:0,t.key=function(s){if(!t.numKeys)return 0;var n="";n="s"in e.keyframes[s-1]?e.keyframes[s-1].s:"e"in e.keyframes[s-2]?e.keyframes[s-2].e:e.keyframes[s-2].s;var i="unidimensional"===r?new Number(n):Object.assign({},n);return i.time=e.keyframes[s-1].t/e.elem.comp.globalData.frameRate,i.value="unidimensional"===r?n[0]:n,i},t.valueAtTime=e.getValueAtTime,t.speedAtTime=e.getSpeedAtTime,t.velocityAtTime=e.getVelocityAtTime,t.propertyGroup=e.propertyGroup}function s(){return t}return function(n){return n?"unidimensional"===n.propType?function(e){e&&"pv"in e||(e=t);var s=1/e.mult,n=e.pv*s,i=new Number(n);return i.value=n,r(i,e,"unidimensional"),function(){return e.k&&e.getValue(),n=e.v*s,i.value!==n&&((i=new Number(n)).value=n,r(i,e,"unidimensional")),i}}(n):function(t){t&&"pv"in t||(t=e);var s=1/t.mult,n=t.data&&t.data.l||t.pv.length,i=createTypedArray("float32",n),a=createTypedArray("float32",n);return i.value=a,r(i,t,"multidimensional"),function(){t.k&&t.getValue();for(var e=0;e<n;e+=1)a[e]=t.v[e]*s,i[e]=a[e];return i}}(n):s}}(),TransformExpressionInterface=function(t){function e(t){switch(t){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"ADBE Rotate X":return e.xRotation;case"ADBE Rotate Y":return e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return e.position;case"ADBE Position_0":return e.xPosition;case"ADBE Position_1":return e.yPosition;case"ADBE Position_2":return e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity;default:return null}}var r,s,n,i;return Object.defineProperty(e,"rotation",{get:ExpressionPropertyInterface(t.r||t.rz)}),Object.defineProperty(e,"zRotation",{get:ExpressionPropertyInterface(t.rz||t.r)}),Object.defineProperty(e,"xRotation",{get:ExpressionPropertyInterface(t.rx)}),Object.defineProperty(e,"yRotation",{get:ExpressionPropertyInterface(t.ry)}),Object.defineProperty(e,"scale",{get:ExpressionPropertyInterface(t.s)}),t.p?i=ExpressionPropertyInterface(t.p):(r=ExpressionPropertyInterface(t.px),s=ExpressionPropertyInterface(t.py),t.pz&&(n=ExpressionPropertyInterface(t.pz))),Object.defineProperty(e,"position",{get:function(){return t.p?i():[r(),s(),n?n():0]}}),Object.defineProperty(e,"xPosition",{get:ExpressionPropertyInterface(t.px)}),Object.defineProperty(e,"yPosition",{get:ExpressionPropertyInterface(t.py)}),Object.defineProperty(e,"zPosition",{get:ExpressionPropertyInterface(t.pz)}),Object.defineProperty(e,"anchorPoint",{get:ExpressionPropertyInterface(t.a)}),Object.defineProperty(e,"opacity",{get:ExpressionPropertyInterface(t.o)}),Object.defineProperty(e,"skew",{get:ExpressionPropertyInterface(t.sk)}),Object.defineProperty(e,"skewAxis",{get:ExpressionPropertyInterface(t.sa)}),Object.defineProperty(e,"orientation",{get:ExpressionPropertyInterface(t.or)}),e},LayerExpressionInterface=function(){function t(t){var e=new Matrix;return void 0!==t?this._elem.finalTransform.mProp.getValueAtTime(t).clone(e):this._elem.finalTransform.mProp.applyToMatrix(e),e}function e(t,e){var r=this.getMatrix(e);return r.props[12]=0,r.props[13]=0,r.props[14]=0,this.applyPoint(r,t)}function r(t,e){var r=this.getMatrix(e);return this.applyPoint(r,t)}function s(t,e){var r=this.getMatrix(e);return r.props[12]=0,r.props[13]=0,r.props[14]=0,this.invertPoint(r,t)}function n(t,e){var r=this.getMatrix(e);return this.invertPoint(r,t)}function i(t,e){if(this._elem.hierarchy&&this._elem.hierarchy.length){var r,s=this._elem.hierarchy.length;for(r=0;r<s;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(t)}return t.applyToPointArray(e[0],e[1],e[2]||0)}function a(t,e){if(this._elem.hierarchy&&this._elem.hierarchy.length){var r,s=this._elem.hierarchy.length;for(r=0;r<s;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(t)}return t.inversePoint(e)}function o(t){var e=new Matrix;if(e.reset(),this._elem.finalTransform.mProp.applyToMatrix(e),this._elem.hierarchy&&this._elem.hierarchy.length){var r,s=this._elem.hierarchy.length;for(r=0;r<s;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(e);return e.inversePoint(t)}return e.inversePoint(t)}function l(){return[1,1,1,1]}return function(c){var h;function u(t){switch(t){case"ADBE Root Vectors Group":case"Contents":case 2:return u.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return h;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return u.effect;case"ADBE Text Properties":return u.textInterface;default:return null}}u.getMatrix=t,u.invertPoint=a,u.applyPoint=i,u.toWorld=r,u.toWorldVec=e,u.fromWorld=n,u.fromWorldVec=s,u.toComp=r,u.fromComp=o,u.sampleImage=l,u.sourceRectAtTime=c.sourceRectAtTime.bind(c),u._elem=c;var d=getDescriptor(h=TransformExpressionInterface(c.finalTransform.mProp),"anchorPoint");return Object.defineProperties(u,{hasParent:{get:function(){return c.hierarchy.length}},parent:{get:function(){return c.hierarchy[0].layerInterface}},rotation:getDescriptor(h,"rotation"),scale:getDescriptor(h,"scale"),position:getDescriptor(h,"position"),opacity:getDescriptor(h,"opacity"),anchorPoint:d,anchor_point:d,transform:{get:function(){return h}},active:{get:function(){return c.isInRange}}}),u.startTime=c.data.st,u.index=c.data.ind,u.source=c.data.refId,u.height=0===c.data.ty?c.data.h:100,u.width=0===c.data.ty?c.data.w:100,u.inPoint=c.data.ip/c.comp.globalData.frameRate,u.outPoint=c.data.op/c.comp.globalData.frameRate,u._name=c.data.nm,u.registerMaskInterface=function(t){u.mask=new MaskManagerInterface(t,c)},u.registerEffectsInterface=function(t){u.effect=t},u}}(),propertyGroupFactory=function(t,e){return function(r){return(r=void 0===r?1:r)<=0?t:e(r-1)}},PropertyInterface=function(t,e){var r={_name:t};return function(t){return(t=void 0===t?1:t)<=0?r:e(t-1)}},EffectsExpressionInterface=function(){function t(r,s,n,i){function a(t){for(var e=r.ef,s=0,n=e.length;s<n;){if(t===e[s].nm||t===e[s].mn||t===e[s].ix)return 5===e[s].ty?c[s]:c[s]();s+=1}throw new Error}var o,l=propertyGroupFactory(a,n),c=[],h=r.ef.length;for(o=0;o<h;o+=1)5===r.ef[o].ty?c.push(t(r.ef[o],s.effectElements[o],s.effectElements[o].propertyGroup,i)):c.push(e(s.effectElements[o],r.ef[o].ty,i,l));return"ADBE Color Control"===r.mn&&Object.defineProperty(a,"color",{get:function(){return c[0]()}}),Object.defineProperties(a,{numProperties:{get:function(){return r.np}},_name:{value:r.nm},propertyGroup:{value:l}}),a.enabled=0!==r.en,a.active=a.enabled,a}function e(t,e,r,s){var n=ExpressionPropertyInterface(t.p);return t.p.setGroupProperty&&t.p.setGroupProperty(PropertyInterface("",s)),function(){return 10===e?r.comp.compInterface(t.p.v):n()}}return{createEffectsInterface:function(e,r){if(e.effectsManager){var s,n=[],i=e.data.ef,a=e.effectsManager.effectElements.length;for(s=0;s<a;s+=1)n.push(t(i[s],e.effectsManager.effectElements[s],r,e));var o=e.data.ef||[],l=function(t){for(s=0,a=o.length;s<a;){if(t===o[s].nm||t===o[s].mn||t===o[s].ix)return n[s];s+=1}return null};return Object.defineProperty(l,"numProperties",{get:function(){return o.length}}),l}return null}}}(),ShapePathInterface=function(t,e,r){var s=e.sh;function n(t){return"Shape"===t||"shape"===t||"Path"===t||"path"===t||"ADBE Vector Shape"===t||2===t?n.path:null}var i=propertyGroupFactory(n,r);return s.setGroupProperty(PropertyInterface("Path",i)),Object.defineProperties(n,{path:{get:function(){return s.k&&s.getValue(),s}},shape:{get:function(){return s.k&&s.getValue(),s}},_name:{value:t.nm},ix:{value:t.ix},propertyIndex:{value:t.ix},mn:{value:t.mn},propertyGroup:{value:r}}),n},ShapeExpressionInterface=function(){function t(t,a,d){var p,f=[],m=t?t.length:0;for(p=0;p<m;p+=1)"gr"===t[p].ty?f.push(e(t[p],a[p],d)):"fl"===t[p].ty?f.push(r(t[p],a[p],d)):"st"===t[p].ty?f.push(n(t[p],a[p],d)):"tm"===t[p].ty?f.push(i(t[p],a[p],d)):"tr"===t[p].ty||("el"===t[p].ty?f.push(o(t[p],a[p],d)):"sr"===t[p].ty?f.push(l(t[p],a[p],d)):"sh"===t[p].ty?f.push(ShapePathInterface(t[p],a[p],d)):"rc"===t[p].ty?f.push(c(t[p],a[p],d)):"rd"===t[p].ty?f.push(h(t[p],a[p],d)):"rp"===t[p].ty?f.push(u(t[p],a[p],d)):"gf"===t[p].ty?f.push(s(t[p],a[p],d)):f.push((t[p],a[p],function(){return null})));return f}function e(e,r,s){var n=function(t){switch(t){case"ADBE Vectors Group":case"Contents":case 2:return n.content;default:return n.transform}};n.propertyGroup=propertyGroupFactory(n,s);var i=function(e,r,s){var n,i=function(t){for(var e=0,r=n.length;e<r;){if(n[e]._name===t||n[e].mn===t||n[e].propertyIndex===t||n[e].ix===t||n[e].ind===t)return n[e];e+=1}return"number"==typeof t?n[t-1]:null};i.propertyGroup=propertyGroupFactory(i,s),n=t(e.it,r.it,i.propertyGroup),i.numProperties=n.length;var o=a(e.it[e.it.length-1],r.it[r.it.length-1],i.propertyGroup);return i.transform=o,i.propertyIndex=e.cix,i._name=e.nm,i}(e,r,n.propertyGroup),o=a(e.it[e.it.length-1],r.it[r.it.length-1],n.propertyGroup);return n.content=i,n.transform=o,Object.defineProperty(n,"_name",{get:function(){return e.nm}}),n.numProperties=e.np,n.propertyIndex=e.ix,n.nm=e.nm,n.mn=e.mn,n}function r(t,e,r){function s(t){return"Color"===t||"color"===t?s.color:"Opacity"===t||"opacity"===t?s.opacity:null}return Object.defineProperties(s,{color:{get:ExpressionPropertyInterface(e.c)},opacity:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(PropertyInterface("Color",r)),e.o.setGroupProperty(PropertyInterface("Opacity",r)),s}function s(t,e,r){function s(t){return"Start Point"===t||"start point"===t?s.startPoint:"End Point"===t||"end point"===t?s.endPoint:"Opacity"===t||"opacity"===t?s.opacity:null}return Object.defineProperties(s,{startPoint:{get:ExpressionPropertyInterface(e.s)},endPoint:{get:ExpressionPropertyInterface(e.e)},opacity:{get:ExpressionPropertyInterface(e.o)},type:{get:function(){return"a"}},_name:{value:t.nm},mn:{value:t.mn}}),e.s.setGroupProperty(PropertyInterface("Start Point",r)),e.e.setGroupProperty(PropertyInterface("End Point",r)),e.o.setGroupProperty(PropertyInterface("Opacity",r)),s}function n(t,e,r){var s,n=propertyGroupFactory(c,r),i=propertyGroupFactory(l,n);function a(r){Object.defineProperty(l,t.d[r].nm,{get:ExpressionPropertyInterface(e.d.dataProps[r].p)})}var o=t.d?t.d.length:0,l={};for(s=0;s<o;s+=1)a(s),e.d.dataProps[s].p.setGroupProperty(i);function c(t){return"Color"===t||"color"===t?c.color:"Opacity"===t||"opacity"===t?c.opacity:"Stroke Width"===t||"stroke width"===t?c.strokeWidth:null}return Object.defineProperties(c,{color:{get:ExpressionPropertyInterface(e.c)},opacity:{get:ExpressionPropertyInterface(e.o)},strokeWidth:{get:ExpressionPropertyInterface(e.w)},dash:{get:function(){return l}},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(PropertyInterface("Color",n)),e.o.setGroupProperty(PropertyInterface("Opacity",n)),e.w.setGroupProperty(PropertyInterface("Stroke Width",n)),c}function i(t,e,r){function s(e){return e===t.e.ix||"End"===e||"end"===e?s.end:e===t.s.ix?s.start:e===t.o.ix?s.offset:null}var n=propertyGroupFactory(s,r);return s.propertyIndex=t.ix,e.s.setGroupProperty(PropertyInterface("Start",n)),e.e.setGroupProperty(PropertyInterface("End",n)),e.o.setGroupProperty(PropertyInterface("Offset",n)),s.propertyIndex=t.ix,s.propertyGroup=r,Object.defineProperties(s,{start:{get:ExpressionPropertyInterface(e.s)},end:{get:ExpressionPropertyInterface(e.e)},offset:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm}}),s.mn=t.mn,s}function a(t,e,r){function s(e){return t.a.ix===e||"Anchor Point"===e?s.anchorPoint:t.o.ix===e||"Opacity"===e?s.opacity:t.p.ix===e||"Position"===e?s.position:t.r.ix===e||"Rotation"===e||"ADBE Vector Rotation"===e?s.rotation:t.s.ix===e||"Scale"===e?s.scale:t.sk&&t.sk.ix===e||"Skew"===e?s.skew:t.sa&&t.sa.ix===e||"Skew Axis"===e?s.skewAxis:null}var n=propertyGroupFactory(s,r);return e.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",n)),e.transform.mProps.p.setGroupProperty(PropertyInterface("Position",n)),e.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",n)),e.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",n)),e.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",n)),e.transform.mProps.sk&&(e.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",n)),e.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",n))),e.transform.op.setGroupProperty(PropertyInterface("Opacity",n)),Object.defineProperties(s,{opacity:{get:ExpressionPropertyInterface(e.transform.mProps.o)},position:{get:ExpressionPropertyInterface(e.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(e.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(e.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(e.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(e.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(e.transform.mProps.sa)},_name:{value:t.nm}}),s.ty="tr",s.mn=t.mn,s.propertyGroup=r,s}function o(t,e,r){function s(e){return t.p.ix===e?s.position:t.s.ix===e?s.size:null}var n=propertyGroupFactory(s,r);s.propertyIndex=t.ix;var i="tm"===e.sh.ty?e.sh.prop:e.sh;return i.s.setGroupProperty(PropertyInterface("Size",n)),i.p.setGroupProperty(PropertyInterface("Position",n)),Object.defineProperties(s,{size:{get:ExpressionPropertyInterface(i.s)},position:{get:ExpressionPropertyInterface(i.p)},_name:{value:t.nm}}),s.mn=t.mn,s}function l(t,e,r){function s(e){return t.p.ix===e?s.position:t.r.ix===e?s.rotation:t.pt.ix===e?s.points:t.or.ix===e||"ADBE Vector Star Outer Radius"===e?s.outerRadius:t.os.ix===e?s.outerRoundness:!t.ir||t.ir.ix!==e&&"ADBE Vector Star Inner Radius"!==e?t.is&&t.is.ix===e?s.innerRoundness:null:s.innerRadius}var n=propertyGroupFactory(s,r),i="tm"===e.sh.ty?e.sh.prop:e.sh;return s.propertyIndex=t.ix,i.or.setGroupProperty(PropertyInterface("Outer Radius",n)),i.os.setGroupProperty(PropertyInterface("Outer Roundness",n)),i.pt.setGroupProperty(PropertyInterface("Points",n)),i.p.setGroupProperty(PropertyInterface("Position",n)),i.r.setGroupProperty(PropertyInterface("Rotation",n)),t.ir&&(i.ir.setGroupProperty(PropertyInterface("Inner Radius",n)),i.is.setGroupProperty(PropertyInterface("Inner Roundness",n))),Object.defineProperties(s,{position:{get:ExpressionPropertyInterface(i.p)},rotation:{get:ExpressionPropertyInterface(i.r)},points:{get:ExpressionPropertyInterface(i.pt)},outerRadius:{get:ExpressionPropertyInterface(i.or)},outerRoundness:{get:ExpressionPropertyInterface(i.os)},innerRadius:{get:ExpressionPropertyInterface(i.ir)},innerRoundness:{get:ExpressionPropertyInterface(i.is)},_name:{value:t.nm}}),s.mn=t.mn,s}function c(t,e,r){function s(e){return t.p.ix===e?s.position:t.r.ix===e?s.roundness:t.s.ix===e||"Size"===e||"ADBE Vector Rect Size"===e?s.size:null}var n=propertyGroupFactory(s,r),i="tm"===e.sh.ty?e.sh.prop:e.sh;return s.propertyIndex=t.ix,i.p.setGroupProperty(PropertyInterface("Position",n)),i.s.setGroupProperty(PropertyInterface("Size",n)),i.r.setGroupProperty(PropertyInterface("Rotation",n)),Object.defineProperties(s,{position:{get:ExpressionPropertyInterface(i.p)},roundness:{get:ExpressionPropertyInterface(i.r)},size:{get:ExpressionPropertyInterface(i.s)},_name:{value:t.nm}}),s.mn=t.mn,s}function h(t,e,r){function s(e){return t.r.ix===e||"Round Corners 1"===e?s.radius:null}var n=propertyGroupFactory(s,r),i=e;return s.propertyIndex=t.ix,i.rd.setGroupProperty(PropertyInterface("Radius",n)),Object.defineProperties(s,{radius:{get:ExpressionPropertyInterface(i.rd)},_name:{value:t.nm}}),s.mn=t.mn,s}function u(t,e,r){function s(e){return t.c.ix===e||"Copies"===e?s.copies:t.o.ix===e||"Offset"===e?s.offset:null}var n=propertyGroupFactory(s,r),i=e;return s.propertyIndex=t.ix,i.c.setGroupProperty(PropertyInterface("Copies",n)),i.o.setGroupProperty(PropertyInterface("Offset",n)),Object.defineProperties(s,{copies:{get:ExpressionPropertyInterface(i.c)},offset:{get:ExpressionPropertyInterface(i.o)},_name:{value:t.nm}}),s.mn=t.mn,s}return function(e,r,s){var n;function i(t){if("number"==typeof t)return 0===(t=void 0===t?1:t)?s:n[t-1];for(var e=0,r=n.length;e<r;){if(n[e]._name===t)return n[e];e+=1}return null}return i.propertyGroup=propertyGroupFactory(i,(function(){return s})),n=t(e,r,i.propertyGroup),i.numProperties=n.length,i._name="Contents",i}}(),TextExpressionInterface=function(t){var e;function r(t){return"ADBE Text Document"===t?r.sourceText:null}return Object.defineProperty(r,"sourceText",{get:function(){t.textProperty.getValue();var r=t.textProperty.currentData.t;return e&&r===e.value||((e=new String(r)).value=r||new String(r),Object.defineProperty(e,"style",{get:function(){return{fillColor:t.textProperty.currentData.fc}}})),e}}),r};function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}var FootageInterface=(dataInterfaceFactory=function(t){function e(t){return"Outline"===t?e.outlineInterface():null}return e._name="Outline",e.outlineInterface=function(t){var e="",r=t.getFootageData();function s(t){if(r[t])return e=t,"object"===_typeof(r=r[t])?s:r;var n=t.indexOf(e);if(-1!==n){var i=parseInt(t.substr(n+e.length),10);return"object"===_typeof(r=r[i])?s:r}return""}return function(){return e="",r=t.getFootageData(),s}}(t),e},function(t){function e(t){return"Data"===t?e.dataInterface:null}return e._name="Data",e.dataInterface=dataInterfaceFactory(t),e}),dataInterfaceFactory,interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(t){return interfaces[t]||null}var expressionHelpers={searchExpressions:function(t,e,r){e.x&&(r.k=!0,r.x=!0,r.initiateExpression=ExpressionManager.initiateExpression,r.effectsSequence.push(r.initiateExpression(t,e,r).bind(r)))},getSpeedAtTime:function(t){var e=this.getValueAtTime(t),r=this.getValueAtTime(t+-.01),s=0;if(e.length){var n;for(n=0;n<e.length;n+=1)s+=Math.pow(r[n]-e[n],2);s=100*Math.sqrt(s)}else s=0;return s},getVelocityAtTime:function(t){if(void 0!==this.vel)return this.vel;var e,r,s=-.001,n=this.getValueAtTime(t),i=this.getValueAtTime(t+s);if(n.length)for(e=createTypedArray("float32",n.length),r=0;r<n.length;r+=1)e[r]=(i[r]-n[r])/s;else e=(i-n)/s;return e},getValueAtTime:function(t){return t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<t?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(t,this._cachingAtTime),this._cachingAtTime.lastFrame=t),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(t){this.propertyGroup=t}};function addPropertyDecorator(){function t(t,e,r){if(!this.k||!this.keyframes)return this.pv;t=t?t.toLowerCase():"";var s,n,i,a,o,l=this.comp.renderedFrame,c=this.keyframes,h=c[c.length-1].t;if(l<=h)return this.pv;if(r?n=h-(s=e?Math.abs(h-this.elem.comp.globalData.frameRate*e):Math.max(0,h-this.elem.data.ip)):((!e||e>c.length-1)&&(e=c.length-1),s=h-(n=c[c.length-1-e].t)),"pingpong"===t){if(Math.floor((l-n)/s)%2!=0)return this.getValueAtTime((s-(l-n)%s+n)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var u=this.getValueAtTime(n/this.comp.globalData.frameRate,0),d=this.getValueAtTime(h/this.comp.globalData.frameRate,0),p=this.getValueAtTime(((l-n)%s+n)/this.comp.globalData.frameRate,0),f=Math.floor((l-n)/s);if(this.pv.length){for(a=(o=new Array(u.length)).length,i=0;i<a;i+=1)o[i]=(d[i]-u[i])*f+p[i];return o}return(d-u)*f+p}if("continue"===t){var m=this.getValueAtTime(h/this.comp.globalData.frameRate,0),g=this.getValueAtTime((h-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(a=(o=new Array(m.length)).length,i=0;i<a;i+=1)o[i]=m[i]+(m[i]-g[i])*((l-h)/this.comp.globalData.frameRate)/5e-4;return o}return m+(l-h)/.001*(m-g)}}return this.getValueAtTime(((l-n)%s+n)/this.comp.globalData.frameRate,0)}function e(t,e,r){if(!this.k)return this.pv;t=t?t.toLowerCase():"";var s,n,i,a,o,l=this.comp.renderedFrame,c=this.keyframes,h=c[0].t;if(l>=h)return this.pv;if(r?n=h+(s=e?Math.abs(this.elem.comp.globalData.frameRate*e):Math.max(0,this.elem.data.op-h)):((!e||e>c.length-1)&&(e=c.length-1),s=(n=c[e].t)-h),"pingpong"===t){if(Math.floor((h-l)/s)%2==0)return this.getValueAtTime(((h-l)%s+h)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var u=this.getValueAtTime(h/this.comp.globalData.frameRate,0),d=this.getValueAtTime(n/this.comp.globalData.frameRate,0),p=this.getValueAtTime((s-(h-l)%s+h)/this.comp.globalData.frameRate,0),f=Math.floor((h-l)/s)+1;if(this.pv.length){for(a=(o=new Array(u.length)).length,i=0;i<a;i+=1)o[i]=p[i]-(d[i]-u[i])*f;return o}return p-(d-u)*f}if("continue"===t){var m=this.getValueAtTime(h/this.comp.globalData.frameRate,0),g=this.getValueAtTime((h+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(a=(o=new Array(m.length)).length,i=0;i<a;i+=1)o[i]=m[i]+(m[i]-g[i])*(h-l)/.001;return o}return m+(m-g)*(h-l)/.001}}return this.getValueAtTime((s-((h-l)%s+h))/this.comp.globalData.frameRate,0)}function r(t,e){if(!this.k)return this.pv;if(t=.5*(t||.4),(e=Math.floor(e||5))<=1)return this.pv;var r,s,n=this.comp.renderedFrame/this.comp.globalData.frameRate,i=n-t,a=e>1?(n+t-i)/(e-1):1,o=0,l=0;for(r=this.pv.length?createTypedArray("float32",this.pv.length):0;o<e;){if(s=this.getValueAtTime(i+o*a),this.pv.length)for(l=0;l<this.pv.length;l+=1)r[l]+=s[l];else r+=s;o+=1}if(this.pv.length)for(l=0;l<this.pv.length;l+=1)r[l]/=e;else r/=e;return r}function s(t){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var e=this._transformCachingAtTime.v;if(e.cloneFromProps(this.pre.props),this.appliedTransformations<1){var r=this.a.getValueAtTime(t);e.translate(-r[0]*this.a.mult,-r[1]*this.a.mult,r[2]*this.a.mult)}if(this.appliedTransformations<2){var s=this.s.getValueAtTime(t);e.scale(s[0]*this.s.mult,s[1]*this.s.mult,s[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var n=this.sk.getValueAtTime(t),i=this.sa.getValueAtTime(t);e.skewFromAxis(-n*this.sk.mult,i*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var a=this.r.getValueAtTime(t);e.rotate(-a*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var o=this.rz.getValueAtTime(t),l=this.ry.getValueAtTime(t),c=this.rx.getValueAtTime(t),h=this.or.getValueAtTime(t);e.rotateZ(-o*this.rz.mult).rotateY(l*this.ry.mult).rotateX(c*this.rx.mult).rotateZ(-h[2]*this.or.mult).rotateY(h[1]*this.or.mult).rotateX(h[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var u=this.px.getValueAtTime(t),d=this.py.getValueAtTime(t);if(this.data.p.z){var p=this.pz.getValueAtTime(t);e.translate(u*this.px.mult,d*this.py.mult,-p*this.pz.mult)}else e.translate(u*this.px.mult,d*this.py.mult,0)}else{var f=this.p.getValueAtTime(t);e.translate(f[0]*this.p.mult,f[1]*this.p.mult,-f[2]*this.p.mult)}return e}function n(){return this.v.clone(new Matrix)}var i=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(t,e,r){var a=i(t,e,r);return a.dynamicProperties.length?a.getValueAtTime=s.bind(a):a.getValueAtTime=n.bind(a),a.setGroupProperty=expressionHelpers.setGroupProperty,a};var a=PropertyFactory.getProp;PropertyFactory.getProp=function(s,n,i,o,l){var c=a(s,n,i,o,l);c.kf?c.getValueAtTime=expressionHelpers.getValueAtTime.bind(c):c.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(c),c.setGroupProperty=expressionHelpers.setGroupProperty,c.loopOut=t,c.loopIn=e,c.smooth=r,c.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(c),c.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(c),c.numKeys=1===n.a?n.k.length:0,c.propertyIndex=n.ix;var h=0;return 0!==i&&(h=createTypedArray("float32",1===n.a?n.k[0].s.length:n.k.length)),c._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:h},expressionHelpers.searchExpressions(s,n,c),c.k&&l.addDynamicProperty(c),c};var o=ShapePropertyFactory.getConstructorFunction(),l=ShapePropertyFactory.getKeyframedConstructorFunction();function c(){}c.prototype={vertices:function(t,e){this.k&&this.getValue();var r,s=this.v;void 0!==e&&(s=this.getValueAtTime(e,0));var n=s._length,i=s[t],a=s.v,o=createSizedArray(n);for(r=0;r<n;r+=1)o[r]="i"===t||"o"===t?[i[r][0]-a[r][0],i[r][1]-a[r][1]]:[i[r][0],i[r][1]];return o},points:function(t){return this.vertices("v",t)},inTangents:function(t){return this.vertices("i",t)},outTangents:function(t){return this.vertices("o",t)},isClosed:function(){return this.v.c},pointOnPath:function(t,e){var r=this.v;void 0!==e&&(r=this.getValueAtTime(e,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(r));for(var s,n=this._segmentsLength,i=n.lengths,a=n.totalLength*t,o=0,l=i.length,c=0;o<l;){if(c+i[o].addedLength>a){var h=o,u=r.c&&o===l-1?0:o+1,d=(a-c)/i[o].addedLength;s=bez.getPointInSegment(r.v[h],r.v[u],r.o[h],r.i[u],d,i[o]);break}c+=i[o].addedLength,o+=1}return s||(s=r.c?[r.v[0][0],r.v[0][1]]:[r.v[r._length-1][0],r.v[r._length-1][1]]),s},vectorOnPath:function(t,e,r){1==t?t=this.v.c:0==t&&(t=.999);var s=this.pointOnPath(t,e),n=this.pointOnPath(t+.001,e),i=n[0]-s[0],a=n[1]-s[1],o=Math.sqrt(Math.pow(i,2)+Math.pow(a,2));return 0===o?[0,0]:"tangent"===r?[i/o,a/o]:[-a/o,i/o]},tangentOnPath:function(t,e){return this.vectorOnPath(t,e,"tangent")},normalOnPath:function(t,e){return this.vectorOnPath(t,e,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([c],o),extendPrototype([c],l),l.prototype.getValueAtTime=function(t){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<t?this._caching.lastIndex:0,this._cachingAtTime.lastTime=t,this.interpolateShape(t,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},l.prototype.initiateExpression=ExpressionManager.initiateExpression;var h=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(t,e,r,s,n){var i=h(t,e,r,s,n);return i.propertyIndex=e.ix,i.lock=!1,3===r?expressionHelpers.searchExpressions(t,e.pt,i):4===r&&expressionHelpers.searchExpressions(t,e.ks,i),i.k&&t.addDynamicProperty(i),i}}function initialize$1(){addPropertyDecorator()}function addDecorator(){TextProperty.prototype.getExpressionValue=function(t,e){var r=this.calculateExpression(e);if(t.t!==r){var s={};return this.copyData(s,t),s.t=r.toString(),s.__complete=!1,s}return t},TextProperty.prototype.searchProperty=function(){var t=this.searchKeyframes(),e=this.searchExpressions();return this.kf=t||e,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function(t,e){var r,s,n=createNS("feMerge");for(n.setAttribute("result",t),s=0;s<e.length;s+=1)(r=createNS("feMergeNode")).setAttribute("in",e[s]),n.appendChild(r),n.appendChild(r);return n}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(t,e,r,s,n){this.filterManager=e;var i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","linearRGB"),i.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=i,i.setAttribute("result",s+"_tint_1"),t.appendChild(i),(i=createNS("feColorMatrix")).setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),i.setAttribute("result",s+"_tint_2"),t.appendChild(i),this.matrixFilter=i;var a=this.createMergeNode(s,[n,s+"_tint_1",s+"_tint_2"]);t.appendChild(a)}function SVGFillFilter(t,e,r,s){this.filterManager=e;var n=createNS("feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),n.setAttribute("result",s),t.appendChild(n),this.matrixFilter=n}function SVGStrokeEffect(t,e,r){this.initialized=!1,this.filterManager=e,this.elem=r,this.paths=[]}function SVGTritoneFilter(t,e,r,s){this.filterManager=e;var n=createNS("feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","linearRGB"),n.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),t.appendChild(n);var i=createNS("feComponentTransfer");i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("result",s),this.matrixFilter=i;var a=createNS("feFuncR");a.setAttribute("type","table"),i.appendChild(a),this.feFuncR=a;var o=createNS("feFuncG");o.setAttribute("type","table"),i.appendChild(o),this.feFuncG=o;var l=createNS("feFuncB");l.setAttribute("type","table"),i.appendChild(l),this.feFuncB=l,t.appendChild(i)}function SVGProLevelsFilter(t,e,r,s){this.filterManager=e;var n=this.filterManager.effectElements,i=createNS("feComponentTransfer");(n[10].p.k||0!==n[10].p.v||n[11].p.k||1!==n[11].p.v||n[12].p.k||1!==n[12].p.v||n[13].p.k||0!==n[13].p.v||n[14].p.k||1!==n[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",i)),(n[17].p.k||0!==n[17].p.v||n[18].p.k||1!==n[18].p.v||n[19].p.k||1!==n[19].p.v||n[20].p.k||0!==n[20].p.v||n[21].p.k||1!==n[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",i)),(n[24].p.k||0!==n[24].p.v||n[25].p.k||1!==n[25].p.v||n[26].p.k||1!==n[26].p.v||n[27].p.k||0!==n[27].p.v||n[28].p.k||1!==n[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",i)),(n[31].p.k||0!==n[31].p.v||n[32].p.k||1!==n[32].p.v||n[33].p.k||1!==n[33].p.v||n[34].p.k||0!==n[34].p.v||n[35].p.k||1!==n[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",i)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(i.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(i)),(n[3].p.k||0!==n[3].p.v||n[4].p.k||1!==n[4].p.v||n[5].p.k||1!==n[5].p.v||n[6].p.k||0!==n[6].p.v||n[7].p.k||1!==n[7].p.v)&&((i=createNS("feComponentTransfer")).setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("result",s),t.appendChild(i),this.feFuncRComposed=this.createFeFunc("feFuncR",i),this.feFuncGComposed=this.createFeFunc("feFuncG",i),this.feFuncBComposed=this.createFeFunc("feFuncB",i))}function SVGDropShadowEffect(t,e,r,s,n){var i=e.container.globalData.renderConfig.filterSize,a=e.data.fs||i;t.setAttribute("x",a.x||i.x),t.setAttribute("y",a.y||i.y),t.setAttribute("width",a.width||i.width),t.setAttribute("height",a.height||i.height),this.filterManager=e;var o=createNS("feGaussianBlur");o.setAttribute("in","SourceAlpha"),o.setAttribute("result",s+"_drop_shadow_1"),o.setAttribute("stdDeviation","0"),this.feGaussianBlur=o,t.appendChild(o);var l=createNS("feOffset");l.setAttribute("dx","25"),l.setAttribute("dy","0"),l.setAttribute("in",s+"_drop_shadow_1"),l.setAttribute("result",s+"_drop_shadow_2"),this.feOffset=l,t.appendChild(l);var c=createNS("feFlood");c.setAttribute("flood-color","#00ff00"),c.setAttribute("flood-opacity","1"),c.setAttribute("result",s+"_drop_shadow_3"),this.feFlood=c,t.appendChild(c);var h=createNS("feComposite");h.setAttribute("in",s+"_drop_shadow_3"),h.setAttribute("in2",s+"_drop_shadow_2"),h.setAttribute("operator","in"),h.setAttribute("result",s+"_drop_shadow_4"),t.appendChild(h);var u=this.createMergeNode(s,[s+"_drop_shadow_4",n]);t.appendChild(u)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,s=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+s+" 0"),this.matrixFilter.setAttribute("values",r[0]-e[0]+" 0 0 0 "+e[0]+" "+(r[1]-e[1])+" 0 0 0 "+e[1]+" "+(r[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 1 0")}},SVGFillFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[2].p.v,r=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+r+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var t,e,r,s,n=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(s=this.elem.maskManager.masksProperties.length,r=0):s=1+(r=this.filterManager.effectElements[0].p.v-1),(e=createNS("g")).setAttribute("fill","none"),e.setAttribute("stroke-linecap","round"),e.setAttribute("stroke-dashoffset",1);r<s;r+=1)t=createNS("path"),e.appendChild(t),this.paths.push({p:t,m:r});if(3===this.filterManager.effectElements[10].p.v){var i=createNS("mask"),a=createElementID();i.setAttribute("id",a),i.setAttribute("mask-type","alpha"),i.appendChild(e),this.elem.globalData.defs.appendChild(i);var o=createNS("g");for(o.setAttribute("mask","url("+getLocationHref()+"#"+a+")");n[0];)o.appendChild(n[0]);this.elem.layerElement.appendChild(o),this.masker=i,e.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(n=this.elem.layerElement.children||this.elem.layerElement.childNodes;n.length;)this.elem.layerElement.removeChild(n[0]);this.elem.layerElement.appendChild(e),this.elem.layerElement.removeAttribute("mask"),e.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=e},SVGStrokeEffect.prototype.renderFrame=function(t){var e;this.initialized||this.initialize();var r,s,n=this.paths.length;for(e=0;e<n;e+=1)if(-1!==this.paths[e].m&&(r=this.elem.maskManager.viewData[this.paths[e].m],s=this.paths[e].p,(t||this.filterManager._mdf||r.prop._mdf)&&s.setAttribute("d",r.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||r.prop._mdf)){var i;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var a=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),o=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),l=s.getTotalLength();i="0 0 0 "+l*a+" ";var c,h=l*(o-a),u=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01,d=Math.floor(h/u);for(c=0;c<d;c+=1)i+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";i+="0 "+10*l+" 0 0"}else i="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;s.setAttribute("stroke-dasharray",i)}if((t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(t||this.filterManager.effectElements[3].p._mdf)){var p=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*p[0])+","+bmFloor(255*p[1])+","+bmFloor(255*p[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,s=this.filterManager.effectElements[2].p.v,n=s[0]+" "+r[0]+" "+e[0],i=s[1]+" "+r[1]+" "+e[1],a=s[2]+" "+r[2]+" "+e[2];this.feFuncR.setAttribute("tableValues",n),this.feFuncG.setAttribute("tableValues",i),this.feFuncB.setAttribute("tableValues",a)}},SVGProLevelsFilter.prototype.createFeFunc=function(t,e){var r=createNS(t);return r.setAttribute("type","table"),e.appendChild(r),r},SVGProLevelsFilter.prototype.getTableValue=function(t,e,r,s,n){for(var i,a,o=0,l=Math.min(t,e),c=Math.max(t,e),h=Array.call(null,{length:256}),u=0,d=n-s,p=e-t;o<=256;)a=(i=o/256)<=l?p<0?n:s:i>=c?p<0?s:n:s+d*Math.pow((i-t)/p,1/r),h[u]=a,u+=1,o+=256/255;return h.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e,r=this.filterManager.effectElements;this.feFuncRComposed&&(t||r[3].p._mdf||r[4].p._mdf||r[5].p._mdf||r[6].p._mdf||r[7].p._mdf)&&(e=this.getTableValue(r[3].p.v,r[4].p.v,r[5].p.v,r[6].p.v,r[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(t||r[10].p._mdf||r[11].p._mdf||r[12].p._mdf||r[13].p._mdf||r[14].p._mdf)&&(e=this.getTableValue(r[10].p.v,r[11].p.v,r[12].p.v,r[13].p.v,r[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(t||r[17].p._mdf||r[18].p._mdf||r[19].p._mdf||r[20].p._mdf||r[21].p._mdf)&&(e=this.getTableValue(r[17].p.v,r[18].p.v,r[19].p.v,r[20].p.v,r[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(t||r[24].p._mdf||r[25].p._mdf||r[26].p._mdf||r[27].p._mdf||r[28].p._mdf)&&(e=this.getTableValue(r[24].p.v,r[25].p.v,r[26].p.v,r[27].p.v,r[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(t||r[31].p._mdf||r[32].p._mdf||r[33].p._mdf||r[34].p._mdf||r[35].p._mdf)&&(e=this.getTableValue(r[31].p.v,r[32].p.v,r[33].p.v,r[34].p.v,r[35].p.v),this.feFuncA.setAttribute("tableValues",e))}},extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){if((t||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),t||this.filterManager.effectElements[0].p._mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*e[0]),Math.round(255*e[1]),Math.round(255*e[2])))}if((t||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),t||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var r=this.filterManager.effectElements[3].p.v,s=(this.filterManager.effectElements[2].p.v-90)*degToRads,n=r*Math.cos(s),i=r*Math.sin(s);this.feOffset.setAttribute("dx",n),this.feOffset.setAttribute("dy",i)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(t,e,r){this.initialized=!1,this.filterManager=e,this.filterElem=t,this.elem=r,r.matteElement=createNS("g"),r.matteElement.appendChild(r.layerElement),r.matteElement.appendChild(r.transformedElement),r.baseElement=r.matteElement}function SVGGaussianBlurEffect(t,e,r,s){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","300%"),t.setAttribute("height","300%"),this.filterManager=e;var n=createNS("feGaussianBlur");n.setAttribute("result",s),t.appendChild(n),this.feGaussianBlur=n}function TransformEffect(){}function SVGTransformEffect(t,e){this.init(e)}function CVTransformEffect(t){this.init(t)}return SVGMatte3Effect.prototype.findSymbol=function(t){for(var e=0,r=_svgMatteSymbols.length;e<r;){if(_svgMatteSymbols[e]===t)return _svgMatteSymbols[e];e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(t,e){var r=t.layerElement.parentNode;if(r){for(var s,n=r.children,i=0,a=n.length;i<a&&n[i]!==t.layerElement;)i+=1;i<=a-2&&(s=n[i+1]);var o=createNS("use");o.setAttribute("href","#"+e),s?r.insertBefore(o,s):r.appendChild(o)}},SVGMatte3Effect.prototype.setElementAsMask=function(t,e){if(!this.findSymbol(e)){var r=createElementID(),s=createNS("mask");s.setAttribute("id",e.layerId),s.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(e);var n=t.globalData.defs;n.appendChild(s);var i=createNS("symbol");i.setAttribute("id",r),this.replaceInParent(e,r),i.appendChild(e.layerElement),n.appendChild(i);var a=createNS("use");a.setAttribute("href","#"+r),s.appendChild(a),e.data.hd=!1,e.show()}t.setMatte(e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,e=this.elem.comp.elements,r=0,s=e.length;r<s;)e[r]&&e[r].data.ind===t&&this.setElementAsMask(this.elem,e[r]),r+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGGaussianBlurEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=.3*this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,s=3==r?0:e,n=2==r?0:e;this.feGaussianBlur.setAttribute("stdDeviation",s+" "+n);var i=1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",i)}},TransformEffect.prototype.init=function(t){this.effectsManager=t,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(t){if(this._opMdf=!1,this._mdf=!1,t||this.effectsManager._mdf){var e=this.effectsManager.effectElements,r=e[0].p.v,s=e[1].p.v,n=1===e[2].p.v,i=e[3].p.v,a=n?i:e[4].p.v,o=e[5].p.v,l=e[6].p.v,c=e[7].p.v;this.matrix.reset(),this.matrix.translate(-r[0],-r[1],r[2]),this.matrix.scale(.01*a,.01*i,1),this.matrix.rotate(-c*degToRads),this.matrix.skewFromAxis(-o*degToRads,(l+90)*degToRads),this.matrix.translate(s[0],s[1],0),this._mdf=!0,this.opacity!==e[8].p.v&&(this.opacity=e[8].p.v,this._opMdf=!0)}},extendPrototype([TransformEffect],SVGTransformEffect),extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie},module.exports=factory())},5112:t=>{var e=function(t){null==t&&(t=(new Date).getTime()),this.N=624,this.M=397,this.MATRIX_A=2567483615,this.UPPER_MASK=2147483648,this.LOWER_MASK=2147483647,this.mt=new Array(this.N),this.mti=this.N+1,t.constructor==Array?this.init_by_array(t,t.length):this.init_seed(t)};e.prototype.init_seed=function(t){for(this.mt[0]=t>>>0,this.mti=1;this.mti<this.N;this.mti++){t=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30;this.mt[this.mti]=(1812433253*((4294901760&t)>>>16)<<16)+1812433253*(65535&t)+this.mti,this.mt[this.mti]>>>=0}},e.prototype.init_by_array=function(t,e){var r,s,n;for(this.init_seed(19650218),r=1,s=0,n=this.N>e?this.N:e;n;n--){var i=this.mt[r-1]^this.mt[r-1]>>>30;this.mt[r]=(this.mt[r]^(1664525*((4294901760&i)>>>16)<<16)+1664525*(65535&i))+t[s]+s,this.mt[r]>>>=0,s++,++r>=this.N&&(this.mt[0]=this.mt[this.N-1],r=1),s>=e&&(s=0)}for(n=this.N-1;n;n--){i=this.mt[r-1]^this.mt[r-1]>>>30;this.mt[r]=(this.mt[r]^(1566083941*((4294901760&i)>>>16)<<16)+1566083941*(65535&i))-r,this.mt[r]>>>=0,++r>=this.N&&(this.mt[0]=this.mt[this.N-1],r=1)}this.mt[0]=2147483648},e.prototype.random_int=function(){var t,e=new Array(0,this.MATRIX_A);if(this.mti>=this.N){var r;for(this.mti==this.N+1&&this.init_seed(5489),r=0;r<this.N-this.M;r++)t=this.mt[r]&this.UPPER_MASK|this.mt[r+1]&this.LOWER_MASK,this.mt[r]=this.mt[r+this.M]^t>>>1^e[1&t];for(;r<this.N-1;r++)t=this.mt[r]&this.UPPER_MASK|this.mt[r+1]&this.LOWER_MASK,this.mt[r]=this.mt[r+(this.M-this.N)]^t>>>1^e[1&t];t=this.mt[this.N-1]&this.UPPER_MASK|this.mt[0]&this.LOWER_MASK,this.mt[this.N-1]=this.mt[this.M-1]^t>>>1^e[1&t],this.mti=0}return t=this.mt[this.mti++],t^=t>>>11,t^=t<<7&2636928640,t^=t<<15&4022730752,(t^=t>>>18)>>>0},e.prototype.random_int31=function(){return this.random_int()>>>1},e.prototype.random_incl=function(){return this.random_int()*(1/4294967295)},e.prototype.random=function(){return this.random_int()*(1/4294967296)},e.prototype.random_excl=function(){return(this.random_int()+.5)*(1/4294967296)},e.prototype.random_long=function(){return(67108864*(this.random_int()>>>5)+(this.random_int()>>>6))*(1/9007199254740992)},t.exports=e},6152:(t,e,r)=>{"use strict";var s=r(6759),n=Array.prototype.concat,i=Array.prototype.slice,a=t.exports=function(t){for(var e=[],r=0,a=t.length;r<a;r++){var o=t[r];s(o)?e=n.call(e,i.call(o)):e.push(o)}return e};a.wrap=function(t){return function(){return t(a(arguments))}}},4867:(t,e,r)=>{var s;if("object"==typeof globalThis)s=globalThis;else try{s=r(5670)}catch(t){}finally{if(s||"undefined"==typeof window||(s=window),!s)throw new Error("Could not determine global this")}var n=s.WebSocket||s.MozWebSocket,i=r(6408);function a(t,e){return e?new n(t,e):new n(t)}n&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach((function(t){Object.defineProperty(a,t,{get:function(){return n[t]}})})),t.exports={w3cwebsocket:n?a:null,version:i}},6408:(t,e,r)=>{t.exports=r(269).version},8099:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=r(7117);function n(t,e,r){return void 0===e&&(e=new Uint8Array(2)),void 0===r&&(r=0),e[r+0]=t>>>8,e[r+1]=t>>>0,e}function i(t,e,r){return void 0===e&&(e=new Uint8Array(2)),void 0===r&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e}function a(t,e){return void 0===e&&(e=0),t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function o(t,e){return void 0===e&&(e=0),(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}function l(t,e){return void 0===e&&(e=0),t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}function c(t,e){return void 0===e&&(e=0),(t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e])>>>0}function h(t,e,r){return void 0===e&&(e=new Uint8Array(4)),void 0===r&&(r=0),e[r+0]=t>>>24,e[r+1]=t>>>16,e[r+2]=t>>>8,e[r+3]=t>>>0,e}function u(t,e,r){return void 0===e&&(e=new Uint8Array(4)),void 0===r&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24,e}function d(t,e,r){return void 0===e&&(e=new Uint8Array(8)),void 0===r&&(r=0),h(t/4294967296>>>0,e,r),h(t>>>0,e,r+4),e}function p(t,e,r){return void 0===e&&(e=new Uint8Array(8)),void 0===r&&(r=0),u(t>>>0,e,r),u(t/4294967296>>>0,e,r+4),e}e.readInt16BE=function(t,e){return void 0===e&&(e=0),(t[e+0]<<8|t[e+1])<<16>>16},e.readUint16BE=function(t,e){return void 0===e&&(e=0),(t[e+0]<<8|t[e+1])>>>0},e.readInt16LE=function(t,e){return void 0===e&&(e=0),(t[e+1]<<8|t[e])<<16>>16},e.readUint16LE=function(t,e){return void 0===e&&(e=0),(t[e+1]<<8|t[e])>>>0},e.writeUint16BE=n,e.writeInt16BE=n,e.writeUint16LE=i,e.writeInt16LE=i,e.readInt32BE=a,e.readUint32BE=o,e.readInt32LE=l,e.readUint32LE=c,e.writeUint32BE=h,e.writeInt32BE=h,e.writeUint32LE=u,e.writeInt32LE=u,e.readInt64BE=function(t,e){void 0===e&&(e=0);var r=a(t,e),s=a(t,e+4);return 4294967296*r+s-4294967296*(s>>31)},e.readUint64BE=function(t,e){return void 0===e&&(e=0),4294967296*o(t,e)+o(t,e+4)},e.readInt64LE=function(t,e){void 0===e&&(e=0);var r=l(t,e);return 4294967296*l(t,e+4)+r-4294967296*(r>>31)},e.readUint64LE=function(t,e){void 0===e&&(e=0);var r=c(t,e);return 4294967296*c(t,e+4)+r},e.writeUint64BE=d,e.writeInt64BE=d,e.writeUint64LE=p,e.writeInt64LE=p,e.readUintBE=function(t,e,r){if(void 0===r&&(r=0),t%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var s=0,n=1,i=t/8+r-1;i>=r;i--)s+=e[i]*n,n*=256;return s},e.readUintLE=function(t,e,r){if(void 0===r&&(r=0),t%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var s=0,n=1,i=r;i<r+t/8;i++)s+=e[i]*n,n*=256;return s},e.writeUintBE=function(t,e,r,n){if(void 0===r&&(r=new Uint8Array(t/8)),void 0===n&&(n=0),t%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!s.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var i=1,a=t/8+n-1;a>=n;a--)r[a]=e/i&255,i*=256;return r},e.writeUintLE=function(t,e,r,n){if(void 0===r&&(r=new Uint8Array(t/8)),void 0===n&&(n=0),t%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!s.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var i=1,a=n;a<n+t/8;a++)r[a]=e/i&255,i*=256;return r},e.readFloat32BE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat32(e)},e.readFloat32LE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat32(e,!0)},e.readFloat64BE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat64(e)},e.readFloat64LE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat64(e,!0)},e.writeFloat32BE=function(t,e,r){return void 0===e&&(e=new Uint8Array(4)),void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat32(r,t),e},e.writeFloat32LE=function(t,e,r){return void 0===e&&(e=new Uint8Array(4)),void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat32(r,t,!0),e},e.writeFloat64BE=function(t,e,r){return void 0===e&&(e=new Uint8Array(8)),void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat64(r,t),e},e.writeFloat64LE=function(t,e,r){return void 0===e&&(e=new Uint8Array(8)),void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat64(r,t,!0),e}},5439:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=r(8099),n=r(7309),i=20;function a(t,e,r){for(var n=1634760805,a=857760878,o=2036477234,l=1797285236,c=r[3]<<24|r[2]<<16|r[1]<<8|r[0],h=r[7]<<24|r[6]<<16|r[5]<<8|r[4],u=r[11]<<24|r[10]<<16|r[9]<<8|r[8],d=r[15]<<24|r[14]<<16|r[13]<<8|r[12],p=r[19]<<24|r[18]<<16|r[17]<<8|r[16],f=r[23]<<24|r[22]<<16|r[21]<<8|r[20],m=r[27]<<24|r[26]<<16|r[25]<<8|r[24],g=r[31]<<24|r[30]<<16|r[29]<<8|r[28],y=e[3]<<24|e[2]<<16|e[1]<<8|e[0],b=e[7]<<24|e[6]<<16|e[5]<<8|e[4],v=e[11]<<24|e[10]<<16|e[9]<<8|e[8],w=e[15]<<24|e[14]<<16|e[13]<<8|e[12],A=n,k=a,E=o,x=l,P=c,C=h,S=u,I=d,_=p,T=f,M=m,D=g,B=y,F=b,O=v,N=w,R=0;R<i;R+=2)P=(P^=_=_+(B=(B^=A=A+P|0)>>>16|B<<16)|0)>>>20|P<<12,C=(C^=T=T+(F=(F^=k=k+C|0)>>>16|F<<16)|0)>>>20|C<<12,S=(S^=M=M+(O=(O^=E=E+S|0)>>>16|O<<16)|0)>>>20|S<<12,I=(I^=D=D+(N=(N^=x=x+I|0)>>>16|N<<16)|0)>>>20|I<<12,S=(S^=M=M+(O=(O^=E=E+S|0)>>>24|O<<8)|0)>>>25|S<<7,I=(I^=D=D+(N=(N^=x=x+I|0)>>>24|N<<8)|0)>>>25|I<<7,C=(C^=T=T+(F=(F^=k=k+C|0)>>>24|F<<8)|0)>>>25|C<<7,P=(P^=_=_+(B=(B^=A=A+P|0)>>>24|B<<8)|0)>>>25|P<<7,C=(C^=M=M+(N=(N^=A=A+C|0)>>>16|N<<16)|0)>>>20|C<<12,S=(S^=D=D+(B=(B^=k=k+S|0)>>>16|B<<16)|0)>>>20|S<<12,I=(I^=_=_+(F=(F^=E=E+I|0)>>>16|F<<16)|0)>>>20|I<<12,P=(P^=T=T+(O=(O^=x=x+P|0)>>>16|O<<16)|0)>>>20|P<<12,I=(I^=_=_+(F=(F^=E=E+I|0)>>>24|F<<8)|0)>>>25|I<<7,P=(P^=T=T+(O=(O^=x=x+P|0)>>>24|O<<8)|0)>>>25|P<<7,S=(S^=D=D+(B=(B^=k=k+S|0)>>>24|B<<8)|0)>>>25|S<<7,C=(C^=M=M+(N=(N^=A=A+C|0)>>>24|N<<8)|0)>>>25|C<<7;s.writeUint32LE(A+n|0,t,0),s.writeUint32LE(k+a|0,t,4),s.writeUint32LE(E+o|0,t,8),s.writeUint32LE(x+l|0,t,12),s.writeUint32LE(P+c|0,t,16),s.writeUint32LE(C+h|0,t,20),s.writeUint32LE(S+u|0,t,24),s.writeUint32LE(I+d|0,t,28),s.writeUint32LE(_+p|0,t,32),s.writeUint32LE(T+f|0,t,36),s.writeUint32LE(M+m|0,t,40),s.writeUint32LE(D+g|0,t,44),s.writeUint32LE(B+y|0,t,48),s.writeUint32LE(F+b|0,t,52),s.writeUint32LE(O+v|0,t,56),s.writeUint32LE(N+w|0,t,60)}function o(t,e,r,s,i){if(void 0===i&&(i=0),32!==t.length)throw new Error("ChaCha: key size must be 32 bytes");if(s.length<r.length)throw new Error("ChaCha: destination is shorter than source");var o,c;if(0===i){if(8!==e.length&&12!==e.length)throw new Error("ChaCha nonce must be 8 or 12 bytes");c=(o=new Uint8Array(16)).length-e.length,o.set(e,c)}else{if(16!==e.length)throw new Error("ChaCha nonce with counter must be 16 bytes");o=e,c=i}for(var h=new Uint8Array(64),u=0;u<r.length;u+=64){a(h,o,t);for(var d=u;d<u+64&&d<r.length;d++)s[d]=r[d]^h[d-u];l(o,0,c)}return n.wipe(h),0===i&&n.wipe(o),s}function l(t,e,r){for(var s=1;r--;)s=s+(255&t[e])|0,t[e]=255&s,s>>>=8,e++;if(s>0)throw new Error("ChaCha: counter overflow")}e.streamXOR=o,e.stream=function(t,e,r,s){return void 0===s&&(s=0),n.wipe(r),o(t,e,r,r,s)}},5501:(t,e,r)=>{"use strict";var s=r(5439),n=r(3027),i=r(7309),a=r(8099),o=r(4153);e.Cv=32,e.WH=12,e.pg=16;var l=new Uint8Array(16),c=function(){function t(t){if(this.nonceLength=e.WH,this.tagLength=e.pg,t.length!==e.Cv)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(t)}return t.prototype.seal=function(t,e,r,n){if(t.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var a=new Uint8Array(16);a.set(t,a.length-t.length);var o=new Uint8Array(32);s.stream(this._key,a,o,4);var l,c=e.length+this.tagLength;if(n){if(n.length!==c)throw new Error("ChaCha20Poly1305: incorrect destination length");l=n}else l=new Uint8Array(c);return s.streamXOR(this._key,a,e,l,4),this._authenticate(l.subarray(l.length-this.tagLength,l.length),o,l.subarray(0,l.length-this.tagLength),r),i.wipe(a),l},t.prototype.open=function(t,e,r,n){if(t.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(e.length<this.tagLength)return null;var a=new Uint8Array(16);a.set(t,a.length-t.length);var l=new Uint8Array(32);s.stream(this._key,a,l,4);var c=new Uint8Array(this.tagLength);if(this._authenticate(c,l,e.subarray(0,e.length-this.tagLength),r),!o.equal(c,e.subarray(e.length-this.tagLength,e.length)))return null;var h,u=e.length-this.tagLength;if(n){if(n.length!==u)throw new Error("ChaCha20Poly1305: incorrect destination length");h=n}else h=new Uint8Array(u);return s.streamXOR(this._key,a,e.subarray(0,e.length-this.tagLength),h,4),i.wipe(a),h},t.prototype.clean=function(){return i.wipe(this._key),this},t.prototype._authenticate=function(t,e,r,s){var o=new n.Poly1305(e);s&&(o.update(s),s.length%16>0&&o.update(l.subarray(s.length%16))),o.update(r),r.length%16>0&&o.update(l.subarray(r.length%16));var c=new Uint8Array(8);s&&a.writeUint64LE(s.length,c),o.update(c),a.writeUint64LE(r.length,c),o.update(c);for(var h=o.digest(),u=0;u<h.length;u++)t[u]=h[u];o.clean(),i.wipe(h),i.wipe(c)},t}();e.OK=c},4153:(t,e)=>{"use strict";function r(t,e){if(t.length!==e.length)return 0;for(var r=0,s=0;s<t.length;s++)r|=t[s]^e[s];return 1&r-1>>>8}Object.defineProperty(e,"__esModule",{value:!0}),e.select=function(t,e,r){return~(t-1)&e|t-1&r},e.lessOrEqual=function(t,e){return(0|t)-(0|e)-1>>>31&1},e.compare=r,e.equal=function(t,e){return 0!==t.length&&0!==e.length&&0!==r(t,e)}},9984:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isSerializableHash=function(t){return void 0!==t.saveState&&void 0!==t.restoreState&&void 0!==t.cleanSavedState}},512:(t,e,r)=>{"use strict";var s=r(5629),n=r(7309),i=function(){function t(t,e,r,n){void 0===r&&(r=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=t,this._info=n;var i=s.hmac(this._hash,r,e);this._hmac=new s.HMAC(t,i),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return t.prototype._fillBuffer=function(){this._counter[0]++;var t=this._counter[0];if(0===t)throw new Error("hkdf: cannot expand more");this._hmac.reset(),t>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},t.prototype.expand=function(t){for(var e=new Uint8Array(t),r=0;r<e.length;r++)this._bufpos===this._buffer.length&&this._fillBuffer(),e[r]=this._buffer[this._bufpos++];return e},t.prototype.clean=function(){this._hmac.clean(),n.wipe(this._buffer),n.wipe(this._counter),this._bufpos=0},t}();e.t=i},5629:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=r(9984),n=r(4153),i=r(7309),a=function(){function t(t,e){this._finished=!1,this._inner=new t,this._outer=new t,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var r=new Uint8Array(this.blockSize);e.length>this.blockSize?this._inner.update(e).finish(r).clean():r.set(e);for(var n=0;n<r.length;n++)r[n]^=54;this._inner.update(r);for(n=0;n<r.length;n++)r[n]^=106;this._outer.update(r),s.isSerializableHash(this._inner)&&s.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),i.wipe(r)}return t.prototype.reset=function(){if(!s.isSerializableHash(this._inner)||!s.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.clean=function(){s.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),s.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},t.prototype.update=function(t){return this._inner.update(t),this},t.prototype.finish=function(t){return this._finished?(this._outer.finish(t),this):(this._inner.finish(t),this._outer.update(t.subarray(0,this.digestLength)).finish(t),this._finished=!0,this)},t.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},t.prototype.saveState=function(){if(!s.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},t.prototype.restoreState=function(t){if(!s.isSerializableHash(this._inner)||!s.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(t),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.cleanSavedState=function(t){if(!s.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(t)},t}();e.HMAC=a,e.hmac=function(t,e,r){var s=new a(t,e);s.update(r);var n=s.digest();return s.clean(),n},e.equal=n.equal},7117:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mul=Math.imul||function(t,e){var r=65535&t,s=65535&e;return r*s+((t>>>16&65535)*s+r*(e>>>16&65535)<<16>>>0)|0},e.add=function(t,e){return t+e|0},e.sub=function(t,e){return t-e|0},e.rotl=function(t,e){return t<<e|t>>>32-e},e.rotr=function(t,e){return t<<32-e|t>>>e},e.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},e.MAX_SAFE_INTEGER=9007199254740991,e.isSafeInteger=function(t){return e.isInteger(t)&&t>=-e.MAX_SAFE_INTEGER&&t<=e.MAX_SAFE_INTEGER}},3027:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=r(4153),n=r(7309);e.DIGEST_LENGTH=16;var i=function(){function t(t){this.digestLength=e.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var r=t[0]|t[1]<<8;this._r[0]=8191&r;var s=t[2]|t[3]<<8;this._r[1]=8191&(r>>>13|s<<3);var n=t[4]|t[5]<<8;this._r[2]=7939&(s>>>10|n<<6);var i=t[6]|t[7]<<8;this._r[3]=8191&(n>>>7|i<<9);var a=t[8]|t[9]<<8;this._r[4]=255&(i>>>4|a<<12),this._r[5]=a>>>1&8190;var o=t[10]|t[11]<<8;this._r[6]=8191&(a>>>14|o<<2);var l=t[12]|t[13]<<8;this._r[7]=8065&(o>>>11|l<<5);var c=t[14]|t[15]<<8;this._r[8]=8191&(l>>>8|c<<8),this._r[9]=c>>>5&127,this._pad[0]=t[16]|t[17]<<8,this._pad[1]=t[18]|t[19]<<8,this._pad[2]=t[20]|t[21]<<8,this._pad[3]=t[22]|t[23]<<8,this._pad[4]=t[24]|t[25]<<8,this._pad[5]=t[26]|t[27]<<8,this._pad[6]=t[28]|t[29]<<8,this._pad[7]=t[30]|t[31]<<8}return t.prototype._blocks=function(t,e,r){for(var s=this._fin?0:2048,n=this._h[0],i=this._h[1],a=this._h[2],o=this._h[3],l=this._h[4],c=this._h[5],h=this._h[6],u=this._h[7],d=this._h[8],p=this._h[9],f=this._r[0],m=this._r[1],g=this._r[2],y=this._r[3],b=this._r[4],v=this._r[5],w=this._r[6],A=this._r[7],k=this._r[8],E=this._r[9];r>=16;){var x=t[e+0]|t[e+1]<<8;n+=8191&x;var P=t[e+2]|t[e+3]<<8;i+=8191&(x>>>13|P<<3);var C=t[e+4]|t[e+5]<<8;a+=8191&(P>>>10|C<<6);var S=t[e+6]|t[e+7]<<8;o+=8191&(C>>>7|S<<9);var I=t[e+8]|t[e+9]<<8;l+=8191&(S>>>4|I<<12),c+=I>>>1&8191;var _=t[e+10]|t[e+11]<<8;h+=8191&(I>>>14|_<<2);var T=t[e+12]|t[e+13]<<8;u+=8191&(_>>>11|T<<5);var M=t[e+14]|t[e+15]<<8,D=0,B=D;B+=n*f,B+=i*(5*E),B+=a*(5*k),B+=o*(5*A),D=(B+=l*(5*w))>>>13,B&=8191,B+=c*(5*v),B+=h*(5*b),B+=u*(5*y),B+=(d+=8191&(T>>>8|M<<8))*(5*g);var F=D+=(B+=(p+=M>>>5|s)*(5*m))>>>13;F+=n*m,F+=i*f,F+=a*(5*E),F+=o*(5*k),D=(F+=l*(5*A))>>>13,F&=8191,F+=c*(5*w),F+=h*(5*v),F+=u*(5*b),F+=d*(5*y),D+=(F+=p*(5*g))>>>13,F&=8191;var O=D;O+=n*g,O+=i*m,O+=a*f,O+=o*(5*E),D=(O+=l*(5*k))>>>13,O&=8191,O+=c*(5*A),O+=h*(5*w),O+=u*(5*v),O+=d*(5*b);var N=D+=(O+=p*(5*y))>>>13;N+=n*y,N+=i*g,N+=a*m,N+=o*f,D=(N+=l*(5*E))>>>13,N&=8191,N+=c*(5*k),N+=h*(5*A),N+=u*(5*w),N+=d*(5*v);var R=D+=(N+=p*(5*b))>>>13;R+=n*b,R+=i*y,R+=a*g,R+=o*m,D=(R+=l*f)>>>13,R&=8191,R+=c*(5*E),R+=h*(5*k),R+=u*(5*A),R+=d*(5*w);var L=D+=(R+=p*(5*v))>>>13;L+=n*v,L+=i*b,L+=a*y,L+=o*g,D=(L+=l*m)>>>13,L&=8191,L+=c*f,L+=h*(5*E),L+=u*(5*k),L+=d*(5*A);var U=D+=(L+=p*(5*w))>>>13;U+=n*w,U+=i*v,U+=a*b,U+=o*y,D=(U+=l*g)>>>13,U&=8191,U+=c*m,U+=h*f,U+=u*(5*E),U+=d*(5*k);var j=D+=(U+=p*(5*A))>>>13;j+=n*A,j+=i*w,j+=a*v,j+=o*b,D=(j+=l*y)>>>13,j&=8191,j+=c*g,j+=h*m,j+=u*f,j+=d*(5*E);var G=D+=(j+=p*(5*k))>>>13;G+=n*k,G+=i*A,G+=a*w,G+=o*v,D=(G+=l*b)>>>13,G&=8191,G+=c*y,G+=h*g,G+=u*m,G+=d*f;var V=D+=(G+=p*(5*E))>>>13;V+=n*E,V+=i*k,V+=a*A,V+=o*w,D=(V+=l*v)>>>13,V&=8191,V+=c*b,V+=h*y,V+=u*g,V+=d*m,n=B=8191&(D=(D=((D+=(V+=p*f)>>>13)<<2)+D|0)+(B&=8191)|0),i=F+=D>>>=13,a=O&=8191,o=N&=8191,l=R&=8191,c=L&=8191,h=U&=8191,u=j&=8191,d=G&=8191,p=V&=8191,e+=16,r-=16}this._h[0]=n,this._h[1]=i,this._h[2]=a,this._h[3]=o,this._h[4]=l,this._h[5]=c,this._h[6]=h,this._h[7]=u,this._h[8]=d,this._h[9]=p},t.prototype.finish=function(t,e){void 0===e&&(e=0);var r,s,n,i,a=new Uint16Array(10);if(this._leftover){for(i=this._leftover,this._buffer[i++]=1;i<16;i++)this._buffer[i]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(r=this._h[1]>>>13,this._h[1]&=8191,i=2;i<10;i++)this._h[i]+=r,r=this._h[i]>>>13,this._h[i]&=8191;for(this._h[0]+=5*r,r=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=r,r=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=r,a[0]=this._h[0]+5,r=a[0]>>>13,a[0]&=8191,i=1;i<10;i++)a[i]=this._h[i]+r,r=a[i]>>>13,a[i]&=8191;for(a[9]-=8192,s=(1^r)-1,i=0;i<10;i++)a[i]&=s;for(s=~s,i=0;i<10;i++)this._h[i]=this._h[i]&s|a[i];for(this._h[0]=65535&(this._h[0]|this._h[1]<<13),this._h[1]=65535&(this._h[1]>>>3|this._h[2]<<10),this._h[2]=65535&(this._h[2]>>>6|this._h[3]<<7),this._h[3]=65535&(this._h[3]>>>9|this._h[4]<<4),this._h[4]=65535&(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14),this._h[5]=65535&(this._h[6]>>>2|this._h[7]<<11),this._h[6]=65535&(this._h[7]>>>5|this._h[8]<<8),this._h[7]=65535&(this._h[8]>>>8|this._h[9]<<5),n=this._h[0]+this._pad[0],this._h[0]=65535&n,i=1;i<8;i++)n=(this._h[i]+this._pad[i]|0)+(n>>>16)|0,this._h[i]=65535&n;return t[e+0]=this._h[0]>>>0,t[e+1]=this._h[0]>>>8,t[e+2]=this._h[1]>>>0,t[e+3]=this._h[1]>>>8,t[e+4]=this._h[2]>>>0,t[e+5]=this._h[2]>>>8,t[e+6]=this._h[3]>>>0,t[e+7]=this._h[3]>>>8,t[e+8]=this._h[4]>>>0,t[e+9]=this._h[4]>>>8,t[e+10]=this._h[5]>>>0,t[e+11]=this._h[5]>>>8,t[e+12]=this._h[6]>>>0,t[e+13]=this._h[6]>>>8,t[e+14]=this._h[7]>>>0,t[e+15]=this._h[7]>>>8,this._finished=!0,this},t.prototype.update=function(t){var e,r=0,s=t.length;if(this._leftover){(e=16-this._leftover)>s&&(e=s);for(var n=0;n<e;n++)this._buffer[this._leftover+n]=t[r+n];if(s-=e,r+=e,this._leftover+=e,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(s>=16&&(e=s-s%16,this._blocks(t,r,e),r+=e,s-=e),s){for(n=0;n<s;n++)this._buffer[this._leftover+n]=t[r+n];this._leftover+=s}return this},t.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var t=new Uint8Array(16);return this.finish(t),t},t.prototype.clean=function(){return n.wipe(this._buffer),n.wipe(this._r),n.wipe(this._h),n.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},t}();e.Poly1305=i,e.oneTimeAuth=function(t,e){var r=new i(t);r.update(e);var s=r.digest();return r.clean(),s},e.equal=function(t,r){return t.length===e.DIGEST_LENGTH&&r.length===e.DIGEST_LENGTH&&s.equal(t,r)}},1416:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.randomStringForEntropy=e.randomString=e.randomUint32=e.randomBytes=e.defaultRandomSource=void 0;const s=r(6008),n=r(8099),i=r(7309);function a(t,r=e.defaultRandomSource){return r.randomBytes(t)}e.defaultRandomSource=new s.SystemRandomSource,e.randomBytes=a,e.randomUint32=function(t=e.defaultRandomSource){const r=a(4,t),s=(0,n.readUint32LE)(r);return(0,i.wipe)(r),s};const o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function l(t,r=o,s=e.defaultRandomSource){if(r.length<2)throw new Error("randomString charset is too short");if(r.length>256)throw new Error("randomString charset is too long");let n="";const l=r.length,c=256-256%l;for(;t>0;){const e=a(Math.ceil(256*t/c),s);for(let s=0;s<e.length&&t>0;s++){const i=e[s];i<c&&(n+=r.charAt(i%l),t--)}(0,i.wipe)(e)}return n}e.randomString=l,e.randomStringForEntropy=function(t,r=o,s=e.defaultRandomSource){return l(Math.ceil(t/(Math.log(r.length)/Math.LN2)),r,s)}},5455:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserRandomSource=void 0;e.BrowserRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const t="undefined"!=typeof self?self.crypto||self.msCrypto:null;t&&void 0!==t.getRandomValues&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const e=new Uint8Array(t);for(let t=0;t<e.length;t+=65536)this._crypto.getRandomValues(e.subarray(t,t+Math.min(e.length-t,65536)));return e}}},8871:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NodeRandomSource=void 0;const s=r(7309);e.NodeRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{const t=r(5883);t&&t.randomBytes&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let e=this._crypto.randomBytes(t);if(e.length!==t)throw new Error("NodeRandomSource: got fewer bytes than requested");const r=new Uint8Array(t);for(let t=0;t<r.length;t++)r[t]=e[t];return(0,s.wipe)(e),r}}},6008:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SystemRandomSource=void 0;const s=r(5455),n=r(8871);e.SystemRandomSource=class{constructor(){return this.isAvailable=!1,this.name="",this._source=new s.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new n.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}randomBytes(t){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(t)}}},3294:(t,e,r)=>{"use strict";var s=r(8099),n=r(7309);e.k=32,e.cn=64;var i=function(){function t(){this.digestLength=e.k,this.blockSize=e.cn,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return t.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},t.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},t.prototype.clean=function(){n.wipe(this._buffer),n.wipe(this._temp),this.reset()},t.prototype.update=function(t,e){if(void 0===e&&(e=t.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var r=0;if(this._bytesHashed+=e,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&e>0;)this._buffer[this._bufferLength++]=t[r++],e--;this._bufferLength===this.blockSize&&(o(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(e>=this.blockSize&&(r=o(this._temp,this._state,t,r,e),e%=this.blockSize);e>0;)this._buffer[this._bufferLength++]=t[r++],e--;return this},t.prototype.finish=function(t){if(!this._finished){var e=this._bytesHashed,r=this._bufferLength,n=e/536870912|0,i=e<<3,a=e%64<56?64:128;this._buffer[r]=128;for(var l=r+1;l<a-8;l++)this._buffer[l]=0;s.writeUint32BE(n,this._buffer,a-8),s.writeUint32BE(i,this._buffer,a-4),o(this._temp,this._state,this._buffer,0,a),this._finished=!0}for(l=0;l<this.digestLength/4;l++)s.writeUint32BE(this._state[l],t,4*l);return this},t.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},t.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},t.prototype.restoreState=function(t){return this._state.set(t.state),this._bufferLength=t.bufferLength,t.buffer&&this._buffer.set(t.buffer),this._bytesHashed=t.bytesHashed,this._finished=!1,this},t.prototype.cleanSavedState=function(t){n.wipe(t.state),t.buffer&&n.wipe(t.buffer),t.bufferLength=0,t.bytesHashed=0},t}();e.mE=i;var a=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function o(t,e,r,n,i){for(;i>=64;){for(var o=e[0],l=e[1],c=e[2],h=e[3],u=e[4],d=e[5],p=e[6],f=e[7],m=0;m<16;m++){var g=n+4*m;t[m]=s.readUint32BE(r,g)}for(m=16;m<64;m++){var y=t[m-2],b=(y>>>17|y<<15)^(y>>>19|y<<13)^y>>>10,v=((y=t[m-15])>>>7|y<<25)^(y>>>18|y<<14)^y>>>3;t[m]=(b+t[m-7]|0)+(v+t[m-16]|0)}for(m=0;m<64;m++){b=(((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))+(u&d^~u&p)|0)+(f+(a[m]+t[m]|0)|0)|0,v=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&l^o&c^l&c)|0;f=p,p=d,d=u,u=h+b|0,h=c,c=l,l=o,o=b+v|0}e[0]+=o,e[1]+=l,e[2]+=c,e[3]+=h,e[4]+=u,e[5]+=d,e[6]+=p,e[7]+=f,n+=64,i-=64}return n}e.vp=function(t){var e=new i;e.update(t);var r=e.digest();return e.clean(),r}},7309:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.wipe=function(t){for(var e=0;e<t.length;e++)t[e]=0;return t}},7664:(t,e,r)=>{"use strict";e.gi=e.Au=e.KS=e.kz=void 0;const s=r(1416),n=r(7309);function i(t){const e=new Float64Array(16);if(t)for(let r=0;r<t.length;r++)e[r]=t[r];return e}e.kz=32,e.KS=32;const a=new Uint8Array(32);a[0]=9;const o=i([56129,1]);function l(t){let e=1;for(let r=0;r<16;r++){let s=t[r]+e+65535;e=Math.floor(s/65536),t[r]=s-65536*e}t[0]+=e-1+37*(e-1)}function c(t,e,r){const s=~(r-1);for(let r=0;r<16;r++){const n=s&(t[r]^e[r]);t[r]^=n,e[r]^=n}}function h(t,e,r){for(let s=0;s<16;s++)t[s]=e[s]+r[s]}function u(t,e,r){for(let s=0;s<16;s++)t[s]=e[s]-r[s]}function d(t,e,r){let s,n,i=0,a=0,o=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,m=0,g=0,y=0,b=0,v=0,w=0,A=0,k=0,E=0,x=0,P=0,C=0,S=0,I=0,_=0,T=0,M=0,D=0,B=0,F=0,O=0,N=r[0],R=r[1],L=r[2],U=r[3],j=r[4],G=r[5],V=r[6],z=r[7],Q=r[8],H=r[9],q=r[10],K=r[11],W=r[12],J=r[13],Y=r[14],Z=r[15];s=e[0],i+=s*N,a+=s*R,o+=s*L,l+=s*U,c+=s*j,h+=s*G,u+=s*V,d+=s*z,p+=s*Q,f+=s*H,m+=s*q,g+=s*K,y+=s*W,b+=s*J,v+=s*Y,w+=s*Z,s=e[1],a+=s*N,o+=s*R,l+=s*L,c+=s*U,h+=s*j,u+=s*G,d+=s*V,p+=s*z,f+=s*Q,m+=s*H,g+=s*q,y+=s*K,b+=s*W,v+=s*J,w+=s*Y,A+=s*Z,s=e[2],o+=s*N,l+=s*R,c+=s*L,h+=s*U,u+=s*j,d+=s*G,p+=s*V,f+=s*z,m+=s*Q,g+=s*H,y+=s*q,b+=s*K,v+=s*W,w+=s*J,A+=s*Y,k+=s*Z,s=e[3],l+=s*N,c+=s*R,h+=s*L,u+=s*U,d+=s*j,p+=s*G,f+=s*V,m+=s*z,g+=s*Q,y+=s*H,b+=s*q,v+=s*K,w+=s*W,A+=s*J,k+=s*Y,E+=s*Z,s=e[4],c+=s*N,h+=s*R,u+=s*L,d+=s*U,p+=s*j,f+=s*G,m+=s*V,g+=s*z,y+=s*Q,b+=s*H,v+=s*q,w+=s*K,A+=s*W,k+=s*J,E+=s*Y,x+=s*Z,s=e[5],h+=s*N,u+=s*R,d+=s*L,p+=s*U,f+=s*j,m+=s*G,g+=s*V,y+=s*z,b+=s*Q,v+=s*H,w+=s*q,A+=s*K,k+=s*W,E+=s*J,x+=s*Y,P+=s*Z,s=e[6],u+=s*N,d+=s*R,p+=s*L,f+=s*U,m+=s*j,g+=s*G,y+=s*V,b+=s*z,v+=s*Q,w+=s*H,A+=s*q,k+=s*K,E+=s*W,x+=s*J,P+=s*Y,C+=s*Z,s=e[7],d+=s*N,p+=s*R,f+=s*L,m+=s*U,g+=s*j,y+=s*G,b+=s*V,v+=s*z,w+=s*Q,A+=s*H,k+=s*q,E+=s*K,x+=s*W,P+=s*J,C+=s*Y,S+=s*Z,s=e[8],p+=s*N,f+=s*R,m+=s*L,g+=s*U,y+=s*j,b+=s*G,v+=s*V,w+=s*z,A+=s*Q,k+=s*H,E+=s*q,x+=s*K,P+=s*W,C+=s*J,S+=s*Y,I+=s*Z,s=e[9],f+=s*N,m+=s*R,g+=s*L,y+=s*U,b+=s*j,v+=s*G,w+=s*V,A+=s*z,k+=s*Q,E+=s*H,x+=s*q,P+=s*K,C+=s*W,S+=s*J,I+=s*Y,_+=s*Z,s=e[10],m+=s*N,g+=s*R,y+=s*L,b+=s*U,v+=s*j,w+=s*G,A+=s*V,k+=s*z,E+=s*Q,x+=s*H,P+=s*q,C+=s*K,S+=s*W,I+=s*J,_+=s*Y,T+=s*Z,s=e[11],g+=s*N,y+=s*R,b+=s*L,v+=s*U,w+=s*j,A+=s*G,k+=s*V,E+=s*z,x+=s*Q,P+=s*H,C+=s*q,S+=s*K,I+=s*W,_+=s*J,T+=s*Y,M+=s*Z,s=e[12],y+=s*N,b+=s*R,v+=s*L,w+=s*U,A+=s*j,k+=s*G,E+=s*V,x+=s*z,P+=s*Q,C+=s*H,S+=s*q,I+=s*K,_+=s*W,T+=s*J,M+=s*Y,D+=s*Z,s=e[13],b+=s*N,v+=s*R,w+=s*L,A+=s*U,k+=s*j,E+=s*G,x+=s*V,P+=s*z,C+=s*Q,S+=s*H,I+=s*q,_+=s*K,T+=s*W,M+=s*J,D+=s*Y,B+=s*Z,s=e[14],v+=s*N,w+=s*R,A+=s*L,k+=s*U,E+=s*j,x+=s*G,P+=s*V,C+=s*z,S+=s*Q,I+=s*H,_+=s*q,T+=s*K,M+=s*W,D+=s*J,B+=s*Y,F+=s*Z,s=e[15],w+=s*N,A+=s*R,k+=s*L,E+=s*U,x+=s*j,P+=s*G,C+=s*V,S+=s*z,I+=s*Q,_+=s*H,T+=s*q,M+=s*K,D+=s*W,B+=s*J,F+=s*Y,O+=s*Z,i+=38*A,a+=38*k,o+=38*E,l+=38*x,c+=38*P,h+=38*C,u+=38*S,d+=38*I,p+=38*_,f+=38*T,m+=38*M,g+=38*D,y+=38*B,b+=38*F,v+=38*O,n=1,s=i+n+65535,n=Math.floor(s/65536),i=s-65536*n,s=a+n+65535,n=Math.floor(s/65536),a=s-65536*n,s=o+n+65535,n=Math.floor(s/65536),o=s-65536*n,s=l+n+65535,n=Math.floor(s/65536),l=s-65536*n,s=c+n+65535,n=Math.floor(s/65536),c=s-65536*n,s=h+n+65535,n=Math.floor(s/65536),h=s-65536*n,s=u+n+65535,n=Math.floor(s/65536),u=s-65536*n,s=d+n+65535,n=Math.floor(s/65536),d=s-65536*n,s=p+n+65535,n=Math.floor(s/65536),p=s-65536*n,s=f+n+65535,n=Math.floor(s/65536),f=s-65536*n,s=m+n+65535,n=Math.floor(s/65536),m=s-65536*n,s=g+n+65535,n=Math.floor(s/65536),g=s-65536*n,s=y+n+65535,n=Math.floor(s/65536),y=s-65536*n,s=b+n+65535,n=Math.floor(s/65536),b=s-65536*n,s=v+n+65535,n=Math.floor(s/65536),v=s-65536*n,s=w+n+65535,n=Math.floor(s/65536),w=s-65536*n,i+=n-1+37*(n-1),n=1,s=i+n+65535,n=Math.floor(s/65536),i=s-65536*n,s=a+n+65535,n=Math.floor(s/65536),a=s-65536*n,s=o+n+65535,n=Math.floor(s/65536),o=s-65536*n,s=l+n+65535,n=Math.floor(s/65536),l=s-65536*n,s=c+n+65535,n=Math.floor(s/65536),c=s-65536*n,s=h+n+65535,n=Math.floor(s/65536),h=s-65536*n,s=u+n+65535,n=Math.floor(s/65536),u=s-65536*n,s=d+n+65535,n=Math.floor(s/65536),d=s-65536*n,s=p+n+65535,n=Math.floor(s/65536),p=s-65536*n,s=f+n+65535,n=Math.floor(s/65536),f=s-65536*n,s=m+n+65535,n=Math.floor(s/65536),m=s-65536*n,s=g+n+65535,n=Math.floor(s/65536),g=s-65536*n,s=y+n+65535,n=Math.floor(s/65536),y=s-65536*n,s=b+n+65535,n=Math.floor(s/65536),b=s-65536*n,s=v+n+65535,n=Math.floor(s/65536),v=s-65536*n,s=w+n+65535,n=Math.floor(s/65536),w=s-65536*n,i+=n-1+37*(n-1),t[0]=i,t[1]=a,t[2]=o,t[3]=l,t[4]=c,t[5]=h,t[6]=u,t[7]=d,t[8]=p,t[9]=f,t[10]=m,t[11]=g,t[12]=y,t[13]=b,t[14]=v,t[15]=w}function p(t,e){d(t,e,e)}function f(t,e){const r=new Uint8Array(32),s=new Float64Array(80),n=i(),a=i(),f=i(),m=i(),g=i(),y=i();for(let e=0;e<31;e++)r[e]=t[e];r[31]=127&t[31]|64,r[0]&=248,function(t,e){for(let r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}(s,e);for(let t=0;t<16;t++)a[t]=s[t];n[0]=m[0]=1;for(let t=254;t>=0;--t){const e=r[t>>>3]>>>(7&t)&1;c(n,a,e),c(f,m,e),h(g,n,f),u(n,n,f),h(f,a,m),u(a,a,m),p(m,g),p(y,n),d(n,f,n),d(f,a,g),h(g,n,f),u(n,n,f),p(a,n),u(f,m,y),d(n,f,o),h(n,n,m),d(f,f,n),d(n,m,y),d(m,a,s),p(a,g),c(n,a,e),c(f,m,e)}for(let t=0;t<16;t++)s[t+16]=n[t],s[t+32]=f[t],s[t+48]=a[t],s[t+64]=m[t];const b=s.subarray(32),v=s.subarray(16);!function(t,e){const r=i();for(let t=0;t<16;t++)r[t]=e[t];for(let t=253;t>=0;t--)p(r,r),2!==t&&4!==t&&d(r,r,e);for(let e=0;e<16;e++)t[e]=r[e]}(b,b),d(v,v,b);const w=new Uint8Array(32);return function(t,e){const r=i(),s=i();for(let t=0;t<16;t++)s[t]=e[t];l(s),l(s),l(s);for(let t=0;t<2;t++){r[0]=s[0]-65517;for(let t=1;t<15;t++)r[t]=s[t]-65535-(r[t-1]>>16&1),r[t-1]&=65535;r[15]=s[15]-32767-(r[14]>>16&1);const t=r[15]>>16&1;r[14]&=65535,c(s,r,1-t)}for(let e=0;e<16;e++)t[2*e]=255&s[e],t[2*e+1]=s[e]>>8}(w,v),w}function m(t){return f(t,a)}function g(t){if(t.length!==e.KS)throw new Error(`x25519: seed must be ${e.KS} bytes`);const r=new Uint8Array(t);return{publicKey:m(r),secretKey:r}}e.Au=function(t){const e=(0,s.randomBytes)(32,t),r=g(e);return(0,n.wipe)(e),r},e.gi=function(t,r,s=!1){if(t.length!==e.kz)throw new Error("X25519: incorrect secret key length");if(r.length!==e.kz)throw new Error("X25519: incorrect public key length");const n=f(t,r);if(s){let t=0;for(let e=0;e<n.length;e++)t|=n[e];if(0===t)throw new Error("X25519: invalid shared key")}return n}},9528:(t,e,r)=>{"use strict";const s=r(610),n=r(4020),i=r(500),a=r(2806),o=Symbol("encodeFragmentIdentifier");function l(t){if("string"!=typeof t||1!==t.length)throw new TypeError("arrayFormatSeparator must be single character string")}function c(t,e){return e.encode?e.strict?s(t):encodeURIComponent(t):t}function h(t,e){return e.decode?n(t):t}function u(t){return Array.isArray(t)?t.sort():"object"==typeof t?u(Object.keys(t)).sort(((t,e)=>Number(t)-Number(e))).map((e=>t[e])):t}function d(t){const e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function p(t){const e=(t=d(t)).indexOf("?");return-1===e?"":t.slice(e+1)}function f(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"==typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function m(t,e){l((e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e)).arrayFormatSeparator);const r=function(t){let e;switch(t.arrayFormat){case"index":return(t,r,s)=>{e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===s[t]&&(s[t]={}),s[t][e[1]]=r):s[t]=r};case"bracket":return(t,r,s)=>{e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==s[t]?s[t]=[].concat(s[t],r):s[t]=[r]:s[t]=r};case"colon-list-separator":return(t,r,s)=>{e=/(:list)$/.exec(t),t=t.replace(/:list$/,""),e?void 0!==s[t]?s[t]=[].concat(s[t],r):s[t]=[r]:s[t]=r};case"comma":case"separator":return(e,r,s)=>{const n="string"==typeof r&&r.includes(t.arrayFormatSeparator),i="string"==typeof r&&!n&&h(r,t).includes(t.arrayFormatSeparator);r=i?h(r,t):r;const a=n||i?r.split(t.arrayFormatSeparator).map((e=>h(e,t))):null===r?r:h(r,t);s[e]=a};case"bracket-separator":return(e,r,s)=>{const n=/(\[\])$/.test(e);if(e=e.replace(/\[\]$/,""),!n)return void(s[e]=r?h(r,t):r);const i=null===r?[]:r.split(t.arrayFormatSeparator).map((e=>h(e,t)));void 0!==s[e]?s[e]=[].concat(s[e],i):s[e]=i};default:return(t,e,r)=>{void 0!==r[t]?r[t]=[].concat(r[t],e):r[t]=e}}}(e),s=Object.create(null);if("string"!=typeof t)return s;if(!(t=t.trim().replace(/^[?#&]/,"")))return s;for(const n of t.split("&")){if(""===n)continue;let[t,a]=i(e.decode?n.replace(/\+/g," "):n,"=");a=void 0===a?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?a:h(a,e),r(h(t,e),a,s)}for(const t of Object.keys(s)){const r=s[t];if("object"==typeof r&&null!==r)for(const t of Object.keys(r))r[t]=f(r[t],e);else s[t]=f(r,e)}return!1===e.sort?s:(!0===e.sort?Object.keys(s).sort():Object.keys(s).sort(e.sort)).reduce(((t,e)=>{const r=s[e];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?t[e]=u(r):t[e]=r,t}),Object.create(null))}e.extract=p,e.parse=m,e.stringify=(t,e)=>{if(!t)return"";l((e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e)).arrayFormatSeparator);const r=r=>e.skipNull&&null==t[r]||e.skipEmptyString&&""===t[r],s=function(t){switch(t.arrayFormat){case"index":return e=>(r,s)=>{const n=r.length;return void 0===s||t.skipNull&&null===s||t.skipEmptyString&&""===s?r:null===s?[...r,[c(e,t),"[",n,"]"].join("")]:[...r,[c(e,t),"[",c(n,t),"]=",c(s,t)].join("")]};case"bracket":return e=>(r,s)=>void 0===s||t.skipNull&&null===s||t.skipEmptyString&&""===s?r:null===s?[...r,[c(e,t),"[]"].join("")]:[...r,[c(e,t),"[]=",c(s,t)].join("")];case"colon-list-separator":return e=>(r,s)=>void 0===s||t.skipNull&&null===s||t.skipEmptyString&&""===s?r:null===s?[...r,[c(e,t),":list="].join("")]:[...r,[c(e,t),":list=",c(s,t)].join("")];case"comma":case"separator":case"bracket-separator":{const e="bracket-separator"===t.arrayFormat?"[]=":"=";return r=>(s,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?s:(n=null===n?"":n,0===s.length?[[c(r,t),e,c(n,t)].join("")]:[[s,c(n,t)].join(t.arrayFormatSeparator)])}default:return e=>(r,s)=>void 0===s||t.skipNull&&null===s||t.skipEmptyString&&""===s?r:null===s?[...r,c(e,t)]:[...r,[c(e,t),"=",c(s,t)].join("")]}}(e),n={};for(const e of Object.keys(t))r(e)||(n[e]=t[e]);const i=Object.keys(n);return!1!==e.sort&&i.sort(e.sort),i.map((r=>{const n=t[r];return void 0===n?"":null===n?c(r,e):Array.isArray(n)?0===n.length&&"bracket-separator"===e.arrayFormat?c(r,e)+"[]":n.reduce(s(r),[]).join("&"):c(r,e)+"="+c(n,e)})).filter((t=>t.length>0)).join("&")},e.parseUrl=(t,e)=>{e=Object.assign({decode:!0},e);const[r,s]=i(t,"#");return Object.assign({url:r.split("?")[0]||"",query:m(p(t),e)},e&&e.parseFragmentIdentifier&&s?{fragmentIdentifier:h(s,e)}:{})},e.stringifyUrl=(t,r)=>{r=Object.assign({encode:!0,strict:!0,[o]:!0},r);const s=d(t.url).split("?")[0]||"",n=e.extract(t.url),i=e.parse(n,{sort:!1}),a=Object.assign(i,t.query);let l=e.stringify(a,r);l&&(l=`?${l}`);let h=function(t){let e="";const r=t.indexOf("#");return-1!==r&&(e=t.slice(r)),e}(t.url);return t.fragmentIdentifier&&(h=`#${r[o]?c(t.fragmentIdentifier,r):t.fragmentIdentifier}`),`${s}${l}${h}`},e.pick=(t,r,s)=>{s=Object.assign({parseFragmentIdentifier:!0,[o]:!1},s);const{url:n,query:i,fragmentIdentifier:l}=e.parseUrl(t,s);return e.stringifyUrl({url:n,query:a(i,r),fragmentIdentifier:l},s)},e.exclude=(t,r,s)=>{const n=Array.isArray(r)?t=>!r.includes(t):(t,e)=>!r(t,e);return e.pick(t,n,s)}},3368:(t,e,r)=>{"use strict";r.d(e,{RELAY_JSONRPC:()=>s});r(1882);const s={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}}},1882:()=>{},6900:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(4);s.__exportStar(r(6869),e),s.__exportStar(r(8033),e)},6869:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_THOUSAND=e.ONE_HUNDRED=void 0,e.ONE_HUNDRED=100,e.ONE_THOUSAND=1e3},8033:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_YEAR=e.FOUR_WEEKS=e.THREE_WEEKS=e.TWO_WEEKS=e.ONE_WEEK=e.THIRTY_DAYS=e.SEVEN_DAYS=e.FIVE_DAYS=e.THREE_DAYS=e.ONE_DAY=e.TWENTY_FOUR_HOURS=e.TWELVE_HOURS=e.SIX_HOURS=e.THREE_HOURS=e.ONE_HOUR=e.SIXTY_MINUTES=e.THIRTY_MINUTES=e.TEN_MINUTES=e.FIVE_MINUTES=e.ONE_MINUTE=e.SIXTY_SECONDS=e.THIRTY_SECONDS=e.TEN_SECONDS=e.FIVE_SECONDS=e.ONE_SECOND=void 0,e.ONE_SECOND=1,e.FIVE_SECONDS=5,e.TEN_SECONDS=10,e.THIRTY_SECONDS=30,e.SIXTY_SECONDS=60,e.ONE_MINUTE=e.SIXTY_SECONDS,e.FIVE_MINUTES=5*e.ONE_MINUTE,e.TEN_MINUTES=10*e.ONE_MINUTE,e.THIRTY_MINUTES=30*e.ONE_MINUTE,e.SIXTY_MINUTES=60*e.ONE_MINUTE,e.ONE_HOUR=e.SIXTY_MINUTES,e.THREE_HOURS=3*e.ONE_HOUR,e.SIX_HOURS=6*e.ONE_HOUR,e.TWELVE_HOURS=12*e.ONE_HOUR,e.TWENTY_FOUR_HOURS=24*e.ONE_HOUR,e.ONE_DAY=e.TWENTY_FOUR_HOURS,e.THREE_DAYS=3*e.ONE_DAY,e.FIVE_DAYS=5*e.ONE_DAY,e.SEVEN_DAYS=7*e.ONE_DAY,e.THIRTY_DAYS=30*e.ONE_DAY,e.ONE_WEEK=e.SEVEN_DAYS,e.TWO_WEEKS=2*e.ONE_WEEK,e.THREE_WEEKS=3*e.ONE_WEEK,e.FOUR_WEEKS=4*e.ONE_WEEK,e.ONE_YEAR=365*e.ONE_DAY},6736:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(4);s.__exportStar(r(4273),e),s.__exportStar(r(7001),e),s.__exportStar(r(2939),e),s.__exportStar(r(6900),e)},2939:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});r(4).__exportStar(r(8766),e)},8766:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IWatch=void 0;e.IWatch=class{}},3207:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fromMiliseconds=e.toMiliseconds=void 0;const s=r(6900);e.toMiliseconds=function(t){return t*s.ONE_THOUSAND},e.fromMiliseconds=function(t){return Math.floor(t/s.ONE_THOUSAND)}},3873:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.delay=void 0,e.delay=function(t){return new Promise((e=>{setTimeout((()=>{e(!0)}),t)}))}},4273:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(4);s.__exportStar(r(3873),e),s.__exportStar(r(3207),e)},7001:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Watch=void 0;class r{constructor(){this.timestamps=new Map}start(t){if(this.timestamps.has(t))throw new Error(`Watch already started for label: ${t}`);this.timestamps.set(t,{started:Date.now()})}stop(t){const e=this.get(t);if(void 0!==e.elapsed)throw new Error(`Watch already stopped for label: ${t}`);const r=Date.now()-e.started;this.timestamps.set(t,{started:e.started,elapsed:r})}get(t){const e=this.timestamps.get(t);if(void 0===e)throw new Error(`No timestamp found for label: ${t}`);return e}elapsed(t){const e=this.get(t);return e.elapsed||Date.now()-e.started}}e.Watch=r,e.default=r},4:(t,e,r)=>{"use strict";r.r(e),r.d(e,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>v,__asyncValues:()=>A,__await:()=>b,__awaiter:()=>h,__classPrivateFieldGet:()=>P,__classPrivateFieldSet:()=>C,__createBinding:()=>d,__decorate:()=>o,__exportStar:()=>p,__extends:()=>n,__generator:()=>u,__importDefault:()=>x,__importStar:()=>E,__makeTemplateObject:()=>k,__metadata:()=>c,__param:()=>l,__read:()=>m,__rest:()=>a,__spread:()=>g,__spreadArrays:()=>y,__values:()=>f});var s=function(t,e){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},s(t,e)};function n(t,e){function r(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var i=function(){return i=Object.assign||function(t){for(var e,r=1,s=arguments.length;r<s;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},i.apply(this,arguments)};function a(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(t);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]])}return r}function o(t,e,r,s){var n,i=arguments.length,a=i<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,s);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}function l(t,e){return function(r,s){e(r,s,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function h(t,e,r,s){return new(r||(r=Promise))((function(n,i){function a(t){try{l(s.next(t))}catch(t){i(t)}}function o(t){try{l(s.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,o)}l((s=s.apply(t,e||[])).next())}))}function u(t,e){var r,s,n,i,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,s&&(n=2&i[0]?s.return:i[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,i[1])).done)return n;switch(s=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,s=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(n=a.trys,(n=n.length>0&&n[n.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){a.label=i[1];break}if(6===i[0]&&a.label<n[1]){a.label=n[1],n=i;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(i);break}n[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],s=0}finally{r=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}}function d(t,e,r,s){void 0===s&&(s=r),t[s]=e[r]}function p(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||(e[r]=t[r])}function f(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var s,n,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(s=i.next()).done;)a.push(s.value)}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return a}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(m(arguments[e]));return t}function y(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var s=Array(t),n=0;for(e=0;e<r;e++)for(var i=arguments[e],a=0,o=i.length;a<o;a++,n++)s[n]=i[a];return s}function b(t){return this instanceof b?(this.v=t,this):new b(t)}function v(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,n=r.apply(t,e||[]),i=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(t){n[t]&&(s[t]=function(e){return new Promise((function(r,s){i.push([t,e,r,s])>1||o(t,e)}))})}function o(t,e){try{(r=n[t](e)).value instanceof b?Promise.resolve(r.value.v).then(l,c):h(i[0][2],r)}catch(t){h(i[0][3],t)}var r}function l(t){o("next",t)}function c(t){o("throw",t)}function h(t,e){t(e),i.shift(),i.length&&o(i[0][0],i[0][1])}}function w(t){var e,r;return e={},s("next"),s("throw",(function(t){throw t})),s("return"),e[Symbol.iterator]=function(){return this},e;function s(s,n){e[s]=t[s]?function(e){return(r=!r)?{value:b(t[s](e)),done:"return"===s}:n?n(e):e}:n}}function A(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=f(t),e={},s("next"),s("throw"),s("return"),e[Symbol.asyncIterator]=function(){return this},e);function s(r){e[r]=t[r]&&function(e){return new Promise((function(s,n){(function(t,e,r,s){Promise.resolve(s).then((function(e){t({value:e,done:r})}),e)})(s,n,(e=t[r](e)).done,e.value)}))}}}function k(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function x(t){return t&&t.__esModule?t:{default:t}}function P(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function C(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}},2873:(t,e)=>{"use strict";function r(t){let e;return"undefined"!=typeof window&&void 0!==window[t]&&(e=window[t]),e}function s(t){const e=r(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Object.defineProperty(e,"__esModule",{value:!0}),e.getLocalStorage=e.getLocalStorageOrThrow=e.getCrypto=e.getCryptoOrThrow=e.getLocation=e.getLocationOrThrow=e.getNavigator=e.getNavigatorOrThrow=e.getDocument=e.getDocumentOrThrow=e.getFromWindowOrThrow=e.getFromWindow=void 0,e.getFromWindow=r,e.getFromWindowOrThrow=s,e.getDocumentOrThrow=function(){return s("document")},e.getDocument=function(){return r("document")},e.getNavigatorOrThrow=function(){return s("navigator")},e.getNavigator=function(){return r("navigator")},e.getLocationOrThrow=function(){return s("location")},e.getLocation=function(){return r("location")},e.getCryptoOrThrow=function(){return s("crypto")},e.getCrypto=function(){return r("crypto")},e.getLocalStorageOrThrow=function(){return s("localStorage")},e.getLocalStorage=function(){return r("localStorage")}},5755:(t,e,r)=>{"use strict";e.D=void 0;const s=r(2873);e.D=function(){let t,e;try{t=s.getDocumentOrThrow(),e=s.getLocationOrThrow()}catch(t){return null}function r(...e){const r=t.getElementsByTagName("meta");for(let t=0;t<r.length;t++){const s=r[t],n=["itemprop","property","name"].map((t=>s.getAttribute(t))).filter((t=>!!t&&e.includes(t)));if(n.length&&n){const t=s.getAttribute("content");if(t)return t}}return""}const n=function(){let e=r("name","og:site_name","og:title","twitter:title");return e||(e=t.title),e}();return{description:r("description","og:description","twitter:description","keywords"),url:e.origin,icons:function(){const r=t.getElementsByTagName("link"),s=[];for(let t=0;t<r.length;t++){const n=r[t],i=n.getAttribute("rel");if(i&&i.toLowerCase().indexOf("icon")>-1){const t=n.getAttribute("href");if(t)if(-1===t.toLowerCase().indexOf("https:")&&-1===t.toLowerCase().indexOf("http:")&&0!==t.indexOf("//")){let r=e.protocol+"//"+e.host;if(0===t.indexOf("/"))r+=t;else{const s=e.pathname.split("/");s.pop();r+=s.join("/")+"/"+t}s.push(r)}else if(0===t.indexOf("//")){const r=e.protocol+t;s.push(r)}else s.push(t)}}return s}(),name:n}}},4020:t=>{"use strict";var e="%[a-f0-9]{2}",r=new RegExp("("+e+")|([^%]+?)","gi"),s=new RegExp("("+e+")+","gi");function n(t,e){try{return[decodeURIComponent(t.join(""))]}catch(t){}if(1===t.length)return t;e=e||1;var r=t.slice(0,e),s=t.slice(e);return Array.prototype.concat.call([],n(r),n(s))}function i(t){try{return decodeURIComponent(t)}catch(i){for(var e=t.match(r)||[],s=1;s<e.length;s++)e=(t=n(e,s).join("")).match(r)||[];return t}}t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},r=s.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch(t){var n=i(r[0]);n!==r[0]&&(e[r[0]]=n)}r=s.exec(t)}e["%C2"]="�";for(var a=Object.keys(e),o=0;o<a.length;o++){var l=a[o];t=t.replace(new RegExp(l,"g"),e[l])}return t}(t)}}},6729:t=>{"use strict";var e=Object.prototype.hasOwnProperty,r="~";function s(){}function n(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function i(t,e,s,i,a){if("function"!=typeof s)throw new TypeError("The listener must be a function");var o=new n(s,i||t,a),l=r?r+e:e;return t._events[l]?t._events[l].fn?t._events[l]=[t._events[l],o]:t._events[l].push(o):(t._events[l]=o,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new s:delete t._events[e]}function o(){this._events=new s,this._eventsCount=0}Object.create&&(s.prototype=Object.create(null),(new s).__proto__||(r=!1)),o.prototype.eventNames=function(){var t,s,n=[];if(0===this._eventsCount)return n;for(s in t=this._events)e.call(t,s)&&n.push(r?s.slice(1):s);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},o.prototype.listeners=function(t){var e=r?r+t:t,s=this._events[e];if(!s)return[];if(s.fn)return[s.fn];for(var n=0,i=s.length,a=new Array(i);n<i;n++)a[n]=s[n].fn;return a},o.prototype.listenerCount=function(t){var e=r?r+t:t,s=this._events[e];return s?s.fn?1:s.length:0},o.prototype.emit=function(t,e,s,n,i,a){var o=r?r+t:t;if(!this._events[o])return!1;var l,c,h=this._events[o],u=arguments.length;if(h.fn){switch(h.once&&this.removeListener(t,h.fn,void 0,!0),u){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,e),!0;case 3:return h.fn.call(h.context,e,s),!0;case 4:return h.fn.call(h.context,e,s,n),!0;case 5:return h.fn.call(h.context,e,s,n,i),!0;case 6:return h.fn.call(h.context,e,s,n,i,a),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];h.fn.apply(h.context,l)}else{var d,p=h.length;for(c=0;c<p;c++)switch(h[c].once&&this.removeListener(t,h[c].fn,void 0,!0),u){case 1:h[c].fn.call(h[c].context);break;case 2:h[c].fn.call(h[c].context,e);break;case 3:h[c].fn.call(h[c].context,e,s);break;case 4:h[c].fn.call(h[c].context,e,s,n);break;default:if(!l)for(d=1,l=new Array(u-1);d<u;d++)l[d-1]=arguments[d];h[c].fn.apply(h[c].context,l)}}return!0},o.prototype.on=function(t,e,r){return i(this,t,e,r,!1)},o.prototype.once=function(t,e,r){return i(this,t,e,r,!0)},o.prototype.removeListener=function(t,e,s,n){var i=r?r+t:t;if(!this._events[i])return this;if(!e)return a(this,i),this;var o=this._events[i];if(o.fn)o.fn!==e||n&&!o.once||s&&o.context!==s||a(this,i);else{for(var l=0,c=[],h=o.length;l<h;l++)(o[l].fn!==e||n&&!o[l].once||s&&o[l].context!==s)&&c.push(o[l]);c.length?this._events[i]=1===c.length?c[0]:c:a(this,i)}return this},o.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&a(this,e)):(this._events=new s,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o},2806:t=>{"use strict";t.exports=function(t,e){for(var r={},s=Object.keys(t),n=Array.isArray(e),i=0;i<s.length;i++){var a=s[i],o=t[a];(n?-1!==e.indexOf(a):e(a,o,t))&&(r[a]=o)}return r}},4155:t=>{var e,r,s=t.exports={};function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(t){if(e===setTimeout)return setTimeout(t,0);if((e===n||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(r){try{return e.call(null,t,0)}catch(r){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:n}catch(t){e=n}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(t){r=i}}();var o,l=[],c=!1,h=-1;function u(){c&&o&&(c=!1,o.length?l=o.concat(l):h=-1,l.length&&d())}function d(){if(!c){var t=a(u);c=!0;for(var e=l.length;e;){for(o=l,l=[];++h<e;)o&&o[h].run();h=-1,e=l.length}o=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function f(){}s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];l.push(new p(t,e)),1!==l.length||c||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=f,s.addListener=f,s.once=f,s.off=f,s.removeListener=f,s.removeAllListeners=f,s.emit=f,s.prependListener=f,s.prependOnceListener=f,s.listeners=function(t){return[]},s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},2478:(t,e,r)=>{"use strict";r.d(e,{jc:()=>l,o5:()=>o});Symbol();const s=Symbol();const n=Object.getPrototypeOf,i=new WeakMap,a=t=>t&&(i.has(t)?i.get(t):n(t)===Object.prototype||n(t)===Array.prototype),o=t=>a(t)&&t[s]||null,l=(t,e=!0)=>{i.set(t,e)}},500:t=>{"use strict";t.exports=(t,e)=>{if("string"!=typeof t||"string"!=typeof e)throw new TypeError("Expected the arguments to be of type `string`");if(""===e)return[t];const r=t.indexOf(e);return-1===r?[t]:[t.slice(0,r),t.slice(r+e.length)]}},610:t=>{"use strict";t.exports=t=>encodeURIComponent(t).replace(/[!'()*]/g,(t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`))},2170:(t,e,r)=>{"use strict";r.d(e,{Z:()=>bb});var s={};r.r(s),r.d(s,{dQ:()=>Vo,ci:()=>Do,bytesToNumberBE:()=>Oo,ty:()=>No,eV:()=>jo,n$:()=>Ho,ql:()=>Uo,Wd:()=>Go,hexToBytes:()=>Fo,tL:()=>Ro,S5:()=>Lo,FF:()=>Ko});class n extends Error{constructor(t,e="FunctionsError",r){super(t),this.name=e,this.context=r}}class i extends n{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class a extends n{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class o extends n{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var l=function(t,e,r,s){return new(r||(r=Promise))((function(n,i){function a(t){try{l(s.next(t))}catch(t){i(t)}}function o(t){try{l(s.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,o)}l((s=s.apply(t,e||[])).next())}))};class c{constructor(t,{headers:e={},customFetch:s}={}){this.url=t,this.headers=e,this.fetch=(t=>{let e;return e=t||("undefined"==typeof fetch?(...t)=>Promise.resolve().then(r.t.bind(r,4354,23)).then((({default:e})=>e(...t))):fetch),(...t)=>e(...t)})(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,e={}){var r;return l(this,void 0,void 0,(function*(){try{const{headers:s,method:n,body:l}=e;let c,h={};l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&("undefined"!=typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",c=l):"string"==typeof l?(h["Content-Type"]="text/plain",c=l):"undefined"!=typeof FormData&&l instanceof FormData?c=l:(h["Content-Type"]="application/json",c=JSON.stringify(l)));const u=yield this.fetch(`${this.url}/${t}`,{method:n||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:c}).catch((t=>{throw new i(t)})),d=u.headers.get("x-relay-error");if(d&&"true"===d)throw new a(u);if(!u.ok)throw new o(u);let p,f=(null!==(r=u.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return p="application/json"===f?yield u.json():"application/octet-stream"===f?yield u.blob():"multipart/form-data"===f?yield u.formData():yield u.text(),{data:p,error:null}}catch(t){return{data:null,error:t}}}))}}var h=r(4354),u=r.n(h);class d{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:"undefined"==typeof fetch?this.fetch=u():this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(t,e){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then((async t=>{var e,r,s;let n=null,i=null,a=null,o=t.status,l=t.statusText;if(t.ok){if("HEAD"!==this.method){const e=await t.text();""===e||(i="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?e:JSON.parse(e))}const s=null===(e=this.headers.Prefer)||void 0===e?void 0:e.match(/count=(exact|planned|estimated)/),c=null===(r=t.headers.get("content-range"))||void 0===r?void 0:r.split("/");s&&c&&c.length>1&&(a=parseInt(c[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(i)&&(i.length>1?(n={code:"PGRST116",details:`Results contain ${i.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},i=null,a=null,o=406,l="Not Acceptable"):i=1===i.length?i[0]:null)}else{const e=await t.text();try{n=JSON.parse(e),Array.isArray(n)&&404===t.status&&(i=[],n=null,o=200,l="OK")}catch(r){404===t.status&&""===e?(o=204,l="No Content"):n={message:e}}if(n&&this.isMaybeSingle&&(null===(s=null==n?void 0:n.details)||void 0===s?void 0:s.includes("0 rows"))&&(n=null,o=200,l="OK"),n&&this.shouldThrowOnError)throw n}return{error:n,data:i,count:a,status:o,statusText:l}}));return this.shouldThrowOnError||(r=r.catch((t=>{var e,r,s;return{error:{message:`${null!==(e=null==t?void 0:t.name)&&void 0!==e?e:"FetchError"}: ${null==t?void 0:t.message}`,details:`${null!==(r=null==t?void 0:t.stack)&&void 0!==r?r:""}`,hint:"",code:`${null!==(s=null==t?void 0:t.code)&&void 0!==s?s:""}`},data:null,count:null,status:0,statusText:""}}))),r.then(t,e)}}class p extends d{select(t){let e=!1;const r=(null!=t?t:"*").split("").map((t=>/\s/.test(t)&&!e?"":('"'===t&&(e=!e),t))).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:s}={}){const n=s?`${s}.order`:"order",i=this.url.searchParams.get(n);return this.url.searchParams.set(n,`${i?`${i},`:""}${t}.${e?"asc":"desc"}${void 0===r?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e}={}){const r=void 0===e?"limit":`${e}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:r}={}){const s=void 0===r?"offset":`${r}.offset`,n=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(n,""+(e-t+1)),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:s=!1,wal:n=!1,format:i="text"}={}){const a=[t?"analyze":null,e?"verbose":null,r?"settings":null,s?"buffers":null,n?"wal":null].filter(Boolean).join("|"),o=this.headers.Accept;return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${o}"; options=${a};`,this}rollback(){var t;return(null!==(t=this.headers.Prefer)&&void 0!==t?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class f extends p{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){const r=e.map((t=>"string"==typeof t&&new RegExp("[,()]").test(t)?`"${t}"`:`${t}`)).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,e){return"string"==typeof e?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return"string"==typeof e?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return"string"==typeof e?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:s}={}){let n="";"plain"===s?n="pl":"phrase"===s?n="ph":"websearch"===s&&(n="w");const i=void 0===r?"":`(${r})`;return this.url.searchParams.append(t,`${n}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach((([t,e])=>{this.url.searchParams.append(t,`eq.${e}`)})),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e}={}){const r=e?`${e}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}}class m{constructor(t,{headers:e={},schema:r,fetch:s}){this.url=t,this.headers=e,this.schema=r,this.fetch=s}select(t,{head:e=!1,count:r}={}){const s=e?"HEAD":"GET";let n=!1;const i=(null!=t?t:"*").split("").map((t=>/\s/.test(t)&&!n?"":('"'===t&&(n=!n),t))).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),new f({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:e,defaultToNull:r=!0}={}){const s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),e&&s.push(`count=${e}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const e=t.reduce(((t,e)=>t.concat(Object.keys(e))),[]);if(e.length>0){const t=[...new Set(e)].map((t=>`"${t}"`));this.url.searchParams.set("columns",t.join(","))}}return new f({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:s,defaultToNull:n=!0}={}){const i=[`resolution=${r?"ignore":"merge"}-duplicates`];if(void 0!==e&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const e=t.reduce(((t,e)=>t.concat(Object.keys(e))),[]);if(e.length>0){const t=[...new Set(e)].map((t=>`"${t}"`));this.url.searchParams.set("columns",t.join(","))}}return new f({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:e}={}){const r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),e&&r.push(`count=${e}`),this.headers.Prefer=r.join(","),new f({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const e=[];return t&&e.push(`count=${t}`),this.headers.Prefer&&e.unshift(this.headers.Prefer),this.headers.Prefer=e.join(","),new f({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const g={"X-Client-Info":"postgrest-js/1.8.5"};class y{constructor(t,{headers:e={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},g),e),this.schemaName=r,this.fetch=s}from(t){const e=new URL(`${this.url}/${t}`);return new m(e,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new y(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,e={},{head:r=!1,count:s}={}){let n;const i=new URL(`${this.url}/rpc/${t}`);let a;r?(n="HEAD",Object.entries(e).forEach((([t,e])=>{i.searchParams.append(t,`${e}`)}))):(n="POST",a=e);const o=Object.assign({},this.headers);return s&&(o.Prefer=`count=${s}`),new f({method:n,url:i,headers:o,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}}var b=r(4867);const v={"X-Client-Info":"realtime-js/2.8.4"};var w,A,k,E,x,P,C;!function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"}(w||(w={})),function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"}(A||(A={})),function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"}(k||(k={})),function(t){t.websocket="websocket"}(E||(E={})),function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"}(x||(x={}));class S{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}}class I{constructor(){this.HEADER_LENGTH=1}decode(t,e){return t.constructor===ArrayBuffer?e(this._binaryDecode(t)):e("string"==typeof t?JSON.parse(t):{})}_binaryDecode(t){const e=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,e,r)}_decodeBroadcast(t,e,r){const s=e.getUint8(1),n=e.getUint8(2);let i=this.HEADER_LENGTH+2;const a=r.decode(t.slice(i,i+s));i+=s;const o=r.decode(t.slice(i,i+n));i+=n;return{ref:null,topic:a,event:o,payload:JSON.parse(r.decode(t.slice(i,t.byteLength)))}}}class _{constructor(t,e,r={},s=1e4){this.channel=t,this.event=e,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var r;return this._hasReceived(t)&&e(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},(t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)})),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter((e=>e.status===t)).forEach((t=>t.callback(e)))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}!function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"}(P||(P={}));class T{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(null==e?void 0:e.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},(t=>{const{onJoin:e,onLeave:r,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=T.syncState(this.state,t,e,r),this.pendingDiffs.forEach((t=>{this.state=T.syncDiff(this.state,t,e,r)})),this.pendingDiffs=[],s()})),this.channel._on(r.diff,{},(t=>{const{onJoin:e,onLeave:r,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(t):(this.state=T.syncDiff(this.state,t,e,r),s())})),this.onJoin(((t,e,r)=>{this.channel._trigger("presence",{event:"join",key:t,currentPresences:e,newPresences:r})})),this.onLeave(((t,e,r)=>{this.channel._trigger("presence",{event:"leave",key:t,currentPresences:e,leftPresences:r})})),this.onSync((()=>{this.channel._trigger("presence",{event:"sync"})}))}static syncState(t,e,r,s){const n=this.cloneDeep(t),i=this.transformState(e),a={},o={};return this.map(n,((t,e)=>{i[t]||(o[t]=e)})),this.map(i,((t,e)=>{const r=n[t];if(r){const s=e.map((t=>t.presence_ref)),n=r.map((t=>t.presence_ref)),i=e.filter((t=>n.indexOf(t.presence_ref)<0)),l=r.filter((t=>s.indexOf(t.presence_ref)<0));i.length>0&&(a[t]=i),l.length>0&&(o[t]=l)}else a[t]=e})),this.syncDiff(n,{joins:a,leaves:o},r,s)}static syncDiff(t,e,r,s){const{joins:n,leaves:i}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(n,((e,s)=>{var n;const i=null!==(n=t[e])&&void 0!==n?n:[];if(t[e]=this.cloneDeep(s),i.length>0){const r=t[e].map((t=>t.presence_ref)),s=i.filter((t=>r.indexOf(t.presence_ref)<0));t[e].unshift(...s)}r(e,i,s)})),this.map(i,((e,r)=>{let n=t[e];if(!n)return;const i=r.map((t=>t.presence_ref));n=n.filter((t=>i.indexOf(t.presence_ref)<0)),t[e]=n,s(e,n,r),0===n.length&&delete t[e]})),t}static map(t,e){return Object.getOwnPropertyNames(t).map((r=>e(r,t[r])))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce(((e,r)=>{const s=t[r];return e[r]="metas"in s?s.metas.map((t=>(t.presence_ref=t.phx_ref,delete t.phx_ref,delete t.phx_ref_prev,t))):s,e}),{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"}(C||(C={}));const M=(t,e,r={})=>{var s;const n=null!==(s=r.skipTypes)&&void 0!==s?s:[];return Object.keys(e).reduce(((r,s)=>(r[s]=D(s,t,e,n),r)),{})},D=(t,e,r,s)=>{const n=e.find((e=>e.name===t)),i=null==n?void 0:n.type,a=r[t];return i&&!s.includes(i)?B(i,a):F(a)},B=(t,e)=>{if("_"===t.charAt(0)){const r=t.slice(1,t.length);return L(e,r)}switch(t){case C.bool:return O(e);case C.float4:case C.float8:case C.int2:case C.int4:case C.int8:case C.numeric:case C.oid:return N(e);case C.json:case C.jsonb:return R(e);case C.timestamp:return U(e);case C.abstime:case C.date:case C.daterange:case C.int4range:case C.int8range:case C.money:case C.reltime:case C.text:case C.time:case C.timestamptz:case C.timetz:case C.tsrange:case C.tstzrange:default:return F(e)}},F=t=>t,O=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},N=t=>{if("string"==typeof t){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},R=t=>{if("string"==typeof t)try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},L=(t,e)=>{if("string"!=typeof t)return t;const r=t.length-1,s=t[r];if("{"===t[0]&&"}"===s){let s;const n=t.slice(1,r);try{s=JSON.parse("["+n+"]")}catch(t){s=n?n.split(","):[]}return s.map((t=>B(e,t)))}return t},U=t=>"string"==typeof t?t.replace(" ","T"):t;var j,G,V;!function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"}(j||(j={})),function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes"}(G||(G={})),function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"}(V||(V={}));class z{constructor(t,e={config:{}},r){this.topic=t,this.params=e,this.socket=r,this.bindings={},this.state=A.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},e.config),this.timeout=this.socket.timeout,this.joinPush=new _(this,k.join,this.params,this.timeout),this.rejoinTimer=new S((()=>this._rejoinUntilConnected()),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(()=>{this.state=A.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach((t=>t.send())),this.pushBuffer=[]})),this._onClose((()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=A.closed,this.socket._remove(this)})),this._onError((t=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,t),this.state=A.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=A.errored,this.rejoinTimer.scheduleTimeout())})),this._on(k.reply,{},((t,e)=>{this._trigger(this._replyEventName(e),t)})),this.presence=new T(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(t,e=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:n,presence:i}}=this.params;this._onError((e=>t&&t("CHANNEL_ERROR",e))),this._onClose((()=>t&&t("CLOSED")));const a={},o={broadcast:n,presence:i,postgres_changes:null!==(s=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map((t=>t.filter)))&&void 0!==s?s:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:o},a)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",(({postgres_changes:e})=>{var r;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),void 0!==e){const s=this.bindings.postgres_changes,n=null!==(r=null==s?void 0:s.length)&&void 0!==r?r:0,i=[];for(let r=0;r<n;r++){const n=s[r],{filter:{event:a,schema:o,table:l,filter:c}}=n,h=e&&e[r];if(!h||h.event!==a||h.schema!==o||h.table!==l||h.filter!==c)return this.unsubscribe(),void(t&&t("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes")));i.push(Object.assign(Object.assign({},n),{id:h.id}))}return this.bindings.postgres_changes=i,void(t&&t("SUBSCRIBED"))}t&&t("SUBSCRIBED")})).receive("error",(e=>{t&&t("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(e).join(", ")||"error")))})).receive("timeout",(()=>{t&&t("TIMED_OUT")}))}return this}presenceState(){return this.presence.state}async track(t,e={}){return await this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,e,r){return this._on(t,e,r)}async send(t,e={}){var r,s;if(this._canPush()||"broadcast"!==t.type)return new Promise((r=>{var s,n,i;const a=this._push(t.type,t,e.timeout||this.timeout);"broadcast"!==t.type||(null===(i=null===(n=null===(s=this.params)||void 0===s?void 0:s.config)||void 0===n?void 0:n.broadcast)||void 0===i?void 0:i.ack)||r("ok"),a.receive("ok",(()=>r("ok"))),a.receive("timeout",(()=>r("timed out")))}));{const{event:n,payload:i}=t,a={method:"POST",headers:{apikey:null!==(r=this.socket.accessToken)&&void 0!==r?r:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:i}]})};try{return(await this._fetchWithTimeout(this.broadcastEndpointURL,a,null!==(s=e.timeout)&&void 0!==s?s:this.timeout)).ok?"ok":"error"}catch(t){return"AbortError"===t.name?"timed out":"error"}}}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=A.leaving;const e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(k.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise((r=>{const s=new _(this,k.leave,{},t);s.receive("ok",(()=>{e(),r("ok")})).receive("timeout",(()=>{e(),r("timed out")})).receive("error",(()=>{r("error")})),s.send(),this._canPush()||s.trigger("ok",{})}))}_broadcastEndpointURL(){let t=this.socket.endPoint;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(t,e,r){const s=new AbortController,n=setTimeout((()=>s.abort()),r),i=await this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:s.signal}));return clearTimeout(n),i}_push(t,e,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new _(this,t,e,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,e,r){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,r){var s,n;const i=t.toLocaleLowerCase(),{close:a,error:o,leave:l,join:c}=k;if(r&&[a,o,l,c].indexOf(i)>=0&&r!==this._joinRef())return;let h=this._onMessage(i,e,r);if(e&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?null===(s=this.bindings.postgres_changes)||void 0===s||s.filter((t=>{var e,r,s;return"*"===(null===(e=t.filter)||void 0===e?void 0:e.event)||(null===(s=null===(r=t.filter)||void 0===r?void 0:r.event)||void 0===s?void 0:s.toLocaleLowerCase())===i})).map((t=>t.callback(h,r))):null===(n=this.bindings[i])||void 0===n||n.filter((t=>{var r,s,n,a,o,l;if(["broadcast","presence","postgres_changes"].includes(i)){if("id"in t){const i=t.id,a=null===(r=t.filter)||void 0===r?void 0:r.event;return i&&(null===(s=e.ids)||void 0===s?void 0:s.includes(i))&&("*"===a||(null==a?void 0:a.toLocaleLowerCase())===(null===(n=e.data)||void 0===n?void 0:n.type.toLocaleLowerCase()))}{const r=null===(o=null===(a=null==t?void 0:t.filter)||void 0===a?void 0:a.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===r||r===(null===(l=null==e?void 0:e.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return t.type.toLocaleLowerCase()===i})).map((t=>{if("object"==typeof h&&"ids"in h){const t=h.data,{schema:e,table:r,commit_timestamp:s,type:n,errors:i}=t,a={schema:e,table:r,commit_timestamp:s,eventType:n,new:{},old:{},errors:i};h=Object.assign(Object.assign({},a),this._getPayloadRecords(t))}t.callback(h,r)}))}_isClosed(){return this.state===A.closed}_isJoined(){return this.state===A.joined}_isJoining(){return this.state===A.joining}_isLeaving(){return this.state===A.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,r){const s=t.toLocaleLowerCase(),n={type:s,filter:e,callback:r};return this.bindings[s]?this.bindings[s].push(n):this.bindings[s]=[n],this}_off(t,e){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter((t=>{var s;return!((null===(s=t.type)||void 0===s?void 0:s.toLocaleLowerCase())===r&&z.isEqual(t.filter,e))})),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(k.close,{},t)}_onError(t){this._on(k.error,{},(e=>t(e)))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=A.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const e={new:{},old:{}};return"INSERT"!==t.type&&"UPDATE"!==t.type||(e.new=M(t.columns,t.record)),"UPDATE"!==t.type&&"DELETE"!==t.type||(e.old=M(t.columns,t.old_record)),e}}const Q=()=>{};class H{constructor(t,e){var s;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=v,this.params={},this.timeout=1e4,this.transport=b.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Q,this.conn=null,this.sendBuffer=[],this.serializer=new I,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=t=>{let e;return e=t||("undefined"==typeof fetch?(...t)=>Promise.resolve().then(r.t.bind(r,4354,23)).then((({default:e})=>e(...t))):fetch),(...t)=>e(...t)},this.endPoint=`${t}/${E.websocket}`,(null==e?void 0:e.params)&&(this.params=e.params),(null==e?void 0:e.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),e.headers)),(null==e?void 0:e.timeout)&&(this.timeout=e.timeout),(null==e?void 0:e.logger)&&(this.logger=e.logger),(null==e?void 0:e.transport)&&(this.transport=e.transport),(null==e?void 0:e.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=e.heartbeatIntervalMs);const n=null===(s=null==e?void 0:e.params)||void 0===s?void 0:s.apikey;n&&(this.accessToken=n),this.reconnectAfterMs=(null==e?void 0:e.reconnectAfterMs)?e.reconnectAfterMs:t=>[1e3,2e3,5e3,1e4][t-1]||1e4,this.encode=(null==e?void 0:e.encode)?e.encode:(t,e)=>e(JSON.stringify(t)),this.decode=(null==e?void 0:e.decode)?e.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new S((async()=>{this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(null==e?void 0:e.fetch)}connect(){this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t)))}disconnect(t,e){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,null!=e?e:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const e=await t.unsubscribe();return 0===this.channels.length&&this.disconnect(),e}async removeAllChannels(){const t=await Promise.all(this.channels.map((t=>t.unsubscribe())));return this.disconnect(),t}log(t,e,r){this.logger(t,e,r)}connectionState(){switch(this.conn&&this.conn.readyState){case w.connecting:return x.Connecting;case w.open:return x.Open;case w.closing:return x.Closing;default:return x.Closed}}isConnected(){return this.connectionState()===x.Open}channel(t,e={config:{}}){const r=new z(`realtime:${t}`,e,this);return this.channels.push(r),r}push(t){const{topic:e,event:r,payload:s,ref:n}=t,i=()=>{this.encode(t,(t=>{var e;null===(e=this.conn)||void 0===e||e.send(t)}))};this.log("push",`${e} ${r} (${n})`,s),this.isConnected()?i():this.sendBuffer.push(i)}setAuth(t){this.accessToken=t,this.channels.forEach((e=>{t&&e.updateJoinPayload({access_token:t}),e.joinedOnce&&e._isJoined()&&e._push(k.access_token,{access_token:t})}))}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find((e=>e.topic===t&&(e._isJoined()||e._isJoining())));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter((e=>e._joinRef()!==t._joinRef()))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}_onConnMessage(t){this.decode(t.data,(t=>{let{topic:e,event:r,payload:s,ref:n}=t;(n&&n===this.pendingHeartbeatRef||r===(null==s?void 0:s.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${e} ${r} ${n&&"("+n+")"||""}`,s),this.channels.filter((t=>t._isMember(e))).forEach((t=>t._trigger(r,s,n))),this.stateChangeCallbacks.message.forEach((e=>e(t)))}))}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((()=>this._sendHeartbeat()),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach((t=>t()))}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((e=>e(t)))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((e=>e(t)))}_triggerChanError(){this.channels.forEach((t=>t._trigger(k.error)))}_appendParams(t,e){if(0===Object.keys(e).length)return t;const r=t.match(/\?/)?"&":"?";return`${t}${r}${new URLSearchParams(e)}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((t=>t())),this.sendBuffer=[])}_sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(t=this.conn)||void 0===t||t.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class q extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function K(t){return"object"==typeof t&&null!==t&&"__isStorageError"in t}class W extends q{constructor(t,e){super(t),this.name="StorageApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class J extends q{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}}var Y=function(t,e,r,s){return new(r||(r=Promise))((function(n,i){function a(t){try{l(s.next(t))}catch(t){i(t)}}function o(t){try{l(s.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,o)}l((s=s.apply(t,e||[])).next())}))};const Z=t=>{let e;return e=t||("undefined"==typeof fetch?(...t)=>Promise.resolve().then(r.t.bind(r,4354,23)).then((({default:e})=>e(...t))):fetch),(...t)=>e(...t)};var X=function(t,e,r,s){return new(r||(r=Promise))((function(n,i){function a(t){try{l(s.next(t))}catch(t){i(t)}}function o(t){try{l(s.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,o)}l((s=s.apply(t,e||[])).next())}))};const $=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),tt=(t,e)=>X(void 0,void 0,void 0,(function*(){const s=yield Y(void 0,void 0,void 0,(function*(){return"undefined"==typeof Response?(yield Promise.resolve().then(r.t.bind(r,4354,23))).Response:Response}));t instanceof s?t.json().then((r=>{e(new W($(r),t.status||500))})).catch((t=>{e(new J($(t),t))})):e(new J($(t),t))})),et=(t,e,r,s)=>{const n={method:t,headers:(null==e?void 0:e.headers)||{}};return"GET"===t?n:(n.headers=Object.assign({"Content-Type":"application/json"},null==e?void 0:e.headers),n.body=JSON.stringify(s),Object.assign(Object.assign({},n),r))};function rt(t,e,r,s,n,i){return X(this,void 0,void 0,(function*(){return new Promise(((a,o)=>{t(r,et(e,s,n,i)).then((t=>{if(!t.ok)throw t;return(null==s?void 0:s.noResolveJson)?t:t.json()})).then((t=>a(t))).catch((t=>tt(t,o)))}))}))}function st(t,e,r,s){return X(this,void 0,void 0,(function*(){return rt(t,"GET",e,r,s)}))}function nt(t,e,r,s,n){return X(this,void 0,void 0,(function*(){return rt(t,"POST",e,s,n,r)}))}function it(t,e,r,s,n){return X(this,void 0,void 0,(function*(){return rt(t,"DELETE",e,s,n,r)}))}var at=function(t,e,r,s){return new(r||(r=Promise))((function(n,i){function a(t){try{l(s.next(t))}catch(t){i(t)}}function o(t){try{l(s.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,o)}l((s=s.apply(t,e||[])).next())}))};const ot={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},lt={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ct{constructor(t,e={},r,s){this.url=t,this.headers=e,this.bucketId=r,this.fetch=Z(s)}uploadOrUpdate(t,e,r,s){return at(this,void 0,void 0,(function*(){try{let n;const i=Object.assign(Object.assign({},lt),s),a=Object.assign(Object.assign({},this.headers),"POST"===t&&{"x-upsert":String(i.upsert)});"undefined"!=typeof Blob&&r instanceof Blob?(n=new FormData,n.append("cacheControl",i.cacheControl),n.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(n=r,n.append("cacheControl",i.cacheControl)):(n=r,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType);const o=this._removeEmptyFolders(e),l=this._getFinalPath(o),c=yield this.fetch(`${this.url}/object/${l}`,Object.assign({method:t,body:n,headers:a},(null==i?void 0:i.duplex)?{duplex:i.duplex}:{}));if(c.ok)return{data:{path:o},error:null};return{data:null,error:yield c.json()}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}upload(t,e,r){return at(this,void 0,void 0,(function*(){return this.uploadOrUpdate("POST",t,e,r)}))}uploadToSignedUrl(t,e,r,s){return at(this,void 0,void 0,(function*(){const n=this._removeEmptyFolders(t),i=this._getFinalPath(n),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",e);try{let t;const e=Object.assign({upsert:lt.upsert},s),i=Object.assign(Object.assign({},this.headers),{"x-upsert":String(e.upsert)});"undefined"!=typeof Blob&&r instanceof Blob?(t=new FormData,t.append("cacheControl",e.cacheControl),t.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(t=r,t.append("cacheControl",e.cacheControl)):(t=r,i["cache-control"]=`max-age=${e.cacheControl}`,i["content-type"]=e.contentType);const o=yield this.fetch(a.toString(),{method:"PUT",body:t,headers:i});if(o.ok)return{data:{path:n},error:null};return{data:null,error:yield o.json()}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}createSignedUploadUrl(t){return at(this,void 0,void 0,(function*(){try{let e=this._getFinalPath(t);const r=yield nt(this.fetch,`${this.url}/object/upload/sign/${e}`,{},{headers:this.headers}),s=new URL(this.url+r.url),n=s.searchParams.get("token");if(!n)throw new q("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:n},error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}update(t,e,r){return at(this,void 0,void 0,(function*(){return this.uploadOrUpdate("PUT",t,e,r)}))}move(t,e){return at(this,void 0,void 0,(function*(){try{return{data:yield nt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e},{headers:this.headers}),error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}copy(t,e){return at(this,void 0,void 0,(function*(){try{return{data:{path:(yield nt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e},{headers:this.headers})).Key},error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}createSignedUrl(t,e,r){return at(this,void 0,void 0,(function*(){try{let s=this._getFinalPath(t),n=yield nt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:e},(null==r?void 0:r.transform)?{transform:r.transform}:{}),{headers:this.headers});const i=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return n={signedUrl:encodeURI(`${this.url}${n.signedURL}${i}`)},{data:n,error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}createSignedUrls(t,e,r){return at(this,void 0,void 0,(function*(){try{const s=yield nt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),n=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return{data:s.map((t=>Object.assign(Object.assign({},t),{signedUrl:t.signedURL?encodeURI(`${this.url}${t.signedURL}${n}`):null}))),error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}download(t,e){return at(this,void 0,void 0,(function*(){const r=void 0!==(null==e?void 0:e.transform)?"render/image/authenticated":"object",s=this.transformOptsToQueryString((null==e?void 0:e.transform)||{}),n=s?`?${s}`:"";try{const e=this._getFinalPath(t),s=yield st(this.fetch,`${this.url}/${r}/${e}${n}`,{headers:this.headers,noResolveJson:!0});return{data:yield s.blob(),error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}getPublicUrl(t,e){const r=this._getFinalPath(t),s=[],n=(null==e?void 0:e.download)?`download=${!0===e.download?"":e.download}`:"";""!==n&&s.push(n);const i=void 0!==(null==e?void 0:e.transform)?"render/image":"object",a=this.transformOptsToQueryString((null==e?void 0:e.transform)||{});""!==a&&s.push(a);let o=s.join("&");return""!==o&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${o}`)}}}remove(t){return at(this,void 0,void 0,(function*(){try{return{data:yield it(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}list(t,e,r){return at(this,void 0,void 0,(function*(){try{const s=Object.assign(Object.assign(Object.assign({},ot),e),{prefix:t||""});return{data:yield nt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}}const ht={"X-Client-Info":"storage-js/2.5.4"};var ut=function(t,e,r,s){return new(r||(r=Promise))((function(n,i){function a(t){try{l(s.next(t))}catch(t){i(t)}}function o(t){try{l(s.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,o)}l((s=s.apply(t,e||[])).next())}))};class dt{constructor(t,e={},r){this.url=t,this.headers=Object.assign(Object.assign({},ht),e),this.fetch=Z(r)}listBuckets(){return ut(this,void 0,void 0,(function*(){try{return{data:yield st(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}getBucket(t){return ut(this,void 0,void 0,(function*(){try{return{data:yield st(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}createBucket(t,e={public:!1}){return ut(this,void 0,void 0,(function*(){try{return{data:yield nt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}updateBucket(t,e){return ut(this,void 0,void 0,(function*(){try{const r=yield function(t,e,r,s,n){return X(this,void 0,void 0,(function*(){return rt(t,"PUT",e,s,n,r)}))}(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers});return{data:r,error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}emptyBucket(t){return ut(this,void 0,void 0,(function*(){try{return{data:yield nt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}deleteBucket(t){return ut(this,void 0,void 0,(function*(){try{return{data:yield it(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}}class pt extends dt{constructor(t,e={},r){super(t,e,r)}from(t){return new ct(this.url,this.headers,t,this.fetch)}}let ft="";ft="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const mt={"X-Client-Info":`supabase-js-${ft}/2.38.4`};var gt=function(t,e,r,s){return new(r||(r=Promise))((function(n,i){function a(t){try{l(s.next(t))}catch(t){i(t)}}function o(t){try{l(s.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,o)}l((s=s.apply(t,e||[])).next())}))};const yt=t=>{let e;return e=t||("undefined"==typeof fetch?u():fetch),(...t)=>e(...t)},bt=(t,e,r)=>{const s=yt(r),n="undefined"==typeof Headers?h.Headers:Headers;return(r,i)=>gt(void 0,void 0,void 0,(function*(){var a;const o=null!==(a=yield e())&&void 0!==a?a:t;let l=new n(null==i?void 0:i.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization",`Bearer ${o}`),s(r,Object.assign(Object.assign({},i),{headers:l}))}))};const vt=()=>"undefined"!=typeof document,wt={tested:!1,writable:!1},At=()=>{if(!vt())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(t){return!1}if(wt.tested)return wt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),wt.tested=!0,wt.writable=!0}catch(t){wt.tested=!0,wt.writable=!1}return wt.writable};function kt(t){const e={},r=new URL(t);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach(((t,r)=>{e[r]=t}))}catch(t){}return r.searchParams.forEach(((t,r)=>{e[r]=t})),e}const Et=t=>{let e;return e=t||("undefined"==typeof fetch?(...t)=>Promise.resolve().then(r.t.bind(r,4354,23)).then((({default:e})=>e(...t))):fetch),(...t)=>e(...t)},xt=t=>"object"==typeof t&&null!==t&&"status"in t&&"ok"in t&&"json"in t&&"function"==typeof t.json,Pt=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Ct=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch(t){return r}},St=async(t,e)=>{await t.removeItem(e)};class It{constructor(){this.promise=new It.promiseConstructor(((t,e)=>{this.resolve=t,this.reject=e}))}}function _t(t){const e=t.split(".");if(3!==e.length)throw new Error("JWT is not valid: not a JWT structure");if(!/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i.test(e[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=e[1];return JSON.parse(function(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r,s,n,i,a,o,l,c="",h=0;for(t=t.replace("-","+").replace("_","/");h<t.length;)i=e.indexOf(t.charAt(h++)),a=e.indexOf(t.charAt(h++)),o=e.indexOf(t.charAt(h++)),l=e.indexOf(t.charAt(h++)),r=i<<2|a>>4,s=(15&a)<<4|o>>2,n=(3&o)<<6|l,c+=String.fromCharCode(r),64!=o&&0!=s&&(c+=String.fromCharCode(s)),64!=l&&0!=n&&(c+=String.fromCharCode(n));return c}(r))}function Tt(t){return("0"+t.toString(16)).substr(-2)}function Mt(){const t=new Uint32Array(56);if("undefined"==typeof crypto){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",e=t.length;let r="";for(let s=0;s<56;s++)r+=t.charAt(Math.floor(Math.random()*e));return r}return crypto.getRandomValues(t),Array.from(t,Tt).join("")}async function Dt(t){if(!("undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const e=await async function(t){const e=(new TextEncoder).encode(t),r=await crypto.subtle.digest("SHA-256",e),s=new Uint8Array(r);return Array.from(s).map((t=>String.fromCharCode(t))).join("")}(t);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}It.promiseConstructor=Promise;class Bt extends Error{constructor(t,e){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e}}function Ft(t){return"object"==typeof t&&null!==t&&"__isAuthError"in t}class Ot extends Bt{constructor(t,e){super(t,e),this.name="AuthApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Nt extends Bt{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}}class Rt extends Bt{constructor(t,e,r){super(t),this.name=e,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Lt extends Rt{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class Ut extends Rt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class jt extends Rt{constructor(t){super(t,"AuthInvalidCredentialsError",400)}}class Gt extends Rt{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Vt extends Rt{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zt extends Rt{constructor(t,e){super(t,"AuthRetryableFetchError",e)}}function Qt(t){return Ft(t)&&"AuthRetryableFetchError"===t.name}var Ht=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(t);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]])}return r};const qt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Kt=[502,503,504];async function Wt(t){if(!xt(t))throw new zt(qt(t),0);if(Kt.includes(t.status))throw new zt(qt(t),t.status);let e;try{e=await t.json()}catch(t){throw new Nt(qt(t),t)}throw new Ot(qt(e),t.status||500)}const Jt=(t,e,r,s)=>{const n={method:t,headers:(null==e?void 0:e.headers)||{}};return"GET"===t?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==e?void 0:e.headers),n.body=JSON.stringify(s),Object.assign(Object.assign({},n),r))};async function Yt(t,e,r,s){var n;const i=Object.assign({},null==s?void 0:s.headers);(null==s?void 0:s.jwt)&&(i.Authorization=`Bearer ${s.jwt}`);const a=null!==(n=null==s?void 0:s.query)&&void 0!==n?n:{};(null==s?void 0:s.redirectTo)&&(a.redirect_to=s.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await async function(t,e,r,s,n,i){const a=Jt(e,s,n,i);let o;try{o=await t(r,a)}catch(t){throw console.error(t),new zt(qt(t),0)}o.ok||await Wt(o);if(null==s?void 0:s.noResolveJson)return o;try{return await o.json()}catch(t){await Wt(t)}}(t,e,r+o,{headers:i,noResolveJson:null==s?void 0:s.noResolveJson},{},null==s?void 0:s.body);return(null==s?void 0:s.xform)?null==s?void 0:s.xform(l):{data:Object.assign({},l),error:null}}function Zt(t){var e;let r=null;var s;(function(t){return t.access_token&&t.refresh_token&&t.expires_in})(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=(s=t.expires_in,Math.round(Date.now()/1e3)+s)));return{data:{session:r,user:null!==(e=t.user)&&void 0!==e?e:t},error:null}}function Xt(t){var e;return{data:{user:null!==(e=t.user)&&void 0!==e?e:t},error:null}}function $t(t){return{data:t,error:null}}function te(t){const{action_link:e,email_otp:r,hashed_token:s,redirect_to:n,verification_type:i}=t,a=Ht(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:e,email_otp:r,hashed_token:s,redirect_to:n,verification_type:i},user:Object.assign({},a)},error:null}}function ee(t){return t}var re=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(t);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]])}return r};class se{constructor({url:t="",headers:e={},fetch:r}){this.url=t,this.headers=e,this.fetch=Et(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,e="global"){try{return await Yt(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(t){if(Ft(t))return{data:null,error:t};throw t}}async inviteUserByEmail(t,e={}){try{return await Yt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:Xt})}catch(t){if(Ft(t))return{data:{user:null},error:t};throw t}}async generateLink(t){try{const{options:e}=t,r=re(t,["options"]),s=Object.assign(Object.assign({},r),e);return"newEmail"in r&&(s.new_email=null==r?void 0:r.newEmail,delete s.newEmail),await Yt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:te,redirectTo:null==e?void 0:e.redirectTo})}catch(t){if(Ft(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(t){try{return await Yt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Xt})}catch(t){if(Ft(t))return{data:{user:null},error:t};throw t}}async listUsers(t){var e,r,s,n,i,a,o;try{const l={nextPage:null,lastPage:0,total:0},c=await Yt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(e=null==t?void 0:t.page)||void 0===e?void 0:e.toString())&&void 0!==r?r:"",per_page:null!==(n=null===(s=null==t?void 0:t.perPage)||void 0===s?void 0:s.toString())&&void 0!==n?n:""},xform:ee});if(c.error)throw c.error;const h=await c.json(),u=null!==(i=c.headers.get("x-total-count"))&&void 0!==i?i:0,d=null!==(o=null===(a=c.headers.get("link"))||void 0===a?void 0:a.split(","))&&void 0!==o?o:[];return d.length>0&&(d.forEach((t=>{const e=parseInt(t.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(t.split(";")[1].split("=")[1]);l[`${r}Page`]=e})),l.total=parseInt(u)),{data:Object.assign(Object.assign({},h),l),error:null}}catch(t){if(Ft(t))return{data:{users:[]},error:t};throw t}}async getUserById(t){try{return await Yt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Xt})}catch(t){if(Ft(t))return{data:{user:null},error:t};throw t}}async updateUserById(t,e){try{return await Yt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:Xt})}catch(t){if(Ft(t))return{data:{user:null},error:t};throw t}}async deleteUser(t,e=!1){try{return await Yt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:Xt})}catch(t){if(Ft(t))return{data:{user:null},error:t};throw t}}async _listFactors(t){try{const{data:e,error:r}=await Yt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:t=>({data:{factors:t},error:null})});return{data:e,error:r}}catch(t){if(Ft(t))return{data:null,error:t};throw t}}async _deleteFactor(t){try{return{data:await Yt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(t){if(Ft(t))return{data:null,error:t};throw t}}}const ne="2.57.0",ie={"X-Client-Info":`gotrue-js/${ne}`},ae={getItem:t=>At()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{At()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{At()&&globalThis.localStorage.removeItem(t)}};function oe(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}globalThis&&At()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug");class le extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(t){"undefined"!=typeof self&&(self.globalThis=self)}}();const ce={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ie,flowType:"implicit",debug:!1},he=3e4;async function ue(t,e,r){return await r()}class de{constructor(t){var e;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=de.nextInstanceID,de.nextInstanceID+=1,this.instanceID>0&&vt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},ce),t);if(this.logDebugMessages=!!r.debug,"function"==typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new se({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Et(r.fetch),this.lock=r.lock||ue,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:At()?this.storage=ae:(this.memoryStorage={},this.storage=oe(this.memoryStorage)):(this.memoryStorage={},this.storage=oe(this.memoryStorage)),vt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(t){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",t)}null===(e=this.broadcastChannel)||void 0===e||e.addEventListener("message",(async t=>{this._debug("received broadcast notification from other tab or client",t),await this._notifyAllSubscribers(t.data.event,t.data.session,!1)}))}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ne}) ${(new Date).toISOString()}`,...t),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,(async()=>await this._initialize())))()),await this.initializePromise}async _initialize(){try{const t=!!vt()&&await this._isPKCEFlow();if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:e,error:r}=await this._getSessionFromURL(t);if(r)return this._debug("#_initialize()","error detecting session from URL",r),await this._removeSession(),{error:r};const{session:s,redirectType:n}=e;return this._debug("#_initialize()","detected session in URL",s,"redirect type",n),await this._saveSession(s),setTimeout((async()=>{"recovery"===n?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)}),0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Ft(t)?{error:t}:{error:new Nt("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signUp(t){var e,r,s;try{let n;if(await this._removeSession(),"email"in t){const{email:r,password:s,options:i}=t;let a=null,o=null;if("pkce"===this.flowType){const t=Mt();await Pt(this.storage,`${this.storageKey}-code-verifier`,t),a=await Dt(t),o=t===a?"plain":"s256"}n=await Yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==i?void 0:i.emailRedirectTo,body:{email:r,password:s,data:null!==(e=null==i?void 0:i.data)&&void 0!==e?e:{},gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken},code_challenge:a,code_challenge_method:o},xform:Zt})}else{if(!("phone"in t))throw new jt("You must provide either an email or phone number and a password");{const{phone:e,password:i,options:a}=t;n=await Yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:e,password:i,data:null!==(r=null==a?void 0:a.data)&&void 0!==r?r:{},channel:null!==(s=null==a?void 0:a.channel)&&void 0!==s?s:"sms",gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},xform:Zt})}}const{data:i,error:a}=n;if(a||!i)return{data:{user:null,session:null},error:a};const o=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(t){if(Ft(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithPassword(t){try{let e;if(await this._removeSession(),"email"in t){const{email:r,password:s,options:n}=t;e=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:s,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},xform:Zt})}else{if(!("phone"in t))throw new jt("You must provide either an email or phone number and a password");{const{phone:r,password:s,options:n}=t;e=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:s,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},xform:Zt})}}const{data:r,error:s}=e;return s?{data:{user:null,session:null},error:s}:r&&r.session&&r.user?(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:{user:r.user,session:r.session},error:s}):{data:{user:null,session:null},error:new Ut}}catch(t){if(Ft(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(t){var e,r,s,n;return await this._removeSession(),await this._handleProviderSignIn(t.provider,{redirectTo:null===(e=t.options)||void 0===e?void 0:e.redirectTo,scopes:null===(r=t.options)||void 0===r?void 0:r.scopes,queryParams:null===(s=t.options)||void 0===s?void 0:s.queryParams,skipBrowserRedirect:null===(n=t.options)||void 0===n?void 0:n.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,(async()=>this._exchangeCodeForSession(t)))}async _exchangeCodeForSession(t){const e=await Ct(this.storage,`${this.storageKey}-code-verifier`),{data:r,error:s}=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:e},xform:Zt});return await St(this.storage,`${this.storageKey}-code-verifier`),s?{data:{user:null,session:null},error:s}:r&&r.session&&r.user?(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:r,error:s}):{data:{user:null,session:null},error:new Ut}}async signInWithIdToken(t){await this._removeSession();try{const{options:e,provider:r,token:s,access_token:n,nonce:i}=t,a=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:n,nonce:i,gotrue_meta_security:{captcha_token:null==e?void 0:e.captchaToken}},xform:Zt}),{data:o,error:l}=a;return l?{data:{user:null,session:null},error:l}:o&&o.session&&o.user?(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:l}):{data:{user:null,session:null},error:new Ut}}catch(t){if(Ft(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(t){var e,r,s,n,i;try{if(await this._removeSession(),"email"in t){const{email:s,options:n}=t;let i=null,a=null;if("pkce"===this.flowType){const t=Mt();await Pt(this.storage,`${this.storageKey}-code-verifier`,t),i=await Dt(t),a=t===i?"plain":"s256"}const{error:o}=await Yt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:null!==(e=null==n?void 0:n.data)&&void 0!==e?e:{},create_user:null===(r=null==n?void 0:n.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken},code_challenge:i,code_challenge_method:a},redirectTo:null==n?void 0:n.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in t){const{phone:e,options:r}=t,{data:a,error:o}=await Yt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:e,data:null!==(s=null==r?void 0:r.data)&&void 0!==s?s:{},create_user:null===(n=null==r?void 0:r.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null==r?void 0:r.captchaToken},channel:null!==(i=null==r?void 0:r.channel)&&void 0!==i?i:"sms"}});return{data:{user:null,session:null,messageId:null==a?void 0:a.message_id},error:o}}throw new jt("You must provide either an email or phone number.")}catch(t){if(Ft(t))return{data:{user:null,session:null},error:t};throw t}}async verifyOtp(t){var e,r;try{let s,n;"email_change"!==t.type&&"phone_change"!==t.type&&await this._removeSession(),"options"in t&&(s=null===(e=t.options)||void 0===e?void 0:e.redirectTo,n=null===(r=t.options)||void 0===r?void 0:r.captchaToken);const{data:i,error:a}=await Yt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:n}}),redirectTo:s,xform:Zt});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const o=i.session,l=i.user;return(null==o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(t){if(Ft(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithSSO(t){var e,r,s;try{await this._removeSession();let n=null,i=null;if("pkce"===this.flowType){const t=Mt();await Pt(this.storage,`${this.storageKey}-code-verifier`,t),n=await Dt(t),i=t===n?"plain":"s256"}return await Yt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:null!==(r=null===(e=t.options)||void 0===e?void 0:e.redirectTo)&&void 0!==r?r:void 0}),(null===(s=null==t?void 0:t.options)||void 0===s?void 0:s.captchaToken)?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:n,code_challenge_method:i}),headers:this.headers,xform:$t})}catch(t){if(Ft(t))return{data:null,error:t};throw t}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._reauthenticate()))}async _reauthenticate(){try{return await this._useSession((async t=>{const{data:{session:e},error:r}=t;if(r)throw r;if(!e)throw new Lt;const{error:s}=await Yt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:e.access_token});return{data:{user:null,session:null},error:s}}))}catch(t){if(Ft(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{"email_change"!=t.type&&"phone_change"!=t.type&&await this._removeSession();const e=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:n}=t,{error:i}=await Yt(this.fetch,"POST",e,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},redirectTo:null==n?void 0:n.emailRedirectTo});return{data:{user:null,session:null},error:i}}if("phone"in t){const{phone:r,type:s,options:n}=t,{data:i,error:a}=await Yt(this.fetch,"POST",e,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}}});return{data:{user:null,session:null,messageId:null==i?void 0:i.message_id},error:a}}throw new jt("You must provide either an email or phone number and a type")}catch(t){if(Ft(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,this._acquireLock(-1,(async()=>this._useSession((async t=>t))))}async _acquireLock(t,e){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const t=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await t,await e()))();return this.pendingInLock.push((async()=>{try{await r}catch(t){}})()),r}return await this.lock(`lock:${this.storageKey}`,t,(async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const t=e();for(this.pendingInLock.push((async()=>{try{await t}catch(t){}})()),await t;this.pendingInLock.length;){const t=[...this.pendingInLock];await Promise.all(t),this.pendingInLock.splice(0,t.length)}return await t}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const e=await this.__loadSession();return await t(e)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let t=null;const e=await Ct(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",e),null!==e&&(this._isValidSession(e)?t=e:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=!!t.expires_at&&t.expires_at<=Date.now()/1e3;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r)return{data:{session:t},error:null};const{session:s,error:n}=await this._callRefreshToken(t.refresh_token);return n?{data:{session:null},error:n}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,this._acquireLock(-1,(async()=>await this._getUser())))}async _getUser(t){try{return t?await Yt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Xt}):await this._useSession((async t=>{var e,r;const{data:s,error:n}=t;if(n)throw n;return await Yt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(r=null===(e=s.session)||void 0===e?void 0:e.access_token)&&void 0!==r?r:void 0,xform:Xt})}))}catch(t){if(Ft(t))return{data:{user:null},error:t};throw t}}async updateUser(t,e={}){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._updateUser(t,e)))}async _updateUser(t,e={}){try{return await this._useSession((async r=>{const{data:s,error:n}=r;if(n)throw n;if(!s.session)throw new Lt;const i=s.session;let a=null,o=null;if("pkce"===this.flowType&&null!=t.email){const t=Mt();await Pt(this.storage,`${this.storageKey}-code-verifier`,t),a=await Dt(t),o=t===a?"plain":"s256"}const{data:l,error:c}=await Yt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==e?void 0:e.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:o}),jwt:i.access_token,xform:Xt});if(c)throw c;return i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}}))}catch(t){if(Ft(t))return{data:{user:null},error:t};throw t}}_decodeJWT(t){return _t(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._setSession(t)))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Lt;const e=Date.now()/1e3;let r=e,s=!0,n=null;const i=_t(t.access_token);if(i.exp&&(r=i.exp,s=r<=e),s){const{session:e,error:r}=await this._callRefreshToken(t.refresh_token);if(r)return{data:{user:null,session:null},error:r};if(!e)return{data:{user:null,session:null},error:null};n=e}else{const{data:s,error:i}=await this._getUser(t.access_token);if(i)throw i;n={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:r-e,expires_at:r},await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)}return{data:{user:n.user,session:n},error:null}}catch(t){if(Ft(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._refreshSession(t)))}async _refreshSession(t){try{return await this._useSession((async e=>{var r;if(!t){const{data:s,error:n}=e;if(n)throw n;t=null!==(r=s.session)&&void 0!==r?r:void 0}if(!(null==t?void 0:t.refresh_token))throw new Lt;const{session:s,error:n}=await this._callRefreshToken(t.refresh_token);return n?{data:{user:null,session:null},error:n}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}}))}catch(t){if(Ft(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(t){try{if(!vt())throw new Gt("No browser detected.");if("implicit"===this.flowType&&!this._isImplicitGrantFlow())throw new Gt("Not a valid implicit grant flow url.");if("pkce"==this.flowType&&!t)throw new Vt("Not a valid PKCE flow url.");const e=kt(window.location.href);if(t){if(!e.code)throw new Vt("No code detected.");const{data:t,error:r}=await this._exchangeCodeForSession(e.code);if(r)throw r;const s=new URL(window.location.href);return s.searchParams.delete("code"),window.history.replaceState(window.history.state,"",s.toString()),{data:{session:t.session,redirectType:null},error:null}}if(e.error||e.error_description||e.error_code)throw new Gt(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:s,access_token:n,refresh_token:i,expires_in:a,expires_at:o,token_type:l}=e;if(!(n&&a&&i&&l))throw new Gt("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let u=c+h;o&&(u=parseInt(o));const d=u-c;1e3*d<=he&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${h}s`);const p=u-h;c-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,u,c):c-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",p,u,c);const{data:f,error:m}=await this._getUser(n);if(m)throw m;const g={provider_token:r,provider_refresh_token:s,access_token:n,expires_in:h,expires_at:u,refresh_token:i,token_type:l,user:f.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(t){if(Ft(t))return{data:{session:null,redirectType:null},error:t};throw t}}_isImplicitGrantFlow(){const t=kt(window.location.href);return!(!vt()||!t.access_token&&!t.error_description)}async _isPKCEFlow(){const t=kt(window.location.href),e=await Ct(this.storage,`${this.storageKey}-code-verifier`);return!(!t.code||!e)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._signOut(t)))}async _signOut({scope:t}={scope:"global"}){return await this._useSession((async e=>{var r;const{data:s,error:n}=e;if(n)return{error:n};const i=null===(r=s.session)||void 0===r?void 0:r.access_token;if(i){const{error:e}=await this.admin.signOut(i,t);if(e&&(!function(t){return Ft(t)&&"AuthApiError"===t.name}(e)||404!==e.status&&401!==e.status))return{error:e}}return"others"!==t&&(await this._removeSession(),await St(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}}))}onAuthStateChange(t){const e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){const e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})),r={id:e,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",e),this.stateChangeEmitters.delete(e)}};return this._debug("#onAuthStateChange()","registered callback with id",e),this.stateChangeEmitters.set(e,r),(async()=>{await this.initializePromise,await this._acquireLock(-1,(async()=>{this._emitInitialSession(e)}))})(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession((async e=>{var r,s;try{const{data:{session:s},error:n}=e;if(n)throw n;await(null===(r=this.stateChangeEmitters.get(t))||void 0===r?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(e){await(null===(s=this.stateChangeEmitters.get(t))||void 0===s?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",e),console.error(e)}}))}async resetPasswordForEmail(t,e={}){let r=null,s=null;if("pkce"===this.flowType){const t=Mt();await Pt(this.storage,`${this.storageKey}-code-verifier`,t),r=await Dt(t),s=t===r?"plain":"s256"}try{return await Yt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:e.captchaToken}},headers:this.headers,redirectTo:e.redirectTo})}catch(t){if(Ft(t))return{data:null,error:t};throw t}}async _refreshAccessToken(t){const e=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(e,"begin");try{const r=Date.now();return await function(t,e){return new Promise(((r,s)=>{(async()=>{for(let n=0;n<1/0;n++)try{const s=await t(n);if(!e(n,null,s))return void r(s)}catch(t){if(!e(n,t))return void s(t)}})()}))}((async r=>(await async function(t){return await new Promise((e=>{setTimeout((()=>e(null)),t)}))}(200*r),this._debug(e,"refreshing attempt",r),await Yt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Zt}))),((t,e,s)=>s&&s.error&&Qt(s.error)&&Date.now()+200*(t+1)-r<he))}catch(t){if(this._debug(e,"error",t),Ft(t))return{data:{session:null,user:null},error:t};throw t}finally{this._debug(e,"end")}}_isValidSession(t){return"object"==typeof t&&null!==t&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,e){const r=await this._getUrlForProvider(t,{redirectTo:e.redirectTo,scopes:e.scopes,queryParams:e.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",e,"url",r),vt()&&!e.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const e="#_recoverAndRefresh()";this._debug(e,"begin");try{const r=await Ct(this.storage,this.storageKey);if(this._debug(e,"session from storage",r),!this._isValidSession(r))return this._debug(e,"session is not valid"),void(null!==r&&await this._removeSession());const s=Math.round(Date.now()/1e3),n=(null!==(t=r.expires_at)&&void 0!==t?t:1/0)<s+10;if(this._debug(e,`session has${n?"":" not"} expired with margin of 10s`),n){if(this.autoRefreshToken&&r.refresh_token){const{error:t}=await this._callRefreshToken(r.refresh_token);t&&(console.error(t),Qt(t)||(this._debug(e,"refresh failed with a non-retryable error, removing the session",t),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(t){return this._debug(e,"error",t),void console.error(t)}finally{this._debug(e,"end")}}async _callRefreshToken(t){var e,r;if(!t)throw new Lt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new It;const{data:e,error:r}=await this._refreshAccessToken(t);if(r)throw r;if(!e.session)throw new Lt;await this._saveSession(e.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",e.session);const s={session:e.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(t){if(this._debug(s,"error",t),Ft(t)){const r={session:null,error:t};return null===(e=this.refreshingDeferred)||void 0===e||e.resolve(r),r}throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(t),t}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,e,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",e,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:e});const s=[],n=Array.from(this.stateChangeEmitters.values()).map((async r=>{try{await r.callback(t,e)}catch(t){s.push(t)}}));if(await Promise.all(n),s.length>0){for(let t=0;t<s.length;t+=1)console.error(s[t]);throw s[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),await this._persistSession(t)}_persistSession(t){return this._debug("#_persistSession()",t),Pt(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await St(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&vt()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval((()=>this._autoRefreshTokenTick()),he);this.autoRefreshTicker=t,t&&"object"==typeof t&&"function"==typeof t.unref?t.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(t),setTimeout((async()=>{await this.initializePromise,await this._autoRefreshTokenTick()}),0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,(async()=>{try{const t=Date.now();try{return await this._useSession((async e=>{const{data:{session:r}}=e;if(!r||!r.refresh_token||!r.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const s=Math.floor((1e3*r.expires_at-t)/he);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),s<=3&&await this._callRefreshToken(r.refresh_token)}))}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(t){if(!(t.isAcquireTimeout||t instanceof le))throw t;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vt()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const e=`#_onVisibilityChanged(${t})`;this._debug(e,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,(async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(e,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,e){const r=[`provider=${encodeURIComponent(t)}`];if((null==e?void 0:e.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(e.redirectTo)}`),(null==e?void 0:e.scopes)&&r.push(`scopes=${encodeURIComponent(e.scopes)}`),"pkce"===this.flowType){const t=Mt();await Pt(this.storage,`${this.storageKey}-code-verifier`,t);const e=await Dt(t),s=t===e?"plain":"s256";this._debug("PKCE","code verifier",`${t.substring(0,5)}...`,"code challenge",e,"method",s);const n=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(s)}`});r.push(n.toString())}if(null==e?void 0:e.queryParams){const t=new URLSearchParams(e.queryParams);r.push(t.toString())}return`${this.url}/authorize?${r.join("&")}`}async _unenroll(t){try{return await this._useSession((async e=>{var r;const{data:s,error:n}=e;return n?{data:null,error:n}:await Yt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:null===(r=null==s?void 0:s.session)||void 0===r?void 0:r.access_token})}))}catch(t){if(Ft(t))return{data:null,error:t};throw t}}async _enroll(t){try{return await this._useSession((async e=>{var r,s;const{data:n,error:i}=e;if(i)return{data:null,error:i};const{data:a,error:o}=await Yt(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:null===(r=null==n?void 0:n.session)||void 0===r?void 0:r.access_token});return o?{data:null,error:o}:((null===(s=null==a?void 0:a.totp)||void 0===s?void 0:s.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})}))}catch(t){if(Ft(t))return{data:null,error:t};throw t}}async _verify(t){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async e=>{var r;const{data:s,error:n}=e;if(n)return{data:null,error:n};const{data:i,error:a}=await Yt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:null===(r=null==s?void 0:s.session)||void 0===r?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:a})}))}catch(t){if(Ft(t))return{data:null,error:t};throw t}}))}async _challenge(t){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async e=>{var r;const{data:s,error:n}=e;return n?{data:null,error:n}:await Yt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:null===(r=null==s?void 0:s.session)||void 0===r?void 0:r.access_token})}))}catch(t){if(Ft(t))return{data:null,error:t};throw t}}))}async _challengeAndVerify(t){const{data:e,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:e.id,code:t.code})}async _listFactors(){const{data:{user:t},error:e}=await this.getUser();if(e)return{data:null,error:e};const r=(null==t?void 0:t.factors)||[],s=r.filter((t=>"totp"===t.factor_type&&"verified"===t.status));return{data:{all:r,totp:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,(async()=>await this._useSession((async t=>{var e,r;const{data:{session:s},error:n}=t;if(n)return{data:null,error:n};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const i=this._decodeJWT(s.access_token);let a=null;i.aal&&(a=i.aal);let o=a;(null!==(r=null===(e=s.user.factors)||void 0===e?void 0:e.filter((t=>"verified"===t.status)))&&void 0!==r?r:[]).length>0&&(o="aal2");return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:i.amr||[]},error:null}}))))}}de.nextInstanceID=0;class pe extends de{constructor(t){super(t)}}var fe=function(t,e,r,s){return new(r||(r=Promise))((function(n,i){function a(t){try{l(s.next(t))}catch(t){i(t)}}function o(t){try{l(s.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,o)}l((s=s.apply(t,e||[])).next())}))};const me={headers:mt},ge={schema:"public"},ye={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},be={};class ve{constructor(t,e,r){var s,n,i,a,o,l,c,h;if(this.supabaseUrl=t,this.supabaseKey=e,!t)throw new Error("supabaseUrl is required.");if(!e)throw new Error("supabaseKey is required.");const u=t.replace(/\/$/,"");this.realtimeUrl=`${u}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${u}/auth/v1`,this.storageUrl=`${u}/storage/v1`,this.functionsUrl=`${u}/functions/v1`;const d=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,p=function(t,e){const{db:r,auth:s,realtime:n,global:i}=t,{db:a,auth:o,realtime:l,global:c}=e;return{db:Object.assign(Object.assign({},a),r),auth:Object.assign(Object.assign({},o),s),realtime:Object.assign(Object.assign({},l),n),global:Object.assign(Object.assign({},c),i)}}(null!=r?r:{},{db:ge,realtime:be,auth:Object.assign(Object.assign({},ye),{storageKey:d}),global:me});this.storageKey=null!==(n=null===(s=p.auth)||void 0===s?void 0:s.storageKey)&&void 0!==n?n:"",this.headers=null!==(a=null===(i=p.global)||void 0===i?void 0:i.headers)&&void 0!==a?a:{},this.auth=this._initSupabaseAuthClient(null!==(o=p.auth)&&void 0!==o?o:{},this.headers,null===(l=p.global)||void 0===l?void 0:l.fetch),this.fetch=bt(e,this._getAccessToken.bind(this),null===(c=p.global)||void 0===c?void 0:c.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},p.realtime)),this.rest=new y(`${u}/rest/v1`,{headers:this.headers,schema:null===(h=p.db)||void 0===h?void 0:h.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new c(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new pt(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,e;return fe(this,void 0,void 0,(function*(){const{data:r}=yield this.auth.getSession();return null!==(e=null===(t=r.session)||void 0===t?void 0:t.access_token)&&void 0!==e?e:null}))}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:s,storageKey:n,flowType:i,debug:a},o,l){const c={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new pe({url:this.authUrl,headers:Object.assign(Object.assign({},c),o),storageKey:n,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:s,flowType:i,debug:a,fetch:l})}_initRealtimeClient(t){return new H(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},null==t?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange(((t,e)=>{this._handleTokenChanged(t,"CLIENT",null==e?void 0:e.access_token)}))}_handleTokenChanged(t,e,r){"TOKEN_REFRESHED"!==t&&"SIGNED_IN"!==t||this.changedAccessToken===r?"SIGNED_OUT"===t&&(this.realtime.setAuth(this.supabaseKey),"STORAGE"==e&&this.auth.signOut(),this.changedAccessToken=void 0):(this.realtime.setAuth(null!=r?r:null),this.changedAccessToken=r)}}const we=new class{pull(t,...e){const r=new Set(e);for(let e=t.length-1;e>=0;e--)r.has(t[e])&&t.splice(e,1)}insert(t,e,r){t.splice(e,0,r)}shuffle(t){let e=t.length;for(;0!==e;){const r=Math.floor(Math.random()*e);e-=1,[t[e],t[r]]=[t[r],t[e]]}return t}checkSame(t,e){if(t.length!==e.length)return!1;const r=new Set(e);for(const e of t)if(!r.has(e))return!1;return!0}};class Ae{static NEXT_ID=0;id=Ae.NEXT_ID++;allowedEvents=["delete"];eventMap={};delegateEvents=[];deleted=!1;addAllowedEvents(...t){this.allowedEvents.push(...t)}addEventHandler(t,e){if(!this.allowedEvents.includes(t))throw new Error(`EventContainer ${this.constructor.name} does not allow event ${t}`);void 0===this.eventMap[t]&&(this.eventMap[t]=[]),this.eventMap[t].push(e)}removeDelegateEvents(t){for(const[e,r]of Object.entries(t.events))for(const s of r)t.delegate.off(e,s);we.pull(this.delegateEvents,t)}on(t,e){if(Array.isArray(t))for(const r of t)this.addEventHandler(r,e);else this.addEventHandler(t,e);return this}once(t,e){const r=(...s)=>{this.off(t,r),e(...s)};this.addEventHandler(t,r)}off(t,e){void 0!==this.eventMap?.[t]&&(we.pull(this.eventMap[t],e),0===this.eventMap[t].length&&delete this.eventMap[t])}async fireEvent(t,...e){if(!this.allowedEvents.includes(t))throw new Error(`EventContainer ${this.constructor.name} does not allow event ${t}`);const r=[],s=[],n=this.eventMap[t];if(void 0!==n)for(const t of[...n])if(n.includes(t)){const n=t(...e);n instanceof Promise?s.push(n):r.push(n)}return r.concat(await Promise.all(s))}onDelegate(t,e,r){let s=this.delegateEvents.find((e=>e.delegate===t));void 0===s&&(s={delegate:t,events:{}},this.delegateEvents.push(s)),"string"==typeof e&&(e=[e]);for(const n of e)void 0===s.events[n]&&(s.events[n]=[]),s.events[n].push(r),t.on(n,r)}offDelegate(t){const e=this.delegateEvents.find((e=>e.delegate===t));void 0!==e&&this.removeDelegateEvents(e)}offAll(){this.eventMap={};for(const t of[...this.delegateEvents])this.removeDelegateEvents(t);this.delegateEvents=[]}delete(){for(const t of[...this.delegateEvents])this.removeDelegateEvents(t);this.delegateEvents=void 0,this.fireEvent("delete"),this.allowedEvents=void 0,this.eventMap=void 0,this.deleted=!0}}const ke=new class extends Ae{client;devMode=!1;connect(t,e,r){this.devMode=r,this.client=((t,e,r)=>new ve(t,e,r))(t,e,{auth:{autoRefreshToken:!0,persistSession:!0}})}async signIn(t){await this.client.auth.signInWithOAuth({provider:t,options:this.devMode?{redirectTo:"http://localhost:8413/"}:void 0})}async signOut(){const{error:t}=await this.client.auth.signOut();if(t)throw t}convertNullToUndefined(t){Object.keys(t).forEach((e=>{null===t[e]?t[e]=void 0:"object"==typeof t[e]&&null!==t[e]&&this.convertNullToUndefined(t[e])}))}safeResult(t){return Array.isArray(t)?t.forEach((t=>this.convertNullToUndefined(t))):this.convertNullToUndefined(t),t}async safeFetch(t,e){const{data:r,error:s}=await e(this.client.from(t));if(s)throw s;return this.safeResult(r)}};class Ee extends Ae{parent;children=[];append(...t){for(const e of t)void 0!==e&&e.appendTo(this);return this}appendTo(t,e){return this.parent===t&&void 0!==e&&this.parent.children.indexOf(this)<e&&(e-=1),this.removeFromParent(),void 0!==e&&e<t.children.length?t.children.splice(e,0,this):t.children.push(this),this.parent=t,this}removeFromParent(){void 0!==this.parent&&(we.pull(this.parent.children,this),this.parent=void 0)}empty(){for(;this.children.length>0;)this.children[0].delete();return this}checkChild(t){const e=[...this.children];for(;e.length>0;){const r=e.pop();if(r===t)return!0;e.push(...r.children)}return!1}delete(){super.delete(),this.removeFromParent(),this.empty(),this.children=void 0}}class xe extends Ee{static NUMBER_STYLE_KEY=["zIndex","opacity","flexGrow","flexShrink","gridGap","order","zoom"];static keyframesCount=0;static createElement(t){let e;const r=t.indexOf("#");if(-1!==r){e=t.substring(r+1),t=t.substring(0,r);const s=e.indexOf(".");-1!==s&&(t+=e.substring(s),e=e.substring(0,s))}let s;const n=t.indexOf(".");-1!==n&&(s=t.substring(n+1).replace(/\./g," "),t=t.substring(0,n)),""===t&&(t="div");const i=document.createElement(t);return void 0!==e&&(i.id=e),void 0!==s&&(i.className=s),i}children=[];domEventMap={};windowEventMap={};domElement;constructor(t,...e){super(),this.addAllowedEvents("visible"),t instanceof HTMLElement?this.domElement=t:this.domElement=xe.createElement(t),this.append(...e)}style(t){for(const[e,r]of Object.entries(t))void 0===r?this.domElement.style[e]=null:"number"==typeof r&&!0!==xe.NUMBER_STYLE_KEY.includes(e)?this.domElement.style[e]=`${r}px`:this.domElement.style[e]=r;return this}get rect(){return this.domElement.getBoundingClientRect()}get innerScrollPosition(){let t=0,e=0;if(this.domElement!==document.body){let r=this.domElement.parentNode;for(;r!==document.body&&null!==r;)r instanceof HTMLElement&&(t+=r.scrollLeft,e+=r.scrollTop),r=r.parentNode}return{left:t,top:e}}onDom(t,e){void 0===this.domEventMap[t]&&(this.domEventMap[t]=[]);const r=t=>e(t,this);this.domEventMap[t].push({eventHandler:e,domEventHandler:r}),this.domElement.addEventListener(t,r)}onWindow(t,e){void 0===this.windowEventMap[t]&&(this.windowEventMap[t]=[]);const r=t=>e(t,this);this.windowEventMap[t].push({eventHandler:e,domEventHandler:r}),window.addEventListener(t,r)}offDom(t,e){const r=this.domEventMap[t];if(void 0!==r){const s=r.find((t=>t.eventHandler===e));void 0!==s&&(this.domElement.removeEventListener(t,s.domEventHandler),we.pull(r,s),0===r.length&&delete this.domEventMap[t])}}fireDomEvent(t){this.domElement.dispatchEvent(new Event(t))}appendText(t){if("TEXTAREA"===this.domElement.tagName)this.domElement.append(t);else{const e=new DocumentFragment,r=t.split("\n");for(const[t,s]of r.entries())t>0&&e.append(document.createElement("br")),e.append(s);this.domElement.append(e)}return this}set text(t){this.empty().appendText(t)}append(...t){for(const e of t)if(void 0!==e)if("string"==typeof e)this.appendText(e);else if(e instanceof xe)e.appendTo(this);else for(const[t,r]of Object.entries(e))"function"==typeof r?this.onDom(t,r):"style"===t&&"object"==typeof r?this.style(r):void 0===r?this.domElement.removeAttribute(t):this.domElement.setAttribute(t,String(r));return this}prepend(...t){for(const e of t)if(void 0!==e)if("string"==typeof e)this.domElement.prepend(e);else if(e instanceof xe)e.appendTo(this,0);else for(const[t,r]of Object.entries(e))"function"==typeof r?this.onDom(t,r):"style"===t&&"object"==typeof r?this.style(r):void 0===r?this.domElement.removeAttribute(t):this.domElement.setAttribute(t,String(r));return this}checkVisible(){return void 0!==this.parent&&(this.parent.domElement===document.body||this.parent.checkVisible())}fireVisible(){this.fireEvent("visible");for(const t of this.children)t.fireVisible()}appendTo(t,e){void 0!==e&&e<t.children.length?t.domElement.insertBefore(this.domElement,t.children[e].domElement):t.domElement.append(this.domElement);const r=super.appendTo(t,e);return!0===this.checkVisible()&&this.fireVisible(),r}empty(){for(super.empty();this.domElement.firstChild;)this.domElement.removeChild(this.domElement.firstChild);return this}addClass(t){return this.domElement.classList.add(t),this}deleteClass(...t){return this.domElement.classList.remove(...t),this}hasClass(t){return this.domElement.classList.contains(t)}toggleClass(t){this.domElement.classList.toggle(t)}clone(){return new xe(this.domElement.cloneNode(!0))}delete(){this.domElement.remove(),this.domEventMap=void 0;for(const[t,e]of Object.entries(this.windowEventMap))for(const r of e)window.removeEventListener(t,r.domEventHandler);this.windowEventMap=void 0,super.delete(),this.domElement=void 0}animate({keyframes:t,duration:e=.5,timingFunction:r="ease",delay:s=0,iterationCount:n=1,direction:i="normal",onEnd:a=(()=>{})}){const o="__KEYFRAMES_"+xe.keyframesCount++;let l="",c={};for(const[e,r]of Object.entries(t)){l+=`${e}{`;for(let[t,e]of Object.entries(r))"number"!=typeof e||["zIndex","opacity"].includes(t)||(e+="px"),l+=`${t.replace(/([A-Z])/g,"-$1").toLowerCase()}:${e};`;l+="}","from"===e||"0%"===e?c={...c,...r}:"to"!==e&&"100%"!==e||(c={...c,...r})}const h=document.createElement("style");h.setAttribute("type","text/css"),h.appendChild(document.createTextNode(`@keyframes ${o}{${l}}`)),document.head.appendChild(h),c={...c,animation:`${o} ${e}s ${r} ${s}s ${n} ${i}`},this.style(c),1===n&&setTimeout((()=>{this.deleted||a(),h.remove()}),1e3*e)}}const Pe=new class extends xe{constructor(){super(document.body)}};const Ce=new class{paramRegex=/{(.+)}/;match(t,e,r){for(let s=0;s<t.length;s++){const n=e[s];if(void 0===n)return!1;let i=t[s];if("**"===n)return!0;const a=this.paramRegex.exec(n);if(!n.startsWith("{")){const t=n.indexOf("{");if(i.substring(0,t)!==n.substring(0,t))return!1;i=i.substring(t)}if(i&&a)r&&(r[a[1]]=i);else if("*"!==n&&n!==i)return!1;if(s===t.length-1&&s<e.length-1&&""!==e[e.length-1])return!1}return!0}parse(t,e,r){const s=t.split("/"),n=e.split("/");return this.match(s,n,r)}},Se=t=>decodeURIComponent(t.endsWith("/")?t.slice(0,-1).substring(1):t.substring(1)),Ie=(t,e,r,s)=>e.some((e=>Ce.match(t,e.split("/"),s)))&&!r.some((e=>Ce.match(t,e.split("/"))));const _e=new class extends Ae{routes=[];redirects=[];openingViews=[];forwarding=!1;constructor(){super(),this.addAllowedEvents("go"),window.addEventListener("popstate",(t=>{if(!0===this.forwarding)this.forwarding=!1;else{const e=Pe.children.findLast((t=>t.hasClass("popup-background")));e?(this.forwarding=!0,window.history.forward(),e.delete()):this.check(t.state??void 0)}for(const t of Pe.children)t.hasClass("dropdown-menu")&&t.delete()}))}closeAllPopup(){for(const t of Pe.children)t.hasClass("popup-background")&&t.delete()}check(t,e){const r=Se(location.pathname),s=r.split("/");let n=!1;const i=[];for(const{patterns:r,excludes:n,to:i}of this.redirects){const a=t?{...t}:{};if(Ie(s,r,n,a)){let t=i;for(const[e,r]of Object.entries(a))t=t.replace(new RegExp(`{${e}}`,"g"),r??"");return void this.goNoHistory(`/${t}`,a,e)}}for(const{patterns:a,excludes:o,viewType:l}of this.routes){const c=t?{...t}:{},h=this.openingViews.find((t=>t instanceof l));Ie(s,a,o,c)?void 0===h?(this.openingViews.push(new l(c,r,e)),n=!0):h.changeParams(c,r,e):void 0!==h&&(i.push(h),we.pull(this.openingViews,h))}for(const t of i.reverse())t.close();!0===n&&this.fireEvent("go")}route(t,e,r=[]){"string"==typeof t&&(t=[t]),this.routes.push({patterns:t,excludes:r,viewType:e});const s=Se(location.pathname),n=s.split("/"),i={};Ie(n,t,r,i)&&this.openingViews.push(new e(i,s))}redirect(t,e,r=[]){"string"==typeof t&&(t=[t]),this.redirects.push({patterns:t,excludes:r,to:e});const s=Se(location.pathname).split("/"),n={};if(Ie(s,t,r,n)){let t=e;for(const[e,r]of Object.entries(n))t=t.replace(new RegExp(`{${e}}`,"g"),r??"");this.goNoHistory(`/${t}`)}}go(t,e,r){location.pathname!==t&&(history.pushState(void 0,"",t),this.check(e,r),window.scrollTo(0,0))}changeUri(t){history.replaceState(void 0,"",t)}goNoHistory(t,e,r){location.pathname!==t&&(history.replaceState(void 0,"",t),this.check(e,r),window.scrollTo(0,0))}waitAndGo(t,e,r){setTimeout((()=>this.go(t,e,r)))}refresh(){for(const t of this.openingViews.reverse())t.close();this.openingViews=[];const t=Se(location.pathname),e=t.split("/");for(const{patterns:r,excludes:s,viewType:n}of this.routes){const i={};Ie(e,r,s,i)&&this.openingViews.push(new n(i,t))}}};const Te=new class{initialize(t,e,r){sessionStorage.__spa_path&&(_e.goNoHistory(sessionStorage.__spa_path),sessionStorage.removeItem("__spa_path")),ke.connect(t,e,r),ke.client.auth.onAuthStateChange((t=>{"SIGNED_IN"===t&&ke.client.functions.invoke("store-user-avatar")}))}},Me="1970-01-01T00:00:00.000Z",De="-infinity";new class{map=new Map;cache(t,e){this.map.set(t,e)}get(t){return this.map.get(t)}};class Be extends xe{constructor(t,...e){super(t+".component"),this.append(...e)}}class Fe extends Be{constructor(t){super(".splash-screen"),this.append(t).appendTo(Pe)}}const Oe=new class{async load(t,e){const r=new Fe(t);await Promise.all(e),r.delete()}};const Ne=new class{parseWithUndefined(t){if(null!==t)return JSON.parse(t,((t,e)=>null===e?void 0:e))}};class Re{name;constructor(t){this.name=t}selectStorage(t){return t?localStorage:sessionStorage}getKey(t){return`${this.name}/${t}`}set(t,e,r=!1){this.selectStorage(!r).removeItem(this.getKey(t));const s=this.selectStorage(r);try{s.setItem(this.getKey(t),JSON.stringify(e))}catch(t){if(!(t instanceof DOMException)||22!==t.code&&1014!==t.code&&"QuotaExceededError"!==t.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==t.name)throw t;s.clear(),location.reload()}}get(t,e){let r=sessionStorage.getItem(this.getKey(t))||localStorage.getItem(this.getKey(t));return null===r?e:Ne.parseWithUndefined(r)}getAll(){const t={};for(let e=0;e<sessionStorage.length;e++){const r=sessionStorage.key(e);r&&r.startsWith(this.name)&&(t[r.substring(this.name.length+1)]=Ne.parseWithUndefined(sessionStorage.getItem(r)))}for(let e=0;e<localStorage.length;e++){const r=localStorage.key(e);r&&r.startsWith(this.name)&&(t[r.substring(this.name.length+1)]=Ne.parseWithUndefined(localStorage.getItem(r)))}return t}checkPermanently(t){return null!==localStorage.getItem(this.getKey(t))}delete(t){sessionStorage.removeItem(this.getKey(t)),localStorage.removeItem(this.getKey(t))}clear(){for(let t=0;t<sessionStorage.length;t++){const e=sessionStorage.key(t);e&&e.startsWith(this.name)&&sessionStorage.removeItem(e)}for(let t=0;t<localStorage.length;t++){const e=localStorage.key(t);e&&e.startsWith(this.name)&&localStorage.removeItem(e)}}}const Le=new class{store=new Re("__BROWSER_INFO_STORE");normalizeLanguage(t){return-1!==t.indexOf("-")&&"zh-TW"!==t&&"zh-HK"!==t&&(t=t.substring(0,t.indexOf("-"))),t}get language(){let t=this.store.get("lang")||navigator.language;return this.normalizeLanguage(t)}set language(t){this.store.set("lang",this.normalizeLanguage(t))}changeLanguage(t){if(!t)throw new Error("Invalid language code.");this.language=t,_e.refresh()}get isPhoneSize(){return window.innerWidth<=859}},Ue=(t,...e)=>new xe(xe.createElement(t),...e);class je extends Be{ul;constructor(t){super(".dropdown-menu"),this.append(this.ul=Ue("ul"),t.footer);for(const e of t.items)this.ul.append(Ue("li",Ue("button",e.icon,e.title,{click:t=>{t.stopPropagation(),e.click(),this.delete()}})));this.style({left:t.left,top:t.top}),Pe.append(this),window.addEventListener("click",this.windowClickHandler)}windowClickHandler=t=>{this.domElement.contains(t.target)||this.delete()};delete(){window.removeEventListener("click",this.windowClickHandler),super.delete()}}const Ge=new class{baseIconTag="i";createContent=t=>t};class Ve extends Be{constructor(t){super(Ge.baseIconTag),this.append(Ge.createContent(t))}}var ze=r(9406),Qe=r(5112);const He=3,qe=30,Ke=["#01888C","#FC7500","#034F5D","#F73F01","#FC1960","#C7144C","#F3C100","#1598F2","#2465E1","#F19E02"];function We(t,e=He,r=qe,s=Ke){return"data:image/svg+xml;utf8,"+encodeURIComponent(function(t,e=He,r=qe,s=Ke){if(!/^0x[0-9a-fA-F]{40}$/.test(t))throw new Error("Invalid address");if(e+1>s.length)throw new Error("Insufficient base colors");const n=parseInt(t.slice(2,10),16),i=new Qe(n),a=30*i.random()-r/2,o=s.map((t=>ze(t).rotate(a).hex()));function l(){i.random();const t=i.random(),e=Math.floor(o.length*t),[r]=o.splice(e,1);return r||"#FFFFFF"}function c(t){const r=i.random(),s=i.random(),n=i.random(),a=2*Math.PI*r,o=100*(t+s)/e,l=Math.cos(a)*o,c=Math.sin(a)*o,h=360*r+180*n;return"translate("+l.toFixed(3)+" "+c.toFixed(3)+") rotate("+h.toFixed(1)+" 50 50)"}const h=[];h.push('<rect x="0" y="0" width="100%" height="100%" fill="'+l()+'" />');for(let t=0;t<e;t++)h.push('<rect x="0" y="0" width="100%" height="100%" transform="'+c(t)+'" fill="'+l()+'" />');return'<svg xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 100 100">'+h.join("")+"</svg>"}(t,e,r,s))}class Je extends Be{constructor(t,e){super("img.jazzicon"+t),this.domElement.src=We(e)}}class Ye extends Be{constructor(){super(".list-loading-bar")}}class Ze extends Be{constructor(){super(".loading-spinner")}}var Xe=r(2543);class $e extends Be{animation;constructor(t,e){super(t+".lottie-animation"),this.animation=Xe.loadAnimation({container:this.domElement,renderer:"svg",loop:!0,autoplay:!0,animationData:e})}delete(){this.animation.destroy(),super.delete()}}class tr extends Be{constructor(t){super("span.icon.material-icon.material-symbols-outlined"),this.text=t}}const er=new class{launch(){Ge.baseIconTag="span.icon.material-icon.material-symbols-outlined",Ge.createContent=t=>"x"===t?"close":"error"===t?"error":"warning"===t?"warning":"attachment"===t?"attach_file":"image"===t?"image":"section-menu"===t?"more_vert":"comment"===t?"comment":"repeat"===t?"repeat":"like"===t?"favorite_border":t}};class rr extends Be{activated;constructor(t){super(".nav-bar"),this.append(t.logo?Ue("h1.logo",Ue("a",t.logo,{href:"/",click:t=>{t.preventDefault(),_e.go("/")}})):void 0,...t.menu.map((t=>Ue(`a.menu.${t.id}`,t.icon,t.title,{href:t.uri,click:e=>{e.preventDefault(),_e.go(t.uri)}}))))}active(t){this.activated?.deleteClass("active"),this.activated=this.children.find((e=>e.hasClass(t)))?.addClass("active")}}class sr extends xe{constructor(t){super(".popup-background"),!0===t.barrierDismissible&&this.onDom("click",(t=>{t.target===this.domElement&&this.delete()})),Pe.append(this)}}class nr extends Be{options;_icon;titleContainer;constructor(t){super("button"+(void 0!==t.type?"."+t.type:".contained")+(t.tag??"")),this.options=t,void 0!==t.icon&&this.append(this._icon=t.icon),void 0!==t.title&&this.append(this.titleContainer=Ue("span.title",t.title)),void 0!==t.href&&this.onDom("click",(()=>window.open(t.href))),!0===t.disabled&&this.disable(),void 0!==t.click&&this.onDom("click",(e=>{!0!==this.hasClass("disabled")&&t.click(e,this)}))}set type(t){this.deleteClass("contained","outlined","text"),this.addClass(t)}set title(t){void 0!==this.titleContainer?this.titleContainer.empty().append(t):this.append(this.titleContainer=Ue("span.title",t))}set icon(t){this._icon?.delete(),this._icon=t.appendTo(this,0)}disable(){return this.domElement.setAttribute("disabled","disabled"),this.addClass("disabled"),this}enable(){return this.domElement.removeAttribute("disabled"),this.deleteClass("disabled"),this}set loading(t){t?(this.disable(),this.addClass("loading"),this.title=new Ze):(this.enable(),this.deleteClass("loading"),this.title=this.options.title??"")}}var ir;!function(t){t.Contained="contained",t.Text="text"}(ir||(ir={}));const ar=ir;class or extends Be{timeoutId;constructor(t){super(".snackbar"),this.append(Ue("main",Ue("p",t.message),t.action?new nr({tag:".action",type:ar.Text,title:t.action.title,click:()=>{t.action?.click(),this.delete()}}):void 0,new nr({tag:".close",type:ar.Text,icon:new Ve("x"),click:()=>this.delete()}))),Pe.append(this),this.timeoutId=setTimeout((()=>this.delete()),5e3)}delete(){clearTimeout(this.timeoutId),super.delete()}}const lr={};function cr(){let t="",e="";return 2===Le.language.length?t=Le.language.toLowerCase():(t=Le.language.substring(0,2).toLowerCase(),e=Le.language.substring(3).toLowerCase()),{language:t,locale:e}}function hr(t,e){const r="string"==typeof t?lr[t]:t;if(void 0!==r){let t=r[Le.language];if(void 0===t){const{language:e,locale:s}=cr();t=r[e],"object"==typeof t&&(t=void 0!==t[s]?t[s]:t[Object.keys(t)[0]])}if(void 0===t){const s=r[e];t=void 0!==s?s:r[Object.keys(r)[0]]}return void 0!==t&&"object"==typeof t&&(t=t[Object.keys(t)[0]]),void 0===t?"":t}return console.error(`message "${t}" not exists.`),""}function ur(t,e={},r="en"){let s=hr(t,r);for(const[t,r]of Object.entries(e)){const e=new RegExp(`{${t}}`,"g");s=s.replace(e,String(r??""))}return s}function dr(t,e={},r="en"){const s=hr(t,r).split(/\{|\}/),n=[];for(let t=0;t<s.length;t++){const r=s[t];t%2==0?n.push(r):n.push(e[r])}return n}ur.setMessages=async t=>{for(const[e,r]of Object.entries(t))if(r)for(const[t,s]of Object.entries(r))void 0===lr[t]&&(lr[t]={}),lr[t][e]=s},ur.setMessages({en:{"cancel-button":"Cancel","confirm-button":"Confirm","error-alert-title":"Error","getting-email-from-x-error-message":"Error getting user email from external provider. Please add an email in your X account settings and allow email access.\n"},ko:{"confirm-button":"확인"},es:{"confirm-button":"Confirmar"},fr:{"confirm-button":"Confirmer"},de:{"confirm-button":"Bestätigen"},it:{"confirm-button":"Conferma"},pt:{"confirm-button":"Confirmar"},ru:{"confirm-button":"Подтвердить"},zh:{"confirm-button":"确认"},"zh-tw":{"confirm-button":"確認"},"zh-hk":{"confirm-button":"確認"},ja:{"confirm-button":"確認"}}),ur.getMessages=t=>lr[t],ur.getLangMessages=(t,e="en")=>{const{language:r,locale:s}=cr(),n="string"==typeof t?lr[t]:t;if(void 0!==n){let t=n[Le.language];if(void 0===t&&(t=n[r],void 0!==t&&"object"==typeof t&&(t=void 0!==t[s]?t[s]:t[Object.keys(t)[0]])),void 0===t){const r=n[e];t=void 0!==r?r:n[Object.keys(n)[0]]}return void 0!==t&&"object"==typeof t&&(t=t[Object.keys(t)[0]]),{[r]:void 0===t?"":t}}return console.error(`message "${t}" not exists.`),{[r]:""}};const pr=ur;class fr extends sr{content;resolve;reject;constructor(t,e,r){super({barrierDismissible:!0}),this.append(this.content=new Be(".popup.confirm",Ue("header",Ue("h1",t.icon,t.title)),Ue("main",Ue("p",t.message)),Ue("footer",new nr({type:ar.Text,tag:".cancel-button",click:()=>{r&&r(),this.delete()},title:t.cancelTitle??pr("cancel-button")}),new nr({type:ar.Contained,tag:".confirm-button",click:async(t,r)=>{r.loading=!0;try{await e(),this.resolve?.(),this.reject=void 0,this.delete()}catch(t){console.error(t),r.loading=!1,this.reject?.()}},title:t.confirmTitle??pr("confirm-button")})))),this.on("delete",(()=>this.reject?.()))}async wait(){return new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class mr extends sr{content;constructor(t){super({barrierDismissible:!0}),this.append(this.content=new Be(".popup.error-alert",Ue("header",Ue("h1",new Ve("error"),t.title)),Ue("main",Ue("p",t.message)),Ue("footer",new nr({type:ar.Text,tag:".confirm-button",title:t.confirmTitle??"OK",click:()=>this.delete()}))))}}class gr extends Be{input;previousValue="";constructor(t){super("label.input"+(!0===t.disabled?".disabled":"")+(!0===t.required?".required":"")+(t.tag??"")),this.addAllowedEvents("change"),this.append(t.label,this.input=Ue(!0===t.multiline?"textarea":"input",{placeholder:t.placeholder,disabled:!0===t.disabled?"disabled":void 0,keyup:()=>{this.value!==this.previousValue&&(this.fireEvent("change"),this.previousValue=this.value)}})),void 0!==t.value&&(this.value=t.value)}get value(){return this.input.domElement.value}set value(t){this.input.domElement.value!==t&&(this.input.domElement.value=t,this.fireEvent("change"))}select(){this.input.domElement.select()}}class yr extends Be{_value;_options=[];valueDisplay;optionContainer;constructor(t){super(".select"),this.addAllowedEvents("change"),this.append(Ue("label",t.label,{click:()=>this.valueDisplay.fireDomEvent("mousedown")}),this.valueDisplay=Ue(".value"),this.optionContainer=Ue(".option-container")),t.placeholder&&this.valueDisplay.domElement.setAttribute("data-empty-message",t.placeholder),this.valueDisplay.onDom("mousedown",(t=>{t.stopPropagation(),this.toggleClass("open")})),this.onWindow("mousedown",(()=>this.deleteClass("open"))),this.options=t.options}get value(){return this._value}set value(t){if(this._value===t)return;this.valueDisplay.empty();const e=this._options.find((e=>e.value===t))?.dom.clone();e&&this.valueDisplay.append(e),(e||void 0===t)&&(this._value=t,this.fireEvent("change",t))}get options(){return this._options}set options(t){this._options=t,this.optionContainer.empty();for(const e of t)e.dom.clone().appendTo(this.optionContainer).onDom("mousedown",(()=>this.value=e.value));this.value=this._value}}class br extends Be{constructor(t,e){super(t.tag+".file-drop-area"),t.contenteditable&&(this.domElement.contentEditable="true",this.onDom("paste",(t=>{t.preventDefault();const e=t.clipboardData?.getData("text/plain");document.execCommand("insertText",!1,e)}))),this.onDom("dragenter",(t=>{t.preventDefault(),this.highlight()})),this.onDom("dragover",(t=>{t.preventDefault(),t.dataTransfer.dropEffect="copy",this.highlight()})),this.onDom("dragleave",(()=>this.unhighlight())),this.onDom("drop",(t=>{t.preventDefault(),e(Array.from(t.dataTransfer.files)),this.unhighlight()}))}highlight(){this.addClass("highlight")}unhighlight(){this.deleteClass("highlight")}}const vr=JSON.parse('{"nm":"Load Fae 2","ddd":0,"h":640,"w":640,"meta":{"g":"@lottiefiles/toolkit-js 0.33.2"},"layers":[{"ty":0,"nm":"Image Reverse","sr":1,"st":0,"op":120,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[84,84,0],"ix":1},"s":{"a":0,"k":[202.381,202.381,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[320,320,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[10],"t":0},{"s":[45],"t":119}],"ix":11}},"ef":[],"w":168,"h":168,"refId":"comp_0","ind":1},{"ty":0,"nm":"Faded","sr":1,"st":0,"op":120,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[84,84,0],"ix":1},"s":{"a":0,"k":[205,205,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[320,320,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":26,"ix":11}},"ef":[],"w":168,"h":168,"refId":"comp_1","ind":2},{"ty":4,"nm":"Shape Layer 1","sr":1,"st":0,"op":120,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[-75.008,597.195,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Rectangle 1","ix":1,"cix":2,"np":3,"it":[{"ty":"rc","bm":0,"hd":false,"mn":"ADBE Vector Shape - Rect","nm":"Rectangle Path 1","d":1,"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"s":{"a":0,"k":[506.453,927.828],"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":1,"lj":1,"ml":4,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"c":{"a":0,"k":[1,1,1],"ix":3}},{"ty":"fl","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[0.2667,0.2667,0.2667],"ix":4},"r":1,"o":{"a":0,"k":100,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[218.041,213.52],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[395.008,354.805],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":3}],"v":"5.1.16","fr":60,"op":120,"ip":0,"assets":[{"nm":"","id":"comp_0","layers":[{"ty":3,"nm":"Ã¢ÂÂ½ Mountain","sr":1,"st":0,"op":120,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[24,63,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"ind":1},{"ty":4,"nm":"Path 3","sr":1,"st":0,"op":120,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[28.515,16.515,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[91.515,40.545,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[19.01,11.01],[7.99,0],[0,8.02]]},"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"c":{"a":0,"k":[0.5922,0.5922,0.5922],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]},{"ty":"tm","bm":0,"hd":false,"mn":"ADBE Vector Filter - Trim","nm":"Trim Paths 1","ix":2,"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"s":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[100],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0],"t":55},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[100],"t":119},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0],"t":174},{"s":[100],"t":239}],"ix":1},"m":1}],"ind":2,"parent":1},{"ty":4,"nm":"Path 2","sr":1,"st":0,"op":120,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[35.505,17.85,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[35.835,20.7,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":3,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[23.67,11.9],[12.88,0],[0,11.9]]},"ix":2}},{"ty":"tm","bm":0,"hd":false,"mn":"ADBE Vector Filter - Trim","nm":"Trim Paths 1","ix":2,"e":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[100],"t":55},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0],"t":119},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[100],"t":174},{"s":[0],"t":239}],"ix":2},"o":{"a":0,"k":0,"ix":3},"s":{"a":0,"k":0,"ix":1},"m":1},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"c":{"a":0,"k":[0.5922,0.5922,0.5922],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":3,"parent":1},{"ty":3,"nm":"Ã¢ÂÂ½ Sun","sr":1,"st":0,"op":120,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[105,54,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"ind":4},{"ty":4,"nm":"Sun","sr":1,"st":0,"op":120,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[9,9,0],"ix":1},"s":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0,0,100],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[150,150,100],"t":29},{"o":{"x":0.333,"y":0},"i":{"x":0.833,"y":0.833},"s":[30,30,100],"t":44},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[100,100,100],"t":55},{"o":{"x":0.333,"y":0},"i":{"x":0.833,"y":0.833},"s":[30,30,100],"t":66},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[150,150,100],"t":80},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0,0,100],"t":119},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[150,150,100],"t":148},{"o":{"x":0.333,"y":0},"i":{"x":0.833,"y":0.833},"s":[30,30,100],"t":163},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[100,100,100],"t":174},{"o":{"x":0.333,"y":0},"i":{"x":0.833,"y":0.833},"s":[30,30,100],"t":185},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[150,150,100],"t":199},{"s":[0,0,100],"t":239}],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[9,9,0],"ix":2},"r":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0],"t":0},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":1},"s":[720],"t":44},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[720],"t":66},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0],"t":119},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":1},"s":[720],"t":163},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[720],"t":185},{"s":[0],"t":239}],"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[-1.66,0],[0,-1.66],[1.66,0],[0,1.66]],"o":[[1.66,0],[0,1.66],[-1.66,0],[0,-1.66]],"v":[[3,0],[6,3],[3,6],[0,3]]},"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":1,"ml":4,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"c":{"a":0,"k":[0.5922,0.5922,0.5922],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]},{"ty":"tm","bm":0,"hd":false,"mn":"ADBE Vector Filter - Trim","nm":"Trim Paths 1","ix":2,"e":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[1],"t":0},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":1},"s":[99],"t":49},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[99],"t":61},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[1],"t":119},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":1},"s":[99],"t":168},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[99],"t":180},{"s":[1],"t":239}],"ix":2},"o":{"a":0,"k":0,"ix":3},"s":{"a":0,"k":0,"ix":1},"m":1}],"ind":5,"parent":4},{"ty":4,"nm":"Inner.F","sr":1,"st":0,"op":121,"ip":0,"hd":false,"cl":"F","ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[84,84,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"cl":"F","hd":false,"mn":"ADBE Vector Group","nm":"Inner.F","ix":1,"cix":2,"np":2,"it":[{"ty":"rc","bm":0,"hd":false,"mn":"ADBE Vector Shape - Rect","nm":"Rectangle Path 1","d":1,"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"s":{"a":0,"k":[40,32],"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"c":{"a":0,"k":[0.5922,0.5922,0.5922],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]},{"ty":"tm","bm":0,"hd":false,"mn":"ADBE Vector Filter - Trim","nm":"Trim Paths 1","ix":2,"e":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[1],"t":0},{"s":[100],"t":119}],"ix":2},"o":{"a":0,"k":148,"ix":3},"s":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0.9],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[16],"t":23},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[27],"t":61},{"s":[99.9],"t":119}],"ix":1},"m":1}],"ind":6},{"ty":4,"nm":"Outer.F","sr":1,"st":0,"op":120,"ip":0,"hd":false,"cl":"F","ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[84,84,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"cl":"F","hd":false,"mn":"ADBE Vector Group","nm":"Outer.F","ix":1,"cix":2,"np":2,"it":[{"ty":"rc","bm":0,"hd":false,"mn":"ADBE Vector Shape - Rect","nm":"Rectangle Path 1","d":3,"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"s":{"a":0,"k":[48,40],"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":1,"ml":4,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"c":{"a":0,"k":[0.5922,0.5922,0.5922],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]},{"ty":"tm","bm":0,"hd":false,"mn":"ADBE Vector Filter - Trim","nm":"Trim Paths 1","ix":2,"e":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0.1],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[99.9],"t":119},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[100],"t":174},{"s":[29],"t":239}],"ix":2},"o":{"a":0,"k":107,"ix":3},"s":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0.2],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[8],"t":7},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[67.214],"t":45},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[100],"t":119},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[99.9],"t":174},{"s":[26],"t":239}],"ix":1},"m":1}],"ind":7}]},{"nm":"","id":"comp_1","layers":[{"ty":3,"nm":"Ã¢ÂÂ½ Mountain","sr":1,"st":0,"op":121,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[24,63,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"ind":1},{"ty":4,"nm":"Path 3","sr":1,"st":0,"op":121,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[28.515,16.515,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[91.515,40.545,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[0,8.02],[7.99,0],[19.01,11.01]]},"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"c":{"a":0,"k":[0.5922,0.5922,0.5922],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]},{"ty":"tm","bm":0,"hd":false,"mn":"ADBE Vector Filter - Trim","nm":"Trim Paths 1","ix":2,"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"s":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[100],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0],"t":55},{"s":[100],"t":119}],"ix":1},"m":1}],"ind":2,"parent":1},{"ty":4,"nm":"Path 2","sr":1,"st":0,"op":121,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[35.505,17.85,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[35.835,20.7,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":3,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[0,11.9],[12.88,0],[23.67,11.9]]},"ix":2}},{"ty":"tm","bm":0,"hd":false,"mn":"ADBE Vector Filter - Trim","nm":"Trim Paths 1","ix":2,"e":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[100],"t":55},{"s":[0],"t":119}],"ix":2},"o":{"a":0,"k":0,"ix":3},"s":{"a":0,"k":0,"ix":1},"m":1},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"c":{"a":0,"k":[0.5922,0.5922,0.5922],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":3,"parent":1},{"ty":3,"nm":"Ã¢ÂÂ½ Sun","sr":1,"st":0,"op":121,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[105,54,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"ind":4},{"ty":4,"nm":"Sun","sr":1,"st":0,"op":121,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[9,9,0],"ix":1},"s":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0,0,100],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[150,150,100],"t":29},{"o":{"x":0.333,"y":0},"i":{"x":0.833,"y":0.833},"s":[30,30,100],"t":44},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[100,100,100],"t":55},{"o":{"x":0.333,"y":0},"i":{"x":0.833,"y":0.833},"s":[30,30,100],"t":66},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[150,150,100],"t":80},{"s":[0,0,100],"t":119}],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[9,9,0],"ix":2},"r":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0],"t":0},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":1},"s":[720],"t":44},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[720],"t":66},{"s":[0],"t":119}],"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[1.66,0],[0,-1.66],[-1.66,0],[0,1.66]],"o":[[-1.66,0],[0,1.66],[1.66,0],[0,-1.66]],"v":[[3,0],[0,3],[3,6],[6,3]]},"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":1,"ml":4,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"c":{"a":0,"k":[0.5922,0.5922,0.5922],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]},{"ty":"tm","bm":0,"hd":false,"mn":"ADBE Vector Filter - Trim","nm":"Trim Paths 1","ix":2,"e":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[1],"t":0},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":1},"s":[99],"t":49},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[99],"t":61},{"s":[1],"t":119}],"ix":2},"o":{"a":0,"k":0,"ix":3},"s":{"a":0,"k":0,"ix":1},"m":1}],"ind":5,"parent":4},{"ty":4,"nm":"Inner.F 2","sr":1,"st":-2,"op":119,"ip":-2,"hd":false,"cl":"F","ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[84,84,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"cl":"F","hd":false,"mn":"ADBE Vector Group","nm":"Inner.F","ix":1,"cix":2,"np":2,"it":[{"ty":"rc","bm":0,"hd":false,"mn":"ADBE Vector Shape - Rect","nm":"Rectangle Path 1","d":1,"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"s":{"a":0,"k":[40,32],"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"c":{"a":0,"k":[0.5922,0.5922,0.5922],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":90,"ix":7}}]}],"ind":6},{"ty":4,"nm":"Outer.F","sr":1,"st":0,"op":121,"ip":0,"hd":false,"cl":"F","ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[84,84,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"cl":"F","hd":false,"mn":"ADBE Vector Group","nm":"Outer.F","ix":1,"cix":2,"np":2,"it":[{"ty":"rc","bm":0,"hd":false,"mn":"ADBE Vector Shape - Rect","nm":"Rectangle Path 1","d":3,"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"s":{"a":0,"k":[48,40],"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":1,"ml":4,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"c":{"a":0,"k":[0.5922,0.5922,0.5922],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]},{"ty":"tm","bm":0,"hd":false,"mn":"ADBE Vector Filter - Trim","nm":"Trim Paths 1","ix":2,"e":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[99.9],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[50],"t":45},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[24],"t":72},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0.09],"t":119},{"s":[24],"t":191}],"ix":2},"o":{"a":0,"k":0,"ix":3},"s":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[100],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[54],"t":45},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[36],"t":72},{"s":[1],"t":119}],"ix":1},"m":1}],"ind":7}]}]}');class wr extends Be{static NOT_FOUND_IMAGE="/images/image-not-found.png";constructor(t){if(super(".rich-display"),this.addAllowedEvents("imageLoaded"),t.files)for(const e of t.files)if(e.fileType.startsWith("image/")){let t=!1;const r=new $e(".image-loading-animation",vr),s=Ue("img.hidden",{src:e.url,alt:e.fileName,load:()=>{this.deleted||(s.deleteClass("hidden"),this.fireEvent("imageLoaded",s.domElement.height),r.delete())}});s.domElement.onerror=()=>{s.deleteClass("hidden"),s.domElement.onerror=null,s.domElement.src=wr.NOT_FOUND_IMAGE,t=!0,r.delete()},this.append(Ue(".image-container",Ue("a",s,r,{click:r=>{r.stopPropagation(),t||this.openImage(e)}})))}}openImage(t){window.open(t.url,"_blank")}}class Ar extends Be{toUploadFiles=[];uploadPreviewArea;constructor(t){super(t+".upload-form")}uploadInput=Ue("input.upload",{type:"file",multiple:!0,change:()=>{const t=this.uploadInput.domElement.files;t&&this.appendFiles(Array.from(t)),this.uploadInput.domElement.value=""}});openFileSelector(){this.uploadInput.domElement.click()}appendFiles(t){this.toUploadFiles.push(...t);for(const e of t)this.appendPreview(e)}appendPreview(t){if(this.uploadPreviewArea){const e=Ue("a.preview",Ue("button.x",new Ve("x"),{click:r=>{r.preventDefault(),this.toUploadFiles=this.toUploadFiles.filter((e=>e!==t)),e.delete()}}),{href:URL.createObjectURL(t),download:t.name,target:"_blank"}).appendTo(this.uploadPreviewArea);t.type.startsWith("image/")?e.addClass("image").style({backgroundImage:`url(${URL.createObjectURL(t)})`}):e.addClass("file").append(t.name)}}clearUploads(){this.toUploadFiles=[],this.uploadPreviewArea?.empty()}}class kr extends Be{_id;constructor(t,e){super("li.tab"),this._id=t,this.append(...Array.isArray(e)?e:[e])}set active(t){t?this.addClass("active"):this.deleteClass("active")}get active(){return this.hasClass("active")}}class Er extends Be{children=[];store;constructor(t,e){super("ul.tabs"),this.addAllowedEvents("select"),this.store=new Re(`tabs-${t}`);for(const t of e){const e=new kr(t.id,t.label);e.onDom("click",(()=>this.select(t.id))),this.append(e)}}init(t){if(t)this.select(t);else if(this.store.get("selected"))this.select(this.store.get("selected"));else{const t=this.children[0]?._id;t&&this.select(t)}return this}select(t){let e=!1;for(const r of this.children)r._id===t?(r.active=!0,e=!0):r.active&&(r.active=!1);if(e)this.store.set("selected",t,!0),this.fireEvent("select",t);else{const t=this.children[0]?._id;t&&this.select(t)}}}class xr extends Ae{tableName;selectQuery;fetchLimit;constructor(t,e,r){super(),this.tableName=t,this.selectQuery=e,this.fetchLimit=r}async safeSelect(t){const e=await ke.safeFetch(this.tableName,(e=>t(e.select(this.selectQuery).limit(this.fetchLimit))));return e??[]}async safeSelectSingle(t){const e=await ke.safeFetch(this.tableName,(e=>t(e.select(this.selectQuery).limit(1))));return e?.[0]}async safeExists(t){const{data:e,error:r}=await t(ke.client.from(this.tableName).select("*").limit(1));if(r)throw r;return e.length>0}async safeInsert(t){const{error:e}=await ke.client.from(this.tableName).insert(t);if(e)throw e}async safeInsertAndSelect(t){const e=await ke.safeFetch(this.tableName,(e=>e.insert(t).select(this.selectQuery).single()));return e}async safeUpdate(t,e){const{error:r}=await t(ke.client.from(this.tableName).update(e));if(r)throw r}async safeDelete(t){const{error:e}=await t(ke.client.from(this.tableName).delete());if(e)throw e}}const Pr={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Cr;const Sr=new Uint8Array(16);function Ir(){if(!Cr&&(Cr="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Cr))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Cr(Sr)}const _r=[];for(let t=0;t<256;++t)_r.push((t+256).toString(16).slice(1));function Tr(t,e=0){return _r[t[e+0]]+_r[t[e+1]]+_r[t[e+2]]+_r[t[e+3]]+"-"+_r[t[e+4]]+_r[t[e+5]]+"-"+_r[t[e+6]]+_r[t[e+7]]+"-"+_r[t[e+8]]+_r[t[e+9]]+"-"+_r[t[e+10]]+_r[t[e+11]]+_r[t[e+12]]+_r[t[e+13]]+_r[t[e+14]]+_r[t[e+15]]}const Mr=function(t,e,r){if(Pr.randomUUID&&!e&&!t)return Pr.randomUUID();const s=(t=t||{}).random||(t.rng||Ir)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e){r=r||0;for(let t=0;t<16;++t)e[r+t]=s[t];return e}return Tr(s)};const Dr=new class{async _uploadFile(t,e,r){const{data:s,error:n}=await ke.client.storage.from(t).upload(`${e}/${Mr()}_${r.name.replace(/[^(\w\/!-.*'() &@$=;:+,?)]/g,"")}`,r,{cacheControl:"31536000"});if(n)throw n;return s.path}async createSignedUrl(t,e,r){const{data:s,error:n}=await ke.client.storage.from(t).createSignedUrl(e,r);if(n)throw n;return s.signedUrl}async uploadAttachment(t,e,r,s){return await this.createSignedUrl(t,await this._uploadFile(t,e,r),s)}async uploadFile(t,e,r){const s=await this._uploadFile(t,e,r);return ke.client.storage.from(t).getPublicUrl(s).data.publicUrl}};class Br extends xr{async fetchUser(t){return await this.safeSelectSingle((e=>e.eq("user_id",t)))}async fetchNewUsers(t){return await this.safeSelect((e=>e.order("created_at",{ascending:!1}).gt("created_at",t??Me)))}async findUsers(t,e){return await this.safeSelect((r=>r.or(`display_name.ilike.%${t}%`).gt("created_at",e??Me)))}async fetchFollowingUsers(t,e){const{data:r,error:s}=await ke.client.rpc("get_following_users",{p_user_id:t,last_fetched_followed_at:e,max_count:this.fetchLimit});if(s)throw s;return r&&r.length>0&&(e=r[r.length-1].followed_at),{users:ke.safeResult(r??[]),lastFetchedFollowedAt:e}}async fetchFollowers(t,e){const{data:r,error:s}=await ke.client.rpc("get_followers",{p_user_id:t,last_fetched_followed_at:e,max_count:this.fetchLimit});if(s)throw s;return r&&r.length>0&&(e=r[r.length-1].followed_at),{users:ke.safeResult(r??[]),lastFetchedFollowedAt:e}}}class Fr{static checkEmailAccess(){let t=new URLSearchParams(location.search).get("error_description");t&&("Error getting user email from external provider"===t&&(t=pr("getting-email-from-x-error-message")),new mr({title:pr("error-alert-title"),message:t}))}}class Or{static NOT_FOUND_USER_IMAGE="/images/unknown-user.png";static async selectLoadable(t,e){for(const r of e)if(r)try{if((await fetch(r,{method:"HEAD"})).ok&&!t.deleted)return void t.style({backgroundImage:`url('${r}')`})}catch(t){console.error("Error fetching image:",t)}t.deleted||t.style({backgroundImage:`url('${Or.NOT_FOUND_USER_IMAGE}')`}),console.warn("No valid images found")}}const Nr=new class{format(t){if(t===De)return"";const e=t instanceof Date?t:new Date(t);return new Intl.DateTimeFormat(Le.language,{year:"numeric",month:"short",day:"numeric"}).format(e)}fromNow(t){const e=t instanceof Date?t:new Date(t),r=(new Date).getTime()-e.getTime(),s=Math.round(r/1e3),n=Math.round(s/60),i=Math.round(n/60),a=Math.round(i/24),o=Math.round(a/7),l=Math.round(a/30),c=Math.round(a/365),h=new Intl.RelativeTimeFormat(Le.language,{numeric:"auto"});return Math.abs(c)>0?h.format(-c,"year"):Math.abs(l)>0?h.format(-l,"month"):Math.abs(o)>0?h.format(-o,"week"):Math.abs(a)>0?h.format(-a,"day"):Math.abs(i)>0?h.format(-i,"hour"):Math.abs(n)>0?h.format(-n,"minute"):h.format(-s,"second")}};new class{checkEqual(t,e){if(t===e)return!0;if("object"!=typeof t||"object"!=typeof e||null==t||null==e)return!1;let r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;for(let n of r)if(!s.includes(n)||!this.checkEqual(t[n],e[n]))return!1;return!0}};const Rr=new class{shortenEthereumAddress(t){return 42===t.length&&t.startsWith("0x")?`${t.substring(0,6)}...${t.substring(38)}`:t}numberWithCommas(t,e){if(void 0===e||+ +t>Number.MAX_SAFE_INTEGER){const e=t.split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),"0"===e[1]?e[0]:e.join(".")}const r=String(+(+t).toFixed(e)).split(".");return r[0]=r[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),r.join(".")}};class Lr{closed=!1;container;changeParams(t,e,r){}close(){this.container?.delete(),this.closed=!0}}const Ur={"post-form-post-button":"Post","post-form-posting-button":"Posting...","global-post-list-empty-message":"No posts yet","following-post-list-empty-message":"No posts from followed users yet","getting-email-from-x-error-message":"Error getting user email from external provider. Please add an email in your X account settings and allow email access.\n","message-too-long-alert-title":"Message Length Exceeded","message-too-long-alert-message":"Your message is too long. The maximum allowed length is {maxLength} characters. Please shorten your message."};class jr extends xe{constructor(t,...e){super(t+".social-component"),this.append(...e)}static loadMessages(){pr.setMessages({en:Ur,zh:null,"zh-tw":null,"zh-hk":null,ja:null})}}class Gr extends Ar{form;input;nextTempId=0;sendButton;constructor(t,e=!0){super(t+".chat-message-form.social-component"),this.addAllowedEvents("messageSending","messageSent"),this.append(this.uploadPreviewArea=Ue(".upload-preview-area"),Ue("main",Ue("section.rich",Ue("button",new Ve("attachment"),{click:()=>this.openFileSelector()})),this.form=Ue("form",Ue(".input-container",this.input=new br({tag:"p.message-input",contenteditable:!0},(t=>this.appendFiles(t))),{click:()=>this.input.domElement.focus()}),this.sendButton=new nr({tag:".send",title:"Send"}),{submit:t=>{t.preventDefault();const e=this.input.domElement.innerText;e&&(this._sendMessage(e,this.toUploadFiles),this.input.domElement.innerText="",this.clearUploads())}}))),this.input.onDom("keydown",(t=>{"Enter"!==t.key||t.shiftKey||(t.preventDefault(),this.form.fireDomEvent("submit"))})),e&&this.on("visible",(()=>this.input.domElement.focus()))}async _sendMessage(t,e){if(t.length>1e3)return void new mr({title:pr("message-too-long-alert-title"),message:pr("message-too-long-alert-message",{maxLength:1e3})});const r=this.nextTempId-=1;this.fireEvent("messageSending",r,t,e);const s=await this.sendMessage(t,e);this.fireEvent("messageSent",r,s)}}class Vr extends jr{richDisplay;constructor(t,e,r){super(".chat-message-display"),this.addAllowedEvents("imageLoaded"),this.append(Ue("p.message",t.message),t.rich?this.richDisplay=new wr(t.rich):void 0),this.richDisplay?.on("imageLoaded",(t=>this.fireEvent("imageLoaded",t)))}}class zr extends jr{messages;options;interactions;firstMessage;main;constructor(t,e,r){if(super(".chat-message-list-item"),this.messages=t,this.options=e,this.interactions=r,this.addAllowedEvents("imageLoaded"),this.firstMessage=t[0],this.firstMessage){const s=Ue(".author-avatar",{click:t=>this.goAuthorProfile(t)});Or.selectLoadable(s,[this.firstMessage.author?.avatar_thumb,this.firstMessage.author?.stored_avatar_thumb,this.firstMessage.external_author_avatar]);const n=Ue(".author",Ue(".name",this.firstMessage.author?this.firstMessage.author.display_name:this.firstMessage.external_author_name,{click:t=>this.goAuthorProfile(t)}),this.firstMessage.source?r.getSourceLabel(this.firstMessage.source):void 0),i=Ue(".date",Nr.fromNow(this.firstMessage.created_at)),a=t.map((t=>this.createDisplay(t)));this.firstMessage.author&&this.firstMessage.author.user_id===e.signedUserId?this.append(this.main=Ue("main",Ue("header",i,n),...a),s).addClass("authored"):this.append(s,this.main=Ue("main",Ue("header",n,i),...a))}}goAuthorProfile(t){t.stopPropagation();const e=this.messages[0];e?.author&&this.interactions.openAuthorProfile(e.author)}createDisplay(t){const e=new Vr(t,{owner:void 0!==this.options.signedUserId&&void 0!==t.author&&t.author.user_id===this.options.signedUserId},this.interactions);return e.on("imageLoaded",(t=>this.fireEvent("imageLoaded",t))),e}addMessage(t,e){if(this.main){const r=this.createDisplay(t).appendTo(this.main);r.addClass("new"),e&&r.addClass("wait")}}}class Qr extends jr{options;interactions;store;addedMessageIds=[];constructor(t,e,r,s){super(t+".chat-message-list"),this.options=e,this.interactions=r,this.store=new Re(e.storeName),this.domElement.setAttribute("data-empty-message",e.emptyMessage);const n=this.store.get("cached-messages");if(n&&n.length>0){const t=this.groupMessagesByAuthor(n);for(const s of t)this.append(new zr(s,{signedUserId:e.signedUserId},r));this.on("visible",(()=>{this.scrollToBottom(),setTimeout((()=>{this.deleted||this.scrollToBottom()}))}))}else this.append(s);setTimeout((()=>this.refresh()))}async refresh(){this.append(new Ye);const t=(await this.fetchMessages()).reverse();if(this.store.set("cached-messages",t,!0),!this.deleted){this.empty();const e=this.groupMessagesByAuthor(t);for(const t of e)this.addItem(t);this.scrollToBottom()}}groupMessagesByAuthor(t){const e=[];let r=[],s=null,n=null;for(const i of t){const t=new Date(i.created_at),a=i.author?i.author.user_id:i.external_author_id;(a!==s||n&&t.getTime()-n.getTime()>=6e4)&&(r.length>0&&e.push(r),r=[]),r.push(i),s=a,n=t}return r.length>0&&e.push(r),e}addItem(t){const e=new zr(t,{signedUserId:this.options.signedUserId},this.interactions).appendTo(this);return e.on("imageLoaded",(t=>{this.scrolledToBottom(t)&&this.scrollToBottom()})),e}addNewItem(t,e,r){const s=this.children.length?this.children[this.children.length-1]:void 0;if((s?.firstMessage?.author?s.firstMessage.author.user_id:s?.firstMessage?.external_author_id)!==(t.author?t.author.user_id:t.external_author_id)){const r=this.addItem([t]);r.addClass("new"),e&&r.addClass("wait")}else s&&s.addMessage(t,e);(r||this.scrolledToBottom())&&this.scrollToBottom()}messageSending(t,e,r,s,n){this.addNewItem({id:t,source:e,author:r,message:s,rich:{files:n.map((t=>({fileName:t.name,fileSize:t.size,fileType:t.type,url:URL.createObjectURL(t)})))},created_at:(new Date).toISOString()},!0,!0)}messageSent(t,e){this.addedMessageIds.push(e)}addNewMessage(t){this.addedMessageIds.includes(t.id)||(this.addNewItem(t),this.addedMessageIds.push(t.id));const e=this.store.get("cached-messages")??[];e.push(t),this.store.set("cached-messages",e,!0)}scrolledToBottom(t=0){return this.domElement.scrollTop>=this.domElement.scrollHeight-this.domElement.clientHeight-100-t}scrollToBottom(){this.domElement.scrollTo(0,this.domElement.scrollHeight)}}const Hr="*, author(user_id, display_name, avatar, avatar_thumb, stored_avatar, stored_avatar_thumb, x_username)";var qr;!function(t){t[t.FOLLOW=0]="FOLLOW",t[t.POST_LIKE=1]="POST_LIKE",t[t.REPOST=2]="REPOST",t[t.POST_COMMENT=3]="POST_COMMENT",t[t.POST_TAG=4]="POST_TAG"}(qr||(qr={}));const Kr=Hr;const Wr=new class extends xr{followeeIds=new Set;constructor(){super("follows","*",1e3),this.addAllowedEvents("follow","unfollow")}async fetchSignedUserFollows(t){const e=await this.safeSelect((e=>e.eq("follower_id",t)));for(const t of e)this.followeeIds.add(t.followee_id)}follow(t){this.followeeIds.add(t),this.fireEvent("follow",t),this.safeInsert({followee_id:t})}unfollow(t){this.followeeIds.delete(t),this.fireEvent("unfollow",t),this.safeDelete((e=>e.eq("followee_id",t)))}isFollowing(t){return this.followeeIds.has(t)}toggleFollow(t){this.isFollowing(t)?this.unfollow(t):this.follow(t)}};class Jr extends xr{constructor(t,e,r){super(t,e,r),this.addAllowedEvents("deleteMessage")}async fetchMessage(t){return await this.safeSelectSingle((e=>e.eq("id",t)))}async deleteMessage(t){await this.safeDelete((e=>e.eq("id",t))),this.fireEvent("deleteMessage",t)}}class Yr extends jr{post;postService;interactions;reposted;liked;repostCountDisplay;likeCountDisplay;constructor(t,e,r,s){super(".post-display"+(r.inView?".in-view":"")+(r.new?".new":"")),this.post=t,this.postService=e,this.interactions=s,this.reposted=r.reposted,this.liked=r.liked,this.addAllowedEvents("like","unlike","repost","unrepost");const n=Ue(".author-avatar",{click:t=>this.goAuthorProfile(t)});Or.selectLoadable(n,[t.author.avatar_thumb,t.author.stored_avatar_thumb]);const i=Ue(".author",Ue(".name",t.author.display_name,{click:t=>this.goAuthorProfile(t)}),t.author.x_username?Ue(".x-username",`@${t.author.x_username}`,{click:t=>this.goAuthorProfile(t)}):void 0),a=t.target_details?s.displayTarget(t):void 0,o=r.owner?Ue("button.owner-menu",new Ve("section-menu"),{click:(t,e)=>this.openOwnerMenu(t,e)}):void 0,l=Ue(".message",t.message),c=t.rich?new wr(t.rich):void 0,h=Ue(".date",Nr.fromNow(t.created_at)),u=Ue(".actions",Ue("button.comment",new Ve("comment"),String(t.comment_count),{click:t=>this.openCommentPopup(t)}),Ue("button.repost"+(this.reposted?".reposted":""),new Ve("repeat"),this.repostCountDisplay=Ue("span",String(t.repost_count)),{click:(t,e)=>this.repost(t,e)}),Ue("button.like"+(this.liked?".liked":""),new Ve("like"),this.likeCountDisplay=Ue("span",String(t.like_count)),{click:(t,e)=>this.like(t,e)}));r.inView?this.append(Ue("header",n,i,a,o),l,c,h,u):this.append(n,Ue("main",Ue("header",i,a,o),l,c,h,u)).onDom("click",(()=>s.openPostView(t))),this.onDelegate(e,"deleteMessage",(e=>{e===t.id&&this.delete()}))}goAuthorProfile(t){t.stopPropagation(),this.interactions.openAuthorProfile(this.post.author)}openOwnerMenu(t,e){t.stopPropagation(),this.interactions.openOwnerMenu(this.post.id,e.rect)}openCommentPopup(t){t.stopPropagation(),this.interactions.openCommentPopup(this.post)}repost(t,e){t.stopPropagation(),this.postService.checkSigned(),this.reposted?(this.postService.unrepost(this.post.id),this.repostCountDisplay.text=String(this.post.repost_count-=1),this.reposted=!1,e.deleteClass("reposted"),this.fireEvent("unrepost")):(this.postService.repost(this.post.id),this.repostCountDisplay.text=String(this.post.repost_count+=1),this.reposted=!0,e.addClass("reposted"),this.fireEvent("repost"))}like(t,e){t.stopPropagation(),this.postService.checkSigned(),this.liked?(this.postService.unlike(this.post.id),this.likeCountDisplay.text=String(this.post.like_count-=1),this.liked=!1,e.deleteClass("liked"),this.fireEvent("unlike")):(this.postService.like(this.post.id),this.likeCountDisplay.text=String(this.post.like_count+=1),this.liked=!0,e.addClass("liked"),this.fireEvent("like"))}}class Zr extends jr{postService;options;interactions;form;constructor(t,e,r,s,n){super(".post-thread"),this.postService=e,this.options=r,this.interactions=s,this.form=n,this.addAllowedEvents("like","unlike","repost","unrepost");let i=!0;for(const e of t){const t=this.addPostDisplay(e);e.id===r.mainPostId&&(i=!1,r.inView&&this.on("visible",(()=>{t.domElement.scrollIntoView()})),r.signedUserId&&n&&n.appendTo(this)),i&&t.addClass("parent")}}addPostDisplay(t,e){const r=new Yr(t,this.postService,{inView:this.options.inView&&t.id===this.options.mainPostId,owner:void 0!==this.options.signedUserId&&t.author.user_id===this.options.signedUserId,reposted:this.options.repostedPostIds.includes(t.id),liked:this.options.likedPostIds.includes(t.id),new:this.options.newPostIds.includes(t.id)},this.interactions).appendTo(this,e);return["like","unlike","repost","unrepost"].forEach((e=>r.on(e,(()=>this.fireEvent(e,t.id))))),r}addComment(t){if(this.form){const e=this.children.findIndex((t=>t===this.form));this.addPostDisplay(t,e+1)}}}class Xr extends jr{constructor(t,e,r,s){super(".post-list-item"),this.addAllowedEvents("like","unlike","repost","unrepost");const n=new Zr(t,e,r,s).appendTo(this);["like","unlike","repost","unrepost"].forEach((t=>n.on(t,(e=>this.fireEvent(t,e)))))}}class $r extends jr{postService;options;interactions;store;refreshed=!1;lastPostId;constructor(t,e,r,s,n){if(super(t+".post-list"),this.postService=e,this.options=r,this.interactions=s,this.store=r.storeName?new Re(r.storeName):void 0,this.domElement.setAttribute("data-empty-message",r.emptyMessage),this.store){const t=this.store.get("cached-posts"),e=this.store.get("cached-reposted-post-ids")??[],i=this.store.get("cached-liked-post-ids")??[];if(t&&t.length>0)for(const n of t)this.addPostItem(n.posts,{mainPostId:n.mainPostId,repostedPostIds:e,likedPostIds:i,newPostIds:[],signedUserId:r.signedUserId},s);else this.append(n)}else this.append(n)}addPostItem(t,e,r){const s=new Xr(t,this.postService,e,r).appendTo(this,0);["like","unlike","repost","unrepost"].forEach((t=>s.on(t,(e=>{if(this.store){const r=this.store.get("cached-posts")??[],s=this.store.get("cached-reposted-post-ids")??[],n=this.store.get("cached-liked-post-ids")??[];r.forEach((r=>{r.posts.forEach((r=>{if(r.id===e)switch(t){case"like":r.like_count++,n.push(e);break;case"unlike":r.like_count--;const t=n.indexOf(e);t>-1&&n.splice(t,1);break;case"repost":r.repost_count++,s.push(e);break;case"unrepost":r.repost_count--;const i=s.indexOf(e);i>-1&&s.splice(i,1)}}))})),this.store.set("cached-posts",r,!0),this.store.set("cached-reposted-post-ids",s,!0),this.store.set("cached-liked-post-ids",n,!0)}}))))}async refresh(){this.append(new Ye);const t=this.store?.get("cached-posts")??[],{fetchedPosts:e,repostedPostIds:r,likedPostIds:s}=await this.fetchPosts(),n=e.reverse();if(this.store&&(this.store.set("cached-posts",n,!0),this.store.set("cached-reposted-post-ids",r,!0),this.store.set("cached-liked-post-ids",s,!0)),!this.deleted){const e=new Set(t.map((t=>t.mainPostId))),i=n.filter((t=>!e.has(t.mainPostId))).map((t=>t.mainPostId));this.empty();for(const t of n)this.addPostItem(t.posts,{mainPostId:t.mainPostId,repostedPostIds:r,likedPostIds:s,newPostIds:i,signedUserId:this.options.signedUserId},this.interactions);this.lastPostId=n[n.length-1]?.mainPostId,this.refreshed=!0}}addNewPost(t){const e=this.store?.get("cached-posts")??[];e.push({posts:[t],mainPostId:t.id}),this.store?.set("cached-posts",e,!0),this.addPostItem([t],{mainPostId:t.id,repostedPostIds:[],likedPostIds:[],newPostIds:[t.id],signedUserId:this.options.signedUserId},this.interactions)}async loadMore(){const{fetchedPosts:t,repostedPostIds:e,likedPostIds:r}=await this.fetchPosts();if(!this.deleted){const s=t.reverse(),n=s.map((t=>t.mainPostId));for(const t of s)this.addPostItem(t.posts,{mainPostId:t.mainPostId,repostedPostIds:e,likedPostIds:r,newPostIds:n,signedUserId:this.options.signedUserId},this.interactions);this.lastPostId=s[s.length-1]?.mainPostId}}show(){this.deleteClass("hidden"),this.lastPostId=void 0,this.refresh()}hide(){this.addClass("hidden")}}class ts extends $r{constructor(t,e,r,s){super(".following-post-list",t,{storeName:"following-posts",emptyMessage:pr("following-post-list-empty-message"),...e},r,s)}async fetchPosts(){const t=await this.postService.fetchFollowingPosts(this.options.signedUserId,this.lastPostId);return{fetchedPosts:t.posts.map((t=>({posts:[t],mainPostId:t.id}))),repostedPostIds:t.repostedPostIds,likedPostIds:t.likedPostIds}}}class es extends $r{constructor(t,e,r,s){super(".global-post-list",t,{storeName:"global-posts",emptyMessage:pr("global-post-list-empty-message"),...e},r,s),this.onDelegate(t,"newGlobalPost",(t=>this.addNewPost(t)))}async fetchPosts(){const t=await this.postService.fetchGlobalPosts(this.lastPostId,this.options.signedUserId);return{fetchedPosts:t.posts.map((t=>({posts:[t],mainPostId:t.id}))),repostedPostIds:t.repostedPostIds,likedPostIds:t.likedPostIds}}}class rs extends jr{post;constructor(t){super(".post-content-display"),this.post=t;const e=Ue(".author-avatar");Or.selectLoadable(e,[t.author.avatar_thumb,t.author.stored_avatar_thumb]);const r=Ue(".author",Ue(".name",t.author.display_name),t.author.x_username?Ue(".x-username",`@${t.author.x_username}`):void 0),s=Ue(".message",t.message);this.append(e,Ue("main",Ue("header",r),s))}}class ss extends Ar{input;postButton;constructor(t,e=!1){super(".post-form.social-component");const r=Ue(".author-avatar");Or.selectLoadable(r,t),this.append(Ue("main",r,Ue("form",this.input=new br({tag:"p.message-input",contenteditable:!0},(t=>this.appendFiles(t))),this.uploadPreviewArea=Ue(".upload-preview-area"))),Ue("footer",Ue("section.rich",Ue("button",new Ve("image"),{click:()=>this.openFileSelector()})),this.postButton=new nr({tag:".post",title:pr("post-form-post-button"),click:()=>this._post(this.input.domElement.innerText,this.toUploadFiles)}))),e&&this.on("visible",(()=>this.input.domElement.focus()))}async _post(t,e){if(t.length>2e3)new mr({title:pr("message-too-long-alert-title"),message:pr("message-too-long-alert-message",{maxLength:2e3})});else{this.postButton.disable().text=pr("post-form-posting-button");try{if(await this.post(t,e),this.deleted)return;this.input.domElement.innerText="",this.clearUploads()}catch(t){console.error(t)}this.postButton.enable().text=pr("post-form-post-button")}}}class ns extends Jr{repostTableName;likeTableName;constructor(t,e,r,s,n){super(t,s,n),this.repostTableName=e,this.likeTableName=r,this.addAllowedEvents("newGlobalPost")}notifyNewGlobalPost(t){this.fireEvent("newGlobalPost",t)}enhancePostData(t){const e=ke.safeResult(t),r=[],s=[];for(const t of e)t.author={user_id:t.author,display_name:t.author_display_name,avatar:t.author_avatar,avatar_thumb:t.author_avatar_thumb,stored_avatar:t.author_stored_avatar,stored_avatar_thumb:t.author_stored_avatar_thumb,x_username:t.author_x_username},t.reposted&&r.push(t.id),t.liked&&s.push(t.id);return{posts:e,repostedPostIds:r,likedPostIds:s}}async fetchPost(t,e,r){const{data:s,error:n}=await ke.client.rpc("get_post_and_comments",{p_post_id:t,last_comment_id:e,max_comment_count:this.fetchLimit,signed_user_id:r});if(n)throw n;return this.enhancePostData(s??[])}async fetchGlobalPosts(t,e){const{data:r,error:s}=await ke.client.rpc("get_global_posts",{last_post_id:t,max_count:this.fetchLimit,signed_user_id:e});if(s)throw s;return this.enhancePostData(r??[])}async fetchFollowingPosts(t,e){const{data:r,error:s}=await ke.client.rpc("get_following_posts",{p_user_id:t,last_post_id:e,max_count:this.fetchLimit});if(s)throw s;return this.enhancePostData(r??[])}async fetchUserPosts(t,e){const{data:r,error:s}=await ke.client.rpc("get_user_posts",{p_user_id:t,last_post_id:e,max_count:this.fetchLimit});if(s)throw s;return this.enhancePostData(r??[])}async fetchUserCommentPosts(t,e){const{data:r,error:s}=await ke.client.rpc("get_user_comment_posts",{p_user_id:t,last_post_id:e,max_count:this.fetchLimit});if(s)throw s;return this.enhancePostData(r??[])}async fetchLikedPosts(t,e){const{data:r,error:s}=await ke.client.rpc("get_liked_posts",{p_user_id:t,last_liked_at:e,max_count:this.fetchLimit});if(s)throw s;if(r&&r.length>0){const t=r.reduce(((t,e)=>{const r=new Date(e.like_created_at);return t>r?t:r}),new Date(0));e=t.toISOString()}return{data:this.enhancePostData(r??[]),lastLikedAt:e}}async fetchReposts(t,e){const{data:r,error:s}=await ke.client.rpc("get_reposts",{p_user_id:t,last_reposted_at:e,max_count:this.fetchLimit});if(s)throw s;if(r){const t=r.reduce(((t,e)=>{const r=new Date(e.repost_created_at);return t>r?t:r}),new Date(0));e=t.toISOString()}return{data:this.enhancePostData(r??[]),lastRepostedAt:e}}async findPosts(t,e,r){const{data:s,error:n}=await ke.client.rpc("find_posts",{p_user_id:r,search_string:t,last_post_id:e,max_count:this.fetchLimit});if(n)throw n;return this.enhancePostData(s??[])}async repost(t){const{error:e}=await ke.client.from(this.repostTableName).insert({post_id:t});if(e)throw e}async unrepost(t){const{error:e}=await ke.client.from(this.repostTableName).delete().eq("post_id",t);if(e)throw e}async like(t){const{error:e}=await ke.client.from(this.likeTableName).insert({post_id:t});if(e)throw e}async unlike(t){const{error:e}=await ke.client.from(this.likeTableName).delete().eq("post_id",t);if(e)throw e}}class is extends Ae{user;get signed(){return void 0!==this.user}constructor(){super(),this.addAllowedEvents("walletLinked")}async fetchUserOnInit(){const{data:t,error:e}=await ke.client.auth.getSession();if(e)throw e;const r=t?.session?.user;r&&([this.user]=await Promise.all([this.fetchUser(r.id),Wr.fetchSignedUserFollows(r.id)]))}async signOut(){await ke.signOut(),location.reload()}}class as extends Br{async fetchByXUsername(t){return await this.safeSelectSingle((e=>e.eq("x_username",t)))}}const os="6.8.1";function ls(t,e,r){const s=e.split("|").map((t=>t.trim()));for(let r=0;r<s.length;r++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const n=new Error(`invalid value for type ${e}`);throw n.code="INVALID_ARGUMENT",n.argument=`value.${r}`,n.value=t,n}async function cs(t){const e=Object.keys(t),r=await Promise.all(e.map((e=>Promise.resolve(t[e]))));return r.reduce(((t,r,s)=>(t[e[s]]=r,t)),{})}function hs(t,e,r){for(let s in e){let n=e[s];const i=r?r[s]:null;i&&ls(n,i,s),Object.defineProperty(t,s,{enumerable:!0,value:n,writable:!1})}}function us(t){if(null==t)return"null";if(Array.isArray(t))return"[ "+t.map(us).join(", ")+" ]";if(t instanceof Uint8Array){const e="0123456789abcdef";let r="0x";for(let s=0;s<t.length;s++)r+=e[t[s]>>4],r+=e[15&t[s]];return r}if("object"==typeof t&&"function"==typeof t.toJSON)return us(t.toJSON());switch(typeof t){case"boolean":case"symbol":case"number":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const e=Object.keys(t);return e.sort(),"{ "+e.map((e=>`${us(e)}: ${us(t[e])}`)).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function ds(t,e){return t&&t.code===e}function ps(t){return ds(t,"CALL_EXCEPTION")}function fs(t,e,r){let s,n=t;{const s=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${us(r)}`);for(const t in r){if("shortMessage"===t)continue;const e=r[t];s.push(t+"="+us(e))}}s.push(`code=${e}`),s.push(`version=${os}`),s.length&&(t+=" ("+s.join(", ")+")")}switch(e){case"INVALID_ARGUMENT":s=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(t);break;default:s=new Error(t)}return hs(s,{code:e}),r&&Object.assign(s,r),null==s.shortMessage&&hs(s,{shortMessage:n}),s}function ms(t,e,r,s){if(!t)throw fs(e,r,s)}function gs(t,e,r,s){ms(t,e,"INVALID_ARGUMENT",{argument:r,value:s})}function ys(t,e,r){null==r&&(r=""),r&&(r=": "+r),ms(t>=e,"missing arguemnt"+r,"MISSING_ARGUMENT",{count:t,expectedCount:e}),ms(t<=e,"too many arguemnts"+r,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}const bs=["NFD","NFC","NFKD","NFKC"].reduce(((t,e)=>{try{if("test"!=="test".normalize(e))throw new Error("bad");if("NFD"===e){const t=String.fromCharCode(233).normalize("NFD");if(t!==String.fromCharCode(101,769))throw new Error("broken")}t.push(e)}catch(t){}return t}),[]);function vs(t,e,r){if(null==r&&(r=""),t!==e){let t=r,e="new";r&&(t+=".",e+=" "+r),ms(!1,`private constructor; use ${t}from* methods`,"UNSUPPORTED_OPERATION",{operation:e})}}function ws(t,e,r){if(t instanceof Uint8Array)return r?new Uint8Array(t):t;if("string"==typeof t&&t.match(/^0x([0-9a-f][0-9a-f])*$/i)){const e=new Uint8Array((t.length-2)/2);let r=2;for(let s=0;s<e.length;s++)e[s]=parseInt(t.substring(r,r+2),16),r+=2;return e}gs(!1,"invalid BytesLike value",e||"value",t)}function As(t,e){return ws(t,e,!1)}function ks(t,e){return ws(t,e,!0)}function Es(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(("number"!=typeof e||t.length===2+2*e)&&(!0!==e||t.length%2==0))}const xs="0123456789abcdef";function Ps(t){const e=As(t);let r="0x";for(let t=0;t<e.length;t++){const s=e[t];r+=xs[(240&s)>>4]+xs[15&s]}return r}function Cs(t){return"0x"+t.map((t=>Ps(t).substring(2))).join("")}function Ss(t){return Es(t,!0)?(t.length-2)/2:As(t).length}function Is(t,e,r){const s=As(t);return null!=r&&r>s.length&&ms(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:s,length:s.length,offset:r}),Ps(s.slice(null==e?0:e,null==r?s.length:r))}function _s(t,e,r){const s=As(t);ms(e>=s.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(s),length:e,offset:e+1});const n=new Uint8Array(e);return n.fill(0),r?n.set(s,e-s.length):n.set(s,0),Ps(n)}function Ts(t,e){return _s(t,e,!0)}const Ms=BigInt(0),Ds=BigInt(1),Bs=9007199254740991;function Fs(t,e){const r=Ls(t,"value"),s=BigInt(Gs(e,"width"));if(ms(r>>s===Ms,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),r>>s-Ds){return-((~r&(Ds<<s)-Ds)+Ds)}return r}function Os(t,e){let r=Rs(t,"value");const s=BigInt(Gs(e,"width")),n=Ds<<s-Ds;if(r<Ms){r=-r,ms(r<=n,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return(~r&(Ds<<s)-Ds)+Ds}return ms(r<n,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t}),r}function Ns(t,e){const r=Ls(t,"value"),s=BigInt(Gs(e,"bits"));return r&(Ds<<s)-Ds}function Rs(t,e){switch(typeof t){case"bigint":return t;case"number":return gs(Number.isInteger(t),"underflow",e||"value",t),gs(t>=-Bs&&t<=Bs,"overflow",e||"value",t),BigInt(t);case"string":try{if(""===t)throw new Error("empty string");return"-"===t[0]&&"-"!==t[1]?-BigInt(t.substring(1)):BigInt(t)}catch(r){gs(!1,`invalid BigNumberish string: ${r.message}`,e||"value",t)}}gs(!1,"invalid BigNumberish value",e||"value",t)}function Ls(t,e){const r=Rs(t,e);return ms(r>=Ms,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),r}const Us="0123456789abcdef";function js(t){if(t instanceof Uint8Array){let e="0x0";for(const r of t)e+=Us[r>>4],e+=Us[15&r];return BigInt(e)}return Rs(t)}function Gs(t,e){switch(typeof t){case"bigint":return gs(t>=-Bs&&t<=Bs,"overflow",e||"value",t),Number(t);case"number":return gs(Number.isInteger(t),"underflow",e||"value",t),gs(t>=-Bs&&t<=Bs,"overflow",e||"value",t),t;case"string":try{if(""===t)throw new Error("empty string");return Gs(BigInt(t),e)}catch(r){gs(!1,`invalid numeric string: ${r.message}`,e||"value",t)}}gs(!1,"invalid numeric value",e||"value",t)}function Vs(t,e){let r=Ls(t,"value").toString(16);if(null==e)r.length%2&&(r="0"+r);else{const s=Gs(e,"width");for(ms(2*s>=r.length,`value exceeds width (${s} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<2*s;)r="0"+r}return"0x"+r}function zs(t){const e=Ls(t,"value");if(e===Ms)return new Uint8Array([]);let r=e.toString(16);r.length%2&&(r="0"+r);const s=new Uint8Array(r.length/2);for(let t=0;t<s.length;t++){const e=2*t;s[t]=parseInt(r.substring(e,e+2),16)}return s}function Qs(t){let e=Ps(function(t){return Es(t,!0)||t instanceof Uint8Array}(t)?t:zs(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return""===e&&(e="0"),"0x"+e}const Hs=BigInt(-1),qs=BigInt(0),Ks=BigInt(1),Ws=BigInt(5),Js={};let Ys="0000";for(;Ys.length<80;)Ys+=Ys;function Zs(t){let e=Ys;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function Xs(t,e,r){const s=BigInt(e.width);if(e.signed){const e=Ks<<s-Ks;ms(null==r||t>=-e&&t<e,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t=t>qs?Fs(Ns(t,s),s):-Fs(Ns(-t,s),s)}else{const e=Ks<<s;ms(null==r||t>=0&&t<e,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t=(t%e+e)%e&e-Ks}return t}function $s(t){"number"==typeof t&&(t=`fixed128x${t}`);let e=!0,r=128,s=18;if("string"==typeof t)if("fixed"===t);else if("ufixed"===t)e=!1;else{const n=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);gs(n,"invalid fixed format","format",t),e="u"!==n[1],r=parseInt(n[2]),s=parseInt(n[3])}else if(t){const n=t,i=(t,e,r)=>null==n[t]?r:(gs(typeof n[t]===e,"invalid fixed format ("+t+" not "+e+")","format."+t,n[t]),n[t]);e=i("signed","boolean",e),r=i("width","number",r),s=i("decimals","number",s)}gs(r%8==0,"invalid FixedNumber width (not byte aligned)","format.width",r),gs(s<=80,"invalid FixedNumber decimals (too large)","format.decimals",s);return{signed:e,width:r,decimals:s,name:(e?"":"u")+"fixed"+String(r)+"x"+String(s)}}class tn{format;#t;#e;#r;_value;constructor(t,e,r){vs(t,Js,"FixedNumber"),this.#e=e,this.#t=r;const s=function(t,e){let r="";t<qs&&(r="-",t*=Hs);let s=t.toString();if(0===e)return r+s;for(;s.length<=e;)s=Ys+s;const n=s.length-e;for(s=s.substring(0,n)+"."+s.substring(n);"0"===s[0]&&"."!==s[1];)s=s.substring(1);for(;"0"===s[s.length-1]&&"."!==s[s.length-2];)s=s.substring(0,s.length-1);return r+s}(e,r.decimals);hs(this,{format:r.name,_value:s}),this.#r=Zs(r.decimals)}get signed(){return this.#t.signed}get width(){return this.#t.width}get decimals(){return this.#t.decimals}get value(){return this.#e}#s(t){gs(this.format===t.format,"incompatible format; use fixedNumber.toFormat","other",t)}#n(t,e){return t=Xs(t,this.#t,e),new tn(Js,t,this.#t)}#i(t,e){return this.#s(t),this.#n(this.#e+t.#e,e)}addUnsafe(t){return this.#i(t)}add(t){return this.#i(t,"add")}#a(t,e){return this.#s(t),this.#n(this.#e-t.#e,e)}subUnsafe(t){return this.#a(t)}sub(t){return this.#a(t,"sub")}#o(t,e){return this.#s(t),this.#n(this.#e*t.#e/this.#r,e)}mulUnsafe(t){return this.#o(t)}mul(t){return this.#o(t,"mul")}mulSignal(t){this.#s(t);const e=this.#e*t.#e;return ms(e%this.#r===qs,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#n(e/this.#r,"mulSignal")}#l(t,e){return ms(t.#e!==qs,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#s(t),this.#n(this.#e*this.#r/t.#e,e)}divUnsafe(t){return this.#l(t)}div(t){return this.#l(t,"div")}divSignal(t){ms(t.#e!==qs,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#s(t);const e=this.#e*this.#r;return ms(e%t.#e===qs,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#n(e/t.#e,"divSignal")}cmp(t){let e=this.value,r=t.value;const s=this.decimals-t.decimals;return s>0?r*=Zs(s):s<0&&(e*=Zs(-s)),e<r?-1:e>r?1:0}eq(t){return 0===this.cmp(t)}lt(t){return this.cmp(t)<0}lte(t){return this.cmp(t)<=0}gt(t){return this.cmp(t)>0}gte(t){return this.cmp(t)>=0}floor(){let t=this.#e;return this.#e<qs&&(t-=this.#r-Ks),t=this.#e/this.#r*this.#r,this.#n(t,"floor")}ceiling(){let t=this.#e;return this.#e>qs&&(t+=this.#r-Ks),t=this.#e/this.#r*this.#r,this.#n(t,"ceiling")}round(t){if(null==t&&(t=0),t>=this.decimals)return this;const e=this.decimals-t,r=Ws*Zs(e-1);let s=this.value+r;const n=Zs(e);return s=s/n*n,Xs(s,this.#t,"round"),new tn(Js,s,this.#t)}isZero(){return this.#e===qs}isNegative(){return this.#e<qs}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return tn.fromString(this.toString(),t)}static fromValue(t,e,r){const s=null==e?0:Gs(e),n=$s(r);let i=Rs(t,"value");const a=s-n.decimals;if(a>0){const e=Zs(a);ms(i%e===qs,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:t}),i/=e}else a<0&&(i*=Zs(-a));return Xs(i,n,"fromValue"),new tn(Js,i,n)}static fromString(t,e){const r=t.match(/^(-?)([0-9]*)\.?([0-9]*)$/);gs(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",t);const s=$s(e);let n=r[2]||"0",i=r[3]||"";for(;i.length<s.decimals;)i+=Ys;ms(i.substring(s.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:t}),i=i.substring(0,s.decimals);const a=BigInt(r[1]+n+i);return Xs(a,s,"fromString"),new tn(Js,a,s)}static fromBytes(t,e){let r=js(As(t,"value"));const s=$s(e);return s.signed&&(r=Fs(r,s.width)),Xs(r,s,"fromBytes"),new tn(Js,r,s)}}const en=["wei","kwei","mwei","gwei","szabo","finney","ether"];function rn(t){return function(t,e){let r=18;if("string"==typeof e){const t=en.indexOf(e);gs(t>=0,"invalid unit","unit",e),r=3*t}else null!=e&&(r=Gs(e,"unit"));return tn.fromValue(t,r,{decimals:r,width:512}).toString()}(t,18)}function sn(t){return function(t,e){gs("string"==typeof t,"value must be a string","value",t);let r=18;if("string"==typeof e){const t=en.indexOf(e);gs(t>=0,"invalid unit","unit",e),r=3*t}else null!=e&&(r=Gs(e,"unit"));return tn.fromString(t,{decimals:r,width:512}).value}(t,18)}function nn(t,e={}){const{fees:r=t.fees,formatters:s=t.formatters,serializers:n=t.serializers}=e;return{...t,fees:r,formatters:s,serializers:n}}const an=nn({id:5,network:"goerli",name:"Goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-goerli.g.alchemy.com/v2"],webSocket:["wss://eth-goerli.g.alchemy.com/v2"]},infura:{http:["https://goerli.infura.io/v3"],webSocket:["wss://goerli.infura.io/ws/v3"]},default:{http:["https://rpc.ankr.com/eth_goerli"]},public:{http:["https://rpc.ankr.com/eth_goerli"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://goerli.etherscan.io"},default:{name:"Etherscan",url:"https://goerli.etherscan.io"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0x56522D00C410a43BFfDF00a9A569489297385790",blockCreated:8765204},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:6507670}},testnet:!0}),on=nn({id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xc0497E381f536Be9ce14B0dD3817cBcAe57d2F62",blockCreated:16966585},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}});var ln=r(5946),cn=r(1366);const hn={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559"};function un(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?(0,ln.ly)(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?(0,ln.ly)(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?hn[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if("bigint"==typeof e.v){if(0n===e.v||27n===e.v)return 0;if(1n===e.v||28n===e.v)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),"legacy"===e.type&&(delete e.accessList,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),"eip2930"===e.type&&(delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e}const dn=(0,cn.$)("transaction",un);function pn(t){const e=t.transactions?.map((t=>"string"==typeof t?t:un(t)));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,difficulty:t.difficulty?BigInt(t.difficulty):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}const fn=(0,cn.$)("block",pn);function mn(t,{args:e,eventName:r}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...r?{args:e,eventName:r}:{}}}const gn={"0x0":"reverted","0x1":"success"};function yn(t){return{...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map((t=>mn(t))):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?(0,ln.ly)(t.transactionIndex):null,status:t.status?gn[t.status]:null,type:t.type?hn[t.type]||t.type:null}}const bn=(0,cn.$)("transactionReceipt",yn),vn={block:fn({format(t){const e=t.transactions?.map((t=>{if("string"==typeof t)return t;const e=un(t);return"0x7e"===e.typeHex&&(e.isSystemTx=t.isSystemTx,e.mint=t.mint?(0,ln.y_)(t.mint):void 0,e.sourceHash=t.sourceHash,e.type="deposit"),e}));return{transactions:e,stateRoot:t.stateRoot}}}),transaction:dn({format(t){const e={};return"0x7e"===t.type&&(e.isSystemTx=t.isSystemTx,e.mint=t.mint?(0,ln.y_)(t.mint):void 0,e.sourceHash=t.sourceHash,e.type="deposit"),e}}),transactionReceipt:bn({format:t=>({l1GasPrice:t.l1GasPrice?(0,ln.y_)(t.l1GasPrice):null,l1GasUsed:t.l1GasUsed?(0,ln.y_)(t.l1GasUsed):null,l1Fee:t.l1Fee?(0,ln.y_)(t.l1Fee):null,l1FeeScalar:t.l1FeeScalar?Number(t.l1FeeScalar):null})})},wn=nn({id:84531,network:"base-goerli",name:"Base Goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://base-goerli.g.alchemy.com/v2"],webSocket:["wss://base-goerli.g.alchemy.com/v2"]},default:{http:["https://goerli.base.org"]},public:{http:["https://goerli.base.org"]}},blockExplorers:{etherscan:{name:"Basescan",url:"https://goerli.basescan.org"},default:{name:"Basescan",url:"https://goerli.basescan.org"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1376988}},testnet:!0,sourceId:5},{formatters:vn}),An=nn({id:8453,network:"base",name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://base-mainnet.g.alchemy.com/v2"],webSocket:["wss://base-mainnet.g.alchemy.com/v2"]},infura:{http:["https://base-mainnet.infura.io/v3"],webSocket:["wss://base-mainnet.infura.io/ws/v3"]},default:{http:["https://mainnet.base.org"]},public:{http:["https://mainnet.base.org"]}},blockExplorers:{blockscout:{name:"Basescout",url:"https://base.blockscout.com"},default:{name:"Basescan",url:"https://basescan.org"},etherscan:{name:"Basescan",url:"https://basescan.org"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022}}},{formatters:vn}),kn=nn({id:421613,name:"Arbitrum Goerli",network:"arbitrum-goerli",nativeCurrency:{name:"Arbitrum Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://arb-goerli.g.alchemy.com/v2"],webSocket:["wss://arb-goerli.g.alchemy.com/v2"]},infura:{http:["https://arbitrum-goerli.infura.io/v3"],webSocket:["wss://arbitrum-goerli.infura.io/ws/v3"]},default:{http:["https://goerli-rollup.arbitrum.io/rpc"]},public:{http:["https://goerli-rollup.arbitrum.io/rpc"]}},blockExplorers:{etherscan:{name:"Arbiscan",url:"https://goerli.arbiscan.io"},default:{name:"Arbiscan",url:"https://goerli.arbiscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:88114}},testnet:!0}),En=nn({id:42161,name:"Arbitrum One",network:"arbitrum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://arb-mainnet.g.alchemy.com/v2"],webSocket:["wss://arb-mainnet.g.alchemy.com/v2"]},infura:{http:["https://arbitrum-mainnet.infura.io/v3"],webSocket:["wss://arbitrum-mainnet.infura.io/ws/v3"]},default:{http:["https://arb1.arbitrum.io/rpc"]},public:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{etherscan:{name:"Arbiscan",url:"https://arbiscan.io"},default:{name:"Arbiscan",url:"https://arbiscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),xn=nn({id:420,name:"Optimism Goerli",network:"optimism-goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://opt-goerli.g.alchemy.com/v2"],webSocket:["wss://opt-goerli.g.alchemy.com/v2"]},infura:{http:["https://optimism-goerli.infura.io/v3"],webSocket:["wss://optimism-goerli.infura.io/ws/v3"]},default:{http:["https://goerli.optimism.io"]},public:{http:["https://goerli.optimism.io"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://goerli-optimism.etherscan.io"},default:{name:"Etherscan",url:"https://goerli-optimism.etherscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:49461}},testnet:!0},{formatters:vn}),Pn=nn({id:10,name:"OP Mainnet",network:"optimism",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://opt-mainnet.g.alchemy.com/v2"],webSocket:["wss://opt-mainnet.g.alchemy.com/v2"]},infura:{http:["https://optimism-mainnet.infura.io/v3"],webSocket:["wss://optimism-mainnet.infura.io/ws/v3"]},default:{http:["https://mainnet.optimism.io"]},public:{http:["https://mainnet.optimism.io"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://optimistic.etherscan.io"},default:{name:"Optimism Explorer",url:"https://explorer.optimism.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263}}},{formatters:vn});const Cn=new class{dev;infuraKey;messageForWalletLinking};var Sn;!function(t){t.Ethereum="ethereum",t.Base="base",t.Arbitrum="arbitrum",t.Optimism="optimism"}(Sn||(Sn={}));const In=Sn;const _n={},Tn=_n;var Mn=class extends Error{constructor({chainId:t,connectorId:e}){super(`Chain "${t}" not configured for connector "${e}".`),this.name="ChainNotConfiguredForConnectorError"}},Dn=class extends Error{constructor(){super(...arguments),this.name="ConnectorNotFoundError",this.message="Connector not found"}};function Bn(t){return"string"==typeof t?Number.parseInt(t,"0x"===t.trim().substring(0,2)?16:10):"bigint"==typeof t?Number(t):t}var Fn=r(6729),On=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Nn=(t,e,r)=>(On(t,e,"read from private field"),r?r.call(t):e.get(t)),Rn=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Ln=(t,e,r,s)=>(On(t,e,"write to private field"),s?s.call(t,r):e.set(t,r),r),Un=(t,e,r)=>(On(t,e,"access private method"),r),jn=class extends Fn{constructor({chains:t=[on,an],options:e}){super(),this.chains=t,this.options=e}getBlockExplorerUrls(t){const{default:e,...r}=t.blockExplorers??{};if(e)return[e.url,...Object.values(r).map((t=>t.url))]}isChainUnsupported(t){return!this.chains.some((e=>e.id===t))}setStorage(t){this.storage=t}},Gn=r(5775),Vn=r(2027),zn=r(8863);class Qn extends Vn.G{constructor(t,{code:e,docsPath:r,metaMessages:s,shortMessage:n}){super(n,{cause:t,docsPath:r,metaMessages:s||t?.metaMessages}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=t.name,this.code=t instanceof zn.bs?t.code:e??-1}}class Hn extends Qn{constructor(t,e){super(t,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e.data}}class qn extends Qn{constructor(t){super(t,{code:qn.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(qn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Kn extends Qn{constructor(t){super(t,{code:Kn.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(Kn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Wn extends Qn{constructor(t){super(t,{code:Wn.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(Wn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Jn extends Qn{constructor(t){super(t,{code:Jn.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join("\n")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(Jn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Yn extends Qn{constructor(t){super(t,{code:Yn.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(Yn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Zn extends Qn{constructor(t){super(t,{code:Zn.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join("\n")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(Zn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Xn extends Qn{constructor(t){super(t,{code:Xn.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Xn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class $n extends Qn{constructor(t){super(t,{code:$n.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty($n,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class ti extends Qn{constructor(t){super(t,{code:ti.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(ti,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class ei extends Qn{constructor(t){super(t,{code:ei.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(ei,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class ri extends Qn{constructor(t){super(t,{code:ri.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(ri,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class si extends Qn{constructor(t){super(t,{code:si.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(si,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class ni extends Hn{constructor(t){super(t,{code:ni.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(ni,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class ii extends Hn{constructor(t){super(t,{code:ii.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(ii,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class ai extends Hn{constructor(t){super(t,{code:ai.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(ai,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class oi extends Hn{constructor(t){super(t,{code:oi.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(oi,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class li extends Hn{constructor(t){super(t,{code:li.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(li,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class ci extends Hn{constructor(t){super(t,{code:ci.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(ci,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class hi extends Qn{constructor(t){super(t,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}var ui=r(4503);const di=256;let pi,fi=di;function mi(t=11){if(!pi||fi+t>2*di){pi="",fi=0;for(let t=0;t<di;t++)pi+=(256+256*Math.random()|0).toString(16).substring(1)}return pi.substring(fi,fi+++t)}function gi(t){const{batch:e,cacheTime:r=t.pollingInterval??4e3,key:s="base",name:n="Base Client",pollingInterval:i=4e3,type:a="base"}=t,o=t.chain,l=t.account?(0,ui.T)(t.account):void 0,{config:c,request:h,value:u}=t.transport({chain:o,pollingInterval:i}),d={account:l,batch:e,cacheTime:r,chain:o,key:s,name:n,pollingInterval:i,request:h,transport:{...c,...u},type:a,uid:mi()};return Object.assign(d,{extend:function t(e){return r=>{const s=r(e);for(const t in d)delete s[t];const n={...e,...s};return Object.assign(n,{extend:t(n)})}}(d)})}async function yi(t){const e=await t.request({method:"eth_chainId"});return(0,ln.ly)(e)}var bi=r(2106);var vi=r(7412),wi=r(7040),Ai=r(5444);const ki="/docs/contract/encodeDeployData";function Ei({abi:t,args:e,bytecode:r}){if(!e||0===e.length)return r;const s=t.find((t=>"type"in t&&"constructor"===t.type));if(!s)throw new vi.fM({docsPath:ki});if(!("inputs"in s))throw new vi.cO({docsPath:ki});if(!s.inputs||0===s.inputs.length)throw new vi.cO({docsPath:ki});const n=(0,Ai.E)(s.inputs,e);return(0,wi.SM)([r,n])}class xi extends Vn.G{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join("\n"),{docsPath:t,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}var Pi=r(377);function Ci({chain:t,currentChainId:e}){if(!t)throw new Pi.Bk;if(e!==t.id)throw new Pi.Yl({chain:t,currentChainId:e})}var Si=r(6445),Ii=r(3639),_i=r(7469);var Ti=r(1163),Mi=r(4688);function Di(t,e,r){return s=>t[e.name||r]?.(s)??e(t,s)}var Bi=r(7531),Fi=r(7795);class Oi extends Vn.G{constructor(){super("`baseFeeMultiplier` must be greater than 1."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseFeeScalarError"})}}class Ni extends Vn.G{constructor(){super("Chain does not support EIP-1559 fees."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip1559FeesNotSupportedError"})}}class Ri extends Vn.G{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${(0,Fi.o)(t)} gwei).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MaxFeePerGasTooLowError"})}}class Li extends Vn.G{constructor({blockHash:t,blockNumber:e}){let r="Block";t&&(r=`Block at hash "${t}"`),e&&(r=`Block at number "${e}"`),super(`${r} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}async function Ui(t,{blockHash:e,blockNumber:r,blockTag:s,includeTransactions:n}={}){const i=s??"latest",a=n??!1,o=void 0!==r?(0,bi.eC)(r):void 0;let l=null;if(l=e?await t.request({method:"eth_getBlockByHash",params:[e,a]}):await t.request({method:"eth_getBlockByNumber",params:[o||i,a]}),!l)throw new Li({blockHash:e,blockNumber:r});return(t.chain?.formatters?.block?.format||pn)(l)}async function ji(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function Gi(t,e){const{block:r,chain:s=t.chain,request:n}=e||{};if("function"==typeof s?.fees?.defaultPriorityFee){const e=r||await Di(t,Ui,"getBlock")({});return s.fees.defaultPriorityFee({block:e,client:t,request:n})}if(void 0!==s?.fees?.defaultPriorityFee)return s?.fees?.defaultPriorityFee;try{const e=await t.request({method:"eth_maxPriorityFeePerGas"});return(0,ln.y_)(e)}catch{const[e,s]=await Promise.all([r?Promise.resolve(r):Di(t,Ui,"getBlock")({}),Di(t,ji,"getGasPrice")({})]);if("bigint"!=typeof e.baseFeePerGas)throw new Ni;const n=s-e.baseFeePerGas;return n<0n?0n:n}}async function Vi(t,e){const{block:r,chain:s=t.chain,request:n,type:i="eip1559"}=e||{},a=await(async()=>"function"==typeof s?.fees?.baseFeeMultiplier?s.fees.baseFeeMultiplier({block:r,client:t,request:n}):s?.fees?.baseFeeMultiplier??1.2)();if(a<1)throw new Oi;const o=10**(a.toString().split(".")[1]?.length??0),l=t=>t*BigInt(Math.ceil(a*o))/BigInt(o),c=r||await Di(t,Ui,"getBlock")({});if("function"==typeof s?.fees?.estimateFeesPerGas)return s.fees.estimateFeesPerGas({block:r,client:t,multiply:l,request:n,type:i});if("eip1559"===i){if("bigint"!=typeof c.baseFeePerGas)throw new Ni;const e=n?.maxPriorityFeePerGas?n.maxPriorityFeePerGas:await Gi(t,{block:c,chain:s,request:n}),r=l(c.baseFeePerGas);return{maxFeePerGas:n?.maxFeePerGas??r+e,maxPriorityFeePerGas:e}}return{gasPrice:n?.gasPrice??l(await Di(t,ji,"getGasPrice")({}))}}var zi=r(9625);class Qi extends Vn.G{constructor(t,{account:e,docsPath:r,chain:s,data:n,gas:i,gasPrice:a,maxFeePerGas:o,maxPriorityFeePerGas:l,nonce:c,to:h,value:u}){const d=(0,Ii.xr)({from:e?.address,to:h,value:void 0!==u&&`${(0,zi.d)(u)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:n,gas:i,gasPrice:void 0!==a&&`${(0,Fi.o)(a)} gwei`,maxFeePerGas:void 0!==o&&`${(0,Fi.o)(o)} gwei`,maxPriorityFeePerGas:void 0!==l&&`${(0,Fi.o)(l)} gwei`,nonce:c});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",d].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=t}}async function Hi(t,e){const r=e.account??t.account;if(!r)throw new xi({docsPath:"/docs/actions/public/estimateGas"});const s=(0,ui.T)(r);try{const{accessList:r,blockNumber:n,blockTag:i,data:a,gas:o,gasPrice:l,maxFeePerGas:c,maxPriorityFeePerGas:h,nonce:u,to:d,value:p,...f}="local"===s.type?await Wi(t,e):e,m=(n?(0,bi.eC)(n):void 0)||i;(0,Bi.F)(e);const g=t.chain?.formatters?.transactionRequest?.format,y=(g||Mi.tG)({...(0,Ti.K)(f,{format:g}),from:s.address,accessList:r,data:a,gas:o,gasPrice:l,maxFeePerGas:c,maxPriorityFeePerGas:h,nonce:u,to:d,value:p}),b=await t.request({method:"eth_estimateGas",params:m?[y,m]:[y]});return BigInt(b)}catch(r){throw function(t,{docsPath:e,...r}){const s=(()=>{const e=(0,_i.k)(t,r);return e instanceof Si.cj?t:e})();return new Qi(s,{docsPath:e,...r})}(r,{...e,account:s,chain:t.chain})}}async function qi(t,{address:e,blockTag:r="latest",blockNumber:s}){const n=await t.request({method:"eth_getTransactionCount",params:[e,s?(0,bi.eC)(s):r]});return(0,ln.ly)(n)}function Ki(t){if(t.type)return t.type;if(void 0!==t.maxFeePerGas||void 0!==t.maxPriorityFeePerGas)return"eip1559";if(void 0!==t.gasPrice)return void 0!==t.accessList?"eip2930":"legacy";throw new Ii.j3({transaction:t})}async function Wi(t,e){const{account:r=t.account,chain:s,gas:n,nonce:i,type:a}=e;if(!r)throw new xi;const o=(0,ui.T)(r),l=await Di(t,Ui,"getBlock")({blockTag:"latest"}),c={...e,from:o.address};if(void 0===i&&(c.nonce=await Di(t,qi,"getTransactionCount")({address:o.address,blockTag:"pending"})),void 0===a)try{c.type=Ki(c)}catch{c.type="bigint"==typeof l.baseFeePerGas?"eip1559":"legacy"}if("eip1559"===c.type){const{maxFeePerGas:r,maxPriorityFeePerGas:n}=await Vi(t,{block:l,chain:s,request:c});if(void 0===e.maxPriorityFeePerGas&&e.maxFeePerGas&&e.maxFeePerGas<n)throw new Ri({maxPriorityFeePerGas:n});c.maxPriorityFeePerGas=n,c.maxFeePerGas=r}else{if(void 0!==e.maxFeePerGas||void 0!==e.maxPriorityFeePerGas)throw new Ni;const{gasPrice:r}=await Vi(t,{block:l,chain:s,request:c,type:"legacy"});c.gasPrice=r}return void 0===n&&(c.gas=await Di(t,Hi,"estimateGas")({...c,account:{address:o.address,type:"json-rpc"}})),(0,Bi.F)(c),c}async function Ji(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]})}async function Yi(t,e){const{account:r=t.account,chain:s=t.chain,accessList:n,data:i,gas:a,gasPrice:o,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:h,to:u,value:d,...p}=e;if(!r)throw new xi({docsPath:"/docs/actions/wallet/sendTransaction"});const f=(0,ui.T)(r);try{let r;if((0,Bi.F)(e),null!==s&&(r=await Di(t,yi,"getChainId")({}),Ci({currentChainId:r,chain:s})),"local"===f.type){const e=await Di(t,Wi,"prepareTransactionRequest")({account:f,accessList:n,chain:s,data:i,gas:a,gasPrice:o,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:h,to:u,value:d,...p});r||(r=await Di(t,yi,"getChainId")({}));const m=s?.serializers?.transaction,g=await f.signTransaction({...e,chainId:r},{serializer:m});return await Di(t,Ji,"sendRawTransaction")({serializedTransaction:g})}const m=t.chain?.formatters?.transactionRequest?.format,g=(m||Mi.tG)({...(0,Ti.K)(p,{format:m}),accessList:n,data:i,from:f.address,gas:a,gasPrice:o,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:h,to:u,value:d});return await t.request({method:"eth_sendTransaction",params:[g]})}catch(t){throw function(t,{docsPath:e,...r}){const s=(()=>{const e=(0,_i.k)(t,r);return e instanceof Si.cj?t:e})();return new Ii.mk(s,{docsPath:e,...r})}(t,{...e,account:f,chain:e.chain||void 0})}}var Zi=r(5102),Xi=r(6070),$i=r(6087),ta=r(9321),ea=r(9135);const ra=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,sa=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function na({domain:t,message:e,primaryType:r,types:s}){const n=s,i=(t,e)=>{for(const r of t){const{name:t,type:s}=r,a=s,o=e[t],l=a.match(sa);if(l&&("number"==typeof o||"bigint"==typeof o)){const[t,e,r]=l;(0,bi.eC)(o,{signed:"int"===e,size:parseInt(r)/8})}if("address"===a&&"string"==typeof o&&!(0,ta.U)(o))throw new $i.b({address:o});const c=a.match(ra);if(c){const[t,e]=c;if(e&&(0,ea.d)(o)!==parseInt(e))throw new vi.KY({expectedSize:parseInt(e),givenSize:(0,ea.d)(o)})}const h=n[a];h&&i(h,o)}};if(n.EIP712Domain&&t&&i(n.EIP712Domain,t),"EIP712Domain"!==r){const t=n[r];i(t,e)}}function ia({domain:t}){return["string"==typeof t?.name&&{name:"name",type:"string"},t?.version&&{name:"version",type:"string"},"number"==typeof t?.chainId&&{name:"chainId",type:"uint256"},t?.verifyingContract&&{name:"verifyingContract",type:"address"},t?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}var aa=r(7799);function oa(t){return{addChain:e=>async function(t,{chain:e}){const{id:r,name:s,nativeCurrency:n,rpcUrls:i,blockExplorers:a}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:(0,bi.eC)(r),chainName:s,nativeCurrency:n,rpcUrls:i.default.http,blockExplorerUrls:a?Object.values(a).map((({url:t})=>t)):void 0}]})}(t,e),deployContract:e=>function(t,{abi:e,args:r,bytecode:s,...n}){return Yi(t,{...n,data:Ei({abi:e,args:r,bytecode:s})})}(t,e),getAddresses:()=>async function(t){return"local"===t.account?.type?[t.account.address]:(await t.request({method:"eth_accounts"})).map((t=>(0,Gn.x)(t)))}(t),getChainId:()=>yi(t),getPermissions:()=>async function(t){return await t.request({method:"wallet_getPermissions"})}(t),prepareTransactionRequest:e=>Wi(t,e),requestAddresses:()=>async function(t){return(await t.request({method:"eth_requestAccounts"})).map((t=>(0,Gn.K)(t)))}(t),requestPermissions:e=>async function(t,e){return t.request({method:"wallet_requestPermissions",params:[e]})}(t,e),sendRawTransaction:e=>Ji(t,e),sendTransaction:e=>Yi(t,e),signMessage:e=>async function(t,{account:e=t.account,message:r}){if(!e)throw new xi({docsPath:"/docs/actions/wallet/signMessage"});const s=(0,ui.T)(e);if("local"===s.type)return s.signMessage({message:r});const n="string"==typeof r?(0,bi.$G)(r):r.raw instanceof Uint8Array?(0,bi.NC)(r.raw):r.raw;return t.request({method:"personal_sign",params:[n,s.address]})}(t,e),signTransaction:e=>async function(t,e){const{account:r=t.account,chain:s=t.chain,...n}=e;if(!r)throw new xi({docsPath:"/docs/actions/wallet/signTransaction"});const i=(0,ui.T)(r);(0,Bi.F)({account:i,...e});const a=await Di(t,yi,"getChainId")({});null!==s&&Ci({currentChainId:a,chain:s});const o=s?.formatters||t.chain?.formatters,l=o?.transactionRequest?.format||Mi.tG;return"local"===i.type?i.signTransaction({...n,chainId:a},{serializer:t.chain?.serializers?.transaction}):await t.request({method:"eth_signTransaction",params:[{...l(n),chainId:(0,bi.eC)(a),from:i.address}]})}(t,e),signTypedData:e=>async function(t,{account:e=t.account,domain:r,message:s,primaryType:n,types:i}){if(!e)throw new xi({docsPath:"/docs/actions/wallet/signTypedData"});const a=(0,ui.T)(e),o={EIP712Domain:ia({domain:r}),...i};if(na({domain:r,message:s,primaryType:n,types:o}),"local"===a.type)return a.signTypedData({domain:r,primaryType:n,types:o,message:s});const l=(0,Xi.P)({domain:r??{},primaryType:n,types:o,message:s},((t,e)=>(0,Zi.v)(e)?e.toLowerCase():e));return t.request({method:"eth_signTypedData_v4",params:[a.address,l]})}(t,e),switchChain:e=>async function(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,bi.eC)(e)}]})}(t,e),watchAsset:e=>async function(t,e){return await t.request({method:"wallet_watchAsset",params:e})}(t,e),writeContract:e=>async function(t,{abi:e,address:r,args:s,dataSuffix:n,functionName:i,...a}){const o=(0,aa.R)({abi:e,args:s,functionName:i});return await Di(t,Yi,"sendTransaction")({data:`${o}${n?n.replace("0x",""):""}`,to:r,...a})}(t,e)}}function la(t){const{key:e="wallet",name:r="Wallet Client",transport:s}=t;return gi({...t,key:e,name:r,transport:t=>s({...t,retryCount:0}),type:"walletClient"}).extend(oa)}async function ca(t){return new Promise((e=>setTimeout(e,t)))}function ha(t,{delay:e=100,retryCount:r=2,shouldRetry:s=(()=>!0)}={}){return new Promise(((n,i)=>{const a=async({count:o=0}={})=>{try{const e=await t();n(e)}catch(t){if(o<r&&await s({count:o,error:t}))return(async({error:t})=>{const r="function"==typeof e?e({count:o,error:t}):e;r&&await ca(r),a({count:o+1})})({error:t});i(t)}};a()}))}const ua=t=>"code"in t?-1!==t.code&&-32004!==t.code&&-32005!==t.code&&-32042!==t.code&&-32603!==t.code:!!(t instanceof zn.Gg&&t.status)&&(403!==t.status&&408!==t.status&&413!==t.status&&429!==t.status&&500!==t.status&&502!==t.status&&503!==t.status&&504!==t.status);function da(t,{retryDelay:e=150,retryCount:r=3}={}){return async s=>ha((async()=>{try{return await t(s)}catch(t){const e=t;switch(e.code){case qn.code:throw new qn(e);case Kn.code:throw new Kn(e);case Wn.code:throw new Wn(e);case Jn.code:throw new Jn(e);case Yn.code:throw new Yn(e);case Zn.code:throw new Zn(e);case Xn.code:throw new Xn(e);case $n.code:throw new $n(e);case ti.code:throw new ti(e);case ei.code:throw new ei(e);case ri.code:throw new ri(e);case si.code:throw new si(e);case ni.code:throw new ni(e);case ii.code:throw new ii(e);case ai.code:throw new ai(e);case oi.code:throw new oi(e);case li.code:throw new li(e);case ci.code:throw new ci(e);case 5e3:throw new ni(e);default:if(t instanceof Vn.G)throw t;throw new hi(e)}}}),{delay:({count:t,error:r})=>{if(r&&r instanceof zn.Gg){const t=r?.headers?.get("Retry-After");if(t?.match(/\d/))return 1e3*parseInt(t)}return~~(1<<t)*e},retryCount:r,shouldRetry:({error:t})=>!ua(t)})}function pa({key:t,name:e,request:r,retryCount:s=3,retryDelay:n=150,timeout:i,type:a},o){return{config:{key:t,name:e,request:r,retryCount:s,retryDelay:n,timeout:i,type:a},request:da(r,{retryCount:s,retryDelay:n}),value:o}}function fa(t,e={}){const{key:r="custom",name:s="Custom Provider",retryDelay:n}=e;return({retryCount:i})=>pa({key:r,name:s,request:t.request.bind(t),retryCount:e.retryCount??i,retryDelay:n,type:"custom"})}var ma,ga=class extends jn{constructor({chains:t,options:e}={}){const r={shimDisconnect:!0,getProvider(){if("undefined"==typeof window)return;const t=window.ethereum;return t?.providers&&t.providers.length>0?t.providers[0]:t},...e};super({chains:t,options:r}),this.id="injected",Rn(this,ma,void 0),this.shimDisconnectKey=`${this.id}.shimDisconnect`,this.onAccountsChanged=t=>{0===t.length?this.emit("disconnect"):this.emit("change",{account:(0,Gn.K)(t[0])})},this.onChainChanged=t=>{const e=Bn(t),r=this.isChainUnsupported(e);this.emit("change",{chain:{id:e,unsupported:r}})},this.onDisconnect=async t=>{if(1013===t.code){if(await this.getProvider()){if(await this.getAccount())return}}this.emit("disconnect"),this.options.shimDisconnect&&this.storage?.removeItem(this.shimDisconnectKey)};const s=r.getProvider();if("string"==typeof r.name)this.name=r.name;else if(s){const t=function(t){if(!t)return"Injected";const e=t=>t.isApexWallet?"Apex Wallet":t.isAvalanche?"Core Wallet":t.isBackpack?"Backpack":t.isBifrost?"Bifrost Wallet":t.isBitKeep?"BitKeep":t.isBitski?"Bitski":t.isBlockWallet?"BlockWallet":t.isBraveWallet?"Brave Wallet":t.isCoin98?"Coin98 Wallet":t.isCoinbaseWallet?"Coinbase Wallet":t.isDawn?"Dawn Wallet":t.isDefiant?"Defiant":t.isDesig?"Desig Wallet":t.isEnkrypt?"Enkrypt":t.isExodus?"Exodus":t.isFordefi?"Fordefi":t.isFrame?"Frame":t.isFrontier?"Frontier Wallet":t.isGamestop?"GameStop Wallet":t.isHaqqWallet?"HAQQ Wallet":t.isHyperPay?"HyperPay Wallet":t.isImToken?"ImToken":t.isHaloWallet?"Halo Wallet":t.isKuCoinWallet?"KuCoin Wallet":t.isMathWallet?"MathWallet":t.isNovaWallet?"Nova Wallet":t.isOkxWallet||t.isOKExWallet?"OKX Wallet":t.isOktoWallet?"Okto Wallet":t.isOneInchIOSWallet||t.isOneInchAndroidWallet?"1inch Wallet":t.isOneKey?"OneKey Wallet":t.isOpera?"Opera":t.isPhantom?"Phantom":t.isPortal?"Ripio Portal":t.isRabby?"Rabby Wallet":t.isRainbow?"Rainbow":t.isSafePal?"SafePal Wallet":t.isStatus?"Status":t.isSubWallet?"SubWallet":t.isTalisman?"Talisman":t.isTally?"Taho":t.isTokenPocket?"TokenPocket":t.isTokenary?"Tokenary":t.isTrust||t.isTrustWallet?"Trust Wallet":t.isTTWallet?"TTWallet":t.isXDEFI?"XDEFI Wallet":t.isZeal?"Zeal":t.isZerion?"Zerion":t.isMetaMask?"MetaMask":void 0;if(t.providers?.length){const r=new Set;let s=1;for(const n of t.providers){let t=e(n);t||(t=`Unknown Wallet #${s}`,s+=1),r.add(t)}const n=[...r];return n.length?n:n[0]??"Injected"}return e(t)??"Injected"}(s);r.name?this.name=r.name(t):this.name="string"==typeof t?t:t[0]}else this.name="Injected";this.ready=!!s}async connect({chainId:t}={}){try{const e=await this.getProvider();if(!e)throw new Dn;e.on&&(e.on("accountsChanged",this.onAccountsChanged),e.on("chainChanged",this.onChainChanged),e.on("disconnect",this.onDisconnect)),this.emit("message",{type:"connecting"});const r=await e.request({method:"eth_requestAccounts"}),s=(0,Gn.K)(r[0]);let n=await this.getChainId(),i=this.isChainUnsupported(n);if(t&&n!==t){n=(await this.switchChain(t)).id,i=this.isChainUnsupported(n)}return this.options.shimDisconnect&&this.storage?.setItem(this.shimDisconnectKey,!0),{account:s,chain:{id:n,unsupported:i}}}catch(t){if(this.isUserRejectedRequestError(t))throw new ni(t);if(-32002===t.code)throw new $n(t);throw t}}async disconnect(){const t=await this.getProvider();t?.removeListener&&(t.removeListener("accountsChanged",this.onAccountsChanged),t.removeListener("chainChanged",this.onChainChanged),t.removeListener("disconnect",this.onDisconnect),this.options.shimDisconnect&&this.storage?.removeItem(this.shimDisconnectKey))}async getAccount(){const t=await this.getProvider();if(!t)throw new Dn;const e=await t.request({method:"eth_accounts"});return(0,Gn.K)(e[0])}async getChainId(){const t=await this.getProvider();if(!t)throw new Dn;return t.request({method:"eth_chainId"}).then(Bn)}async getProvider(){const t=this.options.getProvider();return t&&Ln(this,ma,t),Nn(this,ma)}async getWalletClient({chainId:t}={}){const[e,r]=await Promise.all([this.getProvider(),this.getAccount()]),s=this.chains.find((e=>e.id===t));if(!e)throw new Error("provider is required.");return la({account:r,chain:s,transport:fa(e)})}async isAuthorized(){try{if(this.options.shimDisconnect&&!this.storage?.getItem(this.shimDisconnectKey))return!1;if(!await this.getProvider())throw new Dn;return!!await this.getAccount()}catch{return!1}}async switchChain(t){const e=await this.getProvider();if(!e)throw new Dn;const r=(0,bi.eC)(t);try{return await Promise.all([e.request({method:"wallet_switchEthereumChain",params:[{chainId:r}]}),new Promise((e=>this.on("change",(({chain:r})=>{r?.id===t&&e()}))))]),this.chains.find((e=>e.id===t))??{id:t,name:`Chain ${r}`,network:`${r}`,nativeCurrency:{name:"Ether",decimals:18,symbol:"ETH"},rpcUrls:{default:{http:[""]},public:{http:[""]}}}}catch(s){const n=this.chains.find((e=>e.id===t));if(!n)throw new Mn({chainId:t,connectorId:this.id});if(4902===s.code||4902===s?.data?.originalError?.code)try{await e.request({method:"wallet_addEthereumChain",params:[{chainId:r,chainName:n.name,nativeCurrency:n.nativeCurrency,rpcUrls:[n.rpcUrls.public?.http[0]??""],blockExplorerUrls:this.getBlockExplorerUrls(n)}]});if(await this.getChainId()!==t)throw new ni(new Error("User rejected switch after adding network."));return n}catch(t){throw new ni(t)}if(this.isUserRejectedRequestError(s))throw new ni(s);throw new ci(s)}}async watchAsset({address:t,decimals:e=18,image:r,symbol:s}){const n=await this.getProvider();if(!n)throw new Dn;return n.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:t,decimals:e,image:r,symbol:s}}})}isUserRejectedRequestError(t){return 4001===t.code}};ma=new WeakMap;var ya=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},ba=(t,e,r)=>(ya(t,e,"read from private field"),r?r.call(t):e.get(t)),va=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},wa=(t,e,r,s)=>(ya(t,e,"write to private field"),s?s.call(t,r):e.set(t,r),r),Aa=r(6693),ka=r(7210),Ea=r(7864),xa=r(1836),Pa=r(1746),Ca=r(5980);function Sa(t,e){if(!(t instanceof Vn.G))return!1;const r=t.walk((t=>t instanceof Ca.Lu));return r instanceof Ca.Lu&&("ResolverNotFound"===r.data?.errorName||("ResolverWildcardNotSupported"===r.data?.errorName||(!!r.reason?.includes("Wildcard on non-extended resolvers is not supported")||"reverse"===e&&r.reason===Pa.$[50])))}var Ia=r(1187),_a=r(9550);function Ta(t){if(66!==t.length)return null;if(0!==t.indexOf("["))return null;if(65!==t.indexOf("]"))return null;const e=`0x${t.slice(1,65)}`;return(0,Zi.v)(e)?e:null}function Ma(t){let e=new Uint8Array(32).fill(0);if(!t)return(0,bi.ci)(e);const r=t.split(".");for(let t=r.length-1;t>=0;t-=1){const s=Ta(r[t]),n=s?(0,Ia.O0)(s):(0,_a.w)((0,Ia.qX)(r[t]),"bytes");e=(0,_a.w)((0,wi.zo)([e,n]),"bytes")}return(0,bi.ci)(e)}function Da(t){const e=new Uint8Array(32).fill(0);return t?Ta(t)||(0,_a.w)((0,Ia.qX)(t)):(0,bi.ci)(e)}function Ba(t){const e=t.replace(/^\.|\.$/gm,"");if(0===e.length)return new Uint8Array(1);const r=new Uint8Array((0,Ia.qX)(e).byteLength+2);let s=0;const n=e.split(".");for(let t=0;t<n.length;t++){let e=(0,Ia.qX)(n[t]);e.byteLength>255&&(e=(0,Ia.qX)(`[${Da(n[t]).slice(2)}]`)),r[s]=e.length,r.set(e,s+1),s+=e.length+1}return r.byteLength!==s+1?r.slice(0,s+1):r}const Fa=3;function Oa(t,{abi:e,address:r,args:s,docsPath:n,functionName:i,sender:a}){const{code:o,data:l,message:c,shortMessage:h}=t instanceof Ca.VQ?t:t instanceof Vn.G?t.walk((t=>"data"in t))||t.walk():{},u=t instanceof vi.wb?new Ca.Dk({functionName:i}):[Fa,Yn.code].includes(o)&&(l||c||h)?new Ca.Lu({abi:e,data:"object"==typeof l?l.data:l,functionName:i,message:h??c}):t;return new Ca.uq(u,{abi:e,args:s,contractAddress:r,docsPath:n,functionName:i,sender:a})}var Na=r(6143);async function Ra(t,{abi:e,address:r,args:s,functionName:n,...i}){const a=(0,aa.R)({abi:e,args:s,functionName:n});try{const{data:o}=await Di(t,Na.R,"call")({data:a,to:r,...i});return(0,ka.k)({abi:e,args:s,functionName:n,data:o||"0x"})}catch(t){throw Oa(t,{abi:e,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:n})}}class La extends Vn.G{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class Ua extends Vn.G{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class ja extends Vn.G{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class Ga extends Vn.G{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const Va=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,za=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Qa=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Ha=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;function qa(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function Ka({uri:t,gatewayUrls:e}){const r=Qa.test(t);if(r)return{uri:t,isOnChain:!0,isEncoded:r};const s=qa(e?.ipfs,"https://ipfs.io"),n=qa(e?.arweave,"https://arweave.net"),i=t.match(Va),{protocol:a,subpath:o,target:l,subtarget:c=""}=i?.groups||{},h="ipns:/"===a||"ipns/"===o,u="ipfs:/"===a||"ipfs/"===o||za.test(t);if(t.startsWith("http")&&!h&&!u){let r=t;return e?.arweave&&(r=t.replace(/https:\/\/arweave.net/g,e?.arweave)),{uri:r,isOnChain:!1,isEncoded:!1}}if((h||u)&&l)return{uri:`${s}/${h?"ipns":"ipfs"}/${l}${c}`,isOnChain:!1,isEncoded:!1};if("ar:/"===a&&l)return{uri:`${n}/${l}${c||""}`,isOnChain:!1,isEncoded:!1};let d=t.replace(Ha,"");if(d.startsWith("<svg")&&(d=`data:image/svg+xml;base64,${btoa(d)}`),d.startsWith("data:")||d.startsWith("{"))return{uri:d,isOnChain:!0,isEncoded:!1};throw new ja({uri:t})}function Wa(t){if("object"!=typeof t||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new La({data:t});return t.image||t.image_url||t.image_data}async function Ja({gatewayUrls:t,uri:e}){const{uri:r,isOnChain:s}=Ka({uri:e,gatewayUrls:t});if(s)return r;const n=await async function(t){try{const e=await fetch(t,{method:"HEAD"});if(200===e.status){const t=e.headers.get("content-type");return t?.startsWith("image/")}return!1}catch(e){return("object"!=typeof e||void 0===e.response)&&!!globalThis.hasOwnProperty("Image")&&new Promise((e=>{const r=new Image;r.onload=()=>{e(!0)},r.onerror=()=>{e(!1)},r.src=t}))}}(r);if(n)return r;throw new ja({uri:e})}async function Ya(t,{gatewayUrls:e,record:r}){return/eip155:/i.test(r)?async function(t,{gatewayUrls:e,record:r}){const s=function(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[r,s,n]=e.split("/"),[i,a]=r.split(":"),[o,l]=s.split(":");if(!i||"eip155"!==i.toLowerCase())throw new Ua({reason:"Only EIP-155 supported"});if(!a)throw new Ua({reason:"Chain ID not found"});if(!l)throw new Ua({reason:"Contract address not found"});if(!n)throw new Ua({reason:"Token ID not found"});if(!o)throw new Ua({reason:"ERC namespace not found"});return{chainID:parseInt(a),namespace:o.toLowerCase(),contractAddress:l,tokenID:n}}(r),n=await async function(t,{nft:e}){if("erc721"===e.namespace)return Ra(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if("erc1155"===e.namespace)return Ra(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new Ga({namespace:e.namespace})}(t,{nft:s}),{uri:i,isOnChain:a,isEncoded:o}=Ka({uri:n,gatewayUrls:e});if(a&&(i.includes("data:application/json;base64,")||i.startsWith("{"))){const t=o?atob(i.replace("data:application/json;base64,","")):i;return Ja({uri:Wa(JSON.parse(t)),gatewayUrls:e})}let l=s.tokenID;"erc1155"===s.namespace&&(l=l.replace("0x","").padStart(64,"0"));return async function({gatewayUrls:t,uri:e}){try{const r=await fetch(e).then((t=>t.json()));return await Ja({gatewayUrls:t,uri:Wa(r)})}catch{throw new ja({uri:e})}}({gatewayUrls:e,uri:i.replace(/(?:0x)?{id}/,l)})}(t,{gatewayUrls:e,record:r}):Ja({uri:r,gatewayUrls:e})}async function Za(t,{blockNumber:e,blockTag:r,name:s,key:n,universalResolverAddress:i}){let a=i;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=(0,Ea.L)({blockNumber:e,chain:t.chain,contract:"ensUniversalResolver"})}try{const i=await Di(t,Ra,"readContract")({address:a,abi:Aa.k3,functionName:"resolve",args:[(0,bi.NC)(Ba(s)),(0,aa.R)({abi:Aa.nZ,functionName:"text",args:[Ma(s),n]})],blockNumber:e,blockTag:r});if("0x"===i[0])return null;const o=(0,ka.k)({abi:Aa.nZ,functionName:"text",data:i[0]});return""===o?null:o}catch(t){if(Sa(t,"resolve"))return null;throw t}}function Xa(t,{method:e}){const r={};return"fallback"===t.transport.type&&t.transport.onResponse?.((({method:t,response:s,status:n,transport:i})=>{"success"===n&&e===t&&(r[s]=i.request)})),e=>r[e]||t.request}class $a extends Vn.G{constructor(t){super(`Filter type "${t}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}var to=r(4092),eo=r(522),ro=r(840);function so({abi:t,eventName:e,args:r}){let s=t[0];if(e&&(s=(0,ro.mE)({abi:t,args:r,name:e}),!s))throw new vi.mv(e,{docsPath:"/docs/contract/encodeEventTopics"});if("event"!==s.type)throw new vi.mv(void 0,{docsPath:"/docs/contract/encodeEventTopics"});const n=(0,eo.t)(s),i=(0,to.e)(n);let a=[];if(r&&"inputs"in s){const t=s.inputs?.filter((t=>"indexed"in t&&t.indexed)),e=Array.isArray(r)?r:Object.values(r).length>0?t?.map((t=>r[t.name]))??[]:[];e.length>0&&(a=t?.map(((t,r)=>Array.isArray(e[r])?e[r].map(((s,n)=>no({param:t,value:e[r][n]}))):e[r]?no({param:t,value:e[r]}):null))??[])}return[i,...a]}function no({param:t,value:e}){if("string"===t.type||"bytes"===t.type)return(0,_a.w)((0,Ia.O0)(e));if("tuple"===t.type||t.type.match(/^(.*)\[(\d+)?\]$/))throw new $a(t.type);return(0,Ai.E)([t],[e])}async function io(t,{address:e,abi:r,args:s,eventName:n,fromBlock:i,strict:a,toBlock:o}){const l=Xa(t,{method:"eth_newFilter"}),c=n?so({abi:r,args:s,eventName:n}):void 0,h=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:"bigint"==typeof i?(0,bi.eC)(i):i,toBlock:"bigint"==typeof o?(0,bi.eC)(o):o,topics:c}]});return{abi:r,args:s,eventName:n,id:h,request:l(h),strict:a,type:"event"}}async function ao(t,{address:e,args:r,event:s,events:n,fromBlock:i,strict:a,toBlock:o}={}){const l=n??(s?[s]:void 0),c=Xa(t,{method:"eth_newFilter"});let h=[];l&&(h=[l.flatMap((t=>so({abi:[t],eventName:t.name,args:r})))],s&&(h=h[0]));const u=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:"bigint"==typeof i?(0,bi.eC)(i):i,toBlock:"bigint"==typeof o?(0,bi.eC)(o):o,...h.length?{topics:h}:{}}]});return{abi:l,args:r,eventName:s?s.name:void 0,fromBlock:i,id:u,request:c(u),strict:a,toBlock:o,type:"event"}}async function oo(t){const e=Xa(t,{method:"eth_newPendingTransactionFilter"}),r=await t.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:e(r),type:"transaction"}}const lo=new Map,co=new Map;async function ho(t,{cacheKey:e,cacheTime:r=1/0}){const s=function(t){const e=(t,e)=>({clear:()=>e.delete(t),get:()=>e.get(t),set:r=>e.set(t,r)}),r=e(t,lo),s=e(t,co);return{clear:()=>{r.clear(),s.clear()},promise:r,response:s}}(e),n=s.response.get();if(n&&r>0){if((new Date).getTime()-n.created.getTime()<r)return n.data}let i=s.promise.get();i||(i=t(),s.promise.set(i));try{const t=await i;return s.response.set({created:new Date,data:t}),t}finally{s.promise.clear()}}const uo=t=>`blockNumber.${t}`;async function po(t,{cacheTime:e=t.cacheTime,maxAge:r}={}){const s=await ho((()=>t.request({method:"eth_blockNumber"})),{cacheKey:uo(t.uid),cacheTime:r??e});return BigInt(s)}var fo=r(4450);const mo="/docs/contract/decodeEventLog";function go({abi:t,data:e,strict:r,topics:s}){const n=r??!0,[i,...a]=s;if(!i)throw new vi.FM({docsPath:mo});const o=t.find((t=>"event"===t.type&&i===(0,to.e)((0,eo.t)(t))));if(!o||!("name"in o)||"event"!==o.type)throw new vi.lC(i,{docsPath:mo});const{name:l,inputs:c}=o,h=c?.some((t=>!("name"in t&&t.name)));let u=h?[]:{};const d=c.filter((t=>"indexed"in t&&t.indexed));for(let t=0;t<d.length;t++){const e=d[t],r=a[t];if(!r)throw new vi.Gy({abiItem:o,param:e});u[e.name||t]=yo({param:e,value:r})}const p=c.filter((t=>!("indexed"in t&&t.indexed)));if(p.length>0)if(e&&"0x"!==e)try{const t=(0,fo.r)(p,e);if(t)if(h)u=[...u,...t];else for(let e=0;e<p.length;e++)u[p[e].name]=t[e]}catch(t){if(n){if(t instanceof vi.xB)throw new vi.SM({abiItem:o,data:t.data,params:t.params,size:t.size});throw t}}else if(n)throw new vi.SM({abiItem:o,data:"0x",params:p,size:0});return{eventName:l,args:Object.values(u).length>0?u:void 0}}function yo({param:t,value:e}){if("string"===t.type||"bytes"===t.type||"tuple"===t.type||t.type.match(/^(.*)\[(\d+)?\]$/))return e;return((0,fo.r)([t],e)||[])[0]}async function bo(t,{address:e,blockHash:r,fromBlock:s,toBlock:n,event:i,events:a,args:o,strict:l}={}){const c=l??!1,h=a??(i?[i]:void 0);let u,d=[];return h&&(d=[h.flatMap((t=>so({abi:[t],eventName:t.name,args:o})))],i&&(d=d[0])),u=r?await t.request({method:"eth_getLogs",params:[{address:e,topics:d,blockHash:r}]}):await t.request({method:"eth_getLogs",params:[{address:e,topics:d,fromBlock:"bigint"==typeof s?(0,bi.eC)(s):s,toBlock:"bigint"==typeof n?(0,bi.eC)(n):n}]}),u.map((t=>{try{const{eventName:e,args:r}=h?go({abi:h,data:t.data,topics:t.topics,strict:c}):{eventName:void 0,args:void 0};return mn(t,{args:r,eventName:e})}catch(e){let r,s;if(e instanceof vi.SM||e instanceof vi.Gy){if(c)return;r=e.abiItem.name,s=e.abiItem.inputs?.some((t=>!("name"in t&&t.name)))}return mn(t,{args:s?[]:{},eventName:r})}})).filter(Boolean)}async function vo(t,{abi:e,address:r,args:s,blockHash:n,eventName:i,fromBlock:a,toBlock:o,strict:l}){const c=i?(0,ro.mE)({abi:e,name:i}):void 0,h=c?void 0:e.filter((t=>"event"===t.type));return Di(t,bo,"getLogs")({address:r,args:s,blockHash:n,event:c,events:h,fromBlock:a,toBlock:o,strict:l})}async function wo(t,{blockCount:e,blockNumber:r,blockTag:s="latest",rewardPercentiles:n}){const i=r?(0,bi.eC)(r):void 0;return function(t){return{baseFeePerGas:t.baseFeePerGas.map((t=>BigInt(t))),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:t.reward?.map((t=>t.map((t=>BigInt(t)))))}}(await t.request({method:"eth_feeHistory",params:[(0,bi.eC)(e),i||s,n]}))}async function Ao(t,{filter:e}){const r="strict"in e&&e.strict;return(await e.request({method:"eth_getFilterChanges",params:[e.id]})).map((t=>{if("string"==typeof t)return t;try{const{eventName:s,args:n}="abi"in e&&e.abi?go({abi:e.abi,data:t.data,topics:t.topics,strict:r}):{eventName:void 0,args:void 0};return mn(t,{args:n,eventName:s})}catch(r){let s,n;if(r instanceof vi.SM||r instanceof vi.Gy){if("strict"in e&&e.strict)return;s=r.abiItem.name,n=r.abiItem.inputs?.some((t=>!("name"in t&&t.name)))}return mn(t,{args:n?[]:{},eventName:s})}})).filter(Boolean)}async function ko(t,{address:e,blockNumber:r,blockTag:s,storageKeys:n}){const i=s??"latest",a=void 0!==r?(0,bi.eC)(r):void 0;return function(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?(0,ln.ly)(t.nonce):void 0,storageProof:t.storageProof?(e=t.storageProof,e.map((t=>({...t,value:BigInt(t.value)})))):void 0};var e}(await t.request({method:"eth_getProof",params:[e,n,a||i]}))}async function Eo(t,{blockHash:e,blockNumber:r,blockTag:s,hash:n,index:i}){const a=s||"latest",o=void 0!==r?(0,bi.eC)(r):void 0;let l=null;if(n?l=await t.request({method:"eth_getTransactionByHash",params:[n]}):e?l=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,(0,bi.eC)(i)]}):(o||a)&&(l=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[o||a,(0,bi.eC)(i)]})),!l)throw new Ii.Bh({blockHash:e,blockNumber:r,blockTag:a,hash:n,index:i});return(t.chain?.formatters?.transaction?.format||un)(l)}async function xo(t,{hash:e}){const r=await t.request({method:"eth_getTransactionReceipt",params:[e]});if(!r)throw new Ii.Yb({hash:e});return(t.chain?.formatters?.transactionReceipt?.format||yn)(r)}async function Po(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}const Co="Ethereum Signed Message:\n";const So="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Io=(BigInt(0),BigInt(1)),_o=BigInt(2),To=t=>t instanceof Uint8Array,Mo=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function Do(t){if(!To(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Mo[t[r]];return e}function Bo(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);return BigInt(""===t?"0":`0x${t}`)}function Fo(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(e/2);for(let e=0;e<r.length;e++){const s=2*e,n=t.slice(s,s+2),i=Number.parseInt(n,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");r[e]=i}return r}function Oo(t){return Bo(Do(t))}function No(t){if(!To(t))throw new Error("Uint8Array expected");return Bo(Do(Uint8Array.from(t).reverse()))}function Ro(t,e){return Fo(t.toString(16).padStart(2*e,"0"))}function Lo(t,e){return Ro(t,e).reverse()}function Uo(t,e,r){let s;if("string"==typeof e)try{s=Fo(e)}catch(r){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${r}`)}else{if(!To(e))throw new Error(`${t} must be hex string or Uint8Array`);s=Uint8Array.from(e)}const n=s.length;if("number"==typeof r&&n!==r)throw new Error(`${t} expected ${r} bytes, got ${n}`);return s}function jo(...t){const e=new Uint8Array(t.reduce(((t,e)=>t+e.length),0));let r=0;return t.forEach((t=>{if(!To(t))throw new Error("Uint8Array expected");e.set(t,r),r+=t.length})),e}function Go(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}const Vo=t=>(_o<<BigInt(t-1))-Io,zo=t=>new Uint8Array(t),Qo=t=>Uint8Array.from(t);function Ho(t,e,r){if("number"!=typeof t||t<2)throw new Error("hashLen must be a number");if("number"!=typeof e||e<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let s=zo(t),n=zo(t),i=0;const a=()=>{s.fill(1),n.fill(0),i=0},o=(...t)=>r(n,s,...t),l=(t=zo())=>{n=o(Qo([0]),t),s=o(),0!==t.length&&(n=o(Qo([1]),t),s=o())},c=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let t=0;const r=[];for(;t<e;){s=o();const e=s.slice();r.push(e),t+=s.length}return jo(...r)};return(t,e)=>{let r;for(a(),l(t);!(r=e(c()));)l();return a(),r}}const qo={bigint:t=>"bigint"==typeof t,function:t=>"function"==typeof t,boolean:t=>"boolean"==typeof t,string:t=>"string"==typeof t,stringOrUint8Array:t=>"string"==typeof t||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>"function"==typeof t&&Number.isSafeInteger(t.outputLen)};function Ko(t,e,r={}){const s=(e,r,s)=>{const n=qo[r];if("function"!=typeof n)throw new Error(`Invalid validator "${r}", expected function`);const i=t[e];if(!(s&&void 0===i||n(i,t)))throw new Error(`Invalid param ${String(e)}=${i} (${typeof i}), expected ${r}`)};for(const[t,r]of Object.entries(e))s(t,r,!1);for(const[t,e]of Object.entries(r))s(t,e,!0);return t}async function Wo(t,{address:e,hash:r,signature:s,...n}){const i=(0,Zi.v)(s)?s:(0,bi.NC)(s);try{const{data:s}=await Di(t,Na.R,"call")({data:Ei({abi:Aa.$o,args:[e,r,i],bytecode:So}),...n});return a=s??"0x0",o="0x1",Go((0,Zi.v)(a)?(0,Ia.O0)(a):a,(0,Zi.v)(o)?(0,Ia.O0)(o):o)}catch(t){if(t instanceof Ca.cg)return!1;throw t}var a,o}async function Jo(t,{address:e,message:r,signature:s,...n}){const i=function(t,e){const r="string"==typeof t?(0,Ia.qX)(t):t.raw instanceof Uint8Array?t.raw:(0,Ia.O0)(t.raw),s=(0,Ia.qX)(`${Co}${r.length}`);return(0,_a.w)((0,wi.zo)([s,r]),e)}(r);return Wo(t,{address:e,hash:i,signature:s,...n})}function Yo({domain:t,message:e,primaryType:r,types:s}){const n=void 0===t?{}:t,i={EIP712Domain:ia({domain:n}),...s};na({domain:n,message:e,primaryType:r,types:i});const a=["0x1901"];return n&&a.push(function({domain:t,types:e}){return Zo({data:t,primaryType:"EIP712Domain",types:e})}({domain:n,types:i})),"EIP712Domain"!==r&&a.push(Zo({data:e,primaryType:r,types:i})),(0,_a.w)((0,wi.zo)(a))}function Zo({data:t,primaryType:e,types:r}){const s=Xo({data:t,primaryType:e,types:r});return(0,_a.w)(s)}function Xo({data:t,primaryType:e,types:r}){const s=[{type:"bytes32"}],n=[$o({primaryType:e,types:r})];for(const i of r[e]){const[e,a]=el({types:r,name:i.name,type:i.type,value:t[i.name]});s.push(e),n.push(a)}return(0,Ai.E)(s,n)}function $o({primaryType:t,types:e}){const r=(0,bi.NC)(function({primaryType:t,types:e}){let r="";const s=tl({primaryType:t,types:e});s.delete(t);const n=[t,...Array.from(s).sort()];for(const t of n)r+=`${t}(${e[t].map((({name:t,type:e})=>`${e} ${t}`)).join(",")})`;return r}({primaryType:t,types:e}));return(0,_a.w)(r)}function tl({primaryType:t,types:e},r=new Set){const s=t.match(/^\w*/u),n=s?.[0];if(r.has(n)||void 0===e[n])return r;r.add(n);for(const t of e[n])tl({primaryType:t.type,types:e},r);return r}function el({types:t,name:e,type:r,value:s}){if(void 0!==t[r])return[{type:"bytes32"},(0,_a.w)(Xo({data:s,primaryType:r,types:t}))];if("bytes"===r){return s=`0x${(s.length%2?"0":"")+s.slice(2)}`,[{type:"bytes32"},(0,_a.w)(s)]}if("string"===r)return[{type:"bytes32"},(0,_a.w)((0,bi.NC)(s))];if(r.lastIndexOf("]")===r.length-1){const n=r.slice(0,r.lastIndexOf("[")),i=s.map((r=>el({name:e,type:n,types:t,value:r})));return[{type:"bytes32"},(0,_a.w)((0,Ai.E)(i.map((([t])=>t)),i.map((([,t])=>t))))]}return[{type:r},s]}const rl=new Map,sl=new Map;let nl=0;function il(t,e,r){const s=++nl,n=()=>rl.get(t)||[],i=()=>{const e=sl.get(t);1===n().length&&e&&e(),(()=>{const e=n();rl.set(t,e.filter((t=>t.id!==s)))})()},a=n();if(rl.set(t,[...a,{id:s,fns:e}]),a&&a.length>0)return i;const o={};for(const t in e)o[t]=(...e)=>{const r=n();if(0!==r.length)for(const s of r)s.fns[t]?.(...e)};const l=r(o);return"function"==typeof l&&sl.set(t,l),i}function al(t,{emitOnBegin:e,initialWaitTime:r,interval:s}){let n=!0;const i=()=>n=!1;return(async()=>{let a;e&&(a=await t({unpoll:i}));const o=await(r?.(a))??s;await ca(o);const l=async()=>{n&&(await t({unpoll:i}),await ca(s),l())};l()})(),i}function ol(t,{emitOnBegin:e=!1,emitMissed:r=!1,onBlockNumber:s,onError:n,poll:i,pollingInterval:a=t.pollingInterval}){let o;return(void 0!==i?i:"webSocket"!==t.transport.type)?il((0,Xi.P)(["watchBlockNumber",t.uid,e,r,a]),{onBlockNumber:s,onError:n},(s=>al((async()=>{try{const e=await Di(t,po,"getBlockNumber")({cacheTime:0});if(o){if(e===o)return;if(e-o>1&&r)for(let t=o+1n;t<e;t++)s.onBlockNumber(t,o),o=t}(!o||e>o)&&(s.onBlockNumber(e,o),o=e)}catch(t){s.onError?.(t)}}),{emitOnBegin:e,interval:a}))):(()=>{let e=!0,r=()=>e=!1;return(async()=>{try{const{unsubscribe:i}=await t.transport.subscribe({params:["newHeads"],onData(t){if(!e)return;const r=(0,ln.y_)(t.result?.number);s(r,o),o=r},onError(t){n?.(t)}});r=i,e||r()}catch(t){n?.(t)}})(),r})()}function ll(t){return{call:e=>(0,Na.R)(t,e),createBlockFilter:()=>async function(t){const e=Xa(t,{method:"eth_newBlockFilter"}),r=await t.request({method:"eth_newBlockFilter"});return{id:r,request:e(r),type:"block"}}(t),createContractEventFilter:e=>io(t,e),createEventFilter:e=>ao(t,e),createPendingTransactionFilter:()=>oo(t),estimateContractGas:e=>async function(t,{abi:e,address:r,args:s,functionName:n,...i}){const a=(0,aa.R)({abi:e,args:s,functionName:n});try{return await Di(t,Hi,"estimateGas")({data:a,to:r,...i})}catch(t){const a=i.account?(0,ui.T)(i.account):void 0;throw Oa(t,{abi:e,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:n,sender:a?.address})}}(t,e),estimateGas:e=>Hi(t,e),getBalance:e=>async function(t,{address:e,blockNumber:r,blockTag:s="latest"}){const n=r?(0,bi.eC)(r):void 0,i=await t.request({method:"eth_getBalance",params:[e,n||s]});return BigInt(i)}(t,e),getBlock:e=>Ui(t,e),getBlockNumber:e=>po(t,e),getBlockTransactionCount:e=>async function(t,{blockHash:e,blockNumber:r,blockTag:s="latest"}={}){const n=void 0!==r?(0,bi.eC)(r):void 0;let i;return i=e?await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]}):await t.request({method:"eth_getBlockTransactionCountByNumber",params:[n||s]}),(0,ln.ly)(i)}(t,e),getBytecode:e=>async function(t,{address:e,blockNumber:r,blockTag:s="latest"}){const n=void 0!==r?(0,bi.eC)(r):void 0,i=await t.request({method:"eth_getCode",params:[e,n||s]});if("0x"!==i)return i}(t,e),getChainId:()=>yi(t),getContractEvents:e=>vo(t,e),getEnsAddress:e=>async function(t,{blockNumber:e,blockTag:r,coinType:s,name:n,universalResolverAddress:i}){let a=i;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=(0,Ea.L)({blockNumber:e,chain:t.chain,contract:"ensUniversalResolver"})}try{const i=(0,aa.R)({abi:Aa.X$,functionName:"addr",...null!=s?{args:[Ma(n),BigInt(s)]}:{args:[Ma(n)]}}),o=await Di(t,Ra,"readContract")({address:a,abi:Aa.k3,functionName:"resolve",args:[(0,bi.NC)(Ba(n)),i],blockNumber:e,blockTag:r});if("0x"===o[0])return null;const l=(0,ka.k)({abi:Aa.X$,args:null!=s?[Ma(n),BigInt(s)]:void 0,functionName:"addr",data:o[0]});return"0x"===l||"0x00"===(0,xa.f)(l)?null:l}catch(t){if(Sa(t,"resolve"))return null;throw t}}(t,e),getEnsAvatar:e=>async function(t,{blockNumber:e,blockTag:r,gatewayUrls:s,name:n,universalResolverAddress:i}){const a=await Di(t,Za,"getEnsText")({blockNumber:e,blockTag:r,key:"avatar",name:n,universalResolverAddress:i});if(!a)return null;try{return await Ya(t,{record:a,gatewayUrls:s})}catch{return null}}(t,e),getEnsName:e=>async function(t,{address:e,blockNumber:r,blockTag:s,universalResolverAddress:n}){let i=n;if(!i){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");i=(0,Ea.L)({blockNumber:r,chain:t.chain,contract:"ensUniversalResolver"})}const a=`${e.toLowerCase().substring(2)}.addr.reverse`;try{const[n,o]=await Di(t,Ra,"readContract")({address:i,abi:Aa.du,functionName:"reverse",args:[(0,bi.NC)(Ba(a))],blockNumber:r,blockTag:s});return e.toLowerCase()!==o.toLowerCase()?null:n}catch(t){if(Sa(t,"reverse"))return null;throw t}}(t,e),getEnsResolver:e=>async function(t,{blockNumber:e,blockTag:r,name:s,universalResolverAddress:n}){let i=n;if(!i){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");i=(0,Ea.L)({blockNumber:e,chain:t.chain,contract:"ensUniversalResolver"})}const[a]=await Di(t,Ra,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[(0,bi.NC)(Ba(s))],blockNumber:e,blockTag:r});return a}(t,e),getEnsText:e=>Za(t,e),getFeeHistory:e=>wo(t,e),estimateFeesPerGas:e=>async function(t,e){return Vi(t,e)}(t,e),getFilterChanges:t=>Ao(0,t),getFilterLogs:t=>async function(t,{filter:e}){const r=e.strict??!1;return(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map((t=>{try{const{eventName:s,args:n}="abi"in e&&e.abi?go({abi:e.abi,data:t.data,topics:t.topics,strict:r}):{eventName:void 0,args:void 0};return mn(t,{args:n,eventName:s})}catch(r){let s,n;if(r instanceof vi.SM||r instanceof vi.Gy){if("strict"in e&&e.strict)return;s=r.abiItem.name,n=r.abiItem.inputs?.some((t=>!("name"in t&&t.name)))}return mn(t,{args:n?[]:{},eventName:s})}})).filter(Boolean)}(0,t),getGasPrice:()=>ji(t),getLogs:e=>bo(t,e),getProof:e=>ko(t,e),estimateMaxPriorityFeePerGas:e=>async function(t,e){return Gi(t,e)}(t,e),getStorageAt:e=>async function(t,{address:e,blockNumber:r,blockTag:s="latest",slot:n}){const i=void 0!==r?(0,bi.eC)(r):void 0;return await t.request({method:"eth_getStorageAt",params:[e,n,i||s]})}(t,e),getTransaction:e=>Eo(t,e),getTransactionConfirmations:e=>async function(t,{hash:e,transactionReceipt:r}){const[s,n]=await Promise.all([Di(t,po,"getBlockNumber")({}),e?Di(t,Eo,"getBlockNumber")({hash:e}):void 0]),i=r?.blockNumber||n?.blockNumber;return i?s-i+1n:0n}(t,e),getTransactionCount:e=>qi(t,e),getTransactionReceipt:e=>xo(t,e),multicall:e=>async function(t,e){const{allowFailure:r=!0,batchSize:s,blockNumber:n,blockTag:i,contracts:a,multicallAddress:o}=e,l=s??("object"==typeof t.batch?.multicall&&t.batch.multicall.batchSize||1024);let c=o;if(!c){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");c=(0,Ea.L)({blockNumber:n,chain:t.chain,contract:"multicall3"})}const h=[[]];let u=0,d=0;for(let t=0;t<a.length;t++){const{abi:e,address:s,args:n,functionName:i}=a[t];try{const t=(0,aa.R)({abi:e,args:n,functionName:i});d+=(t.length-2)/2,l>0&&d>l&&h[u].length>0&&(u++,d=(t.length-2)/2,h[u]=[]),h[u]=[...h[u],{allowFailure:!0,callData:t,target:s}]}catch(t){const a=Oa(t,{abi:e,address:s,args:n,docsPath:"/docs/contract/multicall",functionName:i});if(!r)throw a;h[u]=[...h[u],{allowFailure:!0,callData:"0x",target:s}]}}const p=await Promise.allSettled(h.map((e=>Di(t,Ra,"readContract")({abi:Aa.F8,address:c,args:[e],blockNumber:n,blockTag:i,functionName:"aggregate3"})))),f=[];for(let t=0;t<p.length;t++){const e=p[t];if("rejected"===e.status){if(!r)throw e.reason;for(let r=0;r<h[t].length;r++)f.push({status:"failure",error:e.reason,result:void 0});continue}const s=e.value;for(let e=0;e<s.length;e++){const{returnData:n,success:i}=s[e],{callData:o}=h[t][e],{abi:l,address:c,functionName:u,args:d}=a[f.length];try{if("0x"===o)throw new vi.wb;if(!i)throw new Ca.VQ({data:n});const t=(0,ka.k)({abi:l,args:d,data:n,functionName:u});f.push(r?{result:t,status:"success"}:t)}catch(t){const e=Oa(t,{abi:l,address:c,args:d,docsPath:"/docs/contract/multicall",functionName:u});if(!r)throw e;f.push({error:e,result:void 0,status:"failure"})}}}if(f.length!==a.length)throw new Vn.G("multicall results mismatch");return f}(t,e),prepareTransactionRequest:e=>Wi(t,e),readContract:e=>Ra(t,e),sendRawTransaction:e=>Ji(t,e),simulateContract:e=>async function(t,{abi:e,address:r,args:s,dataSuffix:n,functionName:i,...a}){const o=a.account?(0,ui.T)(a.account):void 0,l=(0,aa.R)({abi:e,args:s,functionName:i});try{const{data:o}=await Di(t,Na.R,"call")({batch:!1,data:`${l}${n?n.replace("0x",""):""}`,to:r,...a});return{result:(0,ka.k)({abi:e,args:s,functionName:i,data:o||"0x"}),request:{abi:e,address:r,args:s,dataSuffix:n,functionName:i,...a}}}catch(t){throw Oa(t,{abi:e,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:i,sender:o?.address})}}(t,e),verifyMessage:e=>Jo(t,e),verifyTypedData:e=>async function(t,{address:e,signature:r,message:s,primaryType:n,types:i,domain:a,...o}){return Wo(t,{address:e,hash:Yo({message:s,primaryType:n,types:i,domain:a}),signature:r,...o})}(t,e),uninstallFilter:t=>Po(0,t),waitForTransactionReceipt:e=>async function(t,{confirmations:e=1,hash:r,onReplaced:s,pollingInterval:n=t.pollingInterval,timeout:i}){const a=(0,Xi.P)(["waitForTransactionReceipt",t.uid,r]);let o,l,c,h=!1;return new Promise(((u,d)=>{i&&setTimeout((()=>d(new Ii.mc({hash:r}))),i);const p=il(a,{onReplaced:s,resolve:u,reject:d},(s=>{const i=Di(t,ol,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:n,async onBlockNumber(n){if(h)return;let a=n;const u=t=>{i(),t(),p()};try{if(c){if(e>1&&(!c.blockNumber||a-c.blockNumber+1n<e))return;return void u((()=>s.resolve(c)))}if(o||(h=!0,await ha((async()=>{o=await Di(t,Eo,"getTransaction")({hash:r}),o.blockNumber&&(a=o.blockNumber)}),{delay:({count:t})=>200*~~(1<<t),retryCount:6}),h=!1),c=await Di(t,xo,"getTransactionReceipt")({hash:r}),e>1&&(!c.blockNumber||a-c.blockNumber+1n<e))return;u((()=>s.resolve(c)))}catch(r){if(o&&(r instanceof Ii.Bh||r instanceof Ii.Yb))try{l=o,h=!0;const r=await ha((()=>Di(t,Ui,"getBlock")({blockNumber:a,includeTransactions:!0})),{delay:({count:t})=>200*~~(1<<t),retryCount:6,shouldRetry:({error:t})=>t instanceof Li});h=!1;const n=r.transactions.find((({from:t,nonce:e})=>t===l.from&&e===l.nonce));if(!n)return;if(c=await Di(t,xo,"getTransactionReceipt")({hash:n.hash}),e>1&&(!c.blockNumber||a-c.blockNumber+1n<e))return;let i="replaced";n.to===l.to&&n.value===l.value?i="repriced":n.from===n.to&&0n===n.value&&(i="cancelled"),u((()=>{s.onReplaced?.({reason:i,replacedTransaction:l,transaction:n,transactionReceipt:c}),s.resolve(c)}))}catch(t){u((()=>s.reject(t)))}else u((()=>s.reject(r)))}}})}))}))}(t,e),watchBlocks:e=>function(t,{blockTag:e="latest",emitMissed:r=!1,emitOnBegin:s=!1,onBlock:n,onError:i,includeTransactions:a,poll:o,pollingInterval:l=t.pollingInterval}){const c=void 0!==o?o:"webSocket"!==t.transport.type,h=a??!1;let u;return c?il((0,Xi.P)(["watchBlocks",t.uid,r,s,h,l]),{onBlock:n,onError:i},(n=>al((async()=>{try{const s=await Di(t,Ui,"getBlock")({blockTag:e,includeTransactions:h});if(s.number&&u?.number){if(s.number===u.number)return;if(s.number-u.number>1&&r)for(let e=u?.number+1n;e<s.number;e++){const r=await Di(t,Ui,"getBlock")({blockNumber:e,includeTransactions:h});n.onBlock(r,u),u=r}}(!u?.number||"pending"===e&&!s?.number||s.number&&s.number>u.number)&&(n.onBlock(s,u),u=s)}catch(t){n.onError?.(t)}}),{emitOnBegin:s,interval:l}))):(()=>{let e=!0,r=()=>e=!1;return(async()=>{try{const{unsubscribe:s}=await t.transport.subscribe({params:["newHeads"],onData(r){if(!e)return;const s=(t.chain?.formatters?.block?.format||pn)(r.result);n(s,u),u=s},onError(t){i?.(t)}});r=s,e||r()}catch(t){i?.(t)}})(),r})()}(t,e),watchBlockNumber:e=>ol(t,e),watchContractEvent:e=>function(t,{abi:e,address:r,args:s,batch:n=!0,eventName:i,onError:a,onLogs:o,poll:l,pollingInterval:c=t.pollingInterval,strict:h}){return(void 0!==l?l:"webSocket"!==t.transport.type)?(()=>{const l=(0,Xi.P)(["watchContractEvent",r,s,n,t.uid,i,c]),u=h??!1;return il(l,{onLogs:o,onError:a},(a=>{let o,l,h=!1;const d=al((async()=>{if(h)try{let c;if(l)c=await Di(t,Ao,"getFilterChanges")({filter:l});else{const n=await Di(t,po,"getBlockNumber")({});c=o&&o!==n?await Di(t,vo,"getContractEvents")({abi:e,address:r,args:s,eventName:i,fromBlock:o+1n,toBlock:n,strict:u}):[],o=n}if(0===c.length)return;if(n)a.onLogs(c);else for(const t of c)a.onLogs([t])}catch(t){l&&t instanceof Zn&&(h=!1),a.onError?.(t)}else{try{l=await Di(t,io,"createContractEventFilter")({abi:e,address:r,args:s,eventName:i,strict:u})}catch{}h=!0}}),{emitOnBegin:!0,interval:c});return async()=>{l&&await Di(t,Po,"uninstallFilter")({filter:l}),d()}}))})():(()=>{let n=!0,l=()=>n=!1;return(async()=>{try{const c=i?so({abi:e,eventName:i,args:s}):[],{unsubscribe:u}=await t.transport.subscribe({params:["logs",{address:r,topics:c}],onData(t){if(!n)return;const r=t.result;try{const{eventName:t,args:s}=go({abi:e,data:r.data,topics:r.topics,strict:h}),n=mn(r,{args:s,eventName:t});o([n])}catch(t){let e,s;if(t instanceof vi.SM||t instanceof vi.Gy){if(h)return;e=t.abiItem.name,s=t.abiItem.inputs?.some((t=>!("name"in t&&t.name)))}const n=mn(r,{args:s?[]:{},eventName:e});o([n])}},onError(t){a?.(t)}});l=u,n||l()}catch(t){a?.(t)}})(),l})()}(t,e),watchEvent:e=>function(t,{address:e,args:r,batch:s=!0,event:n,events:i,onError:a,onLogs:o,poll:l,pollingInterval:c=t.pollingInterval,strict:h}){const u=void 0!==l?l:"webSocket"!==t.transport.type,d=h??!1;return u?il((0,Xi.P)(["watchEvent",e,r,s,t.uid,n,c]),{onLogs:o,onError:a},(a=>{let o,l,h=!1;const u=al((async()=>{if(h)try{let c;if(l)c=await Di(t,Ao,"getFilterChanges")({filter:l});else{const s=await Di(t,po,"getBlockNumber")({});c=o&&o!==s?await Di(t,bo,"getLogs")({address:e,args:r,event:n,events:i,fromBlock:o+1n,toBlock:s}):[],o=s}if(0===c.length)return;if(s)a.onLogs(c);else for(const t of c)a.onLogs([t])}catch(t){l&&t instanceof Zn&&(h=!1),a.onError?.(t)}else{try{l=await Di(t,ao,"createEventFilter")({address:e,args:r,event:n,events:i,strict:d})}catch{}h=!0}}),{emitOnBegin:!0,interval:c});return async()=>{l&&await Di(t,Po,"uninstallFilter")({filter:l}),u()}})):(()=>{let s=!0,l=()=>s=!1;return(async()=>{try{const c=i??(n?[n]:void 0);let u=[];c&&(u=[c.flatMap((t=>so({abi:[t],eventName:t.name,args:r})))],n&&(u=u[0]));const{unsubscribe:p}=await t.transport.subscribe({params:["logs",{address:e,topics:u}],onData(t){if(!s)return;const e=t.result;try{const{eventName:t,args:r}=go({abi:c,data:e.data,topics:e.topics,strict:d}),s=mn(e,{args:r,eventName:t});o([s])}catch(t){let r,s;if(t instanceof vi.SM||t instanceof vi.Gy){if(h)return;r=t.abiItem.name,s=t.abiItem.inputs?.some((t=>!("name"in t&&t.name)))}const n=mn(e,{args:s?[]:{},eventName:r});o([n])}},onError(t){a?.(t)}});l=p,s||l()}catch(t){a?.(t)}})(),l})()}(t,e),watchPendingTransactions:e=>function(t,{batch:e=!0,onError:r,onTransactions:s,poll:n,pollingInterval:i=t.pollingInterval}){return(void 0!==n?n:"webSocket"!==t.transport.type)?il((0,Xi.P)(["watchPendingTransactions",t.uid,e,i]),{onTransactions:s,onError:r},(r=>{let s;const n=al((async()=>{try{if(!s)try{return void(s=await Di(t,oo,"createPendingTransactionFilter")({}))}catch(t){throw n(),t}const i=await Di(t,Ao,"getFilterChanges")({filter:s});if(0===i.length)return;if(e)r.onTransactions(i);else for(const t of i)r.onTransactions([t])}catch(t){r.onError?.(t)}}),{emitOnBegin:!0,interval:i});return async()=>{s&&await Di(t,Po,"uninstallFilter")({filter:s}),n()}})):(()=>{let e=!0,n=()=>e=!1;return(async()=>{try{const{unsubscribe:i}=await t.transport.subscribe({params:["newPendingTransactions"],onData(t){if(!e)return;const r=t.result;s([r])},onError(t){r?.(t)}});n=i,e||n()}catch(t){r?.(t)}})(),n})()}(t,e)}}function cl(t){const{key:e="public",name:r="Public Client"}=t;return gi({...t,key:e,name:r,type:"publicClient"}).extend(ll)}function hl(t,e={}){const{key:r="fallback",name:s="Fallback",rank:n=!1,retryCount:i,retryDelay:a}=e;return({chain:e,pollingInterval:o=4e3,timeout:l})=>{let c=t,h=()=>{};const u=pa({key:r,name:s,async request({method:t,params:r}){const s=async(n=0)=>{const i=c[n]({chain:e,retryCount:0,timeout:l});try{const e=await i.request({method:t,params:r});return h({method:t,params:r,response:e,transport:i,status:"success"}),e}catch(e){if(h({error:e,method:t,params:r,transport:i,status:"error"}),ua(e))throw e;if(n===c.length-1)throw e;return s(n+1)}};return s()},retryCount:i,retryDelay:a,type:"fallback"},{onResponse:t=>h=t,transports:c.map((t=>t({chain:e,retryCount:0})))});if(n){const t="object"==typeof n?n:{};!function({chain:t,interval:e=4e3,onTransports:r,sampleCount:s=10,timeout:n=1e3,transports:i,weights:a={}}){const{stability:o=.7,latency:l=.3}=a,c=[],h=async()=>{const a=await Promise.all(i.map((async e=>{const r=e({chain:t,retryCount:0,timeout:n}),s=Date.now();let i,a;try{await r.request({method:"net_listening"}),a=1}catch{a=0}finally{i=Date.now()}return{latency:i-s,success:a}})));c.push(a),c.length>s&&c.shift();const u=Math.max(...c.map((t=>Math.max(...t.map((({latency:t})=>t)))))),d=i.map(((t,e)=>{const r=c.map((t=>t[e].latency)),s=1-r.reduce(((t,e)=>t+e),0)/r.length/u,n=c.map((t=>t[e].success)),i=n.reduce(((t,e)=>t+e),0)/n.length;return 0===i?[0,e]:[l*s+o*i,e]})).sort(((t,e)=>e[0]-t[0]));r(d.map((([,t])=>i[t]))),await ca(e),h()};h()}({chain:e,interval:t.interval??o,onTransports:t=>c=t,sampleCount:t.sampleCount,timeout:t.timeout,transports:c,weights:t.weights})}return u}}class ul extends Vn.G{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}var dl=r(2357);const pl=function(){if("undefined"!=typeof WebSocket)return WebSocket;if(void 0!==global.WebSocket)return global.WebSocket;if(void 0!==window.WebSocket)return window.WebSocket;if(void 0!==self.WebSocket)return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}();function fl(t,{errorInstance:e=new Error("timed out"),timeout:r,signal:s}){return new Promise(((n,i)=>{(async()=>{let a;try{const o=new AbortController;r>0&&(a=setTimeout((()=>{s?o.abort():i(e)}),r)),n(await t({signal:o?.signal}))}catch(t){"AbortError"===t.name&&i(e),i(t)}finally{clearTimeout(a)}})()}))}let ml=0;const gl=new Map;async function yl(t){let e=gl.get(t);if(e)return e;const{schedule:r}=(0,dl.S)({id:t,fn:async()=>{const r=new pl(t),s=new Map,n=new Map,i=({data:t})=>{const e=JSON.parse(t),r="eth_subscription"===e.method,i=r?e.params.subscription:e.id,a=r?n:s,o=a.get(i);o&&o({data:t}),r||a.delete(i)},a=()=>{gl.delete(t),r.removeEventListener("close",a),r.removeEventListener("message",i)};return r.addEventListener("close",a),r.addEventListener("message",i),r.readyState===pl.CONNECTING&&await new Promise(((t,e)=>{r&&(r.onopen=t,r.onerror=e)})),e=Object.assign(r,{requests:s,subscriptions:n}),gl.set(t,e),[e]}}),[s,[n]]=await r();return n}const bl={http:async function(t,{body:e,fetchOptions:r={},timeout:s=1e4}){const{headers:n,method:i,signal:a}=r;try{const o=await fl((async({signal:o})=>await fetch(t,{...r,body:Array.isArray(e)?(0,Xi.P)(e.map((t=>({jsonrpc:"2.0",id:t.id??ml++,...t})))):(0,Xi.P)({jsonrpc:"2.0",id:e.id??ml++,...e}),headers:{...n,"Content-Type":"application/json"},method:i||"POST",signal:a||(s>0?o:void 0)})),{errorInstance:new zn.W5({body:e,url:t}),timeout:s,signal:!0});let l;if(l=o.headers.get("Content-Type")?.startsWith("application/json")?await o.json():await o.text(),!o.ok)throw new zn.Gg({body:e,details:(0,Xi.P)(l.error)||o.statusText,headers:o.headers,status:o.status,url:t});return l}catch(r){if(r instanceof zn.Gg)throw r;if(r instanceof zn.W5)throw r;throw new zn.Gg({body:e,details:r.message,url:t})}},webSocket:function(t,{body:e,onResponse:r}){if(t.readyState===t.CLOSED||t.readyState===t.CLOSING)throw new zn.c9({body:e,url:t.url,details:"Socket is closed."});const s=ml++,n=({data:i})=>{const a=JSON.parse(i);"number"==typeof a.id&&s!==a.id||(r?.(a),"eth_subscribe"===e.method&&"string"==typeof a.result&&t.subscriptions.set(a.result,n),"eth_unsubscribe"===e.method&&t.subscriptions.delete(e.params?.[0]))};return t.requests.set(s,n),t.send(JSON.stringify({jsonrpc:"2.0",...e,id:s})),t},webSocketAsync:async function(t,{body:e,timeout:r=1e4}){return fl((()=>new Promise((r=>bl.webSocket(t,{body:e,onResponse:r})))),{errorInstance:new zn.W5({body:e,url:t.url}),timeout:r})}};var vl=r(4192);const wl=t=>(e,r,s)=>{const n=s.subscribe;s.subscribe=(t,e,r)=>{let i=t;if(e){const n=(null==r?void 0:r.equalityFn)||Object.is;let a=t(s.getState());i=r=>{const s=t(r);if(!n(a,s)){const t=a;e(a=s,t)}},(null==r?void 0:r.fireImmediately)&&e(a,a)}return n(i)};return t(e,r,s)};function Al(t,e){let r;try{r=t()}catch(t){return}return{getItem:t=>{var s;const n=t=>null===t?null:JSON.parse(t,null==e?void 0:e.reviver),i=null!=(s=r.getItem(t))?s:null;return i instanceof Promise?i.then(n):n(i)},setItem:(t,s)=>r.setItem(t,JSON.stringify(s,null==e?void 0:e.replacer)),removeItem:t=>r.removeItem(t)}}const kl=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then:t=>kl(t)(r),catch(t){return this}}}catch(t){return{then(t){return this},catch:e=>kl(e)(t)}}},El=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?(console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),((t,e)=>(r,s,n)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:t=>t,version:0,merge:(t,e)=>({...e,...t}),...e},a=!1;const o=new Set,l=new Set;let c;try{c=i.getStorage()}catch(t){}if(!c)return t(((...t)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...t)}),s,n);const h=kl(i.serialize),u=()=>{const t=i.partialize({...s()});let e;const r=h({state:t,version:i.version}).then((t=>c.setItem(i.name,t))).catch((t=>{e=t}));if(e)throw e;return r},d=n.setState;n.setState=(t,e)=>{d(t,e),u()};const p=t(((...t)=>{r(...t),u()}),s,n);let f;const m=()=>{var t;if(!c)return;a=!1,o.forEach((t=>t(s())));const e=(null==(t=i.onRehydrateStorage)?void 0:t.call(i,s()))||void 0;return kl(c.getItem.bind(c))(i.name).then((t=>{if(t)return i.deserialize(t)})).then((t=>{if(t){if("number"!=typeof t.version||t.version===i.version)return t.state;if(i.migrate)return i.migrate(t.state,t.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}})).then((t=>{var e;return f=i.merge(t,null!=(e=s())?e:p),r(f,!0),u()})).then((()=>{null==e||e(f,void 0),a=!0,l.forEach((t=>t(f)))})).catch((t=>{null==e||e(void 0,t)}))};return n.persist={setOptions:t=>{i={...i,...t},t.getStorage&&(c=t.getStorage())},clearStorage:()=>{null==c||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>m(),hasHydrated:()=>a,onHydrate:t=>(o.add(t),()=>{o.delete(t)}),onFinishHydration:t=>(l.add(t),()=>{l.delete(t)})},m(),f||p})(t,e)):((t,e)=>(r,s,n)=>{let i={storage:Al((()=>localStorage)),partialize:t=>t,version:0,merge:(t,e)=>({...e,...t}),...e},a=!1;const o=new Set,l=new Set;let c=i.storage;if(!c)return t(((...t)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...t)}),s,n);const h=()=>{const t=i.partialize({...s()});return c.setItem(i.name,{state:t,version:i.version})},u=n.setState;n.setState=(t,e)=>{u(t,e),h()};const d=t(((...t)=>{r(...t),h()}),s,n);let p;const f=()=>{var t,e;if(!c)return;a=!1,o.forEach((t=>{var e;return t(null!=(e=s())?e:d)}));const n=(null==(e=i.onRehydrateStorage)?void 0:e.call(i,null!=(t=s())?t:d))||void 0;return kl(c.getItem.bind(c))(i.name).then((t=>{if(t){if("number"!=typeof t.version||t.version===i.version)return t.state;if(i.migrate)return i.migrate(t.state,t.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}})).then((t=>{var e;return p=i.merge(t,null!=(e=s())?e:d),r(p,!0),h()})).then((()=>{null==n||n(p,void 0),p=s(),a=!0,l.forEach((t=>t(p)))})).catch((t=>{null==n||n(void 0,t)}))};return n.persist={setOptions:t=>{i={...i,...t},t.storage&&(c=t.storage)},clearStorage:()=>{null==c||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>f(),hasHydrated:()=>a,onHydrate:t=>(o.add(t),()=>{o.delete(t)}),onFinishHydration:t=>(l.add(t),()=>{l.delete(t)})},i.skipHydration||f(),p||d})(t,e),xl=t=>{let e;const r=new Set,s=(t,s)=>{const n="function"==typeof t?t(e):t;if(!Object.is(n,e)){const t=e;e=(null!=s?s:"object"!=typeof n||null===n)?n:Object.assign({},e,n),r.forEach((r=>r(e,t)))}},n=()=>e,i={setState:s,getState:n,subscribe:t=>(r.add(t),()=>r.delete(t)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}};return e=t(s,n,i),i},Pl=t=>t?xl(t):xl;var Cl=r(5229);function Sl(t,e){if(Object.is(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,s]of t)if(!Object.is(s,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!1;for(let s=0;s<r.length;s++)if(!Object.prototype.hasOwnProperty.call(e,r[s])||!Object.is(t[r[s]],e[r[s]]))return!1;return!0}function Il(t,e,{batch:r={multicall:{wait:32}},pollingInterval:s=4e3,rank:n,retryCount:i,retryDelay:a,stallTimeout:o}={}){if(!t.length)throw new Error("must have at least one chain");let l=[];const c={},h={};for(const r of t){let t=!1;for(const s of e){const e=s(r);e&&(t=!0,l.some((({id:t})=>t===r.id))||(l=[...l,e.chain]),c[r.id]=[...c[r.id]||[],...e.rpcUrls.http],e.rpcUrls.webSocket&&(h[r.id]=[...h[r.id]||[],...e.rpcUrls.webSocket]))}if(!t)throw new Error([`Could not find valid provider configuration for chain "${r.name}".\n`,"You may need to add `jsonRpcProvider` to `configureChains` with the chain's RPC URLs.","Read more: https://wagmi.sh/core/providers/jsonRpc"].join("\n"))}return{chains:l,publicClient:({chainId:e})=>{const h=l.find((t=>t.id===e))??t[0],u=c[h.id];if(!u||!u[0])throw new Error(`No providers configured for chain "${h.id}"`);const d=cl({batch:r,chain:h,transport:hl(u.map((t=>function(t,e={}){const{batch:r,fetchOptions:s,key:n="http",name:i="HTTP JSON-RPC",retryDelay:a}=e;return({chain:o,retryCount:l,timeout:c})=>{const{batchSize:h=1e3,wait:u=0}="object"==typeof r?r:{},d=e.retryCount??l,p=c??e.timeout??1e4,f=t||o?.rpcUrls.default.http[0];if(!f)throw new ul;return pa({key:n,name:i,async request({method:e,params:n}){const i={method:e,params:n},{schedule:a}=(0,dl.S)({id:`${t}`,wait:u,shouldSplitBatch:t=>t.length>h,fn:t=>bl.http(f,{body:t,fetchOptions:s,timeout:p}),sort:(t,e)=>t.id-e.id}),[{error:o,result:l}]=await(async t=>r?a(t):[await bl.http(f,{body:t,fetchOptions:s,timeout:p})])(i);if(o)throw new zn.bs({body:i,error:o,url:f});return l},retryCount:d,retryDelay:a,timeout:p,type:"http"},{fetchOptions:s,url:t})}}(t,{timeout:o}))),{rank:n,retryCount:i,retryDelay:a}),pollingInterval:s});return Object.assign(d,{chains:l})},webSocketPublicClient:({chainId:e})=>{const c=l.find((t=>t.id===e))??t[0],u=h[c.id];if(!u||!u[0])return;const d=cl({batch:r,chain:c,transport:hl(u.map((t=>function(t,e={}){const{key:r="webSocket",name:s="WebSocket JSON-RPC",retryDelay:n}=e;return({chain:i,retryCount:a,timeout:o})=>{const l=e.retryCount??a,c=o??e.timeout??1e4,h=t||i?.rpcUrls.default.webSocket?.[0];if(!h)throw new ul;return pa({key:r,name:s,async request({method:t,params:e}){const r={method:t,params:e},s=await yl(h),{error:n,result:i}=await bl.webSocketAsync(s,{body:r,timeout:c});if(n)throw new zn.bs({body:r,error:n,url:h});return i},retryCount:l,retryDelay:n,timeout:c,type:"webSocket"},{getSocket:()=>yl(h),async subscribe({params:t,onData:e,onError:r}){const s=await yl(h),{result:n}=await new Promise(((n,i)=>bl.webSocket(s,{body:{method:"eth_subscribe",params:t},onResponse(t){if(t.error)return i(t.error),void r?.(t.error);"number"!=typeof t.id?"eth_subscription"===t.method&&e(t.params):n(t)}})));return{subscriptionId:n,unsubscribe:async()=>new Promise((t=>bl.webSocket(s,{body:{method:"eth_unsubscribe",params:[n]},onResponse:t})))}}})}}(t,{timeout:o}))),{rank:n,retryCount:i,retryDelay:a}),pollingInterval:s});return Object.assign(d,{chains:l})}}}var _l=class extends Error{constructor({chainId:t,connectorId:e}){super(`Chain "${t}" not configured${e?` for connector "${e}"`:""}.`),this.name="ChainNotConfigured"}},Tl=class extends Error{constructor(){super(...arguments),this.name="ConnectorAlreadyConnectedError",this.message="Connector already connected"}},Ml=class extends Error{constructor(){super(...arguments),this.name="ConfigChainsNotFound",this.message="No chains were found on the wagmi config. Some functions that require a chain may not work."}},Dl=class extends Error{constructor({connector:t}){super(`"${t.name}" does not support programmatic chain switching.`),this.name="SwitchChainNotSupportedError"}};var Bl=(t,{find:e,replace:r})=>t&&e(t)?r(t):"object"!=typeof t?t:Array.isArray(t)?t.map((t=>Bl(t,{find:e,replace:r}))):t instanceof Object?Object.entries(t).reduce(((t,[s,n])=>({...t,[s]:Bl(n,{find:e,replace:r})})),{}):t;function Fl(t){const e=JSON.parse(t),r=Bl(e,{find:t=>"string"==typeof t&&t.startsWith("#bigint."),replace:t=>BigInt(t.replace("#bigint.",""))});return r}function Ol(t){return"number"==typeof t?t:"wei"===t?0:Math.abs(vl.Bd[t])}function Nl(t,e){return t.slice(0,e).join(".")||"."}function Rl(t,e){const{length:r}=t;for(let s=0;s<r;++s)if(t[s]===e)return s+1;return 0}function Ll(t,e,r,s){return JSON.stringify(t,function(t,e){const r="function"==typeof t,s="function"==typeof e,n=[],i=[];return function(a,o){if("object"==typeof o)if(n.length){const t=Rl(n,this);0===t?n[n.length]=this:(n.splice(t),i.splice(t)),i[i.length]=a;const r=Rl(n,o);if(0!==r)return s?e.call(this,a,o,Nl(i,r)):`[ref=${Nl(i,r)}]`}else n[0]=o,i[0]=a;return r?t.call(this,a,o):o}}(((t,r)=>{const s="bigint"==typeof r?`#bigint.${r.toString()}`:r;return e?.(t,s)||s}),s),r??void 0)}var Ul={getItem:t=>"",setItem:(t,e)=>null,removeItem:t=>null};function jl({deserialize:t=Fl,key:e="wagmi",serialize:r=Ll,storage:s}){return{...s,getItem:(r,n=null)=>{const i=s.getItem(`${e}.${r}`);try{return i?t(i):n}catch(t){return console.warn(t),n}},setItem:(t,n)=>{if(null===n)s.removeItem(`${e}.${t}`);else try{s.setItem(`${e}.${t}`,r(n))}catch(t){console.error(t)}},removeItem:t=>s.removeItem(`${e}.${t}`)}}var Gl,Vl,zl,Ql,Hl,ql="store",Kl=class{constructor({autoConnect:t=!1,connectors:e=[new ga],publicClient:r,storage:s=jl({storage:"undefined"!=typeof window?window.localStorage:Ul}),logger:n={warn:console.warn},webSocketPublicClient:i}){va(this,zl),this.publicClients=new Map,this.webSocketPublicClients=new Map,va(this,Gl,void 0),va(this,Vl,void 0),this.args={autoConnect:t,connectors:e,logger:n,publicClient:r,storage:s,webSocketPublicClient:i};let a,o="disconnected";if(t)try{const t=s.getItem(ql),e=t?.state?.data;o=e?.account?"reconnecting":"connecting",a=e?.chain?.id}catch(t){}const l="function"==typeof e?e():e;var c,h,u;l.forEach((t=>t.setStorage(s))),this.store=Pl(wl(El((()=>({connectors:l,publicClient:this.getPublicClient({chainId:a}),status:o,webSocketPublicClient:this.getWebSocketPublicClient({chainId:a})})),{name:ql,storage:s,partialize:e=>({...t&&{data:{account:e?.data?.account,chain:e?.data?.chain}},chains:e?.chains}),version:2}))),this.storage=s,wa(this,Vl,s?.getItem("wallet")),(c=this,h=zl,u=Ql,ya(c,h,"access private method"),u).call(this),t&&"undefined"!=typeof window&&setTimeout((async()=>await this.autoConnect()),0)}get chains(){return this.store.getState().chains}get connectors(){return this.store.getState().connectors}get connector(){return this.store.getState().connector}get data(){return this.store.getState().data}get error(){return this.store.getState().error}get lastUsedChainId(){return this.data?.chain?.id}get publicClient(){return this.store.getState().publicClient}get status(){return this.store.getState().status}get subscribe(){return this.store.subscribe}get webSocketPublicClient(){return this.store.getState().webSocketPublicClient}setState(t){const e="function"==typeof t?t(this.store.getState()):t;this.store.setState(e,!0)}clearState(){this.setState((t=>({...t,chains:void 0,connector:void 0,data:void 0,error:void 0,status:"disconnected"})))}async destroy(){this.connector&&await(this.connector.disconnect?.()),wa(this,Gl,!1),this.clearState(),this.store.destroy()}async autoConnect(){if(ba(this,Gl))return;wa(this,Gl,!0),this.setState((t=>({...t,status:t.data?.account?"reconnecting":"connecting"})));const t=ba(this,Vl)?[...this.connectors].sort((t=>t.id===ba(this,Vl)?-1:1)):this.connectors;let e=!1;for(const r of t){if(!r.ready||!r.isAuthorized)continue;if(!await r.isAuthorized())continue;const t=await r.connect();this.setState((e=>({...e,connector:r,chains:r?.chains,data:t,status:"connected"}))),e=!0;break}return e||this.setState((t=>({...t,data:void 0,status:"disconnected"}))),wa(this,Gl,!1),this.data}setConnectors(t){this.args={...this.args,connectors:t};const e="function"==typeof t?t():t;e.forEach((t=>t.setStorage(this.args.storage))),this.setState((t=>({...t,connectors:e})))}getPublicClient({chainId:t}={}){let e=this.publicClients.get(-1);if(e&&e?.chain.id===t)return e;if(e=this.publicClients.get(t??-1),e)return e;const{publicClient:r}=this.args;return e="function"==typeof r?r({chainId:t}):r,this.publicClients.set(t??-1,e),e}setPublicClient(t){const e=this.data?.chain?.id;this.args={...this.args,publicClient:t},this.publicClients.clear(),this.setState((t=>({...t,publicClient:this.getPublicClient({chainId:e})})))}getWebSocketPublicClient({chainId:t}={}){let e=this.webSocketPublicClients.get(-1);if(e&&e?.chain.id===t)return e;if(e=this.webSocketPublicClients.get(t??-1),e)return e;const{webSocketPublicClient:r}=this.args;return e="function"==typeof r?r({chainId:t}):r,e&&this.webSocketPublicClients.set(t??-1,e),e}setWebSocketPublicClient(t){const e=this.data?.chain?.id;this.args={...this.args,webSocketPublicClient:t},this.webSocketPublicClients.clear(),this.setState((t=>({...t,webSocketPublicClient:this.getWebSocketPublicClient({chainId:e})})))}setLastUsedConnector(t=null){this.storage?.setItem("wallet",t)}};function Wl(){if(!Hl)throw new Error("No wagmi config found. Ensure you have set up a config: https://wagmi.sh/react/config");return Hl}async function Jl({chainId:t,connector:e}){const r=Wl(),s=r.connector;if(s&&e.id===s.id)throw new Tl;try{r.setState((t=>({...t,status:"connecting"})));const s=await e.connect({chainId:t});return r.setLastUsedConnector(e.id),r.setState((t=>({...t,connector:e,chains:e?.chains,data:s,status:"connected"}))),r.storage.setItem("connected",!0),{...s,connector:e}}catch(t){throw r.setState((t=>({...t,status:t.connector?"connected":"disconnected"}))),t}}async function Yl(){const t=Wl();t.connector&&await t.connector.disconnect(),t.clearState(),t.storage.removeItem("connected")}Gl=new WeakMap,Vl=new WeakMap,zl=new WeakSet,Ql=function(){const t=t=>{this.setState((e=>({...e,data:{...e.data,...t}})))},e=()=>{this.clearState()},r=t=>{this.setState((e=>({...e,error:t})))};this.store.subscribe((({connector:t})=>t),((s,n)=>{n?.off?.("change",t),n?.off?.("disconnect",e),n?.off?.("error",r),s&&(s.on?.("change",t),s.on?.("disconnect",e),s.on?.("error",r))}));const{publicClient:s,webSocketPublicClient:n}=this.args;("function"==typeof s||"function"==typeof n)&&this.store.subscribe((({data:t})=>t?.chain?.id),(t=>{this.setState((e=>({...e,publicClient:this.getPublicClient({chainId:t}),webSocketPublicClient:this.getWebSocketPublicClient({chainId:t})})))}))};var Zl=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{name:"",type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{name:"",type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],Xl=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{name:"",type:"bytes32"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{name:"",type:"bytes32"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}];function $l({chainId:t}={}){const e=Wl();return t&&e.getPublicClient({chainId:t})||e.publicClient}async function tc({chainId:t}={}){const e=Wl();return await(e.connector?.getWalletClient?.({chainId:t}))||null}async function ec({chainId:t,contracts:e,blockNumber:r,blockTag:s,...n}){const i=$l({chainId:t});if(!i.chains)throw new Ml;if(t&&i.chain.id!==t)throw new _l({chainId:t});return i.multicall({allowFailure:n.allowFailure??!0,blockNumber:r,blockTag:s,contracts:e})}async function rc({address:t,account:e,chainId:r,abi:s,args:n,functionName:i,blockNumber:a,blockTag:o}){return $l({chainId:r}).readContract({abi:s,address:t,account:e,functionName:i,args:n,blockNumber:a,blockTag:o})}async function sc({contracts:t,blockNumber:e,blockTag:r,...s}){const{allowFailure:n=!0}=s;try{const s=$l(),i=t.reduce(((t,e,r)=>{const n=e.chainId??s.chain.id;return{...t,[n]:[...t[n]||[],{contract:e,index:r}]}}),{}),a=()=>Object.entries(i).map((([t,s])=>ec({allowFailure:n,chainId:parseInt(t),contracts:s.map((({contract:t})=>t)),blockNumber:e,blockTag:r}))),o=(await Promise.all(a())).flat(),l=Object.values(i).flatMap((t=>t.map((({index:t})=>t))));return o.reduce(((t,e,r)=>(t&&(t[l[r]]=e),t)),[])}catch(s){if(s instanceof Ca.uq)throw s;const i=()=>t.map((t=>rc({...t,blockNumber:e,blockTag:r})));return n?(await Promise.allSettled(i())).map((t=>"fulfilled"===t.status?{result:t.value,status:"success"}:{error:t.reason,result:void 0,status:"failure"})):await Promise.all(i())}}async function nc({address:t,chainId:e,formatUnits:r,token:s}){const n=Wl(),i=$l({chainId:e});if(s){const n=async({abi:n})=>{const i={abi:n,address:s,chainId:e},[a,o,l]=await sc({allowFailure:!1,contracts:[{...i,functionName:"balanceOf",args:[t]},{...i,functionName:"decimals"},{...i,functionName:"symbol"}]});return{decimals:o,formatted:(0,Cl.b)(a??"0",Ol(r??o)),symbol:l,value:a}};try{return await n({abi:Zl})}catch(t){if(t instanceof Ca.uq){const{symbol:t,...e}=await n({abi:Xl});return{symbol:(0,ln.rR)((0,xa.f)(t,{dir:"right"})),...e}}throw t}}const a=[...n.publicClient.chains||[],...n.chains??[]],o=await i.getBalance({address:t}),l=a.find((t=>t.id===i.chain.id));return{decimals:l?.nativeCurrency.decimals??18,formatted:(0,Cl.b)(o??"0",Ol(r??18)),symbol:l?.nativeCurrency.symbol??"ETH",value:o}}function ic(){const{data:t,connector:e,status:r}=Wl();switch(r){case"connected":return{address:t?.account,connector:e,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:r};case"reconnecting":return{address:t?.account,connector:e,isConnected:!!t?.account,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:r};case"connecting":return{address:t?.account,connector:e,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:r};case"disconnected":return{address:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:r}}}function ac(){const t=Wl(),e=t.data?.chain?.id,r=t.chains??[],s=[...t.publicClient?.chains||[],...r].find((t=>t.id===e))??{id:e,name:`Chain ${e}`,network:`${e}`,nativeCurrency:{name:"Ether",decimals:18,symbol:"ETH"},rpcUrls:{default:{http:[""]},public:{http:[""]}}};return{chain:e?{...s,...t.data?.chain,id:e}:void 0,chains:r}}async function oc({chainId:t}){const{connector:e}=Wl();if(!e)throw new Dn;if(!e.switchChain)throw new Dl({connector:e});return e.switchChain(t)}function lc(t,{selector:e=(t=>t)}={}){const r=Wl().subscribe((({data:t,connector:r,status:s})=>e({address:t?.account,connector:r,status:s})),(()=>t(ic())),{equalityFn:Sl});return r}function cc(t,{selector:e=(t=>t)}={}){const r=Wl().subscribe((({data:t,chains:r})=>e({chainId:t?.chain?.id,chains:r})),(()=>t(ac())),{equalityFn:Sl});return r}async function hc({name:t,chainId:e}){const{normalize:s}=await r.e(510).then(r.bind(r,5510)),n=$l({chainId:e});return await n.getEnsAvatar({name:s(t)})}async function uc({address:t,chainId:e}){return $l({chainId:e}).getEnsName({address:(0,Gn.K)(t)})}const dc=32,pc=new Uint8Array(dc),fc=["then"],mc={};function gc(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw r.error=e,r}class yc extends Array{#c;constructor(...t){const e=t[0];let r=t[1],s=(t[2]||[]).slice(),n=!0;e!==mc&&(r=t,s=[],n=!1),super(r.length),r.forEach(((t,e)=>{this[e]=t}));const i=s.reduce(((t,e)=>("string"==typeof e&&t.set(e,(t.get(e)||0)+1),t)),new Map);if(this.#c=Object.freeze(r.map(((t,e)=>{const r=s[e];return null!=r&&1===i.get(r)?r:null}))),n)return Object.freeze(this),new Proxy(this,{get:(t,e,r)=>{if("string"==typeof e){if(e.match(/^[0-9]+$/)){const r=Gs(e,"%index");if(r<0||r>=this.length)throw new RangeError("out of result range");const s=t[r];return s instanceof Error&&gc(`index ${r}`,s),s}if(fc.indexOf(e)>=0)return Reflect.get(t,e,r);const s=t[e];if(s instanceof Function)return function(...e){return s.apply(this===r?t:this,e)};if(!(e in t))return t.getValue.apply(this===r?t:this,[e])}return Reflect.get(t,e,r)}})}toArray(){const t=[];return this.forEach(((e,r)=>{e instanceof Error&&gc(`index ${r}`,e),t.push(e)})),t}toObject(){return this.#c.reduce(((t,e,r)=>(ms(null!=e,"value at index ${ index } unnamed","UNSUPPORTED_OPERATION",{operation:"toObject()"}),e in t||(t[e]=this.getValue(e)),t)),{})}slice(t,e){null==t&&(t=0),t<0&&(t+=this.length)<0&&(t=0),null==e&&(e=this.length),e<0&&(e+=this.length)<0&&(e=0),e>this.length&&(e=this.length);const r=[],s=[];for(let n=t;n<e;n++)r.push(this[n]),s.push(this.#c[n]);return new yc(mc,r,s)}filter(t,e){const r=[],s=[];for(let n=0;n<this.length;n++){const i=this[n];i instanceof Error&&gc(`index ${n}`,i),t.call(e,i,n,this)&&(r.push(i),s.push(this.#c[n]))}return new yc(mc,r,s)}map(t,e){const r=[];for(let s=0;s<this.length;s++){const n=this[s];n instanceof Error&&gc(`index ${s}`,n),r.push(t.call(e,n,s,this))}return r}getValue(t){const e=this.#c.indexOf(t);if(-1===e)return;const r=this[e];return r instanceof Error&&gc(`property ${JSON.stringify(t)}`,r.error),r}static fromItems(t,e){return new yc(mc,t,e)}}function bc(t){let e=zs(t);return ms(e.length<=dc,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:dc,offset:e.length}),e.length!==dc&&(e=ks(Cs([pc.slice(e.length%dc),e]))),e}class vc{name;type;localName;dynamic;constructor(t,e,r,s){hs(this,{name:t,type:e,localName:r,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(t,e){gs(!1,t,this.localName,e)}}class wc{#h;#u;constructor(){this.#h=[],this.#u=0}get data(){return Cs(this.#h)}get length(){return this.#u}#d(t){return this.#h.push(t),this.#u+=t.length,t.length}appendWriter(t){return this.#d(ks(t.data))}writeBytes(t){let e=ks(t);const r=e.length%dc;return r&&(e=ks(Cs([e,pc.slice(r)]))),this.#d(e)}writeValue(t){return this.#d(bc(t))}writeUpdatableValue(){const t=this.#h.length;return this.#h.push(pc),this.#u+=dc,e=>{this.#h[t]=bc(e)}}}class Ac{allowLoose;#h;#p;constructor(t,e){hs(this,{allowLoose:!!e}),this.#h=ks(t),this.#p=0}get data(){return Ps(this.#h)}get dataLength(){return this.#h.length}get consumed(){return this.#p}get bytes(){return new Uint8Array(this.#h)}#f(t,e,r){let s=Math.ceil(e/dc)*dc;return this.#p+s>this.#h.length&&(this.allowLoose&&r&&this.#p+e<=this.#h.length?s=e:ms(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:ks(this.#h),length:this.#h.length,offset:this.#p+s})),this.#h.slice(this.#p,this.#p+s)}subReader(t){return new Ac(this.#h.slice(this.#p+t),this.allowLoose)}readBytes(t,e){let r=this.#f(0,t,!!e);return this.#p+=r.length,r.slice(0,t)}readValue(){return js(this.readBytes(dc))}readIndex(){return Gs(js(this.readBytes(dc)))}}var kc=r(1171);let Ec=!1;const xc=function(t){return(0,kc.fr)(t)};let Pc=xc;function Cc(t){const e=As(t,"data");return Ps(Pc(e))}Cc._=xc,Cc.lock=function(){Ec=!0},Cc.register=function(t){if(Ec)throw new TypeError("keccak256 is locked");Pc=t},Object.freeze(Cc);const Sc=BigInt(0),Ic=BigInt(36);function _c(t){const e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let t=0;t<40;t++)r[t]=e[t].charCodeAt(0);const s=As(Cc(r));for(let t=0;t<40;t+=2)s[t>>1]>>4>=8&&(e[t]=e[t].toUpperCase()),(15&s[t>>1])>=8&&(e[t+1]=e[t+1].toUpperCase());return"0x"+e.join("")}const Tc={};for(let t=0;t<10;t++)Tc[String(t)]=String(t);for(let t=0;t<26;t++)Tc[String.fromCharCode(65+t)]=String(10+t);const Mc=15;function Dc(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((t=>Tc[t])).join("");for(;e.length>=Mc;){let t=e.substring(0,Mc);e=parseInt(t,10)%97+e.substring(t.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}const Bc=function(){const t={};for(let e=0;e<36;e++){t["0123456789abcdefghijklmnopqrstuvwxyz"[e]]=BigInt(e)}return t}();function Fc(t){if(gs("string"==typeof t,"invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=_c(t);return gs(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){gs(t.substring(2,4)===Dc(t),"bad icap checksum","address",t);let e=function(t){t=t.toLowerCase();let e=Sc;for(let r=0;r<t.length;r++)e=e*Ic+Bc[t[r]];return e}(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return _c("0x"+e)}gs(!1,"invalid address","address",t)}const Oc={};function Nc(t,e){let r=!1;return e<0&&(r=!0,e*=-1),new Uc(Oc,`${r?"":"u"}int${e}`,t,{signed:r,width:e})}function Rc(t,e){return new Uc(Oc,`bytes${e||""}`,t,{size:e})}const Lc=Symbol.for("_ethers_typed");class Uc{type;value;#m;_typedSymbol;constructor(t,e,r,s){null==s&&(s=null),vs(Oc,t,"Typed"),hs(this,{_typedSymbol:Lc,type:e,value:r}),this.#m=s,this.format()}format(){if("array"===this.type)throw new Error("");if("dynamicArray"===this.type)throw new Error("");return"tuple"===this.type?`tuple(${this.value.map((t=>t.format())).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return this.#m}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===this.#m?-1:!1===this.#m?this.value.length:null}static from(t,e){return new Uc(Oc,t,e)}static uint8(t){return Nc(t,8)}static uint16(t){return Nc(t,16)}static uint24(t){return Nc(t,24)}static uint32(t){return Nc(t,32)}static uint40(t){return Nc(t,40)}static uint48(t){return Nc(t,48)}static uint56(t){return Nc(t,56)}static uint64(t){return Nc(t,64)}static uint72(t){return Nc(t,72)}static uint80(t){return Nc(t,80)}static uint88(t){return Nc(t,88)}static uint96(t){return Nc(t,96)}static uint104(t){return Nc(t,104)}static uint112(t){return Nc(t,112)}static uint120(t){return Nc(t,120)}static uint128(t){return Nc(t,128)}static uint136(t){return Nc(t,136)}static uint144(t){return Nc(t,144)}static uint152(t){return Nc(t,152)}static uint160(t){return Nc(t,160)}static uint168(t){return Nc(t,168)}static uint176(t){return Nc(t,176)}static uint184(t){return Nc(t,184)}static uint192(t){return Nc(t,192)}static uint200(t){return Nc(t,200)}static uint208(t){return Nc(t,208)}static uint216(t){return Nc(t,216)}static uint224(t){return Nc(t,224)}static uint232(t){return Nc(t,232)}static uint240(t){return Nc(t,240)}static uint248(t){return Nc(t,248)}static uint256(t){return Nc(t,256)}static uint(t){return Nc(t,256)}static int8(t){return Nc(t,-8)}static int16(t){return Nc(t,-16)}static int24(t){return Nc(t,-24)}static int32(t){return Nc(t,-32)}static int40(t){return Nc(t,-40)}static int48(t){return Nc(t,-48)}static int56(t){return Nc(t,-56)}static int64(t){return Nc(t,-64)}static int72(t){return Nc(t,-72)}static int80(t){return Nc(t,-80)}static int88(t){return Nc(t,-88)}static int96(t){return Nc(t,-96)}static int104(t){return Nc(t,-104)}static int112(t){return Nc(t,-112)}static int120(t){return Nc(t,-120)}static int128(t){return Nc(t,-128)}static int136(t){return Nc(t,-136)}static int144(t){return Nc(t,-144)}static int152(t){return Nc(t,-152)}static int160(t){return Nc(t,-160)}static int168(t){return Nc(t,-168)}static int176(t){return Nc(t,-176)}static int184(t){return Nc(t,-184)}static int192(t){return Nc(t,-192)}static int200(t){return Nc(t,-200)}static int208(t){return Nc(t,-208)}static int216(t){return Nc(t,-216)}static int224(t){return Nc(t,-224)}static int232(t){return Nc(t,-232)}static int240(t){return Nc(t,-240)}static int248(t){return Nc(t,-248)}static int256(t){return Nc(t,-256)}static int(t){return Nc(t,-256)}static bytes1(t){return Rc(t,1)}static bytes2(t){return Rc(t,2)}static bytes3(t){return Rc(t,3)}static bytes4(t){return Rc(t,4)}static bytes5(t){return Rc(t,5)}static bytes6(t){return Rc(t,6)}static bytes7(t){return Rc(t,7)}static bytes8(t){return Rc(t,8)}static bytes9(t){return Rc(t,9)}static bytes10(t){return Rc(t,10)}static bytes11(t){return Rc(t,11)}static bytes12(t){return Rc(t,12)}static bytes13(t){return Rc(t,13)}static bytes14(t){return Rc(t,14)}static bytes15(t){return Rc(t,15)}static bytes16(t){return Rc(t,16)}static bytes17(t){return Rc(t,17)}static bytes18(t){return Rc(t,18)}static bytes19(t){return Rc(t,19)}static bytes20(t){return Rc(t,20)}static bytes21(t){return Rc(t,21)}static bytes22(t){return Rc(t,22)}static bytes23(t){return Rc(t,23)}static bytes24(t){return Rc(t,24)}static bytes25(t){return Rc(t,25)}static bytes26(t){return Rc(t,26)}static bytes27(t){return Rc(t,27)}static bytes28(t){return Rc(t,28)}static bytes29(t){return Rc(t,29)}static bytes30(t){return Rc(t,30)}static bytes31(t){return Rc(t,31)}static bytes32(t){return Rc(t,32)}static address(t){return new Uc(Oc,"address",t)}static bool(t){return new Uc(Oc,"bool",!!t)}static bytes(t){return new Uc(Oc,"bytes",t)}static string(t){return new Uc(Oc,"string",t)}static array(t,e){throw new Error("not implemented yet")}static tuple(t,e){throw new Error("not implemented yet")}static overrides(t){return new Uc(Oc,"overrides",Object.assign({},t))}static isTyped(t){return t&&"object"==typeof t&&"_typedSymbol"in t&&t._typedSymbol===Lc}static dereference(t,e){if(Uc.isTyped(t)){if(t.type!==e)throw new Error(`invalid type: expecetd ${e}, got ${t.type}`);return t.value}return t}}class jc extends vc{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,e){let r=Uc.dereference(e,"string");try{r=Fc(r)}catch(t){return this._throwError(t.message,e)}return t.writeValue(r)}decode(t){return Fc(Vs(t.readValue(),20))}}class Gc extends vc{coder;constructor(t){super(t.name,t.type,"_",t.dynamic),this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,e){return this.coder.encode(t,e)}decode(t){return this.coder.decode(t)}}function Vc(t,e,r){let s=[];if(Array.isArray(r))s=r;else if(r&&"object"==typeof r){let t={};s=e.map((e=>{const s=e.localName;return ms(s,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:e},value:r}),ms(!t[s],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:e},value:r}),t[s]=!0,r[s]}))}else gs(!1,"invalid tuple value","tuple",r);gs(e.length===s.length,"types/value length mismatch","tuple",r);let n=new wc,i=new wc,a=[];e.forEach(((t,e)=>{let r=s[e];if(t.dynamic){let e=i.length;t.encode(i,r);let s=n.writeUpdatableValue();a.push((t=>{s(t+e)}))}else t.encode(n,r)})),a.forEach((t=>{t(n.length)}));let o=t.appendWriter(n);return o+=t.appendWriter(i),o}function zc(t,e){let r=[],s=[],n=t.subReader(0);return e.forEach((e=>{let i=null;if(e.dynamic){let r=t.readIndex(),s=n.subReader(r);try{i=e.decode(s)}catch(t){if(ds(t,"BUFFER_OVERRUN"))throw t;i=t,i.baseType=e.name,i.name=e.localName,i.type=e.type}}else try{i=e.decode(t)}catch(t){if(ds(t,"BUFFER_OVERRUN"))throw t;i=t,i.baseType=e.name,i.name=e.localName,i.type=e.type}if(null==i)throw new Error("investigate");r.push(i),s.push(e.localName||null)})),yc.fromItems(r,s)}class Qc extends vc{coder;length;constructor(t,e,r){super("array",t.type+"["+(e>=0?e:"")+"]",r,-1===e||t.dynamic),hs(this,{coder:t,length:e})}defaultValue(){const t=this.coder.defaultValue(),e=[];for(let r=0;r<this.length;r++)e.push(t);return e}encode(t,e){const r=Uc.dereference(e,"array");Array.isArray(r)||this._throwError("expected array value",r);let s=this.length;-1===s&&(s=r.length,t.writeValue(r.length)),ys(r.length,s,"coder array"+(this.localName?" "+this.localName:""));let n=[];for(let t=0;t<r.length;t++)n.push(this.coder);return Vc(t,n,r)}decode(t){let e=this.length;-1===e&&(e=t.readIndex(),ms(e*dc<=t.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:t.bytes,offset:e*dc,length:t.dataLength}));let r=[];for(let t=0;t<e;t++)r.push(new Gc(this.coder));return zc(t,r)}}class Hc extends vc{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,e){const r=Uc.dereference(e,"bool");return t.writeValue(r?1:0)}decode(t){return!!t.readValue()}}class qc extends vc{constructor(t,e){super(t,t,e,!0)}defaultValue(){return"0x"}encode(t,e){e=ks(e);let r=t.writeValue(e.length);return r+=t.writeBytes(e),r}decode(t){return t.readBytes(t.readIndex(),!0)}}class Kc extends qc{constructor(t){super("bytes",t)}decode(t){return Ps(super.decode(t))}}class Wc extends vc{size;constructor(t,e){let r="bytes"+String(t);super(r,r,e,!1),hs(this,{size:t},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(t,e){let r=ks(Uc.dereference(e,this.type));return r.length!==this.size&&this._throwError("incorrect data length",e),t.writeBytes(r)}decode(t){return Ps(t.readBytes(this.size))}}const Jc=new Uint8Array([]);class Yc extends vc{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,e){return null!=e&&this._throwError("not null",e),t.writeBytes(Jc)}decode(t){return t.readBytes(0),null}}const Zc=BigInt(0),Xc=BigInt(1),$c=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class th extends vc{size;signed;constructor(t,e,r){const s=(e?"int":"uint")+8*t;super(s,s,r,!1),hs(this,{size:t,signed:e},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(t,e){let r=Rs(Uc.dereference(e,this.type)),s=Ns($c,256);if(this.signed){let t=Ns(s,8*this.size-1);(r>t||r<-(t+Xc))&&this._throwError("value out-of-bounds",e),r=Os(r,256)}else(r<Zc||r>Ns(s,8*this.size))&&this._throwError("value out-of-bounds",e);return t.writeValue(r)}decode(t){let e=Ns(t.readValue(),8*this.size);return this.signed&&(e=Fs(e,8*this.size)),e}}function eh(t,e,r,s,n){if("BAD_PREFIX"===t||"UNEXPECTED_CONTINUE"===t){let t=0;for(let s=e+1;s<r.length&&r[s]>>6==2;s++)t++;return t}return"OVERRUN"===t?r.length-e-1:0}const rh=Object.freeze({error:function(t,e,r,s,n){gs(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",r)},ignore:eh,replace:function(t,e,r,s,n){return"OVERLONG"===t?(gs("number"==typeof n,"invalid bad code point for replacement","badCodepoint",n),s.push(n),0):(s.push(65533),eh(t,e,r))}});function sh(t,e){null==e&&(e=rh.error);const r=As(t,"bytes"),s=[];let n=0;for(;n<r.length;){const t=r[n++];if(t>>7==0){s.push(t);continue}let i=null,a=null;if(192==(224&t))i=1,a=127;else if(224==(240&t))i=2,a=2047;else{if(240!=(248&t)){n+=e(128==(192&t)?"UNEXPECTED_CONTINUE":"BAD_PREFIX",n-1,r,s);continue}i=3,a=65535}if(n-1+i>=r.length){n+=e("OVERRUN",n-1,r,s);continue}let o=t&(1<<8-i-1)-1;for(let t=0;t<i;t++){let t=r[n];if(128!=(192&t)){n+=e("MISSING_CONTINUE",n,r,s),o=null;break}o=o<<6|63&t,n++}null!==o&&(o>1114111?n+=e("OUT_OF_RANGE",n-1-i,r,s,o):o>=55296&&o<=57343?n+=e("UTF16_SURROGATE",n-1-i,r,s,o):o<=a?n+=e("OVERLONG",n-1-i,r,s,o):s.push(o))}return s}function nh(t,e){null!=e&&(!function(t){ms(bs.indexOf(t)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:t}})}(e),t=t.normalize(e));let r=[];for(let e=0;e<t.length;e++){const s=t.charCodeAt(e);if(s<128)r.push(s);else if(s<2048)r.push(s>>6|192),r.push(63&s|128);else if(55296==(64512&s)){e++;const n=t.charCodeAt(e);gs(e<t.length&&56320==(64512&n),"invalid surrogate pair","str",t);const i=65536+((1023&s)<<10)+(1023&n);r.push(i>>18|240),r.push(i>>12&63|128),r.push(i>>6&63|128),r.push(63&i|128)}else r.push(s>>12|224),r.push(s>>6&63|128),r.push(63&s|128)}return new Uint8Array(r)}function ih(t,e){return sh(t,e).map((t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10&1023),56320+(1023&t))))).join("")}class ah extends qc{constructor(t){super("string",t)}defaultValue(){return""}encode(t,e){return super.encode(t,nh(Uc.dereference(e,"string")))}decode(t){return ih(super.decode(t))}}class oh extends vc{coders;constructor(t,e){let r=!1;const s=[];t.forEach((t=>{t.dynamic&&(r=!0),s.push(t.type)}));super("tuple","tuple("+s.join(",")+")",e,r),hs(this,{coders:Object.freeze(t.slice())})}defaultValue(){const t=[];this.coders.forEach((e=>{t.push(e.defaultValue())}));const e=this.coders.reduce(((t,e)=>{const r=e.localName;return r&&(t[r]||(t[r]=0),t[r]++),t}),{});return this.coders.forEach(((r,s)=>{let n=r.localName;n&&1===e[n]&&("length"===n&&(n="_length"),null==t[n]&&(t[n]=t[s]))})),Object.freeze(t)}encode(t,e){const r=Uc.dereference(e,"tuple");return Vc(t,this.coders,r)}decode(t){return zc(t,this.coders)}}function lh(t){return Cc(nh(t))}function ch(t){const e=new Set;return t.forEach((t=>e.add(t))),Object.freeze(e)}const hh=ch("external public payable".split(" ")),uh="constant external internal payable private public pure view",dh=ch(uh.split(" ")),ph="constructor error event fallback function receive struct",fh=ch(ph.split(" ")),mh="calldata memory storage payable indexed",gh=ch(mh.split(" ")),yh=ch([ph,mh,"tuple returns",uh].join(" ").split(" ")),bh={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},vh=new RegExp("^(\\s*)"),wh=new RegExp("^([0-9]+)"),Ah=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),kh=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),Eh=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class xh{#p;#g;get offset(){return this.#p}get length(){return this.#g.length-this.#p}constructor(t){this.#p=0,this.#g=t.slice()}clone(){return new xh(this.#g)}reset(){this.#p=0}#y(t=0,e=0){return new xh(this.#g.slice(t,e).map((e=>Object.freeze(Object.assign({},e,{match:e.match-t,linkBack:e.linkBack-t,linkNext:e.linkNext-t})))))}popKeyword(t){const e=this.peek();if("KEYWORD"!==e.type||!t.has(e.text))throw new Error(`expected keyword ${e.text}`);return this.pop().text}popType(t){if(this.peek().type!==t)throw new Error(`expected ${t}; got ${JSON.stringify(this.peek())}`);return this.pop().text}popParen(){const t=this.peek();if("OPEN_PAREN"!==t.type)throw new Error("bad start");const e=this.#y(this.#p+1,t.match+1);return this.#p=t.match+1,e}popParams(){const t=this.peek();if("OPEN_PAREN"!==t.type)throw new Error("bad start");const e=[];for(;this.#p<t.match-1;){const t=this.peek().linkNext;e.push(this.#y(this.#p+1,t)),this.#p=t}return this.#p=t.match+1,e}peek(){if(this.#p>=this.#g.length)throw new Error("out-of-bounds");return this.#g[this.#p]}peekKeyword(t){const e=this.peekType("KEYWORD");return null!=e&&t.has(e)?e:null}peekType(t){if(0===this.length)return null;const e=this.peek();return e.type===t?e.text:null}pop(){const t=this.peek();return this.#p++,t}toString(){const t=[];for(let e=this.#p;e<this.#g.length;e++){const r=this.#g[e];t.push(`${r.type}:${r.text}`)}return`<TokenString ${t.join(" ")}>`}}function Ph(t){const e=[],r=e=>{const r=i<t.length?JSON.stringify(t[i]):"$EOI";throw new Error(`invalid token ${r} at ${i}: ${e}`)};let s=[],n=[],i=0;for(;i<t.length;){let a=t.substring(i),o=a.match(vh);o&&(i+=o[1].length,a=t.substring(i));const l={depth:s.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};e.push(l);let c=bh[a[0]]||"";if(c){if(l.type=c,l.text=a[0],i++,"OPEN_PAREN"===c)s.push(e.length-1),n.push(e.length-1);else if("CLOSE_PAREN"==c)0===s.length&&r("no matching open bracket"),l.match=s.pop(),e[l.match].match=e.length-1,l.depth--,l.linkBack=n.pop(),e[l.linkBack].linkNext=e.length-1;else if("COMMA"===c)l.linkBack=n.pop(),e[l.linkBack].linkNext=e.length-1,n.push(e.length-1);else if("OPEN_BRACKET"===c)l.type="BRACKET";else if("CLOSE_BRACKET"===c){let t=e.pop().text;if(e.length>0&&"NUMBER"===e[e.length-1].type){const r=e.pop().text;t=r+t,e[e.length-1].value=Gs(r)}if(0===e.length||"BRACKET"!==e[e.length-1].type)throw new Error("missing opening bracket");e[e.length-1].text+=t}}else if(o=a.match(Ah),o){if(l.text=o[1],i+=l.text.length,yh.has(l.text)){l.type="KEYWORD";continue}if(l.text.match(Eh)){l.type="TYPE";continue}l.type="ID"}else{if(o=a.match(wh),!o)throw new Error(`unexpected token ${JSON.stringify(a[0])} at position ${i}`);l.text=o[1],l.type="NUMBER",i+=l.text.length}}return new xh(e.map((t=>Object.freeze(t))))}function Ch(t,e){let r=[];for(const s in e.keys())t.has(s)&&r.push(s);if(r.length>1)throw new Error(`conflicting types: ${r.join(", ")}`)}function Sh(t,e){if(e.peekKeyword(fh)){const r=e.pop().text;if(r!==t)throw new Error(`expected ${t}, got ${r}`)}return e.popType("ID")}function Ih(t,e){const r=new Set;for(;;){const s=t.peekType("KEYWORD");if(null==s||e&&!e.has(s))break;if(t.pop(),r.has(s))throw new Error(`duplicate keywords: ${JSON.stringify(s)}`);r.add(s)}return Object.freeze(r)}function _h(t){let e=Ih(t,dh);return Ch(e,ch("constant payable nonpayable".split(" "))),Ch(e,ch("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function Th(t,e){return t.popParams().map((t=>Qh.from(t,e)))}function Mh(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return Rs(t.pop().text);throw new Error("invalid gas")}return null}function Dh(t){if(t.length)throw new Error(`unexpected tokens: ${t.toString()}`)}const Bh=new RegExp(/^(.*)\[([0-9]*)\]$/);function Fh(t){const e=t.match(Eh);if(gs(e,"invalid type","type",t),"uint"===t)return"uint256";if("int"===t)return"int256";if(e[2]){const r=parseInt(e[2]);gs(0!==r&&r<=32,"invalid bytes length","type",t)}else if(e[3]){const r=parseInt(e[3]);gs(0!==r&&r<=256&&r%8==0,"invalid numeric width","type",t)}return t}const Oh={},Nh=Symbol.for("_ethers_internal"),Rh="_ParamTypeInternal",Lh="_ErrorInternal",Uh="_EventInternal",jh="_ConstructorInternal",Gh="_FallbackInternal",Vh="_FunctionInternal",zh="_StructInternal";class Qh{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(t,e,r,s,n,i,a,o){if(vs(t,Oh,"ParamType"),Object.defineProperty(this,Nh,{value:Rh}),i&&(i=Object.freeze(i.slice())),"array"===s){if(null==a||null==o)throw new Error("")}else if(null!=a||null!=o)throw new Error("");if("tuple"===s){if(null==i)throw new Error("")}else if(null!=i)throw new Error("");hs(this,{name:e,type:r,baseType:s,indexed:n,components:i,arrayLength:a,arrayChildren:o})}format(t){if(null==t&&(t="sighash"),"json"===t){const e=this.name||"";if(this.isArray()){const t=JSON.parse(this.arrayChildren.format("json"));return t.name=e,t.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(t)}const r={type:"tuple"===this.baseType?"tuple":this.type,name:e};return"boolean"==typeof this.indexed&&(r.indexed=this.indexed),this.isTuple()&&(r.components=this.components.map((e=>JSON.parse(e.format(t))))),JSON.stringify(r)}let e="";return this.isArray()?(e+=this.arrayChildren.format(t),e+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?("sighash"!==t&&(e+=this.type),e+="("+this.components.map((e=>e.format(t))).join("full"===t?", ":",")+")"):e+=this.type,"sighash"!==t&&(!0===this.indexed&&(e+=" indexed"),"full"===t&&this.name&&(e+=" "+this.name)),e}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(t,e){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return t.map((t=>r.arrayChildren.walk(t,e)))}if(this.isTuple()){if(!Array.isArray(t))throw new Error("invalid tuple value");if(t.length!==this.components.length)throw new Error("array is wrong length");const r=this;return t.map(((t,s)=>r.components[s].walk(t,e)))}return e(this.type,t)}#b(t,e,r,s){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw new Error("array is wrong length");const n=this.arrayChildren,i=e.slice();return i.forEach(((e,s)=>{n.#b(t,e,r,(t=>{i[s]=t}))})),void s(i)}if(this.isTuple()){const n=this.components;let i;if(Array.isArray(e))i=e.slice();else{if(null==e||"object"!=typeof e)throw new Error("invalid tuple value");i=n.map((t=>{if(!t.name)throw new Error("cannot use object value with unnamed components");if(!(t.name in e))throw new Error(`missing value for component ${t.name}`);return e[t.name]}))}if(i.length!==this.components.length)throw new Error("array is wrong length");return i.forEach(((e,s)=>{n[s].#b(t,e,r,(t=>{i[s]=t}))})),void s(i)}const n=r(this.type,e);n.then?t.push(async function(){s(await n)}()):s(n)}async walkAsync(t,e){const r=[],s=[t];return this.#b(r,t,e,(t=>{s[0]=t})),r.length&&await Promise.all(r),s[0]}static from(t,e){if(Qh.isParamType(t))return t;if("string"==typeof t)try{return Qh.from(Ph(t),e)}catch(e){gs(!1,"invalid param type","obj",t)}else if(t instanceof xh){let r="",s="",n=null;Ih(t,ch(["tuple"])).has("tuple")||t.peekType("OPEN_PAREN")?(s="tuple",n=t.popParams().map((t=>Qh.from(t))),r=`tuple(${n.map((t=>t.format())).join(",")})`):(r=Fh(t.popType("TYPE")),s=r);let i=null,a=null;for(;t.length&&t.peekType("BRACKET");){const e=t.pop();i=new Qh(Oh,"",r,s,null,n,a,i),a=e.value,r+=e.text,s="array",n=null}let o=null;if(Ih(t,gh).has("indexed")){if(!e)throw new Error("");o=!0}const l=t.peekType("ID")?t.pop().text:"";if(t.length)throw new Error("leftover tokens");return new Qh(Oh,l,r,s,o,n,a,i)}const r=t.name;gs(!r||"string"==typeof r&&r.match(kh),"invalid name","obj.name",r);let s=t.indexed;null!=s&&(gs(e,"parameter cannot be indexed","obj.indexed",t.indexed),s=!!s);let n=t.type,i=n.match(Bh);if(i){const e=parseInt(i[2]||"-1"),a=Qh.from({type:i[1],components:t.components});return new Qh(Oh,r||"",n,"array",s,null,e,a)}if("tuple"===n||n.startsWith("tuple(")||n.startsWith("(")){const e=null!=t.components?t.components.map((t=>Qh.from(t))):null;return new Qh(Oh,r||"",n,"tuple",s,e,null,null)}return n=Fh(t.type),new Qh(Oh,r||"",n,n,s,null,null,null)}static isParamType(t){return t&&t[Nh]===Rh}}class Hh{type;inputs;constructor(t,e,r){vs(t,Oh,"Fragment"),hs(this,{type:e,inputs:r=Object.freeze(r.slice())})}static from(t){if("string"==typeof t){try{Hh.from(JSON.parse(t))}catch(t){}return Hh.from(Ph(t))}if(t instanceof xh){switch(t.peekKeyword(fh)){case"constructor":return Yh.from(t);case"error":return Wh.from(t);case"event":return Jh.from(t);case"fallback":case"receive":return Zh.from(t);case"function":return Xh.from(t);case"struct":return $h.from(t)}}else if("object"==typeof t){switch(t.type){case"constructor":return Yh.from(t);case"error":return Wh.from(t);case"event":return Jh.from(t);case"fallback":case"receive":return Zh.from(t);case"function":return Xh.from(t);case"struct":return $h.from(t)}ms(!1,`unsupported type: ${t.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}gs(!1,"unsupported frgament object","obj",t)}static isConstructor(t){return Yh.isFragment(t)}static isError(t){return Wh.isFragment(t)}static isEvent(t){return Jh.isFragment(t)}static isFunction(t){return Xh.isFragment(t)}static isStruct(t){return $h.isFragment(t)}}class qh extends Hh{name;constructor(t,e,r,s){super(t,e,s),gs("string"==typeof r&&r.match(kh),"invalid identifier","name",r),s=Object.freeze(s.slice()),hs(this,{name:r})}}function Kh(t,e){return"("+e.map((e=>e.format(t))).join("full"===t?", ":",")+")"}class Wh extends qh{constructor(t,e,r){super(t,"error",e,r),Object.defineProperty(this,Nh,{value:Lh})}get selector(){return lh(this.format("sighash")).substring(0,10)}format(t){if(null==t&&(t="sighash"),"json"===t)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});const e=[];return"sighash"!==t&&e.push("error"),e.push(this.name+Kh(t,this.inputs)),e.join(" ")}static from(t){if(Wh.isFragment(t))return t;if("string"==typeof t)return Wh.from(Ph(t));if(t instanceof xh){const e=Sh("error",t),r=Th(t);return Dh(t),new Wh(Oh,e,r)}return new Wh(Oh,t.name,t.inputs?t.inputs.map(Qh.from):[])}static isFragment(t){return t&&t[Nh]===Lh}}class Jh extends qh{anonymous;constructor(t,e,r,s){super(t,"event",e,r),Object.defineProperty(this,Nh,{value:Uh}),hs(this,{anonymous:s})}get topicHash(){return lh(this.format("sighash"))}format(t){if(null==t&&(t="sighash"),"json"===t)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});const e=[];return"sighash"!==t&&e.push("event"),e.push(this.name+Kh(t,this.inputs)),"sighash"!==t&&this.anonymous&&e.push("anonymous"),e.join(" ")}static getTopicHash(t,e){e=(e||[]).map((t=>Qh.from(t)));return new Jh(Oh,t,e,!1).topicHash}static from(t){if(Jh.isFragment(t))return t;if("string"==typeof t)try{return Jh.from(Ph(t))}catch(e){gs(!1,"invalid event fragment","obj",t)}else if(t instanceof xh){const e=Sh("event",t),r=Th(t,!0),s=!!Ih(t,ch(["anonymous"])).has("anonymous");return Dh(t),new Jh(Oh,e,r,s)}return new Jh(Oh,t.name,t.inputs?t.inputs.map((t=>Qh.from(t,!0))):[],!!t.anonymous)}static isFragment(t){return t&&t[Nh]===Uh}}class Yh extends Hh{payable;gas;constructor(t,e,r,s,n){super(t,e,r),Object.defineProperty(this,Nh,{value:jh}),hs(this,{payable:s,gas:n})}format(t){if(ms(null!=t&&"sighash"!==t,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===t)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});const e=[`constructor${Kh(t,this.inputs)}`];return this.payable&&e.push("payable"),null!=this.gas&&e.push(`@${this.gas.toString()}`),e.join(" ")}static from(t){if(Yh.isFragment(t))return t;if("string"==typeof t)try{return Yh.from(Ph(t))}catch(e){gs(!1,"invalid constuctor fragment","obj",t)}else if(t instanceof xh){Ih(t,ch(["constructor"]));const e=Th(t),r=!!Ih(t,hh).has("payable"),s=Mh(t);return Dh(t),new Yh(Oh,"constructor",e,r,s)}return new Yh(Oh,"constructor",t.inputs?t.inputs.map(Qh.from):[],!!t.payable,null!=t.gas?t.gas:null)}static isFragment(t){return t&&t[Nh]===jh}}class Zh extends Hh{payable;constructor(t,e,r){super(t,"fallback",e),Object.defineProperty(this,Nh,{value:Gh}),hs(this,{payable:r})}format(t){const e=0===this.inputs.length?"receive":"fallback";if("json"===t){const t=this.payable?"payable":"nonpayable";return JSON.stringify({type:e,stateMutability:t})}return`${e}()${this.payable?" payable":""}`}static from(t){if(Zh.isFragment(t))return t;if("string"==typeof t)try{return Zh.from(Ph(t))}catch(e){gs(!1,"invalid fallback fragment","obj",t)}else if(t instanceof xh){const e=t.toString();gs(t.peekKeyword(ch(["fallback","receive"])),"type must be fallback or receive","obj",e);if("receive"===t.popKeyword(ch(["fallback","receive"]))){const e=Th(t);return gs(0===e.length,"receive cannot have arguments","obj.inputs",e),Ih(t,ch(["payable"])),Dh(t),new Zh(Oh,[],!0)}let r=Th(t);r.length?gs(1===r.length&&"bytes"===r[0].type,"invalid fallback inputs","obj.inputs",r.map((t=>t.format("minimal"))).join(", ")):r=[Qh.from("bytes")];const s=_h(t);if(gs("nonpayable"===s||"payable"===s,"fallback cannot be constants","obj.stateMutability",s),Ih(t,ch(["returns"])).has("returns")){const e=Th(t);gs(1===e.length&&"bytes"===e[0].type,"invalid fallback outputs","obj.outputs",e.map((t=>t.format("minimal"))).join(", "))}return Dh(t),new Zh(Oh,r,"payable"===s)}if("receive"===t.type)return new Zh(Oh,[],!0);if("fallback"===t.type){const e=[Qh.from("bytes")],r="payable"===t.stateMutability;return new Zh(Oh,e,r)}gs(!1,"invalid fallback description","obj",t)}static isFragment(t){return t&&t[Nh]===Gh}}class Xh extends qh{constant;outputs;stateMutability;payable;gas;constructor(t,e,r,s,n,i){super(t,"function",e,s),Object.defineProperty(this,Nh,{value:Vh});hs(this,{constant:"view"===r||"pure"===r,gas:i,outputs:n=Object.freeze(n.slice()),payable:"payable"===r,stateMutability:r})}get selector(){return lh(this.format("sighash")).substring(0,10)}format(t){if(null==t&&(t="sighash"),"json"===t)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((e=>JSON.parse(e.format(t)))),outputs:this.outputs.map((e=>JSON.parse(e.format(t))))});const e=[];return"sighash"!==t&&e.push("function"),e.push(this.name+Kh(t,this.inputs)),"sighash"!==t&&("nonpayable"!==this.stateMutability&&e.push(this.stateMutability),this.outputs&&this.outputs.length&&(e.push("returns"),e.push(Kh(t,this.outputs))),null!=this.gas&&e.push(`@${this.gas.toString()}`)),e.join(" ")}static getSelector(t,e){e=(e||[]).map((t=>Qh.from(t)));return new Xh(Oh,t,"view",e,[],null).selector}static from(t){if(Xh.isFragment(t))return t;if("string"==typeof t)try{return Xh.from(Ph(t))}catch(e){gs(!1,"invalid function fragment","obj",t)}else if(t instanceof xh){const e=Sh("function",t),r=Th(t),s=_h(t);let n=[];Ih(t,ch(["returns"])).has("returns")&&(n=Th(t));const i=Mh(t);return Dh(t),new Xh(Oh,e,s,r,n,i)}let e=t.stateMutability;return null==e&&(e="payable","boolean"==typeof t.constant?(e="view",t.constant||(e="payable","boolean"!=typeof t.payable||t.payable||(e="nonpayable"))):"boolean"!=typeof t.payable||t.payable||(e="nonpayable")),new Xh(Oh,t.name,e,t.inputs?t.inputs.map(Qh.from):[],t.outputs?t.outputs.map(Qh.from):[],null!=t.gas?t.gas:null)}static isFragment(t){return t&&t[Nh]===Vh}}class $h extends qh{constructor(t,e,r){super(t,"struct",e,r),Object.defineProperty(this,Nh,{value:zh})}format(){throw new Error("@TODO")}static from(t){if("string"==typeof t)try{return $h.from(Ph(t))}catch(e){gs(!1,"invalid struct fragment","obj",t)}else if(t instanceof xh){const e=Sh("struct",t),r=Th(t);return Dh(t),new $h(Oh,e,r)}return new $h(Oh,t.name,t.inputs?t.inputs.map(Qh.from):[])}static isFragment(t){return t&&t[Nh]===zh}}const tu=new Map;tu.set(0,"GENERIC_PANIC"),tu.set(1,"ASSERT_FALSE"),tu.set(17,"OVERFLOW"),tu.set(18,"DIVIDE_BY_ZERO"),tu.set(33,"ENUM_RANGE_ERROR"),tu.set(34,"BAD_STORAGE_DATA"),tu.set(49,"STACK_UNDERFLOW"),tu.set(50,"ARRAY_RANGE_ERROR"),tu.set(65,"OUT_OF_MEMORY"),tu.set(81,"UNINITIALIZED_FUNCTION_CALL");const eu=new RegExp(/^bytes([0-9]*)$/),ru=new RegExp(/^(u?int)([0-9]*)$/);let su=null;class nu{#v(t){if(t.isArray())return new Qc(this.#v(t.arrayChildren),t.arrayLength,t.name);if(t.isTuple())return new oh(t.components.map((t=>this.#v(t))),t.name);switch(t.baseType){case"address":return new jc(t.name);case"bool":return new Hc(t.name);case"string":return new ah(t.name);case"bytes":return new Kc(t.name);case"":return new Yc(t.name)}let e=t.type.match(ru);if(e){let r=parseInt(e[2]||"256");return gs(0!==r&&r<=256&&r%8==0,"invalid "+e[1]+" bit length","param",t),new th(r/8,"int"===e[1],t.name)}if(e=t.type.match(eu),e){let r=parseInt(e[1]);return gs(0!==r&&r<=32,"invalid bytes length","param",t),new Wc(r,t.name)}gs(!1,"invalid type","type",t.type)}getDefaultValue(t){const e=t.map((t=>this.#v(Qh.from(t))));return new oh(e,"_").defaultValue()}encode(t,e){ys(e.length,t.length,"types/values length mismatch");const r=t.map((t=>this.#v(Qh.from(t)))),s=new oh(r,"_"),n=new wc;return s.encode(n,e),n.data}decode(t,e,r){const s=t.map((t=>this.#v(Qh.from(t))));return new oh(s,"_").decode(new Ac(e,r))}static defaultAbiCoder(){return null==su&&(su=new nu),su}static getBuiltinCallException(t,e,r){return function(t,e,r,s){let n="missing revert data",i=null,a=null;if(r){n="execution reverted";const t=As(r);if(r=Ps(r),0===t.length)n+=" (no data present; likely require(false) occurred",i="require(false)";else if(t.length%32!=4)n+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===Ps(t.slice(0,4)))try{i=s.decode(["string"],t.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[i]},n+=`: ${JSON.stringify(i)}`}catch(t){n+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===Ps(t.slice(0,4)))try{const e=Number(s.decode(["uint256"],t.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[e]},i=`Panic due to ${tu.get(e)||"UNKNOWN"}(${e})`,n+=`: ${i}`}catch(t){n+=" (could not decode panic code)"}else n+=" (unknown custom error)"}const o={to:e.to?Fc(e.to):null,data:e.data||"0x"};return e.from&&(o.from=Fc(e.from)),fs(n,"CALL_EXCEPTION",{action:t,data:r,reason:i,transaction:o,invocation:null,revert:a})}(t,e,r,nu.defaultAbiCoder())}}function iu(t){return t&&"function"==typeof t.getAddress}async function au(t,e){const r=await e;return null!=r&&"0x0000000000000000000000000000000000000000"!==r||(ms("string"!=typeof t,"unconfigured name","UNCONFIGURED_NAME",{value:t}),gs(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),Fc(r)}function ou(t,e){return"string"==typeof t?t.match(/^0x[0-9a-f]{40}$/i)?Fc(t):(ms(null!=e,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),au(t,e.resolveName(t))):iu(t)?au(t,t.getAddress()):t&&"function"==typeof t.then?au(t,t):void gs(!1,"unsupported addressable value","target",t)}const lu=new Uint8Array(32);lu.fill(0);const cu=BigInt(-1),hu=BigInt(0),uu=BigInt(1),du=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const pu=Vs(uu,32),fu=Vs(hu,32),mu={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},gu=["name","version","chainId","verifyingContract","salt"];function yu(t){return function(e){return gs("string"==typeof e,`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const bu={name:yu("name"),version:yu("version"),chainId:function(t){const e=Rs(t,"domain.chainId");return gs(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):Qs(e)},verifyingContract:function(t){try{return Fc(t).toLowerCase()}catch(t){}gs(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=As(t,"domain.salt");return gs(32===e.length,'invalid domain value "salt"',"domain.salt",t),Ps(e)}};function vu(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=""===e[1],s=parseInt(e[2]||"256");gs(s%8==0&&0!==s&&s<=256&&(null==e[2]||e[2]===String(s)),"invalid numeric width","type",t);const n=Ns(du,r?s-1:s),i=r?(n+uu)*cu:hu;return function(e){const s=Rs(e,"value");return gs(s>=i&&s<=n,`value out-of-bounds for ${t}`,"value",s),Vs(r?Os(s,256):s,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return gs(0!==r&&r<=32&&e[1]===String(r),"invalid bytes width","type",t),function(e){return gs(As(e).length===r,`invalid length for ${t}`,"value",e),function(t){const e=As(t),r=e.length%32;return r?Cs([e,lu.slice(r)]):Ps(e)}(e)}}}switch(t){case"address":return function(t){return Ts(Fc(t),32)};case"bool":return function(t){return t?pu:fu};case"bytes":return function(t){return Cc(t)};case"string":return function(t){return lh(t)}}return null}function wu(t,e){return`${t}(${e.map((({name:t,type:e})=>e+" "+t)).join(",")})`}class Au{primaryType;#w;get types(){return JSON.parse(this.#w)}#A;#k;constructor(t){this.#w=JSON.stringify(t),this.#A=new Map,this.#k=new Map;const e=new Map,r=new Map,s=new Map;Object.keys(t).forEach((t=>{e.set(t,new Set),r.set(t,[]),s.set(t,new Set)}));for(const s in t){const n=new Set;for(const i of t[s]){gs(!n.has(i.name),`duplicate variable name ${JSON.stringify(i.name)} in ${JSON.stringify(s)}`,"types",t),n.add(i.name);const a=i.type.match(/^([^\x5b]*)(\x5b|$)/)[1]||null;gs(a!==s,`circular type reference to ${JSON.stringify(a)}`,"types",t);vu(a)||(gs(r.has(a),`unknown type ${JSON.stringify(a)}`,"types",t),r.get(a).push(s),e.get(s).add(a))}}const n=Array.from(r.keys()).filter((t=>0===r.get(t).length));gs(0!==n.length,"missing primary type","types",t),gs(1===n.length,`ambiguous primary types or unused types: ${n.map((t=>JSON.stringify(t))).join(", ")}`,"types",t),hs(this,{primaryType:n[0]}),function n(i,a){gs(!a.has(i),`circular type reference to ${JSON.stringify(i)}`,"types",t),a.add(i);for(const t of e.get(i))if(r.has(t)){n(t,a);for(const e of a)s.get(e).add(t)}a.delete(i)}(this.primaryType,new Set);for(const[e,r]of s){const s=Array.from(r);s.sort(),this.#A.set(e,wu(e,t[e])+s.map((e=>wu(e,t[e]))).join(""))}}getEncoder(t){let e=this.#k.get(t);return e||(e=this.#E(t),this.#k.set(t,e)),e}#E(t){{const e=vu(t);if(e)return e}const e=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(e){const t=e[1],r=this.getEncoder(t);return s=>{gs(!e[3]||parseInt(e[3])===s.length,`array length mismatch; expected length ${parseInt(e[3])}`,"value",s);let n=s.map(r);return this.#A.has(t)&&(n=n.map(Cc)),Cc(Cs(n))}}const r=this.types[t];if(r){const e=lh(this.#A.get(t));return t=>{const s=r.map((({name:e,type:r})=>{const s=this.getEncoder(r)(t[e]);return this.#A.has(r)?Cc(s):s}));return s.unshift(e),Cs(s)}}gs(!1,`unknown type: ${t}`,"type",t)}encodeType(t){const e=this.#A.get(t);return gs(e,`unknown type: ${JSON.stringify(t)}`,"name",t),e}encodeData(t,e){return this.getEncoder(t)(e)}hashStruct(t,e){return Cc(this.encodeData(t,e))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,e,r){if(vu(t))return r(t,e);const s=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(s)return gs(!s[3]||parseInt(s[3])===e.length,`array length mismatch; expected length ${parseInt(s[3])}`,"value",e),e.map((t=>this._visit(s[1],t,r)));const n=this.types[t];if(n)return n.reduce(((t,{name:s,type:n})=>(t[s]=this._visit(n,e[s],r),t)),{});gs(!1,`unknown type: ${t}`,"type",t)}visit(t,e){return this._visit(this.primaryType,t,e)}static from(t){return new Au(t)}static getPrimaryType(t){return Au.from(t).primaryType}static hashStruct(t,e,r){return Au.from(e).hashStruct(t,r)}static hashDomain(t){const e=[];for(const r in t){if(null==t[r])continue;const s=mu[r];gs(s,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",t),e.push({name:r,type:s})}return e.sort(((t,e)=>gu.indexOf(t.name)-gu.indexOf(e.name))),Au.hashStruct("EIP712Domain",{EIP712Domain:e},t)}static encode(t,e,r){return Cs(["0x1901",Au.hashDomain(t),Au.from(e).hash(r)])}static hash(t,e,r){return Cc(Au.encode(t,e,r))}static async resolveNames(t,e,r,s){t=Object.assign({},t);for(const e in t)null==t[e]&&delete t[e];const n={};t.verifyingContract&&!Es(t.verifyingContract,20)&&(n[t.verifyingContract]="0x");const i=Au.from(e);i.visit(r,((t,e)=>("address"!==t||Es(e,20)||(n[e]="0x"),e)));for(const t in n)n[t]=await s(t);return t.verifyingContract&&n[t.verifyingContract]&&(t.verifyingContract=n[t.verifyingContract]),{domain:t,value:r=i.visit(r,((t,e)=>"address"===t&&n[e]?n[e]:e))}}static getPayload(t,e,r){Au.hashDomain(t);const s={},n=[];gu.forEach((e=>{const r=t[e];null!=r&&(s[e]=bu[e](r),n.push({name:e,type:mu[e]}))}));const i=Au.from(e),a=Object.assign({},e);return gs(null==a.EIP712Domain,"types must not contain EIP712Domain type","types.EIP712Domain",e),a.EIP712Domain=n,i.encode(r),{types:a,domain:s,primaryType:i.primaryType,message:i.visit(r,((t,e)=>{if(t.match(/^bytes(\d*)/))return Ps(As(e));if(t.match(/^u?int/))return Rs(e).toString();switch(t){case"address":return e.toLowerCase();case"bool":return!!e;case"string":return gs("string"==typeof e,"invalid string","value",e),e}gs(!1,"unsupported type","type",t)}))}}}function ku(t,e){return{address:Fc(t),storageKeys:e.map(((t,e)=>(gs(Es(t,32),"invalid slot",`storageKeys[${e}]`,t),t.toLowerCase())))}}function Eu(t){if(Array.isArray(t))return t.map(((e,r)=>Array.isArray(e)?(gs(2===e.length,"invalid slot set",`value[${r}]`,e),ku(e[0],e[1])):(gs(null!=e&&"object"==typeof e,"invalid address-slot set","value",t),ku(e.address,e.storageKeys))));gs(null!=t&&"object"==typeof t,"invalid access list","value",t);const e=Object.keys(t).map((e=>{const r=t[e].reduce(((t,e)=>(t[e]=!0,t)),{});return ku(e,Object.keys(r).sort())}));return e.sort(((t,e)=>t.address.localeCompare(e.address))),e}function xu(t){return async function(t,e){const r=t.url.split(":")[0].toLowerCase();let s;if(ms("http"===r||"https"===r,`unsupported protocol ${r}`,"UNSUPPORTED_OPERATION",{info:{protocol:r},operation:"request"}),ms("https"===r||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"}),e){const t=new AbortController;s=t.signal,e.addListener((()=>{t.abort()}))}const n={method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:s},i=await fetch(t.url,n),a={};i.headers.forEach(((t,e)=>{a[e.toLowerCase()]=t}));const o=await i.arrayBuffer(),l=null==o?null:new Uint8Array(o);return{statusCode:i.status,statusMessage:i.statusText,headers:a,body:l}}}xu();let Pu=xu();const Cu=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),Su=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let Iu=!1;async function _u(t,e){try{const e=t.match(Cu);if(!e)throw new Error("invalid data");return new Nu(200,"OK",{"content-type":e[1]||"text/plain"},e[2]?function(t){t=atob(t);const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return As(e)}(e[3]):nh(e[3].replace(/%([0-9a-f][0-9a-f])/gi,((t,e)=>String.fromCharCode(parseInt(e,16))))))}catch(e){return new Nu(599,"BAD REQUEST (invalid data: URI)",{},null,new Ou(t))}}function Tu(t){return async function(e,r){try{const r=e.match(Su);if(!r)throw new Error("invalid link");return new Ou(`${t}${r[2]}`)}catch(t){return new Nu(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Ou(e))}}}const Mu={data:_u,ipfs:Tu("https://gateway.ipfs.io/ipfs/")},Du=new WeakMap;class Bu{#x;#P;constructor(t){this.#x=[],this.#P=!1,Du.set(t,(()=>{if(!this.#P){this.#P=!0;for(const t of this.#x)setTimeout((()=>{t()}),0);this.#x=[]}}))}addListener(t){ms(!this.#P,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#x.push(t)}get cancelled(){return this.#P}checkSignal(){ms(!this.cancelled,"cancelled","CANCELLED",{})}}function Fu(t){if(null==t)throw new Error("missing signal; should not happen");return t.checkSignal(),t}class Ou{#C;#S;#I;#_;#T;#M;#D;#B;#F;#O;#N;#R;#L;#U;#j;get url(){return this.#M}set url(t){this.#M=String(t)}get body(){return null==this.#D?null:new Uint8Array(this.#D)}set body(t){if(null==t)this.#D=void 0,this.#B=void 0;else if("string"==typeof t)this.#D=nh(t),this.#B="text/plain";else if(t instanceof Uint8Array)this.#D=t,this.#B="application/octet-stream";else{if("object"!=typeof t)throw new Error("invalid body");this.#D=nh(JSON.stringify(t)),this.#B="application/json"}}hasBody(){return null!=this.#D}get method(){return this.#_?this.#_:this.hasBody()?"POST":"GET"}set method(t){null==t&&(t=""),this.#_=String(t).toUpperCase()}get headers(){const t=Object.assign({},this.#I);return this.#F&&(t.authorization=`Basic ${function(t){const e=As(t);let r="";for(let t=0;t<e.length;t++)r+=String.fromCharCode(e[t]);return btoa(r)}(nh(this.#F))}`),this.allowGzip&&(t["accept-encoding"]="gzip"),null==t["content-type"]&&this.#B&&(t["content-type"]=this.#B),this.body&&(t["content-length"]=String(this.body.length)),t}getHeader(t){return this.headers[t.toLowerCase()]}setHeader(t,e){this.#I[String(t).toLowerCase()]=String(e)}clearHeaders(){this.#I={}}[Symbol.iterator](){const t=this.headers,e=Object.keys(t);let r=0;return{next:()=>{if(r<e.length){const s=e[r++];return{value:[s,t[s]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#F||null}setCredentials(t,e){gs(!t.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#F=`${t}:${e}`}get allowGzip(){return this.#S}set allowGzip(t){this.#S=!!t}get allowInsecureAuthentication(){return!!this.#C}set allowInsecureAuthentication(t){this.#C=!!t}get timeout(){return this.#T}set timeout(t){gs(t>=0,"timeout must be non-zero","timeout",t),this.#T=t}get preflightFunc(){return this.#O||null}set preflightFunc(t){this.#O=t}get processFunc(){return this.#N||null}set processFunc(t){this.#N=t}get retryFunc(){return this.#R||null}set retryFunc(t){this.#R=t}get getUrlFunc(){return this.#j||Pu}set getUrlFunc(t){this.#j=t}constructor(t){this.#M=String(t),this.#C=!1,this.#S=!0,this.#I={},this.#_="",this.#T=3e5,this.#U={slotInterval:250,maxAttempts:12},this.#j=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#D?Ps(this.#D):"null"}>`}setThrottleParams(t){null!=t.slotInterval&&(this.#U.slotInterval=t.slotInterval),null!=t.maxAttempts&&(this.#U.maxAttempts=t.maxAttempts)}async#G(t,e,r,s,n){if(t>=this.#U.maxAttempts)return n.makeServerError("exceeded maximum retry limit");ms(Ru()<=e,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:s}),r>0&&await function(t){return new Promise((e=>setTimeout(e,t)))}(r);let i=this.clone();const a=(i.url.split(":")[0]||"").toLowerCase();if(a in Mu){const t=await Mu[a](i.url,Fu(s.#L));if(t instanceof Nu){let e=t;if(this.processFunc){Fu(s.#L);try{e=await this.processFunc(i,e)}catch(t){null!=t.throttle&&"number"==typeof t.stall||e.makeServerError("error in post-processing function",t).assertOk()}}return e}i=t}this.preflightFunc&&(i=await this.preflightFunc(i));const o=await this.getUrlFunc(i,Fu(s.#L));let l=new Nu(o.statusCode,o.statusMessage,o.headers,o.body,s);if(301===l.statusCode||302===l.statusCode){try{const r=l.headers.location||"";return i.redirect(r).#G(t+1,e,0,s,l)}catch(t){}return l}if(429===l.statusCode&&(null==this.retryFunc||await this.retryFunc(i,l,t))){const r=l.headers["retry-after"];let n=this.#U.slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return"string"==typeof r&&r.match(/^[1-9][0-9]*$/)&&(n=parseInt(r)),i.clone().#G(t+1,e,n,s,l)}if(this.processFunc){Fu(s.#L);try{l=await this.processFunc(i,l)}catch(r){null!=r.throttle&&"number"==typeof r.stall||l.makeServerError("error in post-processing function",r).assertOk();let n=this.#U.slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return r.stall>=0&&(n=r.stall),i.clone().#G(t+1,e,n,s,l)}}return l}send(){return ms(null==this.#L,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#L=new Bu(this),this.#G(0,Ru()+this.timeout,0,this,new Nu(0,"",{},null,this))}cancel(){ms(null!=this.#L,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const t=Du.get(this);if(!t)throw new Error("missing signal; should not happen");t()}redirect(t){const e=this.url.split(":")[0].toLowerCase(),r=t.split(":")[0].toLowerCase();ms("GET"===this.method&&("https"!==e||"http"!==r)&&t.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(t)})`});const s=new Ou(t);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,s.#I=Object.assign({},this.#I),this.#D&&(s.#D=new Uint8Array(this.#D)),s.#B=this.#B,s}clone(){const t=new Ou(this.url);return t.#_=this.#_,this.#D&&(t.#D=this.#D),t.#B=this.#B,t.#I=Object.assign({},this.#I),t.#F=this.#F,this.allowGzip&&(t.allowGzip=!0),t.timeout=this.timeout,this.allowInsecureAuthentication&&(t.allowInsecureAuthentication=!0),t.#O=this.#O,t.#N=this.#N,t.#R=this.#R,t.#j=this.#j,t}static lockConfig(){Iu=!0}static getGateway(t){return Mu[t.toLowerCase()]||null}static registerGateway(t,e){if("http"===(t=t.toLowerCase())||"https"===t)throw new Error(`cannot intercept ${t}; use registerGetUrl`);if(Iu)throw new Error("gateways locked");Mu[t]=e}static registerGetUrl(t){if(Iu)throw new Error("gateways locked");Pu=t}static createGetUrlFunc(t){return xu()}static createDataGateway(){return _u}static createIpfsGatewayFunc(t){return Tu(t)}}class Nu{#V;#z;#I;#D;#Q;#H;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#D?Ps(this.#D):"null"}>`}get statusCode(){return this.#V}get statusMessage(){return this.#z}get headers(){return Object.assign({},this.#I)}get body(){return null==this.#D?null:new Uint8Array(this.#D)}get bodyText(){try{return null==this.#D?"":ih(this.#D)}catch(t){ms(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch(t){ms(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const t=this.headers,e=Object.keys(t);let r=0;return{next:()=>{if(r<e.length){const s=e[r++];return{value:[s,t[s]],done:!1}}return{value:void 0,done:!0}}}}constructor(t,e,r,s,n){this.#V=t,this.#z=e,this.#I=Object.keys(r).reduce(((t,e)=>(t[e.toLowerCase()]=String(r[e]),t)),{}),this.#D=null==s?null:new Uint8Array(s),this.#Q=n||null,this.#H={message:""}}makeServerError(t,e){let r;r=t?`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${t})`:`CLIENT ESCALATED SERVER ERROR (${t=`${this.statusCode} ${this.statusMessage}`})`;const s=new Nu(599,r,this.headers,this.body,this.#Q||void 0);return s.#H={message:t,error:e},s}throwThrottleError(t,e){null==e?e=-1:gs(Number.isInteger(e)&&e>=0,"invalid stall timeout","stall",e);const r=new Error(t||"throttling requests");throw hs(r,{stall:e,throttle:!0}),r}getHeader(t){return this.headers[t.toLowerCase()]}hasBody(){return null!=this.#D}get request(){return this.#Q}ok(){return""===this.#H.message&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:t,error:e}=this.#H;""===t&&(t=`server response ${this.statusCode} ${this.statusMessage}`),ms(!1,t,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:e})}}function Ru(){return(new Date).getTime()}const Lu="0x0000000000000000000000000000000000000000";class Uu{fragment;name;signature;topic;args;constructor(t,e,r){const s=t.name,n=t.format();hs(this,{fragment:t,name:s,signature:n,topic:e,args:r})}}class ju{fragment;name;args;signature;selector;value;constructor(t,e,r,s){const n=t.name,i=t.format();hs(this,{fragment:t,name:n,args:r,signature:i,selector:e,value:s})}}class Gu{fragment;name;args;signature;selector;constructor(t,e,r){const s=t.name,n=t.format();hs(this,{fragment:t,name:s,args:r,signature:n,selector:e})}}class Vu{hash;_isIndexed;static isIndexed(t){return!(!t||!t._isIndexed)}constructor(t){hs(this,{hash:t,_isIndexed:!0})}}const zu={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Qu={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&zu[t.toString()]&&(e=zu[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};class Hu{fragments;deploy;fallback;receive;#q;#K;#W;#J;constructor(t){let e=[];e="string"==typeof t?JSON.parse(t):t,this.#W=new Map,this.#q=new Map,this.#K=new Map;const r=[];for(const t of e)try{r.push(Hh.from(t))}catch(t){console.log("EE",t)}hs(this,{fragments:Object.freeze(r)});let s=null,n=!1;this.#J=this.getAbiCoder(),this.fragments.forEach(((t,e)=>{let r;switch(t.type){case"constructor":return this.deploy?void console.log("duplicate definition - constructor"):void hs(this,{deploy:t});case"fallback":return void(0===t.inputs.length?n=!0:(gs(!s||t.payable!==s.payable,"conflicting fallback fragments",`fragments[${e}]`,t),s=t,n=s.payable));case"function":r=this.#W;break;case"event":r=this.#K;break;case"error":r=this.#q;break;default:return}const i=t.format();r.has(i)||r.set(i,t)})),this.deploy||hs(this,{deploy:Yh.from("constructor()")}),hs(this,{fallback:s,receive:n})}format(t){const e=t?"minimal":"full";return this.fragments.map((t=>t.format(e)))}formatJson(){const t=this.fragments.map((t=>t.format("json")));return JSON.stringify(t.map((t=>JSON.parse(t))))}getAbiCoder(){return nu.defaultAbiCoder()}#Y(t,e,r){if(Es(t)){const e=t.toLowerCase();for(const t of this.#W.values())if(e===t.selector)return t;return null}if(-1===t.indexOf("(")){const s=[];for(const[e,r]of this.#W)e.split("(")[0]===t&&s.push(r);if(e){const t=e.length>0?e[e.length-1]:null;let r=e.length,n=!0;Uc.isTyped(t)&&"overrides"===t.type&&(n=!1,r--);for(let t=s.length-1;t>=0;t--){const e=s[t].inputs.length;e===r||n&&e===r-1||s.splice(t,1)}for(let t=s.length-1;t>=0;t--){const r=s[t].inputs;for(let n=0;n<e.length;n++)if(Uc.isTyped(e[n])){if(n>=r.length){if("overrides"===e[n].type)continue;s.splice(t,1);break}if(e[n].type!==r[n].baseType){s.splice(t,1);break}}}}if(1===s.length&&e&&e.length!==s[0].inputs.length){const t=e[e.length-1];(null==t||Array.isArray(t)||"object"!=typeof t)&&s.splice(0,1)}if(0===s.length)return null;if(s.length>1&&r){const e=s.map((t=>JSON.stringify(t.format()))).join(", ");gs(!1,`ambiguous function description (i.e. matches ${e})`,"key",t)}return s[0]}const s=this.#W.get(Xh.from(t).format());return s||null}getFunctionName(t){const e=this.#Y(t,null,!1);return gs(e,"no matching function","key",t),e.name}hasFunction(t){return!!this.#Y(t,null,!1)}getFunction(t,e){return this.#Y(t,e||null,!0)}forEachFunction(t){const e=Array.from(this.#W.keys());e.sort(((t,e)=>t.localeCompare(e)));for(let r=0;r<e.length;r++){const s=e[r];t(this.#W.get(s),r)}}#Z(t,e,r){if(Es(t)){const e=t.toLowerCase();for(const t of this.#K.values())if(e===t.topicHash)return t;return null}if(-1===t.indexOf("(")){const s=[];for(const[e,r]of this.#K)e.split("(")[0]===t&&s.push(r);if(e){for(let t=s.length-1;t>=0;t--)s[t].inputs.length<e.length&&s.splice(t,1);for(let t=s.length-1;t>=0;t--){const r=s[t].inputs;for(let n=0;n<e.length;n++)if(Uc.isTyped(e[n])&&e[n].type!==r[n].baseType){s.splice(t,1);break}}}if(0===s.length)return null;if(s.length>1&&r){const e=s.map((t=>JSON.stringify(t.format()))).join(", ");gs(!1,`ambiguous event description (i.e. matches ${e})`,"key",t)}return s[0]}const s=this.#K.get(Jh.from(t).format());return s||null}getEventName(t){const e=this.#Z(t,null,!1);return gs(e,"no matching event","key",t),e.name}hasEvent(t){return!!this.#Z(t,null,!1)}getEvent(t,e){return this.#Z(t,e||null,!0)}forEachEvent(t){const e=Array.from(this.#K.keys());e.sort(((t,e)=>t.localeCompare(e)));for(let r=0;r<e.length;r++){const s=e[r];t(this.#K.get(s),r)}}getError(t,e){if(Es(t)){const e=t.toLowerCase();if(Qu[e])return Wh.from(Qu[e].signature);for(const t of this.#q.values())if(e===t.selector)return t;return null}if(-1===t.indexOf("(")){const e=[];for(const[r,s]of this.#q)r.split("(")[0]===t&&e.push(s);if(0===e.length)return"Error"===t?Wh.from("error Error(string)"):"Panic"===t?Wh.from("error Panic(uint256)"):null;if(e.length>1){const r=e.map((t=>JSON.stringify(t.format()))).join(", ");gs(!1,`ambiguous error description (i.e. ${r})`,"name",t)}return e[0]}if("Error(string)"===(t=Wh.from(t).format()))return Wh.from("error Error(string)");if("Panic(uint256)"===t)return Wh.from("error Panic(uint256)");const r=this.#q.get(t);return r||null}forEachError(t){const e=Array.from(this.#q.keys());e.sort(((t,e)=>t.localeCompare(e)));for(let r=0;r<e.length;r++){const s=e[r];t(this.#q.get(s),r)}}_decodeParams(t,e){return this.#J.decode(t,e)}_encodeParams(t,e){return this.#J.encode(t,e)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,e){if("string"==typeof t){const e=this.getError(t);gs(e,"unknown error","fragment",t),t=e}return gs(Is(e,0,4)===t.selector,`data signature does not match error ${t.name}.`,"data",e),this._decodeParams(t.inputs,Is(e,4))}encodeErrorResult(t,e){if("string"==typeof t){const e=this.getError(t);gs(e,"unknown error","fragment",t),t=e}return Cs([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionData(t,e){if("string"==typeof t){const e=this.getFunction(t);gs(e,"unknown function","fragment",t),t=e}return gs(Is(e,0,4)===t.selector,`data signature does not match function ${t.name}.`,"data",e),this._decodeParams(t.inputs,Is(e,4))}encodeFunctionData(t,e){if("string"==typeof t){const e=this.getFunction(t);gs(e,"unknown function","fragment",t),t=e}return Cs([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionResult(t,e){if("string"==typeof t){const e=this.getFunction(t);gs(e,"unknown function","fragment",t),t=e}let r="invalid length for result data";const s=ks(e);if(s.length%32==0)try{return this.#J.decode(t.outputs,s)}catch(t){r="could not decode result data"}ms(!1,r,"BAD_DATA",{value:Ps(s),info:{method:t.name,signature:t.format()}})}makeError(t,e){const r=As(t,"data"),s=nu.getBuiltinCallException("call",e,r);if(s.message.startsWith("execution reverted (unknown custom error)")){const t=Ps(r.slice(0,4)),e=this.getError(t);if(e)try{const t=this.#J.decode(e.inputs,r.slice(4));s.revert={name:e.name,signature:e.format(),args:t},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch(t){s.message="execution reverted (coult not decode custom error)"}}const n=this.parseTransaction(e);return n&&(s.invocation={method:n.name,signature:n.signature,args:n.args}),s}encodeFunctionResult(t,e){if("string"==typeof t){const e=this.getFunction(t);gs(e,"unknown function","fragment",t),t=e}return Ps(this.#J.encode(t.outputs,e||[]))}encodeFilterTopics(t,e){if("string"==typeof t){const e=this.getEvent(t);gs(e,"unknown event","eventFragment",t),t=e}ms(e.length<=t.inputs.length,`too many arguments for ${t.format()}`,"UNEXPECTED_ARGUMENT",{count:e.length,expectedCount:t.inputs.length});const r=[];t.anonymous||r.push(t.topicHash);const s=(t,e)=>"string"===t.type?lh(e):"bytes"===t.type?Cc(Ps(e)):("bool"===t.type&&"boolean"==typeof e?e=e?"0x01":"0x00":t.type.match(/^u?int/)?e=Vs(e):t.type.match(/^bytes/)?e=function(t,e){return _s(t,e,!1)}(e,32):"address"===t.type&&this.#J.encode(["address"],[e]),Ts(Ps(e),32));for(e.forEach(((e,n)=>{const i=t.inputs[n];i.indexed?null==e?r.push(null):"array"===i.baseType||"tuple"===i.baseType?gs(!1,"filtering with tuples or arrays not supported","contract."+i.name,e):Array.isArray(e)?r.push(e.map((t=>s(i,t)))):r.push(s(i,e)):gs(null==e,"cannot filter non-indexed parameters; must be null","contract."+i.name,e)}));r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(t,e){if("string"==typeof t){const e=this.getEvent(t);gs(e,"unknown event","eventFragment",t),t=e}const r=[],s=[],n=[];return t.anonymous||r.push(t.topicHash),gs(e.length===t.inputs.length,"event arguments/values mismatch","values",e),t.inputs.forEach(((t,i)=>{const a=e[i];if(t.indexed)if("string"===t.type)r.push(lh(a));else if("bytes"===t.type)r.push(Cc(a));else{if("tuple"===t.baseType||"array"===t.baseType)throw new Error("not implemented");r.push(this.#J.encode([t.type],[a]))}else s.push(t),n.push(a)})),{data:this.#J.encode(s,n),topics:r}}decodeEventLog(t,e,r){if("string"==typeof t){const e=this.getEvent(t);gs(e,"unknown event","eventFragment",t),t=e}if(null!=r&&!t.anonymous){const e=t.topicHash;gs(Es(r[0],32)&&r[0].toLowerCase()===e,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const s=[],n=[],i=[];t.inputs.forEach(((t,e)=>{t.indexed?"string"===t.type||"bytes"===t.type||"tuple"===t.baseType||"array"===t.baseType?(s.push(Qh.from({type:"bytes32",name:t.name})),i.push(!0)):(s.push(t),i.push(!1)):(n.push(t),i.push(!1))}));const a=null!=r?this.#J.decode(s,Cs(r)):null,o=this.#J.decode(n,e,!0),l=[],c=[];let h=0,u=0;return t.inputs.forEach(((t,e)=>{let r=null;if(t.indexed)if(null==a)r=new Vu(null);else if(i[e])r=new Vu(a[u++]);else try{r=a[u++]}catch(t){r=t}else try{r=o[h++]}catch(t){r=t}l.push(r),c.push(t.name||null)})),yc.fromItems(l,c)}parseTransaction(t){const e=As(t.data,"tx.data"),r=Rs(null!=t.value?t.value:0,"tx.value"),s=this.getFunction(Ps(e.slice(0,4)));if(!s)return null;const n=this.#J.decode(s.inputs,e.slice(4));return new ju(s,s.selector,n,r)}parseCallResult(t){throw new Error("@TODO")}parseLog(t){const e=this.getEvent(t.topics[0]);return!e||e.anonymous?null:new Uu(e,e.topicHash,this.decodeEventLog(e,t.data,t.topics))}parseError(t){const e=Ps(t),r=this.getError(Is(e,0,4));if(!r)return null;const s=this.#J.decode(r.inputs,Is(e,4));return new Gu(r,r.selector,s)}static from(t){return t instanceof Hu?t:"string"==typeof t?new Hu(JSON.parse(t)):"function"==typeof t.format?new Hu(t.format("json")):new Hu(t)}}const qu=BigInt(0);function Ku(t){return null==t?null:t}function Wu(t){return null==t?null:t.toString()}class Ju{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(t,e,r){hs(this,{gasPrice:Ku(t),maxFeePerGas:Ku(e),maxPriorityFeePerGas:Ku(r)})}toJSON(){const{gasPrice:t,maxFeePerGas:e,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:Wu(t),maxFeePerGas:Wu(e),maxPriorityFeePerGas:Wu(r)}}}function Yu(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=Ps(t.data));const r="chainId,gasLimit,gasPrice,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const s of r)s in t&&null!=t[s]&&(e[s]=Rs(t[s],`request.${s}`));const s="type,nonce".split(/,/);for(const r of s)r in t&&null!=t[r]&&(e[r]=Gs(t[r],`request.${r}`));return t.accessList&&(e.accessList=Eu(t.accessList)),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),e}class Zu{provider;number;hash;timestamp;parentHash;nonce;difficulty;gasLimit;gasUsed;miner;extraData;baseFeePerGas;#X;constructor(t,e){this.#X=t.transactions.map((t=>"string"!=typeof t?new td(t,e):t)),hs(this,{provider:e,hash:Ku(t.hash),number:t.number,timestamp:t.timestamp,parentHash:t.parentHash,nonce:t.nonce,difficulty:t.difficulty,gasLimit:t.gasLimit,gasUsed:t.gasUsed,miner:t.miner,extraData:t.extraData,baseFeePerGas:Ku(t.baseFeePerGas)})}get transactions(){return this.#X.map((t=>"string"==typeof t?t:t.hash))}get prefetchedTransactions(){const t=this.#X.slice();return 0===t.length?[]:(ms("object"==typeof t[0],"transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),t)}toJSON(){const{baseFeePerGas:t,difficulty:e,extraData:r,gasLimit:s,gasUsed:n,hash:i,miner:a,nonce:o,number:l,parentHash:c,timestamp:h,transactions:u}=this;return{_type:"Block",baseFeePerGas:Wu(t),difficulty:Wu(e),extraData:r,gasLimit:Wu(s),gasUsed:Wu(n),hash:i,miner:a,nonce:o,number:l,parentHash:c,timestamp:h,transactions:u}}[Symbol.iterator](){let t=0;const e=this.transactions;return{next:()=>t<this.length?{value:e[t++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#X.length}get date(){return null==this.timestamp?null:new Date(1e3*this.timestamp)}async getTransaction(t){let e;if("number"==typeof t)e=this.#X[t];else{const r=t.toLowerCase();for(const t of this.#X){if("string"==typeof t){if(t!==r)continue;e=t;break}if(t.hash!==r){e=t;break}}}if(null==e)throw new Error("no such tx");return"string"==typeof e?await this.provider.getTransaction(e):e}getPrefetchedTransaction(t){const e=this.prefetchedTransactions;if("number"==typeof t)return e[t];t=t.toLowerCase();for(const r of e)if(r.hash===t)return r;gs(!1,"no matching transaction","indexOrHash",t)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return{orphan:"drop-block",hash:(t=this).hash,number:t.number};var t}}class Xu{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(t,e){this.provider=e;const r=Object.freeze(t.topics.slice());hs(this,{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,removed:t.removed,address:t.address,data:t.data,topics:r,index:t.index,transactionIndex:t.transactionIndex})}toJSON(){const{address:t,blockHash:e,blockNumber:r,data:s,index:n,removed:i,topics:a,transactionHash:o,transactionIndex:l}=this;return{_type:"log",address:t,blockHash:e,blockNumber:r,data:s,index:n,removed:i,topics:a,transactionHash:o,transactionIndex:l}}async getBlock(){const t=await this.provider.getBlock(this.blockHash);return ms(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransaction(){const t=await this.provider.getTransaction(this.transactionHash);return ms(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransactionReceipt(){const t=await this.provider.getTransactionReceipt(this.transactionHash);return ms(!!t,"failed to find transaction receipt","UNKNOWN_ERROR",{}),t}removedEvent(){return{orphan:"drop-log",log:{transactionHash:(t=this).transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}};var t}}class $u{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;cumulativeGasUsed;gasPrice;type;status;root;#$;constructor(t,e){this.#$=Object.freeze(t.logs.map((t=>new Xu(t,e))));let r=qu;null!=t.effectiveGasPrice?r=t.effectiveGasPrice:null!=t.gasPrice&&(r=t.gasPrice),hs(this,{provider:e,to:t.to,from:t.from,contractAddress:t.contractAddress,hash:t.hash,index:t.index,blockHash:t.blockHash,blockNumber:t.blockNumber,logsBloom:t.logsBloom,gasUsed:t.gasUsed,cumulativeGasUsed:t.cumulativeGasUsed,gasPrice:r,type:t.type,status:t.status,root:t.root})}get logs(){return this.#$}toJSON(){const{to:t,from:e,contractAddress:r,hash:s,index:n,blockHash:i,blockNumber:a,logsBloom:o,logs:l,status:c,root:h}=this;return{_type:"TransactionReceipt",blockHash:i,blockNumber:a,contractAddress:r,cumulativeGasUsed:Wu(this.cumulativeGasUsed),from:e,gasPrice:Wu(this.gasPrice),gasUsed:Wu(this.gasUsed),hash:s,index:n,logs:l,logsBloom:o,root:h,status:c,to:t}}get length(){return this.logs.length}[Symbol.iterator](){let t=0;return{next:()=>t<this.length?{value:this.logs[t++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const t=await this.provider.getBlock(this.blockHash);if(null==t)throw new Error("TODO");return t}async getTransaction(){const t=await this.provider.getTransaction(this.hash);if(null==t)throw new Error("TODO");return t}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return rd(this)}reorderedEvent(t){return ms(!t||t.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),ed(this,t)}}class td{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;data;value;chainId;signature;accessList;#tt;constructor(t,e){this.provider=e,this.blockNumber=null!=t.blockNumber?t.blockNumber:null,this.blockHash=null!=t.blockHash?t.blockHash:null,this.hash=t.hash,this.index=t.index,this.type=t.type,this.from=t.from,this.to=t.to||null,this.gasLimit=t.gasLimit,this.nonce=t.nonce,this.data=t.data,this.value=t.value,this.gasPrice=t.gasPrice,this.maxPriorityFeePerGas=null!=t.maxPriorityFeePerGas?t.maxPriorityFeePerGas:null,this.maxFeePerGas=null!=t.maxFeePerGas?t.maxFeePerGas:null,this.chainId=t.chainId,this.signature=t.signature,this.accessList=null!=t.accessList?t.accessList:null,this.#tt=-1}toJSON(){const{blockNumber:t,blockHash:e,index:r,hash:s,type:n,to:i,from:a,nonce:o,data:l,signature:c,accessList:h}=this;return{_type:"TransactionReceipt",accessList:h,blockNumber:t,blockHash:e,chainId:Wu(this.chainId),data:l,from:a,gasLimit:Wu(this.gasLimit),gasPrice:Wu(this.gasPrice),hash:s,maxFeePerGas:Wu(this.maxFeePerGas),maxPriorityFeePerGas:Wu(this.maxPriorityFeePerGas),nonce:o,signature:c,to:i,index:r,type:n,value:Wu(this.value)}}async getBlock(){let t=this.blockNumber;if(null==t){const e=await this.getTransaction();e&&(t=e.blockNumber)}if(null==t)return null;const e=this.provider.getBlock(t);if(null==e)throw new Error("TODO");return e}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(null==this.blockNumber){const{tx:t,blockNumber:e}=await cs({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return null==t||null==t.blockNumber?0:e-t.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(t,e){const r=null==t?1:t,s=null==e?0:e;let n=this.#tt,i=-1,a=-1===n;const o=async()=>{if(a)return null;const{blockNumber:t,nonce:e}=await cs({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(e<this.nonce)return void(n=t);if(a)return null;const s=await this.getTransaction();if(!s||null==s.blockNumber)for(-1===i&&(i=n-3,i<this.#tt&&(i=this.#tt));i<=t;){if(a)return null;const e=await this.provider.getBlock(i,!0);if(null==e)return;for(const t of e)if(t===this.hash)return;for(let s=0;s<e.length;s++){const i=await e.getTransaction(s);if(i.from===this.from&&i.nonce===this.nonce){if(a)return null;const e=await this.provider.getTransactionReceipt(i.hash);if(null==e)return;if(t-e.blockNumber+1<r)return;let s="replaced";i.data===this.data&&i.to===this.to&&i.value===this.value?s="repriced":"0x"===i.data&&i.from===i.to&&i.value===qu&&(s="cancelled"),ms(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:"replaced"===s||"cancelled"===s,reason:s,replacement:i.replaceableTransaction(n),hash:i.hash,receipt:e})}}i++}},l=t=>{if(null==t||0!==t.status)return t;ms(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:t.to,from:t.from,data:""},receipt:t})},c=await this.provider.getTransactionReceipt(this.hash);if(0===r)return l(c);if(c){if(await c.confirmations()>=r)return l(c)}else if(await o(),0===r)return null;const h=new Promise(((t,e)=>{const i=[],c=()=>{i.forEach((t=>t()))};if(i.push((()=>{a=!0})),s>0){const t=setTimeout((()=>{c(),e(fs("wait for transaction timeout","TIMEOUT"))}),s);i.push((()=>{clearTimeout(t)}))}const h=async s=>{if(await s.confirmations()>=r){c();try{t(l(s))}catch(t){e(t)}}};if(i.push((()=>{this.provider.off(this.hash,h)})),this.provider.on(this.hash,h),n>=0){const t=async()=>{try{await o()}catch(t){if(ds(t,"TRANSACTION_REPLACED"))return c(),void e(t)}a||this.provider.once("block",t)};i.push((()=>{this.provider.off("block",t)})),this.provider.once("block",t)}}));return await h}isMined(){return null!=this.blockHash}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}removedEvent(){return ms(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),rd(this)}reorderedEvent(t){return ms(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),ms(!t||t.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),ed(this,t)}replaceableTransaction(t){gs(Number.isInteger(t)&&t>=0,"invalid startBlock","startBlock",t);const e=new td(this,this.provider);return e.#tt=t,e}}function ed(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function rd(t){return{orphan:"drop-transaction",tx:t}}class sd{filter;emitter;#et;constructor(t,e,r){this.#et=e,hs(this,{emitter:t,filter:r})}async removeListener(){null!=this.#et&&await this.emitter.off(this.filter,this.#et)}}class nd extends Xu{interface;fragment;args;constructor(t,e,r){super(t,t.provider);hs(this,{args:e.decodeEventLog(r,t.data,t.topics),fragment:r,interface:e})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class id extends Xu{error;constructor(t,e){super(t,t.provider),hs(this,{error:e})}}class ad extends $u{#rt;constructor(t,e,r){super(r,e),this.#rt=t}get logs(){return super.logs.map((t=>{const e=t.topics.length?this.#rt.getEvent(t.topics[0]):null;if(e)try{return new nd(t,this.#rt,e)}catch(e){return new id(t,e)}return t}))}}class od extends td{#rt;constructor(t,e,r){super(r,e),this.#rt=t}async wait(t){const e=await super.wait(t);return null==e?null:new ad(this.#rt,this.provider,e)}}class ld extends sd{log;constructor(t,e,r,s){super(t,e,r),hs(this,{log:s})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class cd extends ld{constructor(t,e,r,s,n){super(t,e,r,new nd(n,t.interface,s));hs(this,{args:t.interface.decodeEventLog(s,this.log.data,this.log.topics),fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const hd=BigInt(0);function ud(t){return t&&"function"==typeof t.call}function dd(t){return t&&"function"==typeof t.estimateGas}function pd(t){return t&&"function"==typeof t.resolveName}function fd(t){return t&&"function"==typeof t.sendTransaction}function md(t){if(null!=t){if(pd(t))return t;if(t.provider)return t.provider}}class gd{#st;fragment;constructor(t,e,r){if(hs(this,{fragment:e}),e.inputs.length<r.length)throw new Error("too many arguments");const s=yd(t.runner,"resolveName"),n=pd(s)?s:null;this.#st=async function(){const s=await Promise.all(e.inputs.map(((t,e)=>null==r[e]?null:t.walkAsync(r[e],((t,e)=>"address"===t?Array.isArray(e)?Promise.all(e.map((t=>ou(t,n)))):ou(e,n):e)))));return t.interface.encodeFilterTopics(e,s)}()}getTopicFilter(){return this.#st}}function yd(t,e){return null==t?null:"function"==typeof t[e]?t:t.provider&&"function"==typeof t.provider[e]?t.provider:null}function bd(t){return null==t?null:t.provider||null}async function vd(t,e){const r=Uc.dereference(t,"overrides");gs("object"==typeof r,"invalid overrides parameter","overrides",t);const s=Yu(r);return gs(null==s.to||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",s.to),gs(null==s.data||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",s.data),s.from&&(s.from=s.from),s}function wd(t){const e=async function(e){const r=await vd(e,["data"]);r.to=await t.getAddress(),r.from&&(r.from=await ou(r.from,md(t.runner)));const s=t.interface,n=Rs(r.value||hd,"overrides.value")===hd,i="0x"===(r.data||"0x");!s.fallback||s.fallback.payable||!s.receive||i||n||gs(!1,"cannot send data to receive or send value to non-payable fallback","overrides",e),gs(s.fallback||i,"cannot send data to receive-only contract","overrides.data",r.data);return gs(s.receive||s.fallback&&s.fallback.payable||n,"cannot send value to non-payable fallback","overrides.value",r.value),gs(s.fallback||i,"cannot send data to receive-only contract","overrides.data",r.data),r},r=async function(r){const s=t.runner;ms(fd(s),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const n=await s.sendTransaction(await e(r)),i=bd(t.runner);return new od(t.interface,i,n)},s=async t=>await r(t);return hs(s,{_contract:t,estimateGas:async function(r){const s=yd(t.runner,"estimateGas");return ms(dd(s),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await s.estimateGas(await e(r))},populateTransaction:e,send:r,staticCall:async function(r){const s=yd(t.runner,"call");ms(ud(s),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const n=await e(r);try{return await s.call(n)}catch(e){if(ps(e)&&e.data)throw t.interface.makeError(e.data,n);throw e}}}),s}function Ad(t,e){const r=function(...r){const s=t.interface.getFunction(e,r);return ms(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:r}}),s},s=async function(...e){const s=r(...e);let n={};if(s.inputs.length+1===e.length&&(n=await vd(e.pop()),n.from&&(n.from=await ou(n.from,md(t.runner)))),s.inputs.length!==e.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const i=await async function(t,e,r){const s=yd(t,"resolveName"),n=pd(s)?s:null;return await Promise.all(e.map(((t,e)=>t.walkAsync(r[e],((t,e)=>(e=Uc.dereference(e,t),"address"===t?ou(e,n):e))))))}(t.runner,s.inputs,e);return Object.assign({},n,await cs({to:t.getAddress(),data:t.interface.encodeFunctionData(s,i)}))},n=async function(...t){const e=await a(...t);return 1===e.length?e[0]:e},i=async function(...e){const r=t.runner;ms(fd(r),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const n=await r.sendTransaction(await s(...e)),i=bd(t.runner);return new od(t.interface,i,n)},a=async function(...e){const n=yd(t.runner,"call");ms(ud(n),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const i=await s(...e);let a="0x";try{a=await n.call(i)}catch(e){if(ps(e)&&e.data)throw t.interface.makeError(e.data,i);throw e}const o=r(...e);return t.interface.decodeFunctionResult(o,a)},o=async(...t)=>r(...t).constant?await n(...t):await i(...t);return hs(o,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:r,estimateGas:async function(...e){const r=yd(t.runner,"estimateGas");return ms(dd(r),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await r.estimateGas(await s(...e))},populateTransaction:s,send:i,staticCall:n,staticCallResult:a}),Object.defineProperty(o,"fragment",{configurable:!1,enumerable:!0,get:()=>{const r=t.interface.getFunction(e);return ms(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),r}}),o}const kd=Symbol.for("_ethersInternal_contract"),Ed=new WeakMap;function xd(t){return Ed.get(t[kd])}async function Pd(t,e){let r,s=null;if(Array.isArray(e)){const s=function(e){if(Es(e,32))return e;const r=t.interface.getEvent(e);return gs(r,"unknown fragment","name",e),r.topicHash};r=e.map((t=>null==t?null:Array.isArray(t)?t.map(s):s(t)))}else"*"===e?r=[null]:"string"==typeof e?Es(e,32)?r=[e]:(s=t.interface.getEvent(e),gs(s,"unknown fragment","event",e),r=[s.topicHash]):(n=e)&&"object"==typeof n&&"getTopicFilter"in n&&"function"==typeof n.getTopicFilter&&n.fragment?r=await e.getTopicFilter():"fragment"in e?(s=e.fragment,r=[s.topicHash]):gs(!1,"unknown event name","event",e);var n;r=r.map((t=>{if(null==t)return null;if(Array.isArray(t)){const e=Array.from(new Set(t.map((t=>t.toLowerCase()))).values());return 1===e.length?e[0]:(e.sort(),e)}return t.toLowerCase()}));return{fragment:s,tag:r.map((t=>null==t?"null":Array.isArray(t)?t.join("|"):t)).join("&"),topics:r}}async function Cd(t,e){const{subs:r}=xd(t);return r.get((await Pd(t,e)).tag)||null}async function Sd(t,e,r){const s=bd(t.runner);ms(s,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:n,tag:i,topics:a}=await Pd(t,r),{addr:o,subs:l}=xd(t);let c=l.get(i);if(!c){const e={address:o||t,topics:a},h=e=>{let s=n;if(null==s)try{s=t.interface.getEvent(e.topics[0])}catch(t){}if(s){const i=s,a=n?t.interface.decodeEventLog(n,e.data,e.topics):[];_d(t,r,a,(s=>new cd(t,s,r,i,e)))}else _d(t,r,[],(s=>new ld(t,s,r,e)))};let u=[];c={tag:i,listeners:[],start:()=>{u.length||u.push(s.on(e,h))},stop:async()=>{if(0==u.length)return;let t=u;u=[],await Promise.all(t),s.off(e,h)}},l.set(i,c)}return c}let Id=Promise.resolve();async function _d(t,e,r,s){try{await Id}catch(t){}const n=async function(t,e,r,s){await Id;const n=await Cd(t,e);if(!n)return!1;const i=n.listeners.length;return n.listeners=n.listeners.filter((({listener:e,once:n})=>{const i=Array.from(r);s&&i.push(s(n?null:e));try{e.call(t,...i)}catch(t){}return!n})),0===n.listeners.length&&(n.stop(),xd(t).subs.delete(n.tag)),i>0}(t,e,r,s);return Id=n,await n}const Td=["then"];class Md{target;interface;runner;filters;[kd];fallback;constructor(t,e,r,s){gs("string"==typeof t||iu(t),"invalid value for Contract target","target",t),null==r&&(r=null);const n=Hu.from(e);let i;hs(this,{target:t,runner:r,interface:n}),Object.defineProperty(this,kd,{value:{}});let a=null,o=null;if(s){const t=bd(r);o=new od(this.interface,t,s)}let l=new Map;if("string"==typeof t)if(Es(t))a=t,i=Promise.resolve(t);else{const e=yd(r,"resolveName");if(!pd(e))throw fs("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});i=e.resolveName(t).then((e=>{if(null==e)throw fs("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:t});return xd(this).addr=e,e}))}else i=t.getAddress().then((t=>{if(null==t)throw new Error("TODO");return xd(this).addr=t,t}));!function(t,e){Ed.set(t[kd],e)}(this,{addrPromise:i,addr:a,deployTx:o,subs:l});const c=new Proxy({},{get:(t,e,r)=>{if("symbol"==typeof e||Td.indexOf(e)>=0)return Reflect.get(t,e,r);try{return this.getEvent(e)}catch(t){if(!ds(t,"INVALID_ARGUMENT")||"key"!==t.argument)throw t}},has:(t,e)=>Td.indexOf(e)>=0?Reflect.has(t,e):Reflect.has(t,e)||this.interface.hasEvent(String(e))});return hs(this,{filters:c}),hs(this,{fallback:n.receive||n.fallback?wd(this):null}),new Proxy(this,{get:(t,e,r)=>{if("symbol"==typeof e||e in t||Td.indexOf(e)>=0)return Reflect.get(t,e,r);try{return t.getFunction(e)}catch(t){if(!ds(t,"INVALID_ARGUMENT")||"key"!==t.argument)throw t}},has:(t,e)=>"symbol"==typeof e||e in t||Td.indexOf(e)>=0?Reflect.has(t,e):t.interface.hasFunction(e)})}connect(t){return new Md(this.target,this.interface,t)}attach(t){return new Md(t,this.interface,this.runner)}async getAddress(){return await xd(this).addrPromise}async getDeployedCode(){const t=bd(this.runner);ms(t,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const e=await t.getCode(await this.getAddress());return"0x"===e?null:e}async waitForDeployment(){const t=this.deploymentTransaction();if(t)return await t.wait(),this;if(null!=await this.getDeployedCode())return this;const e=bd(this.runner);return ms(null!=e,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise(((t,r)=>{const s=async()=>{try{if(null!=await this.getDeployedCode())return t(this);e.once("block",s)}catch(t){r(t)}};s()}))}deploymentTransaction(){return xd(this).deployTx}getFunction(t){"string"!=typeof t&&(t=t.format());return Ad(this,t)}getEvent(t){return"string"!=typeof t&&(t=t.format()),function(t,e){const r=function(...r){const s=t.interface.getEvent(e,r);return ms(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:r}}),s},s=function(...e){return new gd(t,r(...e),e)};return hs(s,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:r}),Object.defineProperty(s,"fragment",{configurable:!1,enumerable:!0,get:()=>{const r=t.interface.getEvent(e);return ms(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),r}}),s}(this,t)}async queryTransaction(t){throw new Error("@TODO")}async queryFilter(t,e,r){null==e&&(e=0),null==r&&(r="latest");const{addr:s,addrPromise:n}=xd(this),i=s||await n,{fragment:a,topics:o}=await Pd(this,t),l={address:i,topics:o,fromBlock:e,toBlock:r},c=bd(this.runner);return ms(c,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await c.getLogs(l)).map((t=>{let e=a;if(null==e)try{e=this.interface.getEvent(t.topics[0])}catch(t){}if(e)try{return new nd(t,this.interface,e)}catch(e){return new id(t,e)}return new Xu(t,c)}))}async on(t,e){const r=await Sd(this,"on",t);return r.listeners.push({listener:e,once:!1}),r.start(),this}async once(t,e){const r=await Sd(this,"once",t);return r.listeners.push({listener:e,once:!0}),r.start(),this}async emit(t,...e){return await _d(this,t,e,null)}async listenerCount(t){if(t){const e=await Cd(this,t);return e?e.listeners.length:0}const{subs:e}=xd(this);let r=0;for(const{listeners:t}of e.values())r+=t.length;return r}async listeners(t){if(t){const e=await Cd(this,t);return e?e.listeners.map((({listener:t})=>t)):[]}const{subs:e}=xd(this);let r=[];for(const{listeners:t}of e.values())r=r.concat(t.map((({listener:t})=>t)));return r}async off(t,e){const r=await Cd(this,t);if(!r)return this;if(e){const t=r.listeners.map((({listener:t})=>t)).indexOf(e);t>=0&&r.listeners.splice(t,1)}return null!=e&&0!==r.listeners.length||(r.stop(),xd(this).subs.delete(r.tag)),this}async removeAllListeners(t){if(t){const e=await Cd(this,t);if(!e)return this;e.stop(),xd(this).subs.delete(e.tag)}else{const{subs:t}=xd(this);for(const{tag:e,stop:r}of t.values())r(),t.delete(e)}return this}async addListener(t,e){return await this.on(t,e)}async removeListener(t,e){return await this.off(t,e)}static buildClass(t){return class extends Md{constructor(e,r=null){super(e,t,r)}}}static from(t,e,r){null==r&&(r=null);return new this(t,e,r)}}class Dd extends(function(){return Md}()){}var Bd=r(2712);const Fd=new Uint8Array(32);function Od(t){return gs(0!==t.length,"invalid ENS name; empty component","comp",t),t}function Nd(t){const e=nh(function(t){try{if(0===t.length)throw new Error("empty label");return(0,Bd.Q6)(t)}catch(e){gs(!1,`invalid ENS name (${e.message})`,"name",t)}}(t)),r=[];if(0===t.length)return r;let s=0;for(let t=0;t<e.length;t++){46===e[t]&&(r.push(Od(e.slice(s,t))),s=t+1)}return gs(s<e.length,"invalid ENS name; empty component","name",t),r.push(Od(e.slice(s))),r}function Rd(t){gs("string"==typeof t,"invalid ENS name; not a string","name",t),gs(t.length,"invalid ENS name (empty label)","name",t);let e=Fd;const r=Nd(t);for(;r.length;)e=Cc(Cs([e,Cc(r.pop())]));return Ps(e)}Fd.fill(0);const Ld="0x0000000000000000000000000000000000000000000000000000000000000000",Ud=BigInt(0),jd=BigInt(1),Gd=BigInt(2),Vd=BigInt(27),zd=BigInt(28),Qd=BigInt(35),Hd={};function qd(t){return Ts(zs(t),32)}class Kd{#nt;#it;#at;#ot;get r(){return this.#nt}set r(t){gs(32===Ss(t),"invalid r","value",t),this.#nt=Ps(t)}get s(){return this.#it}set s(t){gs(32===Ss(t),"invalid s","value",t);const e=Ps(t);gs(parseInt(e.substring(0,3))<8,"non-canonical s","value",e),this.#it=e}get v(){return this.#at}set v(t){const e=Gs(t,"value");gs(27===e||28===e,"invalid v","v",t),this.#at=e}get networkV(){return this.#ot}get legacyChainId(){const t=this.networkV;return null==t?null:Kd.getChainId(t)}get yParity(){return 27===this.v?0:1}get yParityAndS(){const t=As(this.s);return this.yParity&&(t[0]|=128),Ps(t)}get compactSerialized(){return Cs([this.r,this.yParityAndS])}get serialized(){return Cs([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(t,e,r,s){vs(t,Hd,"Signature"),this.#nt=e,this.#it=r,this.#at=s,this.#ot=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const t=new Kd(Hd,this.r,this.s,this.v);return this.networkV&&(t.#ot=this.networkV),t}toJSON(){const t=this.networkV;return{_type:"signature",networkV:null!=t?t.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(t){const e=Rs(t,"v");return e==Vd||e==zd?Ud:(gs(e>=Qd,"invalid EIP-155 v","v",t),(e-Qd)/Gd)}static getChainIdV(t,e){return Rs(t)*Gd+BigInt(35+e-27)}static getNormalizedV(t){const e=Rs(t);return e===Ud||e===Vd?27:e===jd||e===zd?28:(gs(e>=Qd,"invalid v","v",t),e&jd?27:28)}static from(t){function e(e,r){gs(e,r,"signature",t)}if(null==t)return new Kd(Hd,Ld,Ld,27);if("string"==typeof t){const r=As(t,"signature");if(64===r.length){const t=Ps(r.slice(0,32)),e=r.slice(32,64),s=128&e[0]?28:27;return e[0]&=127,new Kd(Hd,t,Ps(e),s)}if(65===r.length){const t=Ps(r.slice(0,32)),s=r.slice(32,64);e(0==(128&s[0]),"non-canonical s");const n=Kd.getNormalizedV(r[64]);return new Kd(Hd,t,Ps(s),n)}e(!1,"invalid raw signature length")}if(t instanceof Kd)return t.clone();const r=t.r;e(null!=r,"missing r");const s=qd(r),n=function(t,r){if(null!=t)return qd(t);if(null!=r){e(Es(r,32),"invalid yParityAndS");const t=As(r);return t[0]&=127,Ps(t)}e(!1,"missing s")}(t.s,t.yParityAndS);e(0==(128&As(n)[0]),"non-canonical s");const{networkV:i,v:a}=function(t,r,s){if(null!=t){const e=Rs(t);return{networkV:e>=Qd?e:void 0,v:Kd.getNormalizedV(e)}}if(null!=r)return e(Es(r,32),"invalid yParityAndS"),{v:128&As(r)[0]?28:27};if(null!=s){switch(Gs(s,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}e(!1,"invalid yParity")}e(!1,"missing v")}(t.v,t.yParityAndS,t.yParity),o=new Kd(Hd,s,n,a);return i&&(o.#ot=i),e(null==t.yParity||Gs(t.yParity,"sig.yParity")===o.yParity,"yParity mismatch"),e(null==t.yParityAndS||t.yParityAndS===o.yParityAndS,"yParityAndS mismatch"),o}}var Wd=r(3527),Jd=r(3486);class Yd extends Jd.kb{constructor(t,e,r,s){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,Jd.GL)(this.buffer)}update(t){(0,Wd.Gg)(this);const{view:e,buffer:r,blockLen:s}=this,n=(t=(0,Jd.O0)(t)).length;for(let i=0;i<n;){const a=Math.min(s-this.pos,n-i);if(a!==s)r.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===s&&(this.process(e,0),this.pos=0);else{const e=(0,Jd.GL)(t);for(;s<=n-i;i+=s)this.process(e,i)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,Wd.Gg)(this),(0,Wd.J8)(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:s,isLE:n}=this;let{pos:i}=this;e[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>s-i&&(this.process(r,0),i=0);for(let t=i;t<s;t++)e[t]=0;!function(t,e,r,s){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,r,s);const n=BigInt(32),i=BigInt(4294967295),a=Number(r>>n&i),o=Number(r&i),l=s?4:0,c=s?0:4;t.setUint32(e+l,a,s),t.setUint32(e+c,o,s)}(r,s-8,BigInt(8*this.length),n),this.process(r,0);const a=(0,Jd.GL)(t),o=this.outputLen;if(o%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=o/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let t=0;t<l;t++)a.setUint32(4*t,c[t],n)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:s,finished:n,destroyed:i,pos:a}=this;return t.length=s,t.pos=a,t.finished=n,t.destroyed=i,s%e&&t.buffer.set(r),t}}const Zd=(t,e,r)=>t&e^~t&r,Xd=(t,e,r)=>t&e^t&r^e&r,$d=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),tp=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ep=new Uint32Array(64);class rp extends Yd{constructor(){super(64,32,8,!1),this.A=0|tp[0],this.B=0|tp[1],this.C=0|tp[2],this.D=0|tp[3],this.E=0|tp[4],this.F=0|tp[5],this.G=0|tp[6],this.H=0|tp[7]}get(){const{A:t,B:e,C:r,D:s,E:n,F:i,G:a,H:o}=this;return[t,e,r,s,n,i,a,o]}set(t,e,r,s,n,i,a,o){this.A=0|t,this.B=0|e,this.C=0|r,this.D=0|s,this.E=0|n,this.F=0|i,this.G=0|a,this.H=0|o}process(t,e){for(let r=0;r<16;r++,e+=4)ep[r]=t.getUint32(e,!1);for(let t=16;t<64;t++){const e=ep[t-15],r=ep[t-2],s=(0,Jd.np)(e,7)^(0,Jd.np)(e,18)^e>>>3,n=(0,Jd.np)(r,17)^(0,Jd.np)(r,19)^r>>>10;ep[t]=n+ep[t-7]+s+ep[t-16]|0}let{A:r,B:s,C:n,D:i,E:a,F:o,G:l,H:c}=this;for(let t=0;t<64;t++){const e=c+((0,Jd.np)(a,6)^(0,Jd.np)(a,11)^(0,Jd.np)(a,25))+Zd(a,o,l)+$d[t]+ep[t]|0,h=((0,Jd.np)(r,2)^(0,Jd.np)(r,13)^(0,Jd.np)(r,22))+Xd(r,s,n)|0;c=l,l=o,o=a,a=i+e|0,i=n,n=s,s=r,r=e+h|0}r=r+this.A|0,s=s+this.B|0,n=n+this.C|0,i=i+this.D|0,a=a+this.E|0,o=o+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(r,s,n,i,a,o,l,c)}roundClean(){ep.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const sp=(0,Jd.hE)((()=>new rp)),np=BigInt(0),ip=BigInt(1),ap=BigInt(2),op=BigInt(3),lp=BigInt(4),cp=BigInt(5),hp=BigInt(8);BigInt(9),BigInt(16);function up(t,e){const r=t%e;return r>=np?r:e+r}function dp(t,e,r){if(r<=np||e<np)throw new Error("Expected power/modulo > 0");if(r===ip)return np;let s=ip;for(;e>np;)e&ip&&(s=s*t%r),t=t*t%r,e>>=ip;return s}function pp(t,e,r){let s=t;for(;e-- >np;)s*=s,s%=r;return s}function fp(t,e){if(t===np||e<=np)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=up(t,e),s=e,n=np,i=ip,a=ip,o=np;for(;r!==np;){const t=s/r,e=s%r,l=n-a*t,c=i-o*t;s=r,r=e,n=a,i=o,a=l,o=c}if(s!==ip)throw new Error("invert: does not exist");return up(n,e)}function mp(t){if(t%lp===op){const e=(t+ip)/lp;return function(t,r){const s=t.pow(r,e);if(!t.eql(t.sqr(s),r))throw new Error("Cannot find square root");return s}}if(t%hp===cp){const e=(t-cp)/hp;return function(t,r){const s=t.mul(r,ap),n=t.pow(s,e),i=t.mul(r,n),a=t.mul(t.mul(i,ap),n),o=t.mul(i,t.sub(a,t.ONE));if(!t.eql(t.sqr(o),r))throw new Error("Cannot find square root");return o}}return function(t){const e=(t-ip)/ap;let r,s,n;for(r=t-ip,s=0;r%ap===np;r/=ap,s++);for(n=ap;n<t&&dp(n,e,t)!==t-ip;n++);if(1===s){const e=(t+ip)/lp;return function(t,r){const s=t.pow(r,e);if(!t.eql(t.sqr(s),r))throw new Error("Cannot find square root");return s}}const i=(r+ip)/ap;return function(t,a){if(t.pow(a,e)===t.neg(t.ONE))throw new Error("Cannot find square root");let o=s,l=t.pow(t.mul(t.ONE,n),r),c=t.pow(a,i),h=t.pow(a,r);for(;!t.eql(h,t.ONE);){if(t.eql(h,t.ZERO))return t.ZERO;let e=1;for(let r=t.sqr(h);e<o&&!t.eql(r,t.ONE);e++)r=t.sqr(r);const r=t.pow(l,ip<<BigInt(o-e-1));l=t.sqr(r),c=t.mul(c,r),h=t.mul(h,l),o=e}return c}}(t)}const gp=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function yp(t,e){const r=void 0!==e?e:t.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function bp(t){if("bigint"!=typeof t)throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function vp(t){const e=bp(t);return e+Math.ceil(e/2)}class wp extends Jd.kb{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,(0,Wd.vp)(t);const r=(0,Jd.O0)(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,n=new Uint8Array(s);n.set(r.length>s?t.create().update(r).digest():r);for(let t=0;t<n.length;t++)n[t]^=54;this.iHash.update(n),this.oHash=t.create();for(let t=0;t<n.length;t++)n[t]^=106;this.oHash.update(n),n.fill(0)}update(t){return(0,Wd.Gg)(this),this.iHash.update(t),this}digestInto(t){(0,Wd.Gg)(this),(0,Wd.aI)(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:r,finished:s,destroyed:n,blockLen:i,outputLen:a}=this;return t.finished=s,t.destroyed=n,t.blockLen=i,t.outputLen=a,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Ap=(t,e,r)=>new wp(t,e).update(r).digest();Ap.create=(t,e)=>new wp(t,e);const kp=BigInt(0),Ep=BigInt(1);function xp(t){return Ko(t.Fp,gp.reduce(((t,e)=>(t[e]="function",t)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),Ko(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...yp(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const{bytesToNumberBE:Pp,hexToBytes:Cp}=s,Sp={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(t){const{Err:e}=Sp;if(t.length<2||2!==t[0])throw new e("Invalid signature integer tag");const r=t[1],s=t.subarray(2,r+2);if(!r||s.length!==r)throw new e("Invalid signature integer: wrong length");if(128&s[0])throw new e("Invalid signature integer: negative");if(0===s[0]&&!(128&s[1]))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Pp(s),l:t.subarray(r+2)}},toSig(t){const{Err:e}=Sp,r="string"==typeof t?Cp(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let s=r.length;if(s<2||48!=r[0])throw new e("Invalid signature tag");if(r[1]!==s-2)throw new e("Invalid signature: incorrect length");const{d:n,l:i}=Sp._parseInt(r.subarray(2)),{d:a,l:o}=Sp._parseInt(i);if(o.length)throw new e("Invalid signature: left bytes after parsing");return{r:n,s:a}},hexFromSig(t){const e=t=>8&Number.parseInt(t[0],16)?"00"+t:t,r=t=>{const e=t.toString(16);return 1&e.length?`0${e}`:e},s=e(r(t.s)),n=e(r(t.r)),i=s.length/2,a=n.length/2,o=r(i),l=r(a);return`30${r(a+i+4)}02${l}${n}02${o}${s}`}},Ip=BigInt(0),_p=BigInt(1),Tp=(BigInt(2),BigInt(3));BigInt(4);function Mp(t){const e=function(t){const e=xp(t);Ko(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:s,a:n}=e;if(r){if(!s.eql(n,s.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}(t),{Fp:r}=e,s=e.toBytes||((t,e,s)=>{const n=e.toAffine();return jo(Uint8Array.from([4]),r.toBytes(n.x),r.toBytes(n.y))}),n=e.fromBytes||(t=>{const e=t.subarray(1);return{x:r.fromBytes(e.subarray(0,r.BYTES)),y:r.fromBytes(e.subarray(r.BYTES,2*r.BYTES))}});function i(t){const{a:s,b:n}=e,i=r.sqr(t),a=r.mul(i,t);return r.add(r.add(a,r.mul(t,s)),n)}if(!r.eql(r.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function a(t){return"bigint"==typeof t&&Ip<t&&t<e.n}function o(t){if(!a(t))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(t){const{allowedPrivateKeyLengths:r,nByteLength:s,wrapPrivateKey:n,n:i}=e;if(r&&"bigint"!=typeof t){if(t instanceof Uint8Array&&(t=Do(t)),"string"!=typeof t||!r.includes(t.length))throw new Error("Invalid key");t=t.padStart(2*s,"0")}let a;try{a="bigint"==typeof t?t:Oo(Uo("private key",t,s))}catch(e){throw new Error(`private key must be ${s} bytes, hex or bigint, not ${typeof t}`)}return n&&(a=up(a,i)),o(a),a}const c=new Map;function h(t){if(!(t instanceof u))throw new Error("ProjectivePoint expected")}class u{constructor(t,e,s){if(this.px=t,this.py=e,this.pz=s,null==t||!r.isValid(t))throw new Error("x required");if(null==e||!r.isValid(e))throw new Error("y required");if(null==s||!r.isValid(s))throw new Error("z required")}static fromAffine(t){const{x:e,y:s}=t||{};if(!t||!r.isValid(e)||!r.isValid(s))throw new Error("invalid affine point");if(t instanceof u)throw new Error("projective point not allowed");const n=t=>r.eql(t,r.ZERO);return n(e)&&n(s)?u.ZERO:new u(e,s,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(t){const e=r.invertBatch(t.map((t=>t.pz)));return t.map(((t,r)=>t.toAffine(e[r]))).map(u.fromAffine)}static fromHex(t){const e=u.fromAffine(n(Uo("pointHex",t)));return e.assertValidity(),e}static fromPrivateKey(t){return u.BASE.multiply(l(t))}_setWindowSize(t){this._WINDOW_SIZE=t,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:t,y:s}=this.toAffine();if(!r.isValid(t)||!r.isValid(s))throw new Error("bad point: x or y not FE");const n=r.sqr(s),a=i(t);if(!r.eql(n,a))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:t}=this.toAffine();if(r.isOdd)return!r.isOdd(t);throw new Error("Field doesn't support isOdd")}equals(t){h(t);const{px:e,py:s,pz:n}=this,{px:i,py:a,pz:o}=t,l=r.eql(r.mul(e,o),r.mul(i,n)),c=r.eql(r.mul(s,o),r.mul(a,n));return l&&c}negate(){return new u(this.px,r.neg(this.py),this.pz)}double(){const{a:t,b:s}=e,n=r.mul(s,Tp),{px:i,py:a,pz:o}=this;let l=r.ZERO,c=r.ZERO,h=r.ZERO,d=r.mul(i,i),p=r.mul(a,a),f=r.mul(o,o),m=r.mul(i,a);return m=r.add(m,m),h=r.mul(i,o),h=r.add(h,h),l=r.mul(t,h),c=r.mul(n,f),c=r.add(l,c),l=r.sub(p,c),c=r.add(p,c),c=r.mul(l,c),l=r.mul(m,l),h=r.mul(n,h),f=r.mul(t,f),m=r.sub(d,f),m=r.mul(t,m),m=r.add(m,h),h=r.add(d,d),d=r.add(h,d),d=r.add(d,f),d=r.mul(d,m),c=r.add(c,d),f=r.mul(a,o),f=r.add(f,f),d=r.mul(f,m),l=r.sub(l,d),h=r.mul(f,p),h=r.add(h,h),h=r.add(h,h),new u(l,c,h)}add(t){h(t);const{px:s,py:n,pz:i}=this,{px:a,py:o,pz:l}=t;let c=r.ZERO,d=r.ZERO,p=r.ZERO;const f=e.a,m=r.mul(e.b,Tp);let g=r.mul(s,a),y=r.mul(n,o),b=r.mul(i,l),v=r.add(s,n),w=r.add(a,o);v=r.mul(v,w),w=r.add(g,y),v=r.sub(v,w),w=r.add(s,i);let A=r.add(a,l);return w=r.mul(w,A),A=r.add(g,b),w=r.sub(w,A),A=r.add(n,i),c=r.add(o,l),A=r.mul(A,c),c=r.add(y,b),A=r.sub(A,c),p=r.mul(f,w),c=r.mul(m,b),p=r.add(c,p),c=r.sub(y,p),p=r.add(y,p),d=r.mul(c,p),y=r.add(g,g),y=r.add(y,g),b=r.mul(f,b),w=r.mul(m,w),y=r.add(y,b),b=r.sub(g,b),b=r.mul(f,b),w=r.add(w,b),g=r.mul(y,w),d=r.add(d,g),g=r.mul(A,w),c=r.mul(v,c),c=r.sub(c,g),g=r.mul(v,y),p=r.mul(A,p),p=r.add(p,g),new u(c,d,p)}subtract(t){return this.add(t.negate())}is0(){return this.equals(u.ZERO)}wNAF(t){return p.wNAFCached(this,c,t,(t=>{const e=r.invertBatch(t.map((t=>t.pz)));return t.map(((t,r)=>t.toAffine(e[r]))).map(u.fromAffine)}))}multiplyUnsafe(t){const s=u.ZERO;if(t===Ip)return s;if(o(t),t===_p)return this;const{endo:n}=e;if(!n)return p.unsafeLadder(this,t);let{k1neg:i,k1:a,k2neg:l,k2:c}=n.splitScalar(t),h=s,d=s,f=this;for(;a>Ip||c>Ip;)a&_p&&(h=h.add(f)),c&_p&&(d=d.add(f)),f=f.double(),a>>=_p,c>>=_p;return i&&(h=h.negate()),l&&(d=d.negate()),d=new u(r.mul(d.px,n.beta),d.py,d.pz),h.add(d)}multiply(t){o(t);let s,n,i=t;const{endo:a}=e;if(a){const{k1neg:t,k1:e,k2neg:o,k2:l}=a.splitScalar(i);let{p:c,f:h}=this.wNAF(e),{p:d,f}=this.wNAF(l);c=p.constTimeNegate(t,c),d=p.constTimeNegate(o,d),d=new u(r.mul(d.px,a.beta),d.py,d.pz),s=c.add(d),n=h.add(f)}else{const{p:t,f:e}=this.wNAF(i);s=t,n=e}return u.normalizeZ([s,n])[0]}multiplyAndAddUnsafe(t,e,r){const s=u.BASE,n=(t,e)=>e!==Ip&&e!==_p&&t.equals(s)?t.multiply(e):t.multiplyUnsafe(e),i=n(this,e).add(n(t,r));return i.is0()?void 0:i}toAffine(t){const{px:e,py:s,pz:n}=this,i=this.is0();null==t&&(t=i?r.ONE:r.inv(n));const a=r.mul(e,t),o=r.mul(s,t),l=r.mul(n,t);if(i)return{x:r.ZERO,y:r.ZERO};if(!r.eql(l,r.ONE))throw new Error("invZ was invalid");return{x:a,y:o}}isTorsionFree(){const{h:t,isTorsionFree:r}=e;if(t===_p)return!0;if(r)return r(u,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:t,clearCofactor:r}=e;return t===_p?this:r?r(u,this):this.multiplyUnsafe(e.h)}toRawBytes(t=!0){return this.assertValidity(),s(u,this,t)}toHex(t=!0){return Do(this.toRawBytes(t))}}u.BASE=new u(e.Gx,e.Gy,r.ONE),u.ZERO=new u(r.ZERO,r.ONE,r.ZERO);const d=e.nBitLength,p=function(t,e){const r=(t,e)=>{const r=e.negate();return t?r:e},s=t=>({windows:Math.ceil(e/t)+1,windowSize:2**(t-1)});return{constTimeNegate:r,unsafeLadder(e,r){let s=t.ZERO,n=e;for(;r>kp;)r&Ep&&(s=s.add(n)),n=n.double(),r>>=Ep;return s},precomputeWindow(t,e){const{windows:r,windowSize:n}=s(e),i=[];let a=t,o=a;for(let t=0;t<r;t++){o=a,i.push(o);for(let t=1;t<n;t++)o=o.add(a),i.push(o);a=o.double()}return i},wNAF(e,n,i){const{windows:a,windowSize:o}=s(e);let l=t.ZERO,c=t.BASE;const h=BigInt(2**e-1),u=2**e,d=BigInt(e);for(let t=0;t<a;t++){const e=t*o;let s=Number(i&h);i>>=d,s>o&&(s-=u,i+=Ep);const a=e,p=e+Math.abs(s)-1,f=t%2!=0,m=s<0;0===s?c=c.add(r(f,n[a])):l=l.add(r(m,n[p]))}return{p:l,f:c}},wNAFCached(t,e,r,s){const n=t._WINDOW_SIZE||1;let i=e.get(t);return i||(i=this.precomputeWindow(t,n),1!==n&&e.set(t,s(i))),this.wNAF(n,i,r)}}}(u,e.endo?Math.ceil(d/2):d);return{CURVE:e,ProjectivePoint:u,normPrivateKeyToScalar:l,weierstrassEquation:i,isWithinCurveOrder:a}}function Dp(t){const e=function(t){const e=xp(t);return Ko(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}(t),{Fp:r,n:s}=e,n=r.BYTES+1,i=2*r.BYTES+1;function a(t){return up(t,s)}function o(t){return fp(t,s)}const{ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:h,isWithinCurveOrder:u}=Mp({...e,toBytes(t,e,s){const n=e.toAffine(),i=r.toBytes(n.x),a=jo;return s?a(Uint8Array.from([e.hasEvenY()?2:3]),i):a(Uint8Array.from([4]),i,r.toBytes(n.y))},fromBytes(t){const e=t.length,s=t[0],a=t.subarray(1);if(e!==n||2!==s&&3!==s){if(e===i&&4===s){return{x:r.fromBytes(a.subarray(0,r.BYTES)),y:r.fromBytes(a.subarray(r.BYTES,2*r.BYTES))}}throw new Error(`Point of length ${e} was invalid. Expected ${n} compressed bytes or ${i} uncompressed bytes`)}{const t=Oo(a);if(!(Ip<(o=t)&&o<r.ORDER))throw new Error("Point is not on curve");const e=h(t);let n=r.sqrt(e);return 1==(1&s)!==((n&_p)===_p)&&(n=r.neg(n)),{x:t,y:n}}var o}}),d=t=>Do(Ro(t,e.nByteLength));function p(t){return t>s>>_p}const f=(t,e,r)=>Oo(t.slice(e,r));class m{constructor(t,e,r){this.r=t,this.s=e,this.recovery=r,this.assertValidity()}static fromCompact(t){const r=e.nByteLength;return t=Uo("compactSignature",t,2*r),new m(f(t,0,r),f(t,r,2*r))}static fromDER(t){const{r:e,s:r}=Sp.toSig(Uo("DER",t));return new m(e,r)}assertValidity(){if(!u(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!u(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(t){return new m(this.r,this.s,t)}recoverPublicKey(t){const{r:s,s:n,recovery:i}=this,c=v(Uo("msgHash",t));if(null==i||![0,1,2,3].includes(i))throw new Error("recovery id invalid");const h=2===i||3===i?s+e.n:s;if(h>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const u=0==(1&i)?"02":"03",p=l.fromHex(u+d(h)),f=o(h),m=a(-c*f),g=a(n*f),y=l.BASE.multiplyAndAddUnsafe(p,m,g);if(!y)throw new Error("point at infinify");return y.assertValidity(),y}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Fo(this.toDERHex())}toDERHex(){return Sp.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Fo(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}const g={isValidPrivateKey(t){try{return c(t),!0}catch(t){return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const t=vp(e.n);return function(t,e,r=!1){const s=t.length,n=bp(e),i=vp(e);if(s<16||s<i||s>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${s}`);const a=up(r?Oo(t):No(t),e-ip)+ip;return r?Lo(a,n):Ro(a,n)}(e.randomBytes(t),e.n)},precompute:(t=8,e=l.BASE)=>(e._setWindowSize(t),e.multiply(BigInt(3)),e)};function y(t){const e=t instanceof Uint8Array,r="string"==typeof t,s=(e||r)&&t.length;return e?s===n||s===i:r?s===2*n||s===2*i:t instanceof l}const b=e.bits2int||function(t){const r=Oo(t),s=8*t.length-e.nBitLength;return s>0?r>>BigInt(s):r},v=e.bits2int_modN||function(t){return a(b(t))},w=Vo(e.nBitLength);function A(t){if("bigint"!=typeof t)throw new Error("bigint expected");if(!(Ip<=t&&t<w))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Ro(t,e.nByteLength)}function k(t,s,n=E){if(["recovered","canonical"].some((t=>t in n)))throw new Error("sign() legacy options not supported");const{hash:i,randomBytes:h}=e;let{lowS:d,prehash:f,extraEntropy:g}=n;null==d&&(d=!0),t=Uo("msgHash",t),f&&(t=Uo("prehashed msgHash",i(t)));const y=v(t),w=c(s),k=[A(w),A(y)];if(null!=g){const t=!0===g?h(r.BYTES):g;k.push(Uo("extraEntropy",t))}const x=jo(...k),P=y;return{seed:x,k2sig:function(t){const e=b(t);if(!u(e))return;const r=o(e),s=l.BASE.multiply(e).toAffine(),n=a(s.x);if(n===Ip)return;const i=a(r*a(P+n*w));if(i===Ip)return;let c=(s.x===n?0:2)|Number(s.y&_p),h=i;return d&&p(i)&&(h=function(t){return p(t)?a(-t):t}(i),c^=1),new m(n,h,c)}}}const E={lowS:e.lowS,prehash:!1},x={lowS:e.lowS,prehash:!1};return l.BASE._setWindowSize(8),{CURVE:e,getPublicKey:function(t,e=!0){return l.fromPrivateKey(t).toRawBytes(e)},getSharedSecret:function(t,e,r=!0){if(y(t))throw new Error("first arg must be private key");if(!y(e))throw new Error("second arg must be public key");return l.fromHex(e).multiply(c(t)).toRawBytes(r)},sign:function(t,r,s=E){const{seed:n,k2sig:i}=k(t,r,s),a=e;return Ho(a.hash.outputLen,a.nByteLength,a.hmac)(n,i)},verify:function(t,r,s,n=x){const i=t;if(r=Uo("msgHash",r),s=Uo("publicKey",s),"strict"in n)throw new Error("options.strict was renamed to lowS");const{lowS:c,prehash:h}=n;let u,d;try{if("string"==typeof i||i instanceof Uint8Array)try{u=m.fromDER(i)}catch(t){if(!(t instanceof Sp.Err))throw t;u=m.fromCompact(i)}else{if("object"!=typeof i||"bigint"!=typeof i.r||"bigint"!=typeof i.s)throw new Error("PARSE");{const{r:t,s:e}=i;u=new m(t,e)}}d=l.fromHex(s)}catch(t){if("PARSE"===t.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(c&&u.hasHighS())return!1;h&&(r=e.hash(r));const{r:p,s:f}=u,g=v(r),y=o(f),b=a(g*y),w=a(p*y),A=l.BASE.multiplyAndAddUnsafe(d,b,w)?.toAffine();return!!A&&a(A.x)===p},ProjectivePoint:l,Signature:m,utils:g}}function Bp(t){return{hash:t,hmac:(e,...r)=>Ap(t,e,(0,Jd.eV)(...r)),randomBytes:Jd.O6}}const Fp=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Op=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Np=BigInt(1),Rp=BigInt(2),Lp=(t,e)=>(t+e/Rp)/e;function Up(t){const e=Fp,r=BigInt(3),s=BigInt(6),n=BigInt(11),i=BigInt(22),a=BigInt(23),o=BigInt(44),l=BigInt(88),c=t*t*t%e,h=c*c*t%e,u=pp(h,r,e)*h%e,d=pp(u,r,e)*h%e,p=pp(d,Rp,e)*c%e,f=pp(p,n,e)*p%e,m=pp(f,i,e)*f%e,g=pp(m,o,e)*m%e,y=pp(g,l,e)*g%e,b=pp(y,o,e)*m%e,v=pp(b,r,e)*h%e,w=pp(v,a,e)*f%e,A=pp(w,s,e)*c%e,k=pp(A,Rp,e);if(!jp.eql(jp.sqr(k),t))throw new Error("Cannot find square root");return k}const jp=function(t,e,r=!1,s={}){if(t<=np)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:n,nByteLength:i}=yp(t,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=mp(t),o=Object.freeze({ORDER:t,BITS:n,BYTES:i,MASK:Vo(n),ZERO:np,ONE:ip,create:e=>up(e,t),isValid:e=>{if("bigint"!=typeof e)throw new Error("Invalid field element: expected bigint, got "+typeof e);return np<=e&&e<t},is0:t=>t===np,isOdd:t=>(t&ip)===ip,neg:e=>up(-e,t),eql:(t,e)=>t===e,sqr:e=>up(e*e,t),add:(e,r)=>up(e+r,t),sub:(e,r)=>up(e-r,t),mul:(e,r)=>up(e*r,t),pow:(t,e)=>function(t,e,r){if(r<np)throw new Error("Expected power > 0");if(r===np)return t.ONE;if(r===ip)return e;let s=t.ONE,n=e;for(;r>np;)r&ip&&(s=t.mul(s,n)),n=t.sqr(n),r>>=ip;return s}(o,t,e),div:(e,r)=>up(e*fp(r,t),t),sqrN:t=>t*t,addN:(t,e)=>t+e,subN:(t,e)=>t-e,mulN:(t,e)=>t*e,inv:e=>fp(e,t),sqrt:s.sqrt||(t=>a(o,t)),invertBatch:t=>function(t,e){const r=new Array(e.length),s=e.reduce(((e,s,n)=>t.is0(s)?e:(r[n]=e,t.mul(e,s))),t.ONE),n=t.inv(s);return e.reduceRight(((e,s,n)=>t.is0(s)?e:(r[n]=t.mul(e,r[n]),t.mul(e,s))),n),r}(o,t),cmov:(t,e,r)=>r?e:t,toBytes:t=>r?Lo(t,i):Ro(t,i),fromBytes:t=>{if(t.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${t.length}`);return r?No(t):Oo(t)}});return Object.freeze(o)}(Fp,void 0,void 0,{sqrt:Up}),Gp=function(t,e){const r=e=>Dp({...t,...Bp(e)});return Object.freeze({...r(e),create:r})}({a:BigInt(0),b:BigInt(7),Fp:jp,n:Op,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=Op,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),s=-Np*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=r,a=BigInt("0x100000000000000000000000000000000"),o=Lp(i*t,e),l=Lp(-s*t,e);let c=up(t-o*r-l*n,e),h=up(-o*s-l*i,e);const u=c>a,d=h>a;if(u&&(c=e-c),d&&(h=e-h),c>a||h>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:u,k1:c,k2neg:d,k2:h}}}},sp);BigInt(0);Gp.ProjectivePoint;class Vp{#lt;constructor(t){gs(32===Ss(t),"invalid private key","privateKey","[REDACTED]"),this.#lt=Ps(t)}get privateKey(){return this.#lt}get publicKey(){return Vp.computePublicKey(this.#lt)}get compressedPublicKey(){return Vp.computePublicKey(this.#lt,!0)}sign(t){gs(32===Ss(t),"invalid digest length","digest",t);const e=Gp.sign(ks(t),ks(this.#lt),{lowS:!0});return Kd.from({r:Vs(e.r,32),s:Vs(e.s,32),v:e.recovery?28:27})}computeSharedSecret(t){const e=Vp.computePublicKey(t);return Ps(Gp.getSharedSecret(ks(this.#lt),As(e),!1))}static computePublicKey(t,e){let r=As(t,"key");if(32===r.length){return Ps(Gp.getPublicKey(r,!!e))}if(64===r.length){const t=new Uint8Array(65);t[0]=4,t.set(r,1),r=t}return Ps(Gp.ProjectivePoint.fromHex(r).toRawBytes(e))}static recoverPublicKey(t,e){gs(32===Ss(t),"invalid digest length","digest",t);const r=Kd.from(e);let s=Gp.Signature.fromCompact(ks(Cs([r.r,r.s])));s=s.addRecoveryBit(r.yParity);const n=s.recoverPublicKey(ks(t));return gs(null!=n,"invalid signautre for digest","signature",e),"0x"+n.toHex(!1)}static addPoints(t,e,r){const s=Gp.ProjectivePoint.fromHex(Vp.computePublicKey(t).substring(2)),n=Gp.ProjectivePoint.fromHex(Vp.computePublicKey(e).substring(2));return"0x"+s.add(n).toHex(!!r)}}function zp(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function Qp(t,e,r){let s=0;for(let n=0;n<r;n++)s=256*s+t[e+n];return s}function Hp(t,e,r,s){const n=[];for(;r<e+1+s;){const i=qp(t,r);n.push(i.result),ms((r+=i.consumed)<=e+1+s,"child data too short","BUFFER_OVERRUN",{buffer:t,length:s,offset:e})}return{consumed:1+s,result:n}}function qp(t,e){ms(0!==t.length,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const r=e=>{ms(e<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:e})};if(t[e]>=248){const s=t[e]-247;r(e+1+s);const n=Qp(t,e+1,s);return r(e+1+s+n),Hp(t,e,e+1+s,s+n)}if(t[e]>=192){const s=t[e]-192;return r(e+1+s),Hp(t,e,e+1,s)}if(t[e]>=184){const s=t[e]-183;r(e+1+s);const n=Qp(t,e+1,s);r(e+1+s+n);return{consumed:1+s+n,result:Ps(t.slice(e+1+s,e+1+s+n))}}if(t[e]>=128){const s=t[e]-128;r(e+1+s);return{consumed:1+s,result:Ps(t.slice(e+1,e+1+s))}}return{consumed:1,result:zp(t[e])}}function Kp(t){const e=As(t,"data"),r=qp(e,0);return gs(r.consumed===e.length,"unexpected junk after rlp payload","data",t),r.result}function Wp(t){const e=[];for(;t;)e.unshift(255&t),t>>=8;return e}function Jp(t){if(Array.isArray(t)){let e=[];if(t.forEach((function(t){e=e.concat(Jp(t))})),e.length<=55)return e.unshift(192+e.length),e;const r=Wp(e.length);return r.unshift(247+r.length),r.concat(e)}const e=Array.prototype.slice.call(As(t,"object"));if(1===e.length&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=Wp(e.length);return r.unshift(183+r.length),r.concat(e)}const Yp="0123456789abcdef";function Zp(t){let e="0x";for(const r of Jp(t))e+=Yp[r>>4],e+=Yp[15&r];return e}function Xp(t,e){return function(t){let e;return e="string"==typeof t?Vp.computePublicKey(t,!1):t.publicKey,Fc(Cc("0x"+e.substring(4)).substring(26))}(Vp.recoverPublicKey(t,e))}const $p=BigInt(0),tf=BigInt(2),ef=BigInt(27),rf=BigInt(28),sf=BigInt(35),nf=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function af(t){return"0x"===t?null:Fc(t)}function of(t,e){try{return Eu(t)}catch(r){gs(!1,r.message,e,t)}}function lf(t,e){return"0x"===t?0:Gs(t,e)}function cf(t,e){if("0x"===t)return $p;const r=Rs(t,e);return gs(r<=nf,"value exceeds uint size",e,r),r}function hf(t,e){const r=Rs(t,"value"),s=zs(r);return gs(s.length<=32,"value too large",`tx.${e}`,r),s}function uf(t){return Eu(t).map((t=>[t.address,t.storageKeys]))}function df(t,e){const r=[hf(t.nonce||0,"nonce"),hf(t.gasPrice||0,"gasPrice"),hf(t.gasLimit||0,"gasLimit"),null!=t.to?Fc(t.to):"0x",hf(t.value||0,"value"),t.data||"0x"];let s=$p;if(t.chainId!=$p)s=Rs(t.chainId,"tx.chainId"),gs(!e||null==e.networkV||e.legacyChainId===s,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const e=t.signature.legacyChainId;null!=e&&(s=e)}if(!e)return s!==$p&&(r.push(zs(s)),r.push("0x"),r.push("0x")),Zp(r);let n=BigInt(27+e.yParity);return s!==$p?n=Kd.getChainIdV(s,e.v):BigInt(e.v)!==n&&gs(!1,"tx.chainId/sig.v mismatch","sig",e),r.push(zs(n)),r.push(zs(e.r)),r.push(zs(e.s)),Zp(r)}function pf(t,e){let r;try{if(r=lf(e[0],"yParity"),0!==r&&1!==r)throw new Error("bad yParity")}catch(t){gs(!1,"invalid yParity","yParity",e[0])}const s=Ts(e[1],32),n=Ts(e[2],32),i=Kd.from({r:s,s:n,yParity:r});t.signature=i}function ff(t,e){const r=[hf(t.chainId||0,"chainId"),hf(t.nonce||0,"nonce"),hf(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),hf(t.maxFeePerGas||0,"maxFeePerGas"),hf(t.gasLimit||0,"gasLimit"),null!=t.to?Fc(t.to):"0x",hf(t.value||0,"value"),t.data||"0x",uf(t.accessList||[])];return e&&(r.push(hf(e.yParity,"yParity")),r.push(zs(e.r)),r.push(zs(e.s))),Cs(["0x02",Zp(r)])}function mf(t,e){const r=[hf(t.chainId||0,"chainId"),hf(t.nonce||0,"nonce"),hf(t.gasPrice||0,"gasPrice"),hf(t.gasLimit||0,"gasLimit"),null!=t.to?Fc(t.to):"0x",hf(t.value||0,"value"),t.data||"0x",uf(t.accessList||[])];return e&&(r.push(hf(e.yParity,"recoveryParam")),r.push(zs(e.r)),r.push(zs(e.s))),Cs(["0x01",Zp(r)])}class gf{#ct;#ht;#h;#ut;#dt;#pt;#ft;#mt;#gt;#yt;#bt;#vt;get type(){return this.#ct}set type(t){switch(t){case null:this.#ct=null;break;case 0:case"legacy":this.#ct=0;break;case 1:case"berlin":case"eip-2930":this.#ct=1;break;case 2:case"london":case"eip-1559":this.#ct=2;break;default:gs(!1,"unsupported transaction type","type",t)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559"}return null}get to(){return this.#ht}set to(t){this.#ht=null==t?null:Fc(t)}get nonce(){return this.#ut}set nonce(t){this.#ut=Gs(t,"value")}get gasLimit(){return this.#dt}set gasLimit(t){this.#dt=Rs(t)}get gasPrice(){const t=this.#pt;return null!=t||0!==this.type&&1!==this.type?t:$p}set gasPrice(t){this.#pt=null==t?null:Rs(t,"gasPrice")}get maxPriorityFeePerGas(){const t=this.#ft;return null==t?2===this.type?$p:null:t}set maxPriorityFeePerGas(t){this.#ft=null==t?null:Rs(t,"maxPriorityFeePerGas")}get maxFeePerGas(){const t=this.#mt;return null==t?2===this.type?$p:null:t}set maxFeePerGas(t){this.#mt=null==t?null:Rs(t,"maxFeePerGas")}get data(){return this.#h}set data(t){this.#h=Ps(t)}get value(){return this.#gt}set value(t){this.#gt=Rs(t,"value")}get chainId(){return this.#yt}set chainId(t){this.#yt=Rs(t)}get signature(){return this.#bt||null}set signature(t){this.#bt=null==t?null:Kd.from(t)}get accessList(){const t=this.#vt||null;return null==t?1===this.type||2===this.type?[]:null:t}set accessList(t){this.#vt=null==t?null:Eu(t)}constructor(){this.#ct=null,this.#ht=null,this.#ut=0,this.#dt=BigInt(0),this.#pt=null,this.#ft=null,this.#mt=null,this.#h="0x",this.#gt=BigInt(0),this.#yt=BigInt(0),this.#bt=null,this.#vt=null}get hash(){return null==this.signature?null:Cc(this.serialized)}get unsignedHash(){return Cc(this.unsignedSerialized)}get from(){return null==this.signature?null:Xp(this.unsignedHash,this.signature)}get fromPublicKey(){return null==this.signature?null:Vp.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return null!=this.signature}get serialized(){switch(ms(null!=this.signature,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"}),this.inferType()){case 0:return df(this,this.signature);case 1:return mf(this,this.signature);case 2:return ff(this,this.signature)}ms(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get unsignedSerialized(){switch(this.inferType()){case 0:return df(this);case 1:return mf(this);case 2:return ff(this)}ms(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".unsignedSerialized"})}inferType(){return this.inferTypes().pop()}inferTypes(){const t=null!=this.gasPrice,e=null!=this.maxFeePerGas||null!=this.maxPriorityFeePerGas,r=null!=this.accessList;null!=this.maxFeePerGas&&null!=this.maxPriorityFeePerGas&&ms(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),ms(!e||0!==this.type&&1!==this.type,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),ms(0!==this.type||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const s=[];return null!=this.type?s.push(this.type):e?s.push(2):t?(s.push(1),r||s.push(0)):r?(s.push(1),s.push(2)):(s.push(0),s.push(1),s.push(2)),s.sort(),s}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}clone(){return gf.from(this)}toJSON(){const t=t=>null==t?null:t.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:t(this.gasLimit),gasPrice:t(this.gasPrice),maxPriorityFeePerGas:t(this.maxPriorityFeePerGas),maxFeePerGas:t(this.maxFeePerGas),value:t(this.value),chainId:t(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(t){if(null==t)return new gf;if("string"==typeof t){const e=As(t);if(e[0]>=127)return gf.from(function(t){const e=Kp(t);gs(Array.isArray(e)&&(9===e.length||6===e.length),"invalid field count for legacy transaction","data",t);const r={type:0,nonce:lf(e[0],"nonce"),gasPrice:cf(e[1],"gasPrice"),gasLimit:cf(e[2],"gasLimit"),to:af(e[3]),value:cf(e[4],"value"),data:Ps(e[5]),chainId:$p};if(6===e.length)return r;const s=cf(e[6],"v"),n=cf(e[7],"r"),i=cf(e[8],"s");if(n===$p&&i===$p)r.chainId=s;else{let n=(s-sf)/tf;n<$p&&(n=$p),r.chainId=n,gs(n!==$p||s===ef||s===rf,"non-canonical legacy v","v",e[6]),r.signature=Kd.from({r:Ts(e[7],32),s:Ts(e[8],32),v:s}),r.hash=Cc(t)}return r}(e));switch(e[0]){case 1:return gf.from(function(t){const e=Kp(As(t).slice(1));gs(Array.isArray(e)&&(8===e.length||11===e.length),"invalid field count for transaction type: 1","data",Ps(t));const r={type:1,chainId:cf(e[0],"chainId"),nonce:lf(e[1],"nonce"),gasPrice:cf(e[2],"gasPrice"),gasLimit:cf(e[3],"gasLimit"),to:af(e[4]),value:cf(e[5],"value"),data:Ps(e[6]),accessList:of(e[7],"accessList")};return 8===e.length||(r.hash=Cc(t),pf(r,e.slice(8))),r}(e));case 2:return gf.from(function(t){const e=Kp(As(t).slice(1));gs(Array.isArray(e)&&(9===e.length||12===e.length),"invalid field count for transaction type: 2","data",Ps(t));const r=cf(e[2],"maxPriorityFeePerGas"),s=cf(e[3],"maxFeePerGas"),n={type:2,chainId:cf(e[0],"chainId"),nonce:lf(e[1],"nonce"),maxPriorityFeePerGas:r,maxFeePerGas:s,gasPrice:null,gasLimit:cf(e[4],"gasLimit"),to:af(e[5]),value:cf(e[6],"value"),data:Ps(e[7]),accessList:of(e[8],"accessList")};return 9===e.length||(n.hash=Cc(t),pf(n,e.slice(9))),n}(e))}ms(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const e=new gf;return null!=t.type&&(e.type=t.type),null!=t.to&&(e.to=t.to),null!=t.nonce&&(e.nonce=t.nonce),null!=t.gasLimit&&(e.gasLimit=t.gasLimit),null!=t.gasPrice&&(e.gasPrice=t.gasPrice),null!=t.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas),null!=t.maxFeePerGas&&(e.maxFeePerGas=t.maxFeePerGas),null!=t.data&&(e.data=t.data),null!=t.value&&(e.value=t.value),null!=t.chainId&&(e.chainId=t.chainId),null!=t.signature&&(e.signature=Kd.from(t.signature)),null!=t.accessList&&(e.accessList=t.accessList),null!=t.hash&&(gs(e.isSigned(),"unsigned transaction cannot define hash","tx",t),gs(e.hash===t.hash,"hash mismatch","tx",t)),null!=t.from&&(gs(e.isSigned(),"unsigned transaction cannot define from","tx",t),gs(e.from.toLowerCase()===(t.from||"").toLowerCase(),"from mismatch","tx",t)),e}}const yf="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const bf=BigInt(58);function vf(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):gs(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class wf{name;constructor(t){hs(this,{name:t})}connect(t){return this}supportsCoinType(t){return!1}async encodeAddress(t,e){throw new Error("unsupported coin")}async decodeAddress(t,e){throw new Error("unsupported coin")}}const Af=new RegExp("^(ipfs)://(.*)$","i"),kf=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Af,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class Ef{provider;address;name;#wt;#At;constructor(t,e,r){hs(this,{provider:t,address:e,name:r}),this.#wt=null,this.#At=new Dd(e,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],t)}async supportsWildcard(){return null==this.#wt&&(this.#wt=(async()=>{try{return await this.#At.supportsInterface("0x9061b923")}catch(t){if(ds(t,"CALL_EXCEPTION"))return!1;throw this.#wt=null,t}})()),await this.#wt}async#kt(t,e){e=(e||[]).slice();const r=this.#At.interface;e.unshift(Rd(this.name));let s=null;var n;await this.supportsWildcard()&&(s=r.getFunction(t),ms(s,"missing fragment","UNKNOWN_ERROR",{info:{funcName:t}}),e=[(n=this.name,Ps(Cs(Nd(n).map((t=>{if(t.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const e=new Uint8Array(t.length+1);return e.set(t,1),e[0]=e.length-1,e}))))+"00"),r.encodeFunctionData(s,e)],t="resolve(bytes,bytes)"),e.push({enableCcipRead:!0});try{const n=await this.#At[t](...e);return s?r.decodeFunctionResult(s,n)[0]:n}catch(t){if(!ds(t,"CALL_EXCEPTION"))throw t}return null}async getAddress(t){if(null==t&&(t=60),60===t)try{const t=await this.#kt("addr(bytes32)");return null==t||t===Lu?null:t}catch(t){if(ds(t,"CALL_EXCEPTION"))return null;throw t}if(t>=0&&t<2147483648){let e=t+2147483648;const r=await this.#kt("addr(bytes32,uint)",[e]);if(Es(r,20))return Fc(r)}let e=null;for(const r of this.provider.plugins)if(r instanceof wf&&r.supportsCoinType(t)){e=r;break}if(null==e)return null;const r=await this.#kt("addr(bytes32,uint)",[t]);if(null==r||"0x"===r)return null;const s=await e.decodeAddress(t,r);if(null!=s)return s;ms(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${t})`,info:{coinType:t,data:r}})}async getText(t){const e=await this.#kt("text(bytes32,string)",[t]);return null==e||"0x"===e?null:e}async getContentHash(){const t=await this.#kt("contenthash(bytes32)");if(null==t||"0x"===t)return null;const e=t.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(e){const t="e3010170"===e[1]?"ipfs":"ipns",r=parseInt(e[4],16);if(e[5].length===2*r)return`${t}://${function(t){let e=js(As(t)),r="";for(;e;)r=yf[Number(e%bf)]+r,e/=bf;return r}("0x"+e[2])}`}const r=t.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&64===r[1].length)return`bzz://${r[1]}`;ms(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:t}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const t=[{type:"name",value:this.name}];try{const e=await this.getText("avatar");if(null==e)return t.push({type:"!avatar",value:""}),{url:null,linkage:t};t.push({type:"avatar",value:e});for(let r=0;r<kf.length;r++){const s=e.match(kf[r]);if(null==s)continue;const n=s[1].toLowerCase();switch(n){case"https":case"data":return t.push({type:"url",value:e}),{linkage:t,url:e};case"ipfs":{const r=vf(e);return t.push({type:"ipfs",value:e}),t.push({type:"url",value:r}),{linkage:t,url:r}}case"erc721":case"erc1155":{const r="erc721"===n?"tokenURI(uint256)":"uri(uint256)";t.push({type:n,value:e});const i=await this.getAddress();if(null==i)return t.push({type:"!owner",value:""}),{url:null,linkage:t};const a=(s[2]||"").split("/");if(2!==a.length)return t.push({type:`!${n}caip`,value:s[2]||""}),{url:null,linkage:t};const o=a[1],l=new Dd(a[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if("erc721"===n){const e=await l.ownerOf(o);if(i!==e)return t.push({type:"!owner",value:e}),{url:null,linkage:t};t.push({type:"owner",value:e})}else if("erc1155"===n){const e=await l.balanceOf(i,o);if(!e)return t.push({type:"!balance",value:"0"}),{url:null,linkage:t};t.push({type:"balance",value:e.toString()})}let c=await l[r](o);if(null==c||"0x"===c)return t.push({type:"!metadata-url",value:""}),{url:null,linkage:t};t.push({type:"metadata-url-base",value:c}),"erc1155"===n&&(c=c.replace("{id}",Vs(o,32).substring(2)),t.push({type:"metadata-url-expanded",value:c})),c.match(/^ipfs:/i)&&(c=vf(c)),t.push({type:"metadata-url",value:c});let h={};const u=await new Ou(c).send();u.assertOk();try{h=u.bodyJson}catch(e){try{t.push({type:"!metadata",value:u.bodyText})}catch(e){const r=u.body;return r&&t.push({type:"!metadata",value:Ps(r)}),{url:null,linkage:t}}return{url:null,linkage:t}}if(!h)return t.push({type:"!metadata",value:""}),{url:null,linkage:t};t.push({type:"metadata",value:JSON.stringify(h)});let d=h.image;if("string"!=typeof d)return t.push({type:"!imageUrl",value:""}),{url:null,linkage:t};if(d.match(/^(https:\/\/|data:)/i));else{if(null==d.match(Af))return t.push({type:"!imageUrl-ipfs",value:d}),{url:null,linkage:t};t.push({type:"imageUrl-ipfs",value:d}),d=vf(d)}return t.push({type:"url",value:d}),{linkage:t,url:d}}}}}catch(t){}return{linkage:t,url:null}}static async getEnsAddress(t){const e=await t.getNetwork(),r=e.getPlugin("org.ethers.plugins.network.Ens");return ms(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:e}}),r.address}static async#Et(t,e){const r=await Ef.getEnsAddress(t);try{const s=new Dd(r,["function resolver(bytes32) view returns (address)"],t),n=await s.resolver(Rd(e),{enableCcipRead:!0});return n===Lu?null:n}catch(t){throw t}return null}static async fromName(t,e){let r=e;for(;;){if(""===r||"."===r)return null;if("eth"!==e&&"eth"===r)return null;const s=await Ef.#Et(t,r);if(null!=s){const n=new Ef(t,s,e);return r===e||await n.supportsWildcard()?n:null}r=r.split(".").slice(1).join(".")}}}const xf=BigInt(0);function Pf(t,e){return function(r){return null==r?e:t(r)}}function Cf(t){return e=>{if(!Array.isArray(e))throw new Error("not an array");return e.map((e=>t(e)))}}function Sf(t,e){return r=>{const s={};for(const n in t){let i=n;if(e&&n in e&&!(i in r))for(const t of e[n])if(t in r){i=t;break}try{const e=t[n](r[i]);void 0!==e&&(s[n]=e)}catch(t){ms(!1,`invalid value for value.${n} (${t instanceof Error?t.message:"not-an-error"})`,"BAD_DATA",{value:r})}}return s}}function If(t){return gs(Es(t,!0),"invalid data","value",t),t}function _f(t){return gs(Es(t,32),"invalid hash","value",t),t}const Tf=Sf({address:Fc,blockHash:_f,blockNumber:Gs,data:If,index:Gs,removed:Pf((function(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}gs(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}),!1),topics:Cf(_f),transactionHash:_f,transactionIndex:Gs},{index:["logIndex"]});const Mf=Sf({hash:Pf(_f),parentHash:_f,number:Gs,timestamp:Gs,nonce:Pf(If),difficulty:Rs,gasLimit:Rs,gasUsed:Rs,miner:Pf(Fc),extraData:If,baseFeePerGas:Pf(Rs)});const Df=Sf({transactionIndex:Gs,blockNumber:Gs,transactionHash:_f,address:Fc,topics:Cf(_f),data:If,index:Gs,blockHash:_f},{index:["logIndex"]});const Bf=Sf({to:Pf(Fc,null),from:Pf(Fc,null),contractAddress:Pf(Fc,null),index:Gs,root:Pf(Ps),gasUsed:Rs,logsBloom:Pf(If),blockHash:_f,hash:_f,logs:Cf((function(t){return Df(t)})),blockNumber:Gs,cumulativeGasUsed:Rs,effectiveGasPrice:Pf(Rs),status:Pf(Gs),type:Pf(Gs,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function Ff(t){t.to&&Rs(t.to)===xf&&(t.to="0x0000000000000000000000000000000000000000");const e=Sf({hash:_f,type:t=>"0x"===t||null==t?0:Gs(t),accessList:Pf(Eu,null),blockHash:Pf(_f,null),blockNumber:Pf(Gs,null),transactionIndex:Pf(Gs,null),from:Fc,gasPrice:Pf(Rs),maxPriorityFeePerGas:Pf(Rs),maxFeePerGas:Pf(Rs),gasLimit:Rs,to:Pf(Fc,null),value:Rs,nonce:Gs,data:If,creates:Pf(Fc,null),chainId:Pf(Rs,null)},{data:["input"],gasLimit:["gas"]})(t);if(null==e.to&&null==e.creates&&(e.creates=function(t){const e=Fc(t.from);let r=Rs(t.nonce,"tx.nonce").toString(16);return r="0"===r?"0x":r.length%2?"0x0"+r:"0x"+r,Fc(Is(Cc(Zp([e,r])),12))}(e)),1!==t.type&&2!==t.type||null!=t.accessList||(e.accessList=[]),t.signature?e.signature=Kd.from(t.signature):e.signature=Kd.from(t),null==e.chainId){const t=e.signature.legacyChainId;null!=t&&(e.chainId=t)}return e.blockHash&&Rs(e.blockHash)===xf&&(e.blockHash=null),e}class Of{name;constructor(t){hs(this,{name:t})}clone(){return new Of(this.name)}}class Nf extends Of{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(t,e){null==t&&(t=0),super(`org.ethers.network.plugins.GasCost#${t||0}`);const r={effectiveBlock:t};function s(t,s){let n=(e||{})[t];null==n&&(n=s),gs("number"==typeof n,`invalud value for ${t}`,"costs",e),r[t]=n}s("txBase",21e3),s("txCreate",32e3),s("txDataZero",4),s("txDataNonzero",16),s("txAccessListStorageKey",1900),s("txAccessListAddress",2400),hs(this,r)}clone(){return new Nf(this.effectiveBlock,this)}}class Rf extends Of{address;targetNetwork;constructor(t,e){super("org.ethers.plugins.network.Ens"),hs(this,{address:t||"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",targetNetwork:null==e?1:e})}clone(){return new Rf(this.address,this.targetNetwork)}}class Lf extends Of{#M;#xt;get url(){return this.#M}get processFunc(){return this.#xt}constructor(t,e){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#M=t,this.#xt=e}clone(){return this}}const Uf=new Map;class jf{#Pt;#yt;#Ct;constructor(t,e){this.#Pt=t,this.#yt=Rs(e),this.#Ct=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#Pt}set name(t){this.#Pt=t}get chainId(){return this.#yt}set chainId(t){this.#yt=Rs(t,"chainId")}matches(t){if(null==t)return!1;if("string"==typeof t){try{return this.chainId===Rs(t)}catch(t){}return this.name===t}if("number"==typeof t||"bigint"==typeof t){try{return this.chainId===Rs(t)}catch(t){}return!1}if("object"==typeof t){if(null!=t.chainId){try{return this.chainId===Rs(t.chainId)}catch(t){}return!1}return null!=t.name&&this.name===t.name}return!1}get plugins(){return Array.from(this.#Ct.values())}attachPlugin(t){if(this.#Ct.get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return this.#Ct.set(t.name,t.clone()),this}getPlugin(t){return this.#Ct.get(t)||null}getPlugins(t){return this.plugins.filter((e=>e.name.split("#")[0]===t))}clone(){const t=new jf(this.name,this.chainId);return this.plugins.forEach((e=>{t.attachPlugin(e.clone())})),t}computeIntrinsicGas(t){const e=this.getPlugin("org.ethers.plugins.network.GasCost")||new Nf;let r=e.txBase;if(null==t.to&&(r+=e.txCreate),t.data)for(let s=2;s<t.data.length;s+=2)"00"===t.data.substring(s,s+2)?r+=e.txDataZero:r+=e.txDataNonzero;if(t.accessList){const s=Eu(t.accessList);for(const t in s)r+=e.txAccessListAddress+e.txAccessListStorageKey*s[t].storageKeys.length}return r}static from(t){if(function(){if(Qf)return;function t(t,e,r){const s=function(){const s=new jf(t,e);return null!=r.ensNetwork&&s.attachPlugin(new Rf(null,r.ensNetwork)),s.attachPlugin(new Nf),(r.plugins||[]).forEach((t=>{s.attachPlugin(t)})),s};jf.register(t,s),jf.register(e,s),r.altNames&&r.altNames.forEach((t=>{jf.register(t,s)}))}Qf=!0,t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("matic",137,{ensNetwork:1,plugins:[Vf("https://gasstation.polygon.technology/v2")]}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Vf("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[zf(BigInt("1000000"))]}),t("optimism-goerli",420,{}),t("xdai",100,{ensNetwork:1})}(),null==t)return jf.from("mainnet");if("number"==typeof t&&(t=BigInt(t)),"string"==typeof t||"bigint"==typeof t){const e=Uf.get(t);if(e)return e();if("bigint"==typeof t)return new jf("unknown",t);gs(!1,"unknown network","network",t)}if("function"==typeof t.clone){return t.clone()}if("object"==typeof t){gs("string"==typeof t.name&&"number"==typeof t.chainId,"invalid network object name or chainId","network",t);const e=new jf(t.name,t.chainId);return(t.ensAddress||null!=t.ensNetwork)&&e.attachPlugin(new Rf(t.ensAddress,t.ensNetwork)),e}gs(!1,"invalid network","network",t)}static register(t,e){"number"==typeof t&&(t=BigInt(t));const r=Uf.get(t);r&&gs(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",t),Uf.set(t,e)}}function Gf(t,e){const r=String(t);if(!r.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const s=r.split(".");if(1===s.length&&s.push(""),2!==s.length)throw new Error(`invalid gwei value: ${t}`);for(;s[1].length<e;)s[1]+="0";if(s[1].length>9){let t=BigInt(s[1].substring(0,9));s[1].substring(9).match(/^0+$/)||t++,s[1]=t.toString()}return BigInt(s[0]+s[1])}function Vf(t){return new Lf(t,(async(t,e,r)=>{let s;r.setHeader("User-Agent","ethers");try{const[e,n]=await Promise.all([r.send(),t()]);s=e;const i=s.bodyJson.standard;return{gasPrice:n.gasPrice,maxFeePerGas:Gf(i.maxFee,9),maxPriorityFeePerGas:Gf(i.maxPriorityFee,9)}}catch(t){ms(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:s,error:t})}}))}function zf(t){return new Lf("data:",(async(e,r,s)=>{const n=await e();if(null==n.maxFeePerGas||null==n.maxPriorityFeePerGas)return n;const i=n.maxFeePerGas-n.maxPriorityFeePerGas;return{gasPrice:n.gasPrice,maxFeePerGas:i+t,maxPriorityFeePerGas:t}}))}let Qf=!1;function Hf(t){return JSON.parse(JSON.stringify(t))}class qf{#St;#It;#_t;#Tt;constructor(t){this.#St=t,this.#It=null,this.#_t=4e3,this.#Tt=-2}get pollingInterval(){return this.#_t}set pollingInterval(t){this.#_t=t}async#Mt(){try{const t=await this.#St.getBlockNumber();if(-2===this.#Tt)return void(this.#Tt=t);if(t!==this.#Tt){for(let e=this.#Tt+1;e<=t;e++){if(null==this.#It)return;await this.#St.emit("block",e)}this.#Tt=t}}catch(t){}null!=this.#It&&(this.#It=this.#St._setTimeout(this.#Mt.bind(this),this.#_t))}start(){this.#It||(this.#It=this.#St._setTimeout(this.#Mt.bind(this),this.#_t),this.#Mt())}stop(){this.#It&&(this.#St._clearTimeout(this.#It),this.#It=null)}pause(t){this.stop(),t&&(this.#Tt=-2)}resume(){this.start()}}class Kf{#St;#Mt;#Dt;constructor(t){this.#St=t,this.#Dt=!1,this.#Mt=t=>{this._poll(t,this.#St)}}async _poll(t,e){throw new Error("sub-classes must override this")}start(){this.#Dt||(this.#Dt=!0,this.#Mt(-2),this.#St.on("block",this.#Mt))}stop(){this.#Dt&&(this.#Dt=!1,this.#St.off("block",this.#Mt))}pause(t){this.stop()}resume(){this.start()}}class Wf extends Kf{#st;constructor(t,e){super(t),this.#st=Hf(e)}async _poll(t,e){throw new Error("@TODO")}}class Jf extends Kf{#Bt;constructor(t,e){super(t),this.#Bt=e}async _poll(t,e){const r=await e.getTransactionReceipt(this.#Bt);r&&e.emit(this.#Bt,r)}}class Yf{#St;#st;#It;#Dt;#Tt;constructor(t,e){this.#St=t,this.#st=Hf(e),this.#It=this.#Mt.bind(this),this.#Dt=!1,this.#Tt=-2}async#Mt(t){if(-2===this.#Tt)return;const e=Hf(this.#st);e.fromBlock=this.#Tt+1,e.toBlock=t;const r=await this.#St.getLogs(e);if(0!==r.length)for(const t of r)this.#St.emit(this.#st,t),this.#Tt=t.blockNumber;else this.#Tt<t-60&&(this.#Tt=t-60)}start(){this.#Dt||(this.#Dt=!0,-2===this.#Tt&&this.#St.getBlockNumber().then((t=>{this.#Tt=t})),this.#St.on("block",this.#It))}stop(){this.#Dt&&(this.#Dt=!1,this.#St.off("block",this.#It))}pause(t){this.stop(),t&&(this.#Tt=-2)}resume(){this.start()}}const Zf=BigInt(2);function Xf(t){return t&&"function"==typeof t.then}function $f(t,e){return t+":"+JSON.stringify(e,((t,e)=>{if(null==e)return"null";if("bigint"==typeof e)return`bigint:${e.toString()}`;if("string"==typeof e)return e.toLowerCase();if("object"==typeof e&&!Array.isArray(e)){const t=Object.keys(e);return t.sort(),t.reduce(((t,r)=>(t[r]=e[r],t)),{})}return e}))}class tm{name;constructor(t){hs(this,{name:t})}start(){}stop(){}pause(t){}resume(){}}function em(t){return(t=Array.from(new Set(t).values())).sort(),t}async function rm(t,e){if(null==t)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),"string"==typeof t)switch(t){case"block":case"pending":case"debug":case"error":case"network":return{type:t,tag:t}}if(Es(t,32)){const e=t.toLowerCase();return{type:"transaction",tag:$f("tx",{hash:e}),hash:e}}if(t.orphan){const e=t;return{type:"orphan",tag:$f("orphan",e),filter:(r=e,JSON.parse(JSON.stringify(r)))}}var r;if(t.address||t.topics){const r=t,s={topics:(r.topics||[]).map((t=>null==t?null:Array.isArray(t)?em(t.map((t=>t.toLowerCase()))):t.toLowerCase()))};if(r.address){const t=[],n=[],i=r=>{Es(r)?t.push(r):n.push((async()=>{t.push(await ou(r,e))})())};Array.isArray(r.address)?r.address.forEach(i):i(r.address),n.length&&await Promise.all(n),s.address=em(t.map((t=>t.toLowerCase())))}return{filter:s,tag:$f("event",s),type:"event"}}gs(!1,"unknown ProviderEvent","event",t)}function sm(){return(new Date).getTime()}const nm={cacheTimeout:250,pollingInterval:4e3};class im{#Ft;#Ct;#Ot;#Nt;#Rt;#Lt;#Ut;#jt;#Gt;#Vt;#zt;#m;constructor(t,e){if(this.#m=Object.assign({},nm,e||{}),"any"===t)this.#Lt=!0,this.#Rt=null;else if(t){const e=jf.from(t);this.#Lt=!1,this.#Rt=Promise.resolve(e),setTimeout((()=>{this.emit("network",e,null)}),0)}else this.#Lt=!1,this.#Rt=null;this.#jt=-1,this.#Ut=new Map,this.#Ft=new Map,this.#Ct=new Map,this.#Ot=null,this.#Nt=!1,this.#Gt=1,this.#Vt=new Map,this.#zt=!1}get pollingInterval(){return this.#m.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#Ct.values())}attachPlugin(t){if(this.#Ct.get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return this.#Ct.set(t.name,t.connect(this)),this}getPlugin(t){return this.#Ct.get(t)||null}get disableCcipRead(){return this.#zt}set disableCcipRead(t){this.#zt=!!t}async#Qt(t){const e=this.#m.cacheTimeout;if(e<0)return await this._perform(t);const r=$f(t.method,t);let s=this.#Ut.get(r);return s||(s=this._perform(t),this.#Ut.set(r,s),setTimeout((()=>{this.#Ut.get(r)===s&&this.#Ut.delete(r)}),e)),await s}async ccipReadFetch(t,e,r){if(this.disableCcipRead||0===r.length||null==t.to)return null;const s=t.to.toLowerCase(),n=e.toLowerCase(),i=[];for(let e=0;e<r.length;e++){const a=r[e],o=a.replace("{sender}",s).replace("{data}",n),l=new Ou(o);-1===a.indexOf("{data}")&&(l.body={data:n,sender:s}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:l,index:e,urls:r});let c="unknown error";const h=await l.send();try{const t=h.bodyJson;if(t.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:l,result:t}),t.data;t.message&&(c=t.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:l,result:t})}catch(t){}ms(h.statusCode<400||h.statusCode>=500,`response not found during CCIP fetch: ${c}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:t,info:{url:a,errorMessage:c}}),i.push(c)}ms(!1,`error encountered during CCIP fetch: ${i.map((t=>JSON.stringify(t))).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:t,info:{urls:r,errorMessages:i}})}_wrapBlock(t,e){return new Zu(function(t){const e=Mf(t);return e.transactions=t.transactions.map((t=>"string"==typeof t?t:Ff(t))),e}(t),this)}_wrapLog(t,e){return new Xu(function(t){return Tf(t)}(t),this)}_wrapTransactionReceipt(t,e){return new $u(function(t){return Bf(t)}(t),this)}_wrapTransactionResponse(t,e){return new td(Ff(t),this)}_detectNetwork(){ms(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(t){ms(!1,`unsupported method: ${t.method}`,"UNSUPPORTED_OPERATION",{operation:t.method,info:t})}async getBlockNumber(){const t=Gs(await this.#Qt({method:"getBlockNumber"}),"%response");return this.#jt>=0&&(this.#jt=t),t}_getAddress(t){return ou(t,this)}_getBlockTag(t){if(null==t)return"latest";switch(t){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return t}return Es(t)?Es(t,32)?t:Qs(t):("bigint"==typeof t&&(t=Gs(t,"blockTag")),"number"==typeof t?t>=0?Qs(t):this.#jt>=0?Qs(this.#jt+t):this.getBlockNumber().then((e=>Qs(e+t))):void gs(!1,"invalid blockTag","blockTag",t))}_getFilter(t){const e=(t.topics||[]).map((t=>null==t?null:Array.isArray(t)?em(t.map((t=>t.toLowerCase()))):t.toLowerCase())),r="blockHash"in t?t.blockHash:void 0,s=(t,s,n)=>{let i;switch(t.length){case 0:break;case 1:i=t[0];break;default:t.sort(),i=t}if(r&&(null!=s||null!=n))throw new Error("invalid filter");const a={};return i&&(a.address=i),e.length&&(a.topics=e),s&&(a.fromBlock=s),n&&(a.toBlock=n),r&&(a.blockHash=r),a};let n,i,a=[];if(t.address)if(Array.isArray(t.address))for(const e of t.address)a.push(this._getAddress(e));else a.push(this._getAddress(t.address));return"fromBlock"in t&&(n=this._getBlockTag(t.fromBlock)),"toBlock"in t&&(i=this._getBlockTag(t.toBlock)),a.filter((t=>"string"!=typeof t)).length||null!=n&&"string"!=typeof n||null!=i&&"string"!=typeof i?Promise.all([Promise.all(a),n,i]).then((t=>s(t[0],t[1],t[2]))):s(a,n,i)}_getTransactionRequest(t){const e=Yu(t),r=[];if(["to","from"].forEach((t=>{if(null==e[t])return;const s=ou(e[t],this);Xf(s)?r.push(async function(){e[t]=await s}()):e[t]=s})),null!=e.blockTag){const t=this._getBlockTag(e.blockTag);Xf(t)?r.push(async function(){e.blockTag=await t}()):e.blockTag=t}return r.length?async function(){return await Promise.all(r),e}():e}async getNetwork(){if(null==this.#Rt){const t=this._detectNetwork().then((t=>(this.emit("network",t,null),t)),(e=>{throw this.#Rt===t&&(this.#Rt=null),e}));return this.#Rt=t,(await t).clone()}const t=this.#Rt,[e,r]=await Promise.all([t,this._detectNetwork()]);return e.chainId!==r.chainId&&(this.#Lt?(this.emit("network",r,e),this.#Rt===t&&(this.#Rt=Promise.resolve(r))):ms(!1,`network changed: ${e.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),e.clone()}async getFeeData(){const t=await this.getNetwork(),e=async()=>{const{_block:e,gasPrice:r}=await cs({_block:this.#Ht("latest",!1),gasPrice:(async()=>{try{return Rs(await this.#Qt({method:"getGasPrice"}),"%response")}catch(t){}return null})()});let s=null,n=null;const i=this._wrapBlock(e,t);return i&&i.baseFeePerGas&&(n=BigInt("1000000000"),s=i.baseFeePerGas*Zf+n),new Ju(r,s,n)},r=t.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const t=new Ou(r.url),s=await r.processFunc(e,this,t);return new Ju(s.gasPrice,s.maxFeePerGas,s.maxPriorityFeePerGas)}return await e()}async estimateGas(t){let e=this._getTransactionRequest(t);return Xf(e)&&(e=await e),Rs(await this.#Qt({method:"estimateGas",transaction:e}),"%response")}async#qt(t,e,r){ms(r<10,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},t,{blockTag:e,enableCcipRead:!0})});const s=Yu(t);try{return Ps(await this._perform({method:"call",transaction:s,blockTag:e}))}catch(t){if(!this.disableCcipRead&&ps(t)&&t.data&&r>=0&&"latest"===e&&null!=s.to&&"0x556f1830"===Is(t.data,0,4)){const n=t.data,i=await ou(s.to,this);let a;try{a=function(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};ms(Ss(t)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const r=Is(t,0,32);ms(Is(r,0,12)===Is(dm,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=Is(r,12);try{const r=[],s=Gs(Is(t,32,64)),n=Gs(Is(t,s,s+32)),i=Is(t,s+32);for(let t=0;t<n;t++){const e=am(i,32*t);if(null==e)throw new Error("abort");r.push(e)}e.urls=r}catch(t){ms(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=om(t,64);if(null==r)throw new Error("abort");e.calldata=r}catch(t){ms(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}ms(Is(t,100,128)===Is(dm,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=Is(t,96,100);try{const r=om(t,128);if(null==r)throw new Error("abort");e.extraData=r}catch(t){ms(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map((t=>e[t])),e}(Is(t.data,4))}catch(t){ms(!1,t.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:s,info:{data:n}})}ms(a.sender.toLowerCase()===i.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:n,reason:"OffchainLookup",transaction:s,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:a.errorArgs}});const o=await this.ccipReadFetch(s,a.calldata,a.urls);ms(null!=o,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:s,info:{data:t.data,errorArgs:a.errorArgs}});const l={to:i,data:Cs([a.selector,um([o,a.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:l});try{const t=await this.#qt(l,e,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},l),result:t}),t}catch(t){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},l),error:t}),t}}throw t}}async#Kt(t){const{value:e}=await cs({network:this.getNetwork(),value:t});return e}async call(t){const{tx:e,blockTag:r}=await cs({tx:this._getTransactionRequest(t),blockTag:this._getBlockTag(t.blockTag)});return await this.#Kt(this.#qt(e,r,t.enableCcipRead?0:-1))}async#Wt(t,e,r){let s=this._getAddress(e),n=this._getBlockTag(r);return"string"==typeof s&&"string"==typeof n||([s,n]=await Promise.all([s,n])),await this.#Kt(this.#Qt(Object.assign(t,{address:s,blockTag:n})))}async getBalance(t,e){return Rs(await this.#Wt({method:"getBalance"},t,e),"%response")}async getTransactionCount(t,e){return Gs(await this.#Wt({method:"getTransactionCount"},t,e),"%response")}async getCode(t,e){return Ps(await this.#Wt({method:"getCode"},t,e))}async getStorage(t,e,r){const s=Rs(e,"position");return Ps(await this.#Wt({method:"getStorage",position:s},t,r))}async broadcastTransaction(t){const{blockNumber:e,hash:r,network:s}=await cs({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:t}),network:this.getNetwork()}),n=gf.from(t);if(n.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(n,s).replaceableTransaction(e)}async#Ht(t,e){if(Es(t,32))return await this.#Qt({method:"getBlock",blockHash:t,includeTransactions:e});let r=this._getBlockTag(t);return"string"!=typeof r&&(r=await r),await this.#Qt({method:"getBlock",blockTag:r,includeTransactions:e})}async getBlock(t,e){const{network:r,params:s}=await cs({network:this.getNetwork(),params:this.#Ht(t,!!e)});return null==s?null:this._wrapBlock(s,r)}async getTransaction(t){const{network:e,params:r}=await cs({network:this.getNetwork(),params:this.#Qt({method:"getTransaction",hash:t})});return null==r?null:this._wrapTransactionResponse(r,e)}async getTransactionReceipt(t){const{network:e,params:r}=await cs({network:this.getNetwork(),params:this.#Qt({method:"getTransactionReceipt",hash:t})});if(null==r)return null;if(null==r.gasPrice&&null==r.effectiveGasPrice){const e=await this.#Qt({method:"getTransaction",hash:t});if(null==e)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=e.gasPrice}return this._wrapTransactionReceipt(r,e)}async getTransactionResult(t){const{result:e}=await cs({network:this.getNetwork(),result:this.#Qt({method:"getTransactionResult",hash:t})});return null==e?null:Ps(e)}async getLogs(t){let e=this._getFilter(t);Xf(e)&&(e=await e);const{network:r,params:s}=await cs({network:this.getNetwork(),params:this.#Qt({method:"getLogs",filter:e})});return s.map((t=>this._wrapLog(t,r)))}_getProvider(t){ms(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(t){return await Ef.fromName(this,t)}async getAvatar(t){const e=await this.getResolver(t);return e?await e.getAvatar():null}async resolveName(t){const e=await this.getResolver(t);return e?await e.getAddress():null}async lookupAddress(t){const e=Rd((t=Fc(t)).substring(2).toLowerCase()+".addr.reverse");try{const r=await Ef.getEnsAddress(this),s=new Dd(r,["function resolver(bytes32) view returns (address)"],this),n=await s.resolver(e);if(null==n||n===Lu)return null;const i=new Dd(n,["function name(bytes32) view returns (string)"],this),a=await i.name(e);return await this.resolveName(a)!==t?null:a}catch(t){if(ds(t,"BAD_DATA")&&"0x"===t.value)return null;if(ds(t,"CALL_EXCEPTION"))return null;throw t}return null}async waitForTransaction(t,e,r){const s=null!=e?e:1;return 0===s?this.getTransactionReceipt(t):new Promise((async(e,n)=>{let i=null;const a=async r=>{try{const n=await this.getTransactionReceipt(t);if(null!=n&&r-n.blockNumber+1>=s)return e(n),void(i&&(clearTimeout(i),i=null))}catch(t){console.log("EEE",t)}this.once("block",a)};null!=r&&(i=setTimeout((()=>{null!=i&&(i=null,this.off("block",a),n(fs("timeout","TIMEOUT",{reason:"timeout"})))}),r)),a(await this.getBlockNumber())}))}async waitForBlock(t){ms(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(t){const e=this.#Vt.get(t);e&&(e.timer&&clearTimeout(e.timer),this.#Vt.delete(t))}_setTimeout(t,e){null==e&&(e=0);const r=this.#Gt++,s=()=>{this.#Vt.delete(r),t()};if(this.paused)this.#Vt.set(r,{timer:null,func:s,time:e});else{const t=setTimeout(s,e);this.#Vt.set(r,{timer:t,func:s,time:sm()})}return r}_forEachSubscriber(t){for(const e of this.#Ft.values())t(e.subscriber)}_getSubscriber(t){switch(t.type){case"debug":case"error":case"network":return new tm(t.type);case"block":{const t=new qf(this);return t.pollingInterval=this.pollingInterval,t}case"event":return new Yf(this,t.filter);case"transaction":return new Jf(this,t.hash);case"orphan":return new Wf(this,t.filter)}throw new Error(`unsupported event: ${t.type}`)}_recoverSubscriber(t,e){for(const r of this.#Ft.values())if(r.subscriber===t){r.started&&r.subscriber.stop(),r.subscriber=e,r.started&&e.start(),null!=this.#Ot&&e.pause(this.#Ot);break}}async#Jt(t,e){let r=await rm(t,this);return"event"===r.type&&e&&e.length>0&&!0===e[0].removed&&(r=await rm({orphan:"drop-log",log:e[0]},this)),this.#Ft.get(r.tag)||null}async#Yt(t){const e=await rm(t,this),r=e.tag;let s=this.#Ft.get(r);if(!s){s={subscriber:this._getSubscriber(e),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#Ft.set(r,s)}return s}async on(t,e){const r=await this.#Yt(t);return r.listeners.push({listener:e,once:!1}),r.started||(r.subscriber.start(),r.started=!0,null!=this.#Ot&&r.subscriber.pause(this.#Ot)),this}async once(t,e){const r=await this.#Yt(t);return r.listeners.push({listener:e,once:!0}),r.started||(r.subscriber.start(),r.started=!0,null!=this.#Ot&&r.subscriber.pause(this.#Ot)),this}async emit(t,...e){const r=await this.#Jt(t,e);if(!r||0===r.listeners.length)return!1;const s=r.listeners.length;return r.listeners=r.listeners.filter((({listener:r,once:s})=>{const n=new sd(this,s?null:r,t);try{r.call(this,...e,n)}catch(t){}return!s})),0===r.listeners.length&&(r.started&&r.subscriber.stop(),this.#Ft.delete(r.tag)),s>0}async listenerCount(t){if(t){const e=await this.#Jt(t);return e?e.listeners.length:0}let e=0;for(const{listeners:t}of this.#Ft.values())e+=t.length;return e}async listeners(t){if(t){const e=await this.#Jt(t);return e?e.listeners.map((({listener:t})=>t)):[]}let e=[];for(const{listeners:t}of this.#Ft.values())e=e.concat(t.map((({listener:t})=>t)));return e}async off(t,e){const r=await this.#Jt(t);if(!r)return this;if(e){const t=r.listeners.map((({listener:t})=>t)).indexOf(e);t>=0&&r.listeners.splice(t,1)}return e&&0!==r.listeners.length||(r.started&&r.subscriber.stop(),this.#Ft.delete(r.tag)),this}async removeAllListeners(t){if(t){const{tag:e,started:r,subscriber:s}=await this.#Yt(t);r&&s.stop(),this.#Ft.delete(e)}else for(const[t,{started:e,subscriber:r}]of this.#Ft)e&&r.stop(),this.#Ft.delete(t);return this}async addListener(t,e){return await this.on(t,e)}async removeListener(t,e){return this.off(t,e)}get destroyed(){return this.#Nt}destroy(){this.removeAllListeners();for(const t of this.#Vt.keys())this._clearTimeout(t);this.#Nt=!0}get paused(){return null!=this.#Ot}set paused(t){!!t!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(t){if(this.#jt=-1,null!=this.#Ot){if(this.#Ot==!!t)return;ms(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber((e=>e.pause(t))),this.#Ot=!!t;for(const t of this.#Vt.values())t.timer&&clearTimeout(t.timer),t.time=sm()-t.time}resume(){if(null!=this.#Ot){this._forEachSubscriber((t=>t.resume())),this.#Ot=null;for(const t of this.#Vt.values()){let e=t.time;e<0&&(e=0),t.time=sm(),setTimeout(t.func,e)}}}}function am(t,e){try{const r=om(t,e);if(r)return ih(r)}catch(t){}return null}function om(t,e){if("0x"===t)return null;try{const r=Gs(Is(t,e,e+32)),s=Gs(Is(t,r,r+32));return Is(t,r+32,r+32+s)}catch(t){}return null}function lm(t){const e=zs(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function cm(t){if(t.length%32==0)return t;const e=new Uint8Array(32*Math.ceil(t.length/32));return e.set(t),e}const hm=new Uint8Array([]);function um(t){const e=[];let r=0;for(let s=0;s<t.length;s++)e.push(hm),r+=32;for(let s=0;s<t.length;s++){const n=As(t[s]);e[s]=lm(r),e.push(lm(n.length)),e.push(cm(n)),r+=32+32*Math.ceil(n.length/32)}return Cs(e)}const dm="0x0000000000000000000000000000000000000000000000000000000000000000";function pm(t,e){if(t.provider)return t.provider;ms(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function fm(t,e){let r=Yu(e);if(null!=r.to&&(r.to=ou(r.to,t)),null!=r.from){const e=r.from;r.from=Promise.all([t.getAddress(),ou(e,t)]).then((([t,e])=>(gs(t.toLowerCase()===e.toLowerCase(),"transaction from mismatch","tx.from",e),t)))}else r.from=t.getAddress();return await cs(r)}class mm{provider;constructor(t){hs(this,{provider:t||null})}async getNonce(t){return pm(this,"getTransactionCount").getTransactionCount(await this.getAddress(),t)}async populateCall(t){return await fm(this,t)}async populateTransaction(t){const e=pm(this,"populateTransaction"),r=await fm(this,t);null==r.nonce&&(r.nonce=await this.getNonce("pending")),null==r.gasLimit&&(r.gasLimit=await this.estimateGas(r));const s=await this.provider.getNetwork();if(null!=r.chainId){gs(Rs(r.chainId)===s.chainId,"transaction chainId mismatch","tx.chainId",t.chainId)}else r.chainId=s.chainId;const n=null!=r.maxFeePerGas||null!=r.maxPriorityFeePerGas;if(null==r.gasPrice||2!==r.type&&!n?0!==r.type&&1!==r.type||!n||gs(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",t):gs(!1,"eip-1559 transaction do not support gasPrice","tx",t),2!==r.type&&null!=r.type||null==r.maxFeePerGas||null==r.maxPriorityFeePerGas)if(0===r.type||1===r.type){const t=await e.getFeeData();ms(null!=t.gasPrice,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),null==r.gasPrice&&(r.gasPrice=t.gasPrice)}else{const t=await e.getFeeData();if(null==r.type)if(null!=t.maxFeePerGas&&null!=t.maxPriorityFeePerGas)if(r.type=2,null!=r.gasPrice){const t=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=t,r.maxPriorityFeePerGas=t}else null==r.maxFeePerGas&&(r.maxFeePerGas=t.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=t.maxPriorityFeePerGas);else null!=t.gasPrice?(ms(!n,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),null==r.gasPrice&&(r.gasPrice=t.gasPrice),r.type=0):ms(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else 2===r.type&&(null==r.maxFeePerGas&&(r.maxFeePerGas=t.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=t.maxPriorityFeePerGas))}else r.type=2;return await cs(r)}async estimateGas(t){return pm(this,"estimateGas").estimateGas(await this.populateCall(t))}async call(t){return pm(this,"call").call(await this.populateCall(t))}async resolveName(t){const e=pm(this,"resolveName");return await e.resolveName(t)}async sendTransaction(t){const e=pm(this,"sendTransaction"),r=await this.populateTransaction(t);delete r.from;const s=gf.from(r);return await e.broadcastTransaction(await this.signTransaction(s))}}class gm{#St;#Zt;#It;#Dt;#Xt;#$t;constructor(t){this.#St=t,this.#Zt=null,this.#It=this.#Mt.bind(this),this.#Dt=!1,this.#Xt=null,this.#$t=!1}_subscribe(t){throw new Error("subclasses must override this")}_emitResults(t,e){throw new Error("subclasses must override this")}_recover(t){throw new Error("subclasses must override this")}async#Mt(t){try{null==this.#Zt&&(this.#Zt=this._subscribe(this.#St));let t=null;try{t=await this.#Zt}catch(t){if(!ds(t,"UNSUPPORTED_OPERATION")||"eth_newFilter"!==t.operation)throw t}if(null==t)return this.#Zt=null,void this.#St._recoverSubscriber(this,this._recover(this.#St));const e=await this.#St.getNetwork();if(this.#Xt||(this.#Xt=e),this.#Xt.chainId!==e.chainId)throw new Error("chaid changed");if(this.#$t)return;const r=await this.#St.send("eth_getFilterChanges",[t]);await this._emitResults(this.#St,r)}catch(t){console.log("@TODO",t)}this.#St.once("block",this.#It)}#te(){const t=this.#Zt;t&&(this.#Zt=null,t.then((t=>{this.#St.send("eth_uninstallFilter",[t])})))}start(){this.#Dt||(this.#Dt=!0,this.#Mt(-2))}stop(){this.#Dt&&(this.#Dt=!1,this.#$t=!0,this.#te(),this.#St.off("block",this.#It))}pause(t){t&&this.#te(),this.#St.off("block",this.#It)}resume(){this.start()}}class ym extends gm{#ee;constructor(t,e){var r;super(t),this.#ee=(r=e,JSON.parse(JSON.stringify(r)))}_recover(t){return new Yf(t,this.#ee)}async _subscribe(t){return await t.send("eth_newFilter",[this.#ee])}async _emitResults(t,e){for(const r of e)t.emit(this.#ee,t._wrapLog(r,t._network))}}class bm extends gm{async _subscribe(t){return await t.send("eth_newPendingTransactionFilter",[])}async _emitResults(t,e){for(const r of e)t.emit("pending",r)}}const vm="bigint,boolean,function,number,string,symbol".split(/,/g);function wm(t){if(null==t||vm.indexOf(typeof t)>=0)return t;if("function"==typeof t.getAddress)return t;if(Array.isArray(t))return t.map(wm);if("object"==typeof t)return Object.keys(t).reduce(((e,r)=>(e[r]=t[r],e)),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function Am(t){return new Promise((e=>{setTimeout(e,t)}))}function km(t){return t?t.toLowerCase():t}function Em(t){return t&&"number"==typeof t.pollingInterval}const xm={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class Pm extends mm{address;constructor(t,e){super(t),hs(this,{address:e=Fc(e)})}connect(t){ms(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(t){return await this.populateCall(t)}async sendUncheckedTransaction(t){const e=wm(t),r=[];if(e.from){const s=e.from;r.push((async()=>{const r=await ou(s,this.provider);gs(null!=r&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),e.from=r})())}else e.from=this.address;if(null==e.gasLimit&&r.push((async()=>{e.gasLimit=await this.provider.estimateGas({...e,from:this.address})})()),null!=e.to){const t=e.to;r.push((async()=>{e.to=await ou(t,this.provider)})())}r.length&&await Promise.all(r);const s=this.provider.getRpcTransaction(e);return this.provider.send("eth_sendTransaction",[s])}async sendTransaction(t){const e=await this.provider.getBlockNumber(),r=await this.sendUncheckedTransaction(t);return await new Promise(((t,s)=>{const n=[1e3,100],i=async()=>{const s=await this.provider.getTransaction(r);null==s?this.provider._setTimeout((()=>{i()}),n.pop()||4e3):t(s.replaceableTransaction(e))};i()}))}async signTransaction(t){const e=wm(t);if(e.from){const r=await ou(e.from,this.provider);gs(null!=r&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),e.from=r}else e.from=this.address;const r=this.provider.getRpcTransaction(e);return await this.provider.send("eth_signTransaction",[r])}async signMessage(t){const e="string"==typeof t?nh(t):t;return await this.provider.send("personal_sign",[Ps(e),this.address.toLowerCase()])}async signTypedData(t,e,r){const s=wm(r),n=await Au.resolveNames(t,e,s,(async t=>{const e=await ou(t);return gs(null!=e,"TypedData does not support null address","value",t),e}));return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Au.getPayload(n.domain,e,n.value))])}async unlock(t){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),t,null])}async _legacySignMessage(t){const e="string"==typeof t?nh(t):t;return await this.provider.send("eth_sign",[this.address.toLowerCase(),Ps(e)])}}class Cm extends im{#m;#re;#se;#ne;#ie;#Xt;#ae(){if(this.#ne)return;const t=1===this._getOption("batchMaxCount")?0:this._getOption("batchStallTime");this.#ne=setTimeout((()=>{this.#ne=null;const t=this.#se;for(this.#se=[];t.length;){const e=[t.shift()];for(;t.length&&e.length!==this.#m.batchMaxCount;){e.push(t.shift());const r=JSON.stringify(e.map((t=>t.payload)));if(r.length>this.#m.batchMaxSize){t.unshift(e.pop());break}}(async()=>{const t=1===e.length?e[0].payload:e.map((t=>t.payload));this.emit("debug",{action:"sendRpcPayload",payload:t});try{const r=await this._send(t);this.emit("debug",{action:"receiveRpcResult",result:r});for(const{resolve:t,reject:s,payload:n}of e){if(this.destroyed){s(fs("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n.method}));continue}const e=r.filter((t=>t.id===n.id))[0];if(null!=e)"error"in e?s(this.getRpcError(n,e)):t(e.result);else{const t=fs("missing response for request","BAD_DATA",{value:r,info:{payload:n}});this.emit("error",t),s(t)}}}catch(t){this.emit("debug",{action:"receiveRpcError",error:t});for(const{reject:r}of e)r(t)}})()}}),t)}constructor(t,e){super(t,e),this.#re=1,this.#m=Object.assign({},xm,e||{}),this.#se=[],this.#ne=null,this.#Xt=null;{let t=null;const e=new Promise((e=>{t=e}));this.#ie={promise:e,resolve:t}}const r=this._getOption("staticNetwork");r&&(gs(null==t||r.matches(t),"staticNetwork MUST match network object","options",e),this.#Xt=r)}_getOption(t){return this.#m[t]}get _network(){return ms(this.#Xt,"network is not available yet","NETWORK_ERROR"),this.#Xt}async _perform(t){if("call"===t.method||"estimateGas"===t.method){let e=t.transaction;if(e&&null!=e.type&&Rs(e.type)&&null==e.maxFeePerGas&&null==e.maxPriorityFeePerGas){const r=await this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&(t=Object.assign({},t,{transaction:Object.assign({},e,{type:void 0})}))}}const e=this.getRpcRequest(t);return null!=e?await this.send(e.method,e.args):super._perform(t)}async _detectNetwork(){const t=this._getOption("staticNetwork");if(t)return t;if(this.ready)return jf.from(Rs(await this.send("eth_chainId",[])));const e={id:this.#re++,method:"eth_chainId",params:[],jsonrpc:"2.0"};let r;this.emit("debug",{action:"sendRpcPayload",payload:e});try{r=(await this._send(e))[0]}catch(t){throw this.emit("debug",{action:"receiveRpcError",error:t}),t}if(this.emit("debug",{action:"receiveRpcResult",result:r}),"result"in r)return jf.from(Rs(r.result));throw this.getRpcError(e,r)}_start(){null!=this.#ie&&null!=this.#ie.resolve&&(this.#ie.resolve(),this.#ie=null,(async()=>{for(;null==this.#Xt&&!this.destroyed;)try{this.#Xt=await this._detectNetwork()}catch(t){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",fs("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:t}})),await Am(1e3)}this.#ae()})())}async _waitUntilReady(){if(null!=this.#ie)return await this.#ie.promise}_getSubscriber(t){return"pending"===t.type?new bm(this):"event"===t.type?this._getOption("polling")?new Yf(this,t.filter):new ym(this,t.filter):"orphan"===t.type&&"drop-log"===t.filter.orphan?new tm("orphan"):super._getSubscriber(t)}get ready(){return null==this.#ie}getRpcTransaction(t){const e={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((r=>{if(null==t[r])return;let s=r;"gasLimit"===r&&(s="gas"),e[s]=Qs(Rs(t[r],`tx.${r}`))})),["from","to","data"].forEach((r=>{null!=t[r]&&(e[r]=Ps(t[r]))})),t.accessList&&(e.accessList=Eu(t.accessList)),e}getRpcRequest(t){switch(t.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getBalance":return{method:"eth_getBalance",args:[km(t.address),t.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[km(t.address),t.blockTag]};case"getCode":return{method:"eth_getCode",args:[km(t.address),t.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[km(t.address),"0x"+t.position.toString(16),t.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[t.signedTransaction]};case"getBlock":if("blockTag"in t)return{method:"eth_getBlockByNumber",args:[t.blockTag,!!t.includeTransactions]};if("blockHash"in t)return{method:"eth_getBlockByHash",args:[t.blockHash,!!t.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[t.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[t.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(t.transaction),t.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(t.transaction)]};case"getLogs":return t.filter&&null!=t.filter.address&&(Array.isArray(t.filter.address)?t.filter.address=t.filter.address.map(km):t.filter.address=km(t.filter.address)),{method:"eth_getLogs",args:[t.filter]}}return null}getRpcError(t,e){const{method:r}=t,{error:s}=e;if("eth_estimateGas"===r&&s.message){const e=s.message;if(!e.match(/revert/i)&&e.match(/insufficient funds/i))return fs("insufficient funds","INSUFFICIENT_FUNDS",{transaction:t.params[0],info:{payload:t,error:s}})}if("eth_call"===r||"eth_estimateGas"===r){const e=_m(s),n=nu.getBuiltinCallException("eth_call"===r?"call":"estimateGas",t.params[0],e?e.data:null);return n.info={error:s,payload:t},n}const n=JSON.stringify(function(t){const e=[];return Tm(t,e),e}(s));if("string"==typeof s.message&&s.message.match(/user denied|ethers-user-denied/i)){return fs("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[r]||"unknown",reason:"rejected",info:{payload:t,error:s}})}if("eth_sendRawTransaction"===r||"eth_sendTransaction"===r){const e=t.params[0];if(n.match(/insufficient funds|base fee exceeds gas limit/i))return fs("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:e,info:{error:s}});if(n.match(/nonce/i)&&n.match(/too low/i))return fs("nonce has already been used","NONCE_EXPIRED",{transaction:e,info:{error:s}});if(n.match(/replacement transaction/i)&&n.match(/underpriced/i))return fs("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:e,info:{error:s}});if(n.match(/only replay-protected/i))return fs("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:r,info:{transaction:e,info:{error:s}}})}let i=!!n.match(/the method .* does not exist/i);return i||s&&s.details&&s.details.startsWith("Unauthorized method:")&&(i=!0),i?fs("unsupported operation","UNSUPPORTED_OPERATION",{operation:t.method,info:{error:s,payload:t}}):fs("could not coalesce error","UNKNOWN_ERROR",{error:s,payload:t})}send(t,e){if(this.destroyed)return Promise.reject(fs("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t}));const r=this.#re++,s=new Promise(((s,n)=>{this.#se.push({resolve:s,reject:n,payload:{method:t,params:e,id:r,jsonrpc:"2.0"}})}));return this.#ae(),s}async getSigner(t){null==t&&(t=0);const e=this.send("eth_accounts",[]);if("number"==typeof t){const r=await e;if(t>=r.length)throw new Error("no such account");return new Pm(this,r[t])}const{accounts:r}=await cs({network:this.getNetwork(),accounts:e});t=Fc(t);for(const e of r)if(Fc(e)===t)return new Pm(this,t);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map((t=>new Pm(this,t)))}destroy(){this.#ne&&(clearTimeout(this.#ne),this.#ne=null);for(const{payload:t,reject:e}of this.#se)e(fs("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t.method}));this.#se=[],super.destroy()}}class Sm extends Cm{#oe;constructor(t,e){super(t,e),this.#oe=4e3}_getSubscriber(t){const e=super._getSubscriber(t);return Em(e)&&(e.pollingInterval=this.#oe),e}get pollingInterval(){return this.#oe}set pollingInterval(t){if(!Number.isInteger(t)||t<0)throw new Error("invalid interval");this.#oe=t,this._forEachSubscriber((t=>{Em(t)&&(t.pollingInterval=this.#oe)}))}}class Im extends Sm{#le;constructor(t,e,r){null==t&&(t="http://localhost:8545"),super(e,r),this.#le="string"==typeof t?new Ou(t):t.clone()}_getConnection(){return this.#le.clone()}async send(t,e){return await this._start(),await super.send(t,e)}async _send(t){const e=this._getConnection();e.body=JSON.stringify(t),e.setHeader("content-type","application/json");const r=await e.send();r.assertOk();let s=r.bodyJson;return Array.isArray(s)||(s=[s]),s}}function _m(t){if(null==t)return null;if("string"==typeof t.message&&t.message.match(/revert/i)&&Es(t.data))return{message:t.message,data:t.data};if("object"==typeof t){for(const e in t){const r=_m(t[e]);if(r)return r}return null}if("string"==typeof t)try{return _m(JSON.parse(t))}catch(t){}return null}function Tm(t,e){if(null!=t){if("string"==typeof t.message&&e.push(t.message),"object"==typeof t)for(const r in t)Tm(t[r],e);if("string"==typeof t)try{return Tm(JSON.parse(t),e)}catch(t){}}}class Mm extends Sm{#Q;constructor(t,e){super(e,{batchMaxCount:1}),this.#Q=async(e,r)=>{const s={method:e,params:r};this.emit("debug",{action:"sendEip1193Request",payload:s});try{const e=await t.request(s);return this.emit("debug",{action:"receiveEip1193Result",result:e}),e}catch(t){const e=new Error(t.message);throw e.code=t.code,e.data=t.data,e.payload=s,this.emit("debug",{action:"receiveEip1193Error",error:e}),e}}}async send(t,e){return await this._start(),await super.send(t,e)}async _send(t){gs(!Array.isArray(t),"EIP-1193 does not support batch request","payload",t);try{const e=await this.#Q(t.method,t.params||[]);return[{id:t.id,result:e}]}catch(e){return[{id:t.id,error:{code:e.code,data:e.data,message:e.message}}]}}getRpcError(t,e){switch((e=JSON.parse(JSON.stringify(e))).error.code||-1){case 4001:e.error.message=`ethers-user-denied: ${e.error.message}`;break;case 4200:e.error.message=`ethers-unsupported: ${e.error.message}`}return super.getRpcError(t,e)}async hasSigner(t){null==t&&(t=0);const e=await this.send("eth_accounts",[]);return"number"==typeof t?e.length>t:(t=t.toLowerCase(),0!==e.filter((e=>e.toLowerCase()===t)).length)}async getSigner(t){if(null==t&&(t=0),!await this.hasSigner(t))try{await this.#Q("eth_requestAccounts",[])}catch(t){const e=t.payload;throw this.getRpcError(e,{id:e.id,error:t})}return await super.getSigner(t)}}r(5501),r(512),r(1416),r(3294),r(7664),r(7466),r(6736),r(2873),r(5755),r(9528),r(3368),r(4155);Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function Dm(t=[],e=[]){return[...new Set([...t,...e])]}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var Bm=Object.defineProperty,Fm=Object.defineProperties,Om=Object.getOwnPropertyDescriptors,Nm=Object.getOwnPropertySymbols,Rm=Object.prototype.hasOwnProperty,Lm=Object.prototype.propertyIsEnumerable,Um=(t,e,r)=>e in t?Bm(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,jm=(t,e)=>{for(var r in e||(e={}))Rm.call(e,r)&&Um(t,r,e[r]);if(Nm)for(var r of Nm(e))Lm.call(e,r)&&Um(t,r,e[r]);return t},Gm=(t,e)=>Fm(t,Om(e));function Vm(t){return t.includes(":")}function zm(t){return Vm(t)?t.split(":")[0]:t}function Qm(t){var e,r,s;const n={};if(!Hm(t))return n;for(const[i,a]of Object.entries(t)){const t=Vm(i)?[i]:a.chains,o=a.methods||[],l=a.events||[],c=zm(i);n[c]=Gm(jm({},n[c]),{chains:Dm(t,null==(e=n[c])?void 0:e.chains),methods:Dm(o,null==(r=n[c])?void 0:r.methods),events:Dm(l,null==(s=n[c])?void 0:s.events)})}return n}function Hm(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}var qm,Km,Wm,Jm,Ym,Zm,Xm,$m,tg,eg,rg,sg,ng,ig,ag,og,lg,cg,hg,ug,dg="eip155",pg="requestedChains",fg="wallet_addEthereumChain",mg=class extends jn{constructor(t){super({...t,options:{isNewChainsStale:!0,...t.options}}),Rn(this,Wm),Rn(this,Ym),Rn(this,Xm),Rn(this,tg),Rn(this,rg),Rn(this,ng),Rn(this,ag),Rn(this,lg),Rn(this,hg),this.id="walletConnect",this.name="WalletConnect",this.ready=!0,Rn(this,qm,void 0),Rn(this,Km,void 0),this.onAccountsChanged=t=>{0===t.length?this.emit("disconnect"):this.emit("change",{account:(0,Gn.K)(t[0])})},this.onChainChanged=t=>{const e=Number(t),r=this.isChainUnsupported(e);this.emit("change",{chain:{id:e,unsupported:r}})},this.onDisconnect=()=>{Un(this,ng,ig).call(this,[]),this.emit("disconnect")},this.onDisplayUri=t=>{this.emit("message",{type:"display_uri",data:t})},this.onConnect=()=>{this.emit("connect",{})},Un(this,Wm,Jm).call(this)}async connect({chainId:t,pairingTopic:e}={}){try{let r=t;if(!r){const t=this.storage?.getItem("store"),e=t?.state?.data?.chain?.id;r=e&&!this.isChainUnsupported(e)?e:this.chains[0]?.id}if(!r)throw new Error("No chains found on connector.");const s=await this.getProvider();Un(this,tg,eg).call(this);const n=Un(this,Xm,$m).call(this);if(s.session&&n&&await s.disconnect(),!s.session||n){const t=this.chains.filter((t=>t.id!==r)).map((t=>t.id));this.emit("message",{type:"connecting"}),await s.connect({pairingTopic:e,optionalChains:[r,...t]}),Un(this,ng,ig).call(this,this.chains.map((({id:t})=>t)))}const i=await s.enable(),a=(0,Gn.K)(i[0]),o=await this.getChainId();return{account:a,chain:{id:o,unsupported:this.isChainUnsupported(o)}}}catch(t){if(/user rejected/i.test(t?.message))throw new ni(t);throw t}}async disconnect(){const t=await this.getProvider();try{await t.disconnect()}catch(t){if(!/No matching key/i.test(t.message))throw t}finally{Un(this,rg,sg).call(this),Un(this,ng,ig).call(this,[])}}async getAccount(){const{accounts:t}=await this.getProvider();return(0,Gn.K)(t[0])}async getChainId(){const{chainId:t}=await this.getProvider();return t}async getProvider({chainId:t}={}){return Nn(this,qm)||await Un(this,Wm,Jm).call(this),t&&await this.switchChain(t),Nn(this,qm)}async getWalletClient({chainId:t}={}){const[e,r]=await Promise.all([this.getProvider({chainId:t}),this.getAccount()]),s=this.chains.find((e=>e.id===t));if(!e)throw new Error("provider is required.");return la({account:r,chain:s,transport:fa(e)})}async isAuthorized(){try{const[t,e]=await Promise.all([this.getAccount(),this.getProvider()]),r=Un(this,Xm,$m).call(this);if(!t)return!1;if(r&&e.session){try{await e.disconnect()}catch{}return!1}return!0}catch{return!1}}async switchChain(t){const e=this.chains.find((e=>e.id===t));if(!e)throw new ci(new Error("chain not found on connector."));try{const r=await this.getProvider(),s=Un(this,lg,cg).call(this),n=Un(this,hg,ug).call(this);if(!s.includes(t)&&n.includes(fg)){await r.request({method:fg,params:[{chainId:(0,bi.eC)(e.id),blockExplorerUrls:[e.blockExplorers?.default?.url],chainName:e.name,nativeCurrency:e.nativeCurrency,rpcUrls:[...e.rpcUrls.default.http]}]});const s=Un(this,ag,og).call(this);s.push(t),Un(this,ng,ig).call(this,s)}return await r.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,bi.eC)(t)}]}),e}catch(t){if(/user rejected request/i.test("string"==typeof t?t:t?.message))throw new ni(t);throw new ci(t)}}};qm=new WeakMap,Km=new WeakMap,Wm=new WeakSet,Jm=async function(){return Nn(this,Km)||"undefined"==typeof window||Ln(this,Km,Un(this,Ym,Zm).call(this)),Nn(this,Km)},Ym=new WeakSet,Zm=async function(){const{EthereumProvider:t}=await r.e(793).then(r.bind(r,6793)),e=this.chains.map((({id:t})=>t));if(e.length){const{projectId:r,showQrModal:s=!0,qrModalOptions:n,metadata:i,relayUrl:a}=this.options;Ln(this,qm,await t.init({showQrModal:s,qrModalOptions:n,projectId:r,optionalChains:e,rpcMap:Object.fromEntries(this.chains.map((t=>[t.id,t.rpcUrls.default.http[0]]))),metadata:i,relayUrl:a}))}},Xm=new WeakSet,$m=function(){if(Un(this,hg,ug).call(this).includes(fg))return!1;if(!this.options.isNewChainsStale)return!1;const t=Un(this,ag,og).call(this),e=this.chains.map((({id:t})=>t)),r=Un(this,lg,cg).call(this);return!(r.length&&!r.some((t=>e.includes(t))))&&!e.every((e=>t.includes(e)))},tg=new WeakSet,eg=function(){Nn(this,qm)&&(Un(this,rg,sg).call(this),Nn(this,qm).on("accountsChanged",this.onAccountsChanged),Nn(this,qm).on("chainChanged",this.onChainChanged),Nn(this,qm).on("disconnect",this.onDisconnect),Nn(this,qm).on("session_delete",this.onDisconnect),Nn(this,qm).on("display_uri",this.onDisplayUri),Nn(this,qm).on("connect",this.onConnect))},rg=new WeakSet,sg=function(){Nn(this,qm)&&(Nn(this,qm).removeListener("accountsChanged",this.onAccountsChanged),Nn(this,qm).removeListener("chainChanged",this.onChainChanged),Nn(this,qm).removeListener("disconnect",this.onDisconnect),Nn(this,qm).removeListener("session_delete",this.onDisconnect),Nn(this,qm).removeListener("display_uri",this.onDisplayUri),Nn(this,qm).removeListener("connect",this.onConnect))},ng=new WeakSet,ig=function(t){this.storage?.setItem(pg,t)},ag=new WeakSet,og=function(){return this.storage?.getItem(pg)??[]},lg=new WeakSet,cg=function(){if(!Nn(this,qm))return[];const t=Nn(this,qm).session?.namespaces;if(!t)return[];const e=Qm(t),r=e[dg]?.chains?.map((t=>parseInt(t.split(":")[1]||"")));return r??[]},hg=new WeakSet,ug=function(){if(!Nn(this,qm))return[];const t=Nn(this,qm).session?.namespaces;if(!t)return[];const e=Qm(t),r=e[dg]?.methods;return r??[]};class gg{constructor(t,e){this.wagmi={},this.chains=[],this.namespace="eip155",this.disconnect=Yl,this.getAccount=ic,this.watchAccount=lc,this.fetchBalance=nc,this.getNetwork=ac,this.watchNetwork=cc,this.switchNetwork=oc,this.fetchEnsName=uc,this.fetchEnsAvatar=hc,this.wagmi=t,this.chains=e}getWalletConnectConnector(){const t=this.wagmi.connectors.find((t=>"walletConnect"===t.id));if(!t)throw new Error("WalletConnectConnector is required");return t}async connectWalletConnectProvider(t,e){return await t.getProvider(),new Promise((r=>{t.once("message",(t=>{"display_uri"===t.type&&(e(t.data),r())}))}))}getConnectorById(t){const e=this.wagmi.connectors.find((e=>e.id===t));if(!e)throw new Error(`Connector for id ${t} was not found`);return e}getConnectors(){return this.wagmi.connectors.filter((t=>!t.id.includes("walletConnect")))}async connectWalletConnect(t,e){const r=this.getWalletConnectConnector(),s={connector:r};return e&&(s.chainId=e),Promise.all([Jl(s),this.connectWalletConnectProvider(r,t)])}async connectConnector(t,e){const r={connector:this.getConnectorById(t)};return e&&(r.chainId=e),await Jl(r)}isInjectedProviderInstalled(){return typeof window.ethereum<"u"}safeCheckInjectedProvider(t){var e;try{const r=String(t);return Boolean(null==(e=window.ethereum)?void 0:e[r])}catch(t){return console.error(t),!1}}async getConnectedChainIds(){var t,e,r;const s=null==(e=null==(t=(await this.getWalletConnectConnector().getProvider()).signer)?void 0:t.session)?void 0:e.namespaces,n=null==(r=s?.[this.namespace])?void 0:r.methods;if(null!=n&&n.includes("wallet_addEthereumChain"))return"ALL";if(s){const t=[];return Object.keys(s).forEach((e=>{e.includes(this.namespace)&&t.push(...s[e].accounts)})),t?.map((t=>t.split(":")[1]))}return"ALL"}}function yg({projectId:t}){return function({rpc:t}){return function(e){const r=t(e);return r&&""!==r.http?{chain:{...e,rpcUrls:{...e.rpcUrls,default:{http:[r.http]}}},rpcUrls:{http:[r.http],webSocket:r.webSocket?[r.webSocket]:void 0}}:null}}({rpc:e=>{var r;return[1,3,4,5,10,42,56,69,97,100,137,280,324,420,42161,42220,43114,80001,421611,421613,1313161554,1313161555].includes(e.id)?{http:`https://rpc.walletconnect.com/v1/?chainId=eip155:${e.id}&projectId=${t}`}:{http:e.rpcUrls.default.http[0],webSocket:null==(r=e.rpcUrls.default.webSocket)?void 0:r[0]}}})}function bg({chains:t,projectId:e}){return[new mg({chains:t,options:{projectId:e,showQrModal:!1}}),new ga({chains:t,options:{shimDisconnect:!0}})]}var vg=r(9015);class wg{constructor(t,e){this.openModal=vg.jb.open,this.closeModal=vg.jb.close,this.subscribeModal=vg.jb.subscribe,this.setTheme=vg.ThemeCtrl.setThemeConfig,this.setDefaultChain=vg.OptionsCtrl.setSelectedChain,this.subscribeEvents=vg.uA.subscribe,vg.ThemeCtrl.setThemeConfig(t),vg.Id.setEthereumClient(e),vg.ConfigCtrl.setConfig(t),this.initUi()}async initUi(){if(typeof window<"u"){await Promise.all([r.e(152),r.e(968)]).then(r.bind(r,7968));const t=document.createElement("w3m-modal");document.body.insertAdjacentElement("beforeend",t),vg.OptionsCtrl.setIsUiLoaded(!0)}}}const Ag={block:fn({format(t){const e=t.transactions?.map((t=>{if("string"==typeof t)return t;const e=Ag.transaction.format(t);return"0x71"===e.typeHex?e.type="eip712":"0xff"===e.typeHex&&(e.type="priority"),e}));return{l1BatchNumber:t.l1BatchNumber?(0,ln.y_)(t.l1BatchNumber):null,l1BatchTimestamp:t.l1BatchTimestamp?(0,ln.y_)(t.l1BatchTimestamp):null,transactions:e}}}),transaction:dn({format(t){const e={};return"0x71"===t.type?e.type="eip712":"0xff"===t.type&&(e.type="priority"),{...e,l1BatchNumber:t.l1BatchNumber?(0,ln.y_)(t.l1BatchNumber):null,l1BatchTxIndex:t.l1BatchTxIndex?(0,ln.y_)(t.l1BatchTxIndex):null}}}),transactionReceipt:bn({format:t=>({l1BatchNumber:t.l1BatchNumber?(0,ln.y_)(t.l1BatchNumber):null,l1BatchTxIndex:t.l1BatchTxIndex?(0,ln.y_)(t.l1BatchTxIndex):null,logs:t.logs.map((t=>({...mn(t),l1BatchNumber:t.l1BatchNumber?(0,ln.y_)(t.l1BatchNumber):null,transactionLogIndex:(0,ln.ly)(t.transactionLogIndex),logType:t.logType}))),l2ToL1Logs:t.l2ToL1Logs.map((t=>({blockNumber:(0,ln.y_)(t.blockHash),blockHash:t.blockHash,l1BatchNumber:(0,ln.y_)(t.l1BatchNumber),transactionIndex:(0,ln.y_)(t.transactionIndex),shardId:(0,ln.y_)(t.shardId),isService:t.isService,sender:t.sender,key:t.key,value:t.value,transactionHash:t.transactionHash,logIndex:(0,ln.y_)(t.logIndex)})))})}),transactionRequest:(0,Mi.iy)({exclude:["customSignature","factoryDeps","gasPerPubdata","paymaster","paymasterInput"],format:t=>t.gasPerPubdata||t.paymaster&&t.paymasterInput||t.factoryDeps||t.customSignature?{eip712Meta:{...t.gasPerPubdata?{gasPerPubdata:(0,bi.NC)(t.gasPerPubdata)}:{},...t.paymaster&&t.paymasterInput?{paymasterParams:{paymaster:t.paymaster,paymasterInput:Array.from((0,Ia.nr)(t.paymasterInput))}}:{},...t.factoryDeps?{factoryDeps:t.factoryDeps}:{},...t.customSignature?{customSignature:t.customSignature}:{}},type:"eip712"===t.type?"0x71":"0xff"}:{}})};class kg extends Vn.G{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NegativeOffsetError"})}}class Eg extends Vn.G{constructor({length:t,position:e}){super(`Position \`${e}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PositionOutOfBoundsError"})}}const xg={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,assertPosition(t){if(t<0||t>this.bytes.length-1)throw new Eg({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new kg({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},incrementPosition(t){if(t<0)throw new kg({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const r=e??this.position;return this.assertPosition(r+t-1),this.bytes.subarray(r,r+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,255&t),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){const t=this.inspectByte();return this.position++,t},readBytes(t){const e=this.inspectBytes(t);return this.position+=t,e},readUint8(){const t=this.inspectUint8();return this.position+=1,t},readUint16(){const t=this.inspectUint16();return this.position+=2,t},readUint24(){const t=this.inspectUint24();return this.position+=3,t},readUint32(){const t=this.inspectUint32();return this.position+=4,t},setPosition(t){this.assertPosition(t),this.position=t}};function Pg(t,e="hex"){const r=Cg(t),s=function(t){const e=Object.create(xg);return e.bytes=t,e.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),e}(new Uint8Array(r.length));return r.encode(s),"hex"===e?(0,bi.ci)(s.bytes):s.bytes}function Cg(t){return Array.isArray(t)?function(t){const e=t.reduce(((t,e)=>t+e.length),0),r=Sg(e);return{length:e<=55?1+e:1+r+e,encode(s){e<=55?s.pushByte(192+e):(s.pushByte(247+r),1===r?s.pushUint8(e):2===r?s.pushUint16(e):3===r?s.pushUint24(e):s.pushUint32(e));for(const{encode:e}of t)e(s)}}}(t.map((t=>Cg(t)))):function(t){const e="string"==typeof t?(0,Ia.nr)(t):t,r=Sg(e.length),s=1===e.length&&e[0]<128?1:e.length<=55?1+e.length:1+r+e.length;return{length:s,encode(t){1===e.length&&e[0]<128?t.pushBytes(e):e.length<=55?(t.pushByte(128+e.length),t.pushBytes(e)):(t.pushByte(183+r),1===r?t.pushUint8(e.length):2===r?t.pushUint16(e.length):3===r?t.pushUint24(e.length):t.pushUint32(e.length),t.pushBytes(e))}}}(t)}function Sg(t){if(t<256)return 1;if(t<65536)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new Vn.G("Length is too large.")}function Ig(t){if(!t||0===t.length)return[];const e=[];for(let r=0;r<t.length;r++){const{address:s,storageKeys:n}=t[r];for(let t=0;t<n.length;t++)if(n[t].length-2!=64)throw new Ii.JC({storageKey:n[t]});if(!(0,ta.U)(s))throw new $i.b({address:s});e.push([s,n])}return e}function _g(t,e){const r=Ki(t);return"eip1559"===r?function(t,e){const{chainId:r,gas:s,nonce:n,to:i,value:a,maxFeePerGas:o,maxPriorityFeePerGas:l,accessList:c,data:h}=t;!function(t){const{chainId:e,maxPriorityFeePerGas:r,gasPrice:s,maxFeePerGas:n,to:i}=t;if(e<=0)throw new Pi.hJ({chainId:e});if(i&&!(0,ta.U)(i))throw new $i.b({address:i});if(s)throw new Vn.G("`gasPrice` is not a valid EIP-1559 Transaction attribute.");if(n&&n>2n**256n-1n)throw new Si.Hh({maxFeePerGas:n});if(r&&n&&r>n)throw new Si.cs({maxFeePerGas:n,maxPriorityFeePerGas:r})}(t);const u=Ig(c),d=[(0,bi.NC)(r),n?(0,bi.NC)(n):"0x",l?(0,bi.NC)(l):"0x",o?(0,bi.NC)(o):"0x",s?(0,bi.NC)(s):"0x",i??"0x",a?(0,bi.NC)(a):"0x",h??"0x",u];if(e){const t=0n===e.v?"0x":1n===e.v?(0,bi.NC)(1):27n===e.v?"0x":(0,bi.NC)(1);d.push(t,(0,xa.f)(e.r),(0,xa.f)(e.s))}return(0,wi.SM)(["0x02",Pg(d)])}(t,e):"eip2930"===r?function(t,e){const{chainId:r,gas:s,data:n,nonce:i,to:a,value:o,accessList:l,gasPrice:c}=t;!function(t){const{chainId:e,maxPriorityFeePerGas:r,gasPrice:s,maxFeePerGas:n,to:i}=t;if(e<=0)throw new Pi.hJ({chainId:e});if(i&&!(0,ta.U)(i))throw new $i.b({address:i});if(r||n)throw new Vn.G("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(s&&s>2n**256n-1n)throw new Si.Hh({maxFeePerGas:s})}(t);const h=Ig(l),u=[(0,bi.NC)(r),i?(0,bi.NC)(i):"0x",c?(0,bi.NC)(c):"0x",s?(0,bi.NC)(s):"0x",a??"0x",o?(0,bi.NC)(o):"0x",n??"0x",h];if(e){const t=0n===e.v?"0x":1n===e.v?(0,bi.NC)(1):27n===e.v?"0x":(0,bi.NC)(1);u.push(t,(0,xa.f)(e.r),(0,xa.f)(e.s))}return(0,wi.SM)(["0x01",Pg(u)])}(t,e):function(t,e){const{chainId:r=0,gas:s,data:n,nonce:i,to:a,value:o,gasPrice:l}=t;!function(t){const{chainId:e,maxPriorityFeePerGas:r,gasPrice:s,maxFeePerGas:n,to:i,accessList:a}=t;if(i&&!(0,ta.U)(i))throw new $i.b({address:i});if(void 0!==e&&e<=0)throw new Pi.hJ({chainId:e});if(r||n)throw new Vn.G("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(s&&s>2n**256n-1n)throw new Si.Hh({maxFeePerGas:s});if(a)throw new Vn.G("`accessList` is not a valid Legacy Transaction attribute.")}(t);let c=[i?(0,bi.NC)(i):"0x",l?(0,bi.NC)(l):"0x",s?(0,bi.NC)(s):"0x",a??"0x",o?(0,bi.NC)(o):"0x",n??"0x"];if(e){const t=(()=>{if(r>0)return BigInt(2*r)+BigInt(35n+e.v-27n);if(e.v>=35n){return(e.v-35n)/2n>0?e.v:27n+(35n===e.v?0n:1n)}const t=27n+(27n===e.v?0n:1n);if(e.v!==t)throw new Ii.vl({v:e.v});return t})();c=[...c,(0,bi.NC)(t),e.r,e.s]}else r>0&&(c=[...c,(0,bi.NC)(r),"0x","0x"]);return Pg(c)}(t,e)}const Tg={transaction:(t,e)=>{return"customSignature"in(r=t)||"paymaster"in r||"paymasterInput"in r||"gasPerPubdata"in r||"factoryDeps"in r?function(t){const{chainId:e,gas:r,nonce:s,to:n,from:i,value:a,maxFeePerGas:o,maxPriorityFeePerGas:l,customSignature:c,factoryDeps:h,paymaster:u,paymasterInput:d,gasPerPubdata:p,data:f}=t;!function(t){const{chainId:e,to:r,from:s,paymaster:n,paymasterInput:i}=t;if(e<=0)throw new Pi.hJ({chainId:e});if(r&&!(0,ta.U)(r))throw new $i.b({address:r});if(s&&!(0,ta.U)(s))throw new $i.b({address:s});if(n&&!(0,ta.U)(n))throw new $i.b({address:n});if(n&&!i)throw new Vn.G("`paymasterInput` must be provided when `paymaster` is defined");if(!n&&i)throw new Vn.G("`paymaster` must be provided when `paymasterInput` is defined")}(t);const m=[s?(0,bi.NC)(s):"0x",l?(0,bi.NC)(l):"0x",o?(0,bi.NC)(o):"0x",r?(0,bi.NC)(r):"0x",n??"0x",a?(0,bi.NC)(a):"0x",f??"0x",(0,bi.NC)(e),(0,bi.NC)(""),(0,bi.NC)(""),(0,bi.NC)(e),i??"0x",p?(0,bi.NC)(p):"0x",h??[],c??"0x",u&&d?[u,d]:[]];return(0,wi.SM)(["0x71",Pg(m)])}(t):_g(t,e);var r}};const Mg=nn({id:324,name:"zkSync Era",network:"zksync-era",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://mainnet.era.zksync.io"],webSocket:["wss://mainnet.era.zksync.io/ws"]},public:{http:["https://mainnet.era.zksync.io"],webSocket:["wss://mainnet.era.zksync.io/ws"]}},blockExplorers:{default:{name:"zkExplorer",url:"https://explorer.zksync.io"}},contracts:{multicall3:{address:"0xF9cda624FBC7e059355ce98a31693d299FACd963"}}},{serializers:Tg,formatters:Ag}),Dg=nn({id:59144,name:"Linea Mainnet",network:"linea-mainnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{infura:{http:["https://linea-mainnet.infura.io/v3"],webSocket:["wss://linea-mainnet.infura.io/ws/v3"]},default:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]},public:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://lineascan.build"},etherscan:{name:"Etherscan",url:"https://lineascan.build"},blockscout:{name:"Blockscout",url:"https://explorer.linea.build"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:42}},testnet:!1}),Bg=nn({id:534352,name:"Scroll",network:"scroll",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.scroll.io"],webSocket:["wss://wss-rpc.scroll.io/ws"]},public:{http:["https://rpc.scroll.io"],webSocket:["wss://wss-rpc.scroll.io/ws"]}},blockExplorers:{default:{name:"Scrollscan",url:"https://scrollscan.com"},blockscout:{name:"Blockscout",url:"https://blockscout.scroll.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14}},testnet:!1});const Fg=new class extends Ae{web3modal;_resolveConnection;_rejectConnection;connected=!1;get address(){return ic().address}constructor(){super(),this.addAllowedEvents("accountChanged")}init(t){const e=[on,An,En,Pn,Mg,Dg,Bg],{publicClient:r}=Il(e,[yg({projectId:t})]),s=function(t){const e=new Kl(t);return Hl=e,e}({autoConnect:!0,connectors:bg({projectId:t,chains:e}),publicClient:r}),n=new gg(s,e);this.web3modal=new wg({projectId:t,themeMode:"dark",themeVariables:{"--w3m-accent-color":"#9B4CFF","--w3m-background-color":"#9B4CFF","--w3m-z-index":"999999"}},n),this.web3modal.subscribeModal((t=>{!1===t.open&&this._rejectConnection&&(this._rejectConnection(new Error("User closed wallet modal")),this._rejectConnection=void 0,this._resolveConnection=void 0)})),this.connected=void 0!==this.address;let i=this.address;lc((t=>{this.connected=void 0!==t.address,this.connected&&this._resolveConnection&&(this._resolveConnection(),this._resolveConnection=void 0,this._rejectConnection=void 0),i!==t.address&&(this.fireEvent("accountChanged"),i=t.address)}))}async signMessage(t){if(!this.address)throw new Error("Wallet is not connected");return await async function(t){const e=await tc();if(!e)throw new Dn;return await e.signMessage({message:t.message})}({message:t})}async connect(){return void 0!==this.address&&(this.connected=!0,this.fireEvent("accountChanged")),new Promise(((t,e)=>{this._resolveConnection=t,this._rejectConnection=e,this.web3modal.openModal()}))}async getBalance(){if(!this.address)throw new Error("Wallet is not connected");return(await nc({address:this.address})).value}};const Og=new class extends as{constructor(){super("users_public","*",50)}async fetchByWalletAddress(t){return await this.safeSelectSingle((e=>e.eq("wallet_address",t)))}async fetchTokenHolders(t,e,r){const{data:s,error:n}=await ke.client.rpc("get_token_holders",{p_chain:t,p_token_address:e,last_balance:r,max_count:this.fetchLimit});if(n)throw n;return s}async fetchPortfolioValue(t){const{data:e,error:r}=await ke.client.rpc("get_portfolio_value",{p_wallet_address:t});if(r)throw r;return BigInt(e??"0")}};const Ng=new class extends is{async fetchUser(t){return await Og.fetchUser(t)}get walletLinked(){return void 0!==this.user?.wallet_address}async signIn(){await ke.signIn("twitter")}async linkWallet(){Fg.connected||await Fg.connect();const t=Fg.address;if(!t)throw new Error("Wallet is not connected");const{data:e,error:r}=await ke.client.functions.invoke("new-wallet-linking-nonce",{body:{walletAddress:t}});if(r)throw r;const s=await Fg.signMessage(`${Cn.messageForWalletLinking}\n\nNonce: ${e.nonce}`),{error:n}=await ke.client.functions.invoke("link-wallet-to-user",{body:{walletAddress:t,signedMessage:s}});if(n)throw n;this.user&&(this.user.wallet_address=t,this.fireEvent("walletLinked"))}async getContractSigner(t){if(!this.user)throw new Error("User not signed in");if(!0!==Fg.connected)throw new Error("Wallet not connected");if(!this.user.wallet_address)throw new Error("Wallet not linked");const e=await tc();if(!e)throw new Error("Wallet not connected");const{account:r,transport:s}=e;if(r.address!==this.user.wallet_address)throw new Error("Wallet address mismatch");const{chain:n}=ac();if(!n)throw new Error("Chain not found");if(n.id!==Tn[t]?.chainId)throw new Error("Wrong chain");if(n&&r&&s)return new Pm(new Mm(s,{chainId:n.id,name:n.name,ensAddress:n.contracts?.ensRegistry?.address}),r.address)}};class Rg{abi;chain;address;viewContract;constructor(t,e,r){this.abi=t,this.chain=e,this.address=r,this.viewContract=new Dd(r,t,new Im(Tn[e].rpc))}async getWriteContract(){if(!Ng.signed)try{await new fr({title:pr("not-signed-in-title"),message:pr("not-signed-in-message"),confirmTitle:pr("not-signed-in-confirm")},(()=>Ng.signIn())).wait()}catch(t){throw new Error("Not signed in")}!0!==Fg.connected&&await Fg.connect();const t=await tc();if(!t)throw new mr({title:pr("no-wallet-connected-title"),message:pr("no-wallet-connected-message")}),new Error("No wallet connected");if(!Ng.user?.wallet_address)try{await new fr({title:pr("no-wallet-linked-title"),message:pr("no-wallet-linked-message"),confirmTitle:pr("no-wallet-linked-confirm")},(()=>Ng.linkWallet())).wait()}catch(t){throw new Error("No wallet linked")}const{account:e}=t;if(e.address!==Ng.user?.wallet_address)throw new mr({title:pr("wallet-address-mismatch-title"),message:pr("wallet-address-mismatch-message")}),new Error("Wallet address mismatch");const{chain:r}=ac();if(!r)throw new mr({title:pr("invalid-network-title"),message:pr("invalid-network-message",{chain:Tn[this.chain].name})}),new Error("Invalid network");const s=Tn[this.chain].chainId;r.id!==s&&await oc({chainId:s});const n=await Ng.getContractSigner(this.chain);if(!n)throw new Error("No signer");return new Dd(this.address,this.abi,n)}}const Lg=JSON.parse('{"Mt":[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint8","name":"version","type":"uint8"}],"name":"Initialized","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"oracle","type":"address"}],"name":"SetOracleAddress","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"destination","type":"address"}],"name":"SetProtocolFeeDestination","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"percent","type":"uint256"}],"name":"SetProtocolFeePercent","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"percent","type":"uint256"}],"name":"SetTokenOwnerFeePercent","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"trader","type":"address"},{"indexed":true,"internalType":"address","name":"tokenAddress","type":"address"},{"indexed":true,"internalType":"bool","name":"isBuy","type":"bool"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"price","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"protocolFee","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"tokenOwnerFee","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"additionalFee","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"supply","type":"uint256"}],"name":"Trade","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"tokenAddress","type":"address"},{"indexed":false,"internalType":"string","name":"name","type":"string"},{"indexed":false,"internalType":"string","name":"symbol","type":"string"}],"name":"UserTokenCreated","type":"event"},{"inputs":[{"internalType":"address","name":"tokenAddress","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes","name":"oracleSignature","type":"bytes"}],"name":"buyToken","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"bytes","name":"oracleSignature","type":"bytes"}],"name":"calculateAdditionalTokenOwnerFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"symbol","type":"string"}],"name":"createToken","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"tokenAddress","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"getBuyPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"tokenAddress","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"getBuyPriceAfterFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"supply","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"getPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"address","name":"tokenAddress","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"getSellPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"tokenAddress","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"getSellPriceAfterFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address payable","name":"_protocolFeeDestination","type":"address"},{"internalType":"uint256","name":"_protocolFeePercent","type":"uint256"},{"internalType":"uint256","name":"_tokenOwnerFeePercent","type":"uint256"}],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"isPalUserToken","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"membershipToken","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"membershipWeight","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"oracleAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"protocolFeeDestination","outputs":[{"internalType":"address payable","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"protocolFeePercent","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"tokenAddress","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes","name":"oracleSignature","type":"bytes"}],"name":"sellToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_oracle","type":"address"}],"name":"setOracleAddress","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address payable","name":"_feeDestination","type":"address"}],"name":"setProtocolFeeDestination","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_feePercent","type":"uint256"}],"name":"setProtocolFeePercent","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_feePercent","type":"uint256"}],"name":"setTokenOwnerFeePercent","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"tokenOwnerFeePercent","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),Ug={[In.Base]:"0xcF18D57f24C067C00Fa83CC4e8fE1C134177047A"},jg={[In.Base]:"0x6489f919432741965831f731Fa203553eA790614",[In.Arbitrum]:"0xECFFc91149b8B702dEa6905Ae304A9D36527060F"};class Gg extends Rg{constructor(t){super(Lg.Mt,t,(Cn.dev?Ug:jg)[t])}async createToken(t,e){const r=await this.getWriteContract(),s=await r.createToken(t,e),n=await s.wait();if(!n)throw new Error("No receipt");if(!Ng.user)throw new Error("No user");const i=await r.queryFilter(r.filters.UserTokenCreated(Ng.user.wallet_address),n.blockNumber,n.blockNumber);if(!i||0===i.length)throw new Error("No events");return i[0].args?.[1]}async getBuyPriceAfterFee(t,e){return await this.viewContract.getBuyPriceAfterFee(t,e)}async buyToken(t,e){const r=await this.getWriteContract();return(await r.buyToken(t,e,"0x",{value:await this.getBuyPriceAfterFee(t,e)})).wait()}async sellToken(t,e){const r=await this.getWriteContract();return(await r.sellToken(t,e,"0x")).wait()}}const Vg=JSON.parse('{"Mt":[{"inputs":[{"internalType":"address","name":"owner_","type":"address"},{"internalType":"string","name":"name_","type":"string"},{"internalType":"string","name":"symbol_","type":"string"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"InvalidShortString","type":"error"},{"inputs":[{"internalType":"string","name":"str","type":"string"}],"name":"StringTooLong","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[],"name":"EIP712DomainChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferStarted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"name","type":"string"}],"name":"SetName","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"symbol","type":"string"}],"name":"SetSymbol","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"DOMAIN_SEPARATOR","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"_pal","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"acceptOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"eip712Domain","outputs":[{"internalType":"bytes1","name":"fields","type":"bytes1"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"version","type":"string"},{"internalType":"uint256","name":"chainId","type":"uint256"},{"internalType":"address","name":"verifyingContract","type":"address"},{"internalType":"bytes32","name":"salt","type":"bytes32"},{"internalType":"uint256[]","name":"extensions","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"nonces","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"pendingOwner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"permit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"name_","type":"string"}],"name":"setName","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"symbol_","type":"string"}],"name":"setSymbol","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}]}');class zg extends Rg{constructor(t,e){super(Vg.Mt,t,e)}async balanceOf(t){return await this.viewContract.balanceOf(t)}async setName(t){const e=await this.getWriteContract();return(await e.setName(t)).wait()}async setSymbol(t){const e=await this.getWriteContract();return(await e.setSymbol(t)).wait()}}const Qg=new class{async trackEvent(t){ke.client.functions.invoke("track-contract-events",{body:{chain:t}})}};class Hg extends sr{token;nameInput;symbolInput;constructor(t){super({barrierDismissible:!0}),this.token=t,this.append(new Be(".edit-token-info-popup.popup",Ue("header",Ue("h1","Edit Token Info")),Ue("main",Ue("form.name-form",{submit:t=>t.preventDefault()},this.nameInput=new gr({label:"Name (e.g. Pal Token)",placeholder:"Name",value:t.name,required:!0}),new nr({title:"Save Name",click:()=>this.saveName()})),Ue("form.name-form",{submit:t=>t.preventDefault()},this.symbolInput=new gr({label:"Symbol (e.g. PAL)",placeholder:"Symbol",value:t.symbol,required:!0}),new nr({title:"Save Symbol",click:()=>this.saveSymbol()}))),Ue("footer",new nr({type:ar.Text,tag:".cancel",title:pr("cancel-button"),click:()=>this.delete()})))),this.nameInput.select()}async saveName(){const t=new zg(this.token.chain,this.token.token_address);await t.setName(this.nameInput.value)}async saveSymbol(){const t=new zg(this.token.chain,this.token.token_address);await t.setSymbol(this.symbolInput.value)}}const qg=new class{info={};async init(){await Promise.all(Object.keys(Tn).map((async t=>{const e=new Im(Tn[t].rpc),r=await e.getBlock("latest");this.info[t]={blockNumber:r.number,blockTime:1e3*r.timestamp}})))}blockToTime(t,e){if(!this.info[t])throw new Error("Unknown chain");const r=Tn[t].blockTime;return this.info[t].blockTime+(e-this.info[t].blockNumber)*r*1e3}};class Kg extends xe{constructor(t){super(".activity-list-item");const e=Ue(".token-image",{click:()=>new ry(t.chain,t.token_address,void 0,t.token)});Or.selectLoadable(e,[t.token?.image_thumb,t.token?.stored_image_thumb]);const r=Ue("a",t.user?.display_name,{click:()=>_e.go(`/${t.user?.x_username}`)}),s=Ue("span.date",Nr.fromNow(qg.blockToTime(t.chain,t.block_number)));if("UserTokenCreated"===t.activity_name){const n=Ue("a",t.token?.name,{click:()=>new ry(t.chain,t.token_address,void 0,t.token)});this.append(Ue("header",e),Ue("main",Ue("p.description",...dr("activity-list-item-created-token-text",{user:r,token:n})),Ue(".info",s)))}if("Trade"===t.activity_name){const n=Ue("a",t.token?.symbol,{click:()=>new ry(t.chain,t.token_address,void 0,t.token)}),i="true"===t.args[2],a=Rr.numberWithCommas(rn(t.args[3])),o=Rr.numberWithCommas(rn(t.args[4])),l=Ue(".trader-avatar",{click:()=>_e.go(`/${t.user?.x_username}`)});Or.selectLoadable(l,[t.user?.avatar_thumb,t.user?.stored_avatar_thumb]),this.append(Ue("header",l,e),Ue("main",Ue("p.description",...dr(i?"activity-list-item-bought-token-text":"activity-list-item-sold-token-text",{user:r,symbol:n,amount:a})),Ue(".info",Ue("span.price"+(i?".up":".down"),o," ETH, "),s)))}}}class Wg extends xe{store;refreshed=!1;lastCreatedAt;constructor(t,e){super(t+".activity-list"),this.store=e.storeName?new Re(e.storeName):void 0,this.domElement.setAttribute("data-empty-message",e.emptyMessage);const r=this.store?.get("cached-activities");if(r&&r.length>0)for(const t of r)try{this.append(new Kg(t))}catch(t){console.error(t)}}async refresh(){this.append(new Ye),this.lastCreatedAt=void 0;const t=await this.fetchActivities();if(this.store?.set("cached-activities",t,!0),!this.deleted){this.empty();for(const e of t)this.append(new Kg(e));this.lastCreatedAt=t[t.length-1]?.created_at,this.refreshed=!0}}show(){this.deleteClass("hidden"),this.refreshed||this.refresh()}hide(){this.addClass("hidden")}}const Jg=new class extends xr{constructor(){super("activities","*",100)}enhanceActivityData(t){const e=ke.safeResult(t);for(const t of e)t.token={chain:t.chain,token_address:t.token_address,name:t.token_name,symbol:t.token_symbol,image:t.token_image,image_thumb:t.token_image_thumb,image_stored:t.token_image_stored,stored_image:t.token_stored_image,stored_image_thumb:t.token_stored_image_thumb},t.user=t.user_id?{user_id:t.user_id,display_name:t.user_display_name,avatar:t.user_avatar,avatar_thumb:t.user_avatar_thumb,stored_avatar:t.user_stored_avatar,stored_avatar_thumb:t.user_stored_avatar_thumb,x_username:t.user_x_username}:void 0;return e}async fetchGlobalActivities(t){let{data:e,error:r}=await ke.client.rpc("get_global_activities",{last_created_at:t,max_count:this.fetchLimit});if(r)throw r;return this.enhanceActivityData(e??[])}async fetchTokenHeldActivities(t,e){let{data:r,error:s}=await ke.client.rpc("get_token_held_activities",{p_wallet_address:t,last_created_at:e,max_count:this.fetchLimit});if(s)throw s;return this.enhanceActivityData(r??[])}async fetchTokenActivities(t,e,r){let{data:s,error:n}=await ke.client.rpc("get_token_activities",{p_chain:t,p_token_address:e,last_created_at:r,max_count:this.fetchLimit});if(n)throw n;return this.enhanceActivityData(s??[])}};class Yg extends Wg{chain;token;constructor(t,e){super(".token-activity-list",{emptyMessage:pr("token-activity-list-empty-message")}),this.chain=t,this.token=e}async fetchActivities(){return await Jg.fetchTokenActivities(this.chain,this.token,this.lastCreatedAt)}}class Zg extends xe{store;refreshed=!1;constructor(t,e){if(super(t+".user-list"),this.store=e.storeName?new Re(e.storeName):void 0,this.domElement.setAttribute("data-empty-message",e.emptyMessage),this.store){const t=this.store.get("cached-users");if(t)for(const e of t)this.addUserItem(e)}}async refresh(){this.append(new Ye);const t=await this.fetchUsers();if(this.store?.set("cached-users",t,!0),!this.deleted){this.empty();for(const e of t)this.addUserItem(e);this.refreshed=!0}}show(){this.deleteClass("hidden"),this.refreshed||this.refresh()}hide(){this.addClass("hidden")}}class Xg extends xe{constructor(t){super(".user-list-item");const e=Ue(".avatar");Or.selectLoadable(e,[t.avatar_thumb,t.stored_avatar_thumb]),this.append(e,Ue(".name",t.display_name)),this.onDom("click",(()=>_e.go(`/${t.x_username}`)))}}class $g extends Xg{user;balanceDisplay;constructor(t,e){super(t),this.user=t,this.balanceDisplay=Ue(".balance").appendTo(this),this.symbol=e}set symbol(t){this.balanceDisplay.text=`${Rr.numberWithCommas(rn(this.user.balance))} ${t}`}}class ty extends Zg{chain;token;_symbol;lastBalance;children=[];constructor(t,e,r){super(".token-holder-list",{emptyMessage:pr("token-holder-list-empty-message")}),this.chain=t,this.token=e,this._symbol=r}set symbol(t){this._symbol=t;for(const e of this.children)e.symbol=t}addUserItem(t){new $g(t,this._symbol).appendTo(this)}async fetchUsers(){const t=await Og.fetchTokenHolders(this.chain,this.token,this.lastBalance);return this.lastBalance=t[t.length-1]?.balance,t}}const ey=new class extends xr{constructor(){super("tokens","*, supply::text, last_fetched_price::text, total_trading_volume::text",50)}enhanceTokenData(t){const e=ke.safeResult(t);for(const t of e)t.owner_user_id&&(t.owner={user_id:t.owner_user_id,wallet_address:t.owner_wallet_address,display_name:t.owner_display_name,avatar:t.owner_avatar,avatar_thumb:t.owner_avatar_thumb,stored_avatar:t.owner_stored_avatar,stored_avatar_thumb:t.owner_stored_avatar_thumb,x_username:t.owner_x_username});return e}async fetchToken(t,e){const{data:r,error:s}=await ke.client.rpc("get_token",{p_chain:t,p_token_address:e});if(s)throw s;return this.enhanceTokenData(r??[])[0]}async fetchHeldOrOwnedTokens(t,e){const{data:r,error:s}=await ke.client.rpc("get_held_or_owned_tokens",{p_wallet_address:t,last_created_at:e,max_count:this.fetchLimit});if(s)throw s;return this.enhanceTokenData(r??[])}async fetchNewTokens(t){const{data:e,error:r}=await ke.client.rpc("get_new_tokens",{last_created_at:t,max_count:this.fetchLimit});if(r)throw r;return this.enhanceTokenData(e??[])}async fetchTopTokens(t,e=this.fetchLimit){const{data:r,error:s}=await ke.client.rpc("get_top_tokens",{last_rank:t,max_count:e});if(s)throw s;return this.enhanceTokenData(r??[])}async fetchTrendingTokens(t,e=this.fetchLimit){const{data:r,error:s}=await ke.client.rpc("get_trending_tokens",{last_purchased_at:t,max_count:e});if(s)throw s;return this.enhanceTokenData(r??[])}};class ry extends sr{chain;tokenAddress;tokenImageDisplay;tokenNameDisplay;symbolAndChainDisplay;editButtonContainer;descriptionDisplay;ownerDisplay;holderCountDisplay;priceDisplay;balanceDisplay;buyButton;sellButton;tabs;holderList;activityList;footer;constructor(t,e,r,s){super({barrierDismissible:!0}),this.chain=t,this.tokenAddress=e,this.append(new Be(".token-info-popup.popup",Ue("header",this.tokenImageDisplay=Ue(".token-image"),Ue(".info",this.tokenNameDisplay=Ue("h1",new Ze),this.symbolAndChainDisplay=Ue(".symbol-and-chain")),this.editButtonContainer=Ue(".edit-button-container")),Ue("main",this.descriptionDisplay=Ue("p.description"),this.ownerDisplay=Ue("section.owner",Ue("h3","Owner"),new Ze),Ue(".metrics",Ue("section.holder-count",Ue("h3","Holders"),this.holderCountDisplay=Ue("span.value",new Ze)),Ue("section.price",Ue("h3","Price"),this.priceDisplay=Ue("span.value",new Ze))),Ue("section.balance",Ue(".info",Ue("h3","Your Balance"),this.balanceDisplay=Ue("span.value",new Ze)),this.buyButton=new nr({title:"Buy",click:()=>this.buyToken()}),this.sellButton=new nr({title:"Sell",click:()=>this.sellToken()}))),this.tabs=new Er("token-info-popup",[{id:"holders",label:"Holders"},{id:"activity",label:"Activity"}]),this.holderList=new ty(t,e,s?s.symbol:""),this.activityList=new Yg(t,e),this.footer=Ue("footer",new nr({type:ar.Text,tag:".cancel",title:pr("cancel-button"),click:()=>this.delete()})))),s&&(Or.selectLoadable(this.tokenImageDisplay,[s.image_thumb,s.stored_image_thumb]),this.tokenNameDisplay.empty().append(s.name),this.symbolAndChainDisplay.empty().append(Ue(".symbol",s.symbol),Ue(".chain",Ue("img.icon",{src:Tn[s.chain].icon}),Tn[s.chain].name))),r?this.render(r):this.fetchToken(),this.tabs.on("select",(t=>{[this.holderList,this.activityList].forEach((t=>t.hide())),"holders"===t?this.holderList.show():"activity"===t&&this.activityList.show()})).init(),this.loadBalance()}render(t){Or.selectLoadable(this.tokenImageDisplay,[t.image_thumb,t.stored_image_thumb]),this.tokenNameDisplay.empty().append(t.name),this.symbolAndChainDisplay.empty().append(Ue(".symbol",t.symbol),Ue(".chain",Ue("img.icon",{src:Tn[t.chain].icon}),Tn[t.chain].name)),this.editButtonContainer.empty(),("string"==typeof t.owner&&t.owner===Ng.user?.wallet_address||"string"!=typeof t.owner&&t.owner.wallet_address===Ng.user?.wallet_address)&&(this.editButtonContainer.append(new nr({type:ar.Text,icon:new tr("edit"),click:()=>{new Hg(t),this.delete()}})),new nr({title:"Edit",click:()=>{new Hg(t),this.delete()}}).appendTo(this.footer,0)),this.descriptionDisplay.text=t.metadata?.description??"";const e=Ue(".avatar");"string"!=typeof t.owner&&Or.selectLoadable(e,[t.owner.avatar_thumb,t.owner.stored_avatar_thumb]),this.ownerDisplay.empty().append(Ue("h3","Owner"),Ue(".info-container","string"==typeof t.owner?new Je(".avatar",t.owner):e,"string"==typeof t.owner?Ue(".owner",Rr.shortenEthereumAddress(t.owner)):Ue(".info",Ue(".name",t.owner.display_name),Ue(".x-username",`@${t.owner.x_username}`)),{click:()=>{"string"!=typeof t.owner?(_e.go(`/${t.owner.x_username}`),this.delete()):open(`https://etherscan.io/address/${t.owner}`)}})),this.holderCountDisplay.text=t.holder_count.toString(),this.priceDisplay.text=Rr.numberWithCommas(rn(t.last_fetched_price)),this.holderList.symbol=t.symbol}async fetchToken(){const t=await ey.fetchToken(this.chain,this.tokenAddress);t&&this.render(t)}async loadBalance(){const t=new zg(this.chain,this.tokenAddress),e=Ng.user?.wallet_address;if(e){const r=await t.balanceOf(e);this.balanceDisplay.text=Rr.numberWithCommas(rn(r))}else this.balanceDisplay.text="0"}async buyToken(){this.buyButton.title="Buying...";try{const t=new Gg(this.chain);await t.buyToken(this.tokenAddress,sn("1")),await Qg.trackEvent(this.chain),this.delete(),_e.go(`/${this.chain}/${this.tokenAddress}`)}catch(t){console.error(t),this.buyButton.title="Buy"}}async sellToken(){this.sellButton.title="Selling...";try{const t=new Gg(this.chain);await t.sellToken(this.tokenAddress,sn("1")),await Qg.trackEvent(this.chain),this.delete()}catch(t){console.error(t),this.sellButton.title="Sell"}}}class sy extends xe{constructor(t){super(".token-list-item");const e=Ue(".token-image",{click:()=>new ry(t.chain,t.token_address,t)});Or.selectLoadable(e,[t.image_thumb,t.stored_image_thumb]);const r=Ue("a","string"==typeof t.owner?Rr.shortenEthereumAddress(t.owner):t.owner.display_name,{click:()=>"string"==typeof t.owner?void 0:_e.go(`/${t.owner.x_username}`)}),s=Ue("a",t.name,{click:()=>new ry(t.chain,t.token_address,t)}),n=Ue("a"," (",t.symbol,").",{click:()=>new ry(t.chain,t.token_address,t)}),i=Rr.numberWithCommas(String(t.holder_count)),a=Rr.numberWithCommas(rn(t.last_fetched_price));this.append(Ue("header",e),Ue("main",Ue("p.description",r,"'s token ",s,n),Ue(".info",i," holders, ",Ue("span.price"+(t.is_price_up?".up":".down"),a," ETH."))))}}class ny extends xe{store;refreshed=!1;constructor(t,e){if(super(t+".token-list"),this.store=e.storeName?new Re(e.storeName):void 0,this.domElement.setAttribute("data-empty-message",e.emptyMessage),this.store){const t=this.store.get("cached-tokens");if(t)for(const e of t)this.addItem(e)}}addItem(t){new sy(t).appendTo(this)}async refresh(){this.append(new Ye);const t=await this.fetchTokens();if(this.store?.set("cached-tokens",t,!0),!this.deleted){this.empty();for(const e of t)this.addItem(e);this.refreshed=!0}}show(){return this.deleteClass("hidden"),this.refreshed||this.refresh(),this}hide(){this.addClass("hidden")}}class iy extends ny{maxCount;lastRank;constructor(t){super(".top-token-list",{storeName:"top-tokens",emptyMessage:pr("top-token-list-empty-message")}),this.maxCount=t}async fetchTokens(){const t=await ey.fetchTopTokens(this.lastRank,this.maxCount);return this.lastRank=t[t.length-1]?.rank,t}}class ay extends ny{maxCount;lastPurchasedAt;constructor(t){super(".trending-token-list",{storeName:"trending-tokens",emptyMessage:pr("trending-token-list-empty-message")}),this.maxCount=t}async fetchTokens(){const t=await ey.fetchTrendingTokens(this.lastPurchasedAt,this.maxCount);return this.lastPurchasedAt=t[t.length-1]?.last_purchased_at,t}}class oy extends xe{constructor(){super(".sidebar"),this.append(Ue("section.trending-tokens",Ue("header",Ue("h2","Trending Tokens")),new ay(9).show(),Ue("footer",new nr({type:ar.Text,title:"Show More",click:()=>_e.go("/explore/trending")}))),Ue("section.top-tokens",Ue("header",Ue("h2","Top Tokens")),new iy(3).show(),Ue("footer",new nr({type:ar.Text,title:"Show More",click:()=>_e.go("/explore/top")}))))}show(){this.deleteClass("hidden")}hide(){this.addClass("hidden")}}class ly extends sr{chainSelect;nameInput;symbolInput;constructor(){super({barrierDismissible:!0}),this.append(new Be(".create-token-popup.popup",Ue("header",Ue("h1","Create Token")),Ue("main",this.chainSelect=new yr({label:"Blockchain",placeholder:"Select a blockchain",options:Object.keys(Cn.dev?Ug:jg).map((t=>t)).map((t=>({dom:Ue(".option.chain",Ue("img.icon",{src:Tn[t].icon}),Tn[t].name),value:t})))}),this.nameInput=new gr({label:"Name (e.g. Pal Token)",placeholder:"Name",required:!0}),this.symbolInput=new gr({label:"Symbol (e.g. PAL)",placeholder:"Symbol",required:!0})),Ue("footer",new nr({type:ar.Text,tag:".cancel",title:pr("cancel-button"),click:()=>this.delete()}),new nr({tag:".create-token",title:"Create Token",click:(t,e)=>{new fr({icon:new tr("warning"),title:"Important Notice",message:"You can create your own token. However, be cautious, as once a token is recorded on the blockchain, it cannot be deleted permanently. Although, the information of the token can be modified."},(async()=>{e.loading=!0;try{const t=this.chainSelect.value;if(!t)throw new Error("Please select a blockchain.");const e=this.nameInput.value,r=this.symbolInput.value,s=new Gg(t),n=await s.createToken(e,r);console.log(n),await Qg.trackEvent(t),this.delete()}catch(t){new mr({title:"Error",message:t.message}),e.loading=!1}}))}}))))}}class cy extends ny{lastCreatedAt;constructor(){super(".held-token-list",{storeName:"held-tokens",emptyMessage:pr("held-token-list-empty-message")}),this.show()}async fetchTokens(){const t=Ng.user?.wallet_address;if(t){const e=await ey.fetchHeldOrOwnedTokens(t,this.lastCreatedAt);return this.lastCreatedAt=e[e.length-1]?.created_at,e}return[]}}class hy extends xe{constructor(){super(".side-panel");const t=Ue(".avatar");Ng.user&&Or.selectLoadable(t,[Ng.user.avatar_thumb,Ng.user.stored_avatar_thumb]),this.append(Ue("main",Ue("header",Ng.user?Ue(".signed-user",t,Ue(".info",Ue(".name",Ng.user.display_name),Ue(".x-username",`@${Ng.user.x_username}`)),{click:()=>{_e.go("/profile"),this.delete()}}):void 0,new nr({tag:".close",icon:new tr("close"),click:()=>this.delete()})),Ue("ul.menu",Ue("li",Ue("a","Profile",{click:()=>{_e.go("/profile"),this.delete()}})),Ue("li",Ue("a","Settings",{click:()=>{_e.go("/settings"),this.delete()}})),Ue("li",Ue("a","Logout",{click:()=>{Ng.signOut(),this.delete()}}))),Ue("section.tokens",Ue("header",Ue("h3","Your Tokens"),new nr({icon:new tr("add"),click:()=>{new ly,this.delete()}})),new cy))),this.onDom("click",(t=>{t.target===this.domElement&&this.delete()})),Pe.append(this)}}class uy extends xe{constructor(t){super(".title-bar-user-display");const e=Ue(".avatar");Or.selectLoadable(e,[t.avatar_thumb,t.stored_avatar_thumb]),this.append(e,Ue(".name",t.display_name)),this.onDom("click",(()=>new hy))}}class dy extends xe{titleDisplay;userSection;constructor(){super(".title-bar"),this.append(this.titleDisplay=Ue("h1"),this.userSection=Ue("section.user")),this.renderUserSection(),this.onDelegate(Ng,"walletLinked",(()=>this.renderUserSection()))}renderUserSection(){this.userSection.empty(),Ng.signed?Ng.walletLinked?this.userSection.append(new uy(Ng.user)):this.userSection.append(new nr({tag:".link-wallet",title:"Link wallet",click:()=>Ng.linkWallet()})):this.userSection.append(new nr({tag:".sign-in",title:"Sign in with 𝕏",click:()=>Ng.signIn()}))}set title(t){this.titleDisplay.text=t}set uri(t){["activity","explore","profile","settings","posts","chats"].includes(t)&&(this.title=pr(`title-${t}`))}}class py extends Lr{static current;static append(t){py.current.content.append(t)}static changeTitle(t){py.current.titleBar.title=t}navBar;titleBar;content;sidebar;constructor(t,e){super(),py.current=this,Pe.append(this.container=Ue(".layout",this.navBar=new rr({logo:Ue("img",{src:"/images/logo-transparent.png"}),menu:[{id:"posts",icon:new tr("post"),title:pr("nav-bar-menu-posts"),uri:"/posts"},{id:"chats",icon:new tr("chat"),title:pr("nav-bar-menu-chats"),uri:"/chats"},{id:"activity",icon:new tr("browse_activity"),title:pr("nav-bar-menu-activity"),uri:"/activity"},{id:"explore",icon:new tr("explore"),title:pr("nav-bar-menu-explore"),uri:"/explore"}]}),Ue("main",this.titleBar=new dy,this.content=Ue("section.content"),this.sidebar=new oy))),this.changeUri(e)}changeParams(t,e){this.changeUri(e)}changeUri(t){""===t&&(t="posts"),"general"!==t&&-1===t.indexOf("/0x")||(t="chats"),"chats"===(t=t.substring(0,-1===t.indexOf("/")?t.length:t.indexOf("/")))||"general"===t||-1!==t.indexOf("/0x")?this.sidebar.hide():this.sidebar.show(),this.navBar.active(t),this.titleBar.uri=t}}class fy extends Wg{constructor(){super(".global-activity-list",{storeName:"global-activities",emptyMessage:pr("global-activity-list-empty-message")})}async fetchActivities(){return await Jg.fetchGlobalActivities(this.lastCreatedAt)}}class my extends Wg{constructor(){super(".held-token-activity-list",{storeName:"held-token-activities",emptyMessage:pr("held-token-activity-list-empty-message")})}async fetchActivities(){return Ng.walletLinked?await Jg.fetchTokenHeldActivities(Ng.user.wallet_address,this.lastCreatedAt):[]}}class gy extends Lr{tabs;globalActivityList;tokenHeldActivityList;constructor(){super(),py.append(this.container=Ue(".activity-view",Ue("main",this.tabs=new Er("activity-list-tabs",Ng.walletLinked?[{id:"global",label:"Global"},{id:"held",label:"Held"}]:[{id:"global",label:"Global"}]),this.globalActivityList=new fy,this.tokenHeldActivityList=Ng.walletLinked?new my:void 0))),this.tabs.on("select",(t=>{[this.globalActivityList,this.tokenHeldActivityList].forEach((t=>t?.hide())),"global"===t?this.globalActivityList.show():"held"===t&&this.tokenHeldActivityList?.show()})).init()}}var yy;!function(t){t.Pal="pal",t.Discord="discord",t.Telegram="telegram"}(yy||(yy={}));const by=yy;class vy extends Lr{constructor(t){super(),py.append(this.container=Ue(t+".chat-room-view"))}}class wy extends sr{constructor(){super({barrierDismissible:!0}),this.append(new Be(".popup.login-required-popup",Ue("header",Ue("h1",pr("login-required-title"))),Ue("main",Ue("p",pr("login-required-message"))),Ue("footer",new nr({type:ar.Text,tag:".cancel",click:()=>this.delete(),title:pr("cancel-button")}),new nr({tag:".login",click:()=>Ng.signIn(),title:pr("login-required-login-button")}))))}}const Ay=new class extends Jr{constructor(){super("general_chat_messages",Hr,100)}async upload(t){const e={files:[]};return await Promise.all(t.map((async t=>{if(Ng.user){const r=await Dr.uploadAttachment("general_chat_upload_files",Ng.user.user_id,t,2592e3);e.files?.push({url:r,fileName:t.name,fileType:t.type,fileSize:t.size})}}))),e}async sendMessage(t,e){const r=e.length?await this.upload(e):void 0;return await this.safeInsertAndSelect({source:by.Pal,message:t,rich:r})}async fetchMessages(){return await this.safeSelect((t=>t.order("id",{ascending:!1})))}async fetchLastMessage(){return await this.safeSelectSingle((t=>t.order("id",{ascending:!1})))}};class ky extends Gr{constructor(){super(".general-chat-message-form")}async sendMessage(t,e){if(!Ng.signed)throw new wy,new Error("You must be signed in to send messages");return(await Ay.sendMessage(t,e)).id}}const Ey=JSON.parse('{"v":"5.7.4","ip":0,"op":60,"fr":30,"w":500,"h":500,"nm":"C","assets":[],"layers":[{"ind":1,"ty":4,"nm":"D","sr":1,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"k":[{"i":{"x":0.16,"y":1},"o":{"x":0.167,"y":0.185},"t":10,"s":[24.402,-12.354,0],"ti":[0,0,0],"to":[0,-8,0]},{"i":{"x":0.16,"y":1},"o":{"x":0.167,"y":0.185},"t":20,"s":[24.402,-60.354,0],"ti":[0,-8,0],"to":[0,0,0]},{"t":30,"s":[24.402,-12.354,0]}],"a":1,"l":2},"a":{"a":0,"k":[-89.098,-36.354,0],"l":2},"s":{"a":0,"k":[100,100,100],"l":2}},"shapes":[{"ty":"gr","nm":"G","bm":0,"it":[{"ty":"gr","nm":"G","bm":0,"it":[{"ty":"sh","nm":"P","ind":0,"ks":{"k":{"i":[[0,-9.941],[9.941,0],[0,9.941],[-9.941,0]],"o":[[0,9.941],[-9.941,0],[0,-9.941],[9.941,0]],"v":[[-71.098,-37.854],[-89.098,-19.854],[-107.098,-37.854],[-89.098,-55.854]],"c":true},"a":0}},{"ty":"fl","nm":"F","bm":0,"c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1},{"ty":"tr","o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"nm":"T","sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}]},{"ty":"tr","o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"nm":"T","sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}]},{"ty":"gr","nm":"G","bm":0,"it":[{"ty":"gr","nm":"G","bm":0,"it":[{"ty":"sh","nm":"P","ind":0,"ks":{"k":{"i":[[0,-9.941],[9.941,0],[0,9.941],[-9.941,0]],"o":[[0,9.941],[-9.941,0],[0,-9.941],[9.941,0]],"v":[[-71.098,-34.854],[-89.098,-16.854],[-107.098,-34.854],[-89.098,-52.854]],"c":true},"a":0}},{"ty":"fl","nm":"F","bm":0,"c":{"a":0,"k":[0.81,0.81,0.81,1]},"o":{"a":0,"k":100},"r":1},{"ty":"tr","o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"nm":"T","sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}]},{"ty":"tr","o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"nm":"T","sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}]}],"ip":-2,"op":77,"st":8,"parent":5},{"ind":2,"ty":4,"nm":"D","sr":1,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"k":[{"i":{"x":0.16,"y":1},"o":{"x":0.167,"y":0.185},"t":5,"s":[-30.598,-12.354,0],"ti":[0,0,0],"to":[0,-8,0]},{"i":{"x":0.16,"y":1},"o":{"x":0.167,"y":0.185},"t":15,"s":[-30.598,-60.354,0],"ti":[0,-8,0],"to":[0,0,0]},{"t":25,"s":[-30.598,-12.354,0]}],"a":1,"l":2},"a":{"a":0,"k":[-89.098,-36.354,0],"l":2},"s":{"a":0,"k":[100,100,100],"l":2}},"shapes":[{"ty":"gr","nm":"G","bm":0,"it":[{"ty":"gr","nm":"G","bm":0,"it":[{"ty":"sh","nm":"P","ind":0,"ks":{"k":{"i":[[0,-9.941],[9.941,0],[0,9.941],[-9.941,0]],"o":[[0,9.941],[-9.941,0],[0,-9.941],[9.941,0]],"v":[[-71.098,-37.854],[-89.098,-19.854],[-107.098,-37.854],[-89.098,-55.854]],"c":true},"a":0}},{"ty":"fl","nm":"F","bm":0,"c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1},{"ty":"tr","o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"nm":"T","sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}]},{"ty":"tr","o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"nm":"T","sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}]},{"ty":"gr","nm":"G","bm":0,"it":[{"ty":"gr","nm":"G","bm":0,"it":[{"ty":"sh","nm":"P","ind":0,"ks":{"k":{"i":[[0,-9.941],[9.941,0],[0,9.941],[-9.941,0]],"o":[[0,9.941],[-9.941,0],[0,-9.941],[9.941,0]],"v":[[-71.098,-34.854],[-89.098,-16.854],[-107.098,-34.854],[-89.098,-52.854]],"c":true},"a":0}},{"ty":"fl","nm":"F","bm":0,"c":{"a":0,"k":[0.81,0.81,0.81,1]},"o":{"a":0,"k":100},"r":1},{"ty":"tr","o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"nm":"T","sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}]},{"ty":"tr","o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"nm":"T","sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}]}],"ip":-2,"op":72,"st":3,"parent":5},{"ind":3,"ty":4,"nm":"D","sr":1,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"k":[{"i":{"x":0.16,"y":1},"o":{"x":0.167,"y":0.185},"t":0,"s":[-85.598,-12.354,0],"ti":[0,0,0],"to":[0,-8,0]},{"i":{"x":0.16,"y":1},"o":{"x":0.167,"y":0.185},"t":10,"s":[-85.598,-60.354,0],"ti":[0,-8,0],"to":[0,0,0]},{"t":20,"s":[-85.598,-12.354,0]}],"a":1,"l":2},"a":{"a":0,"k":[-89.098,-36.354,0],"l":2},"s":{"a":0,"k":[100,100,100],"l":2}},"shapes":[{"ty":"gr","nm":"G","bm":0,"it":[{"ty":"gr","nm":"G","bm":0,"it":[{"ty":"sh","nm":"P","ind":0,"ks":{"k":{"i":[[0,-9.941],[9.941,0],[0,9.941],[-9.941,0]],"o":[[0,9.941],[-9.941,0],[0,-9.941],[9.941,0]],"v":[[-71.098,-37.854],[-89.098,-19.854],[-107.098,-37.854],[-89.098,-55.854]],"c":true},"a":0}},{"ty":"fl","nm":"F","bm":0,"c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1},{"ty":"tr","o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"nm":"T","sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}]},{"ty":"tr","o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"nm":"T","sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}]},{"ty":"gr","nm":"G","bm":0,"it":[{"ty":"gr","nm":"G","bm":0,"it":[{"ty":"sh","nm":"P","ind":0,"ks":{"k":{"i":[[0,-9.941],[9.941,0],[0,9.941],[-9.941,0]],"o":[[0,9.941],[-9.941,0],[0,-9.941],[9.941,0]],"v":[[-71.098,-34.854],[-89.098,-16.854],[-107.098,-34.854],[-89.098,-52.854]],"c":true},"a":0}},{"ty":"fl","nm":"F","bm":0,"c":{"a":0,"k":[0.81,0.81,0.81,1]},"o":{"a":0,"k":100},"r":1},{"ty":"tr","o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"nm":"T","sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}]},{"ty":"tr","o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"nm":"T","sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}]}],"ip":-2,"op":67,"st":-2,"parent":5},{"ind":4,"ty":4,"nm":"L","sr":1,"ks":{"o":{"a":0,"k":40},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0,0],"l":2},"a":{"a":0,"k":[0,0,0],"l":2},"s":{"a":0,"k":[100,100,100],"l":2}},"shapes":[{"ty":"gr","nm":"G","bm":0,"it":[{"ty":"sh","nm":"P","ind":0,"ks":{"k":{"i":[[0,0],[0,0],[0,-70.984],[0,0],[-12.608,0],[0,0],[0,70.984],[0,0],[70.984,0]],"o":[[0,0],[-70.984,0],[0,0],[0,12.608],[0,0],[70.984,0],[0,0],[0,-70.984],[0,0]],"v":[[-25.279,-160.534],[-25.279,-160.534],[-153.807,-32.006],[-153.807,73.693],[-130.977,96.523],[-25.279,96.523],[103.249,-32.005],[103.249,-32.006],[-25.279,-160.534]],"c":true},"a":0}},{"ty":"sh","nm":"P","ind":1,"ks":{"k":{"i":[[0,0],[-23.52,-23.52],[0,-33.263],[23.52,-23.52],[33.263,0],[0,0],[0,10.383],[0,0],[-23.52,23.52],[-33.263,0]],"o":[[33.263,0],[23.52,23.52],[0,33.263],[-23.52,23.52],[0,0],[-10.383,0],[0,0],[0,-33.263],[23.52,-23.52],[0,0]],"v":[[-25.279,-156.534],[62.776,-120.06],[99.249,-32.005],[62.776,56.049],[-25.279,92.523],[-130.977,92.523],[-149.807,73.693],[-149.807,-32.006],[-113.334,-120.06],[-25.279,-156.534]],"c":false},"a":0}},{"ty":"gf","s":{"a":0,"k":[-26.098,-155.854]},"e":{"a":0,"k":[-26.098,36.272]},"t":1,"g":{"k":{"a":0,"k":[0,1,1,1,0.394,0.8428,0.796,0.904,1,0.6078,0.298,1]},"p":3},"nm":"G","bm":0,"o":{"a":0,"k":100},"r":1},{"ty":"tr","o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"nm":"T","sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}]}],"ip":0,"op":66,"st":0,"parent":5},{"ind":5,"ty":4,"nm":"L","sr":1,"ks":{"o":{"a":0,"k":20},"r":{"a":1,"k":[{"i":{"x":[0.16],"y":[1]},"o":{"x":[0.167],"y":[0.092]},"t":38,"s":[0]},{"i":{"x":[0.16],"y":[1]},"o":{"x":[0.167],"y":[0.092]},"t":46,"s":[-8]},{"i":{"x":[0.16],"y":[1]},"o":{"x":[0.167],"y":[0.092]},"t":50,"s":[0]},{"i":{"x":[0.16],"y":[1]},"o":{"x":[0.167],"y":[0.092]},"t":54,"s":[-8]},{"t":58,"s":[0]}]},"p":{"a":0,"k":[96.193,346.523,0],"l":2},"a":{"a":0,"k":[-153.807,96.523,0],"l":2},"s":{"a":0,"k":[100,100,100],"l":2}},"shapes":[{"ty":"gr","nm":"G","bm":0,"it":[{"ty":"sh","nm":"P","ind":0,"ks":{"k":{"i":[[0,12.608],[0,0],[-70.984,0],[0,0],[0,-70.984],[0,0],[70.984,0],[0,0]],"o":[[0,0],[0,-70.984],[0,0],[70.984,0],[0,0],[0,70.984],[0,0],[-12.608,0]],"v":[[-153.807,73.693],[-153.807,-32.006],[-25.279,-160.534],[-25.279,-160.534],[103.249,-32.006],[103.249,-32.005],[-25.279,96.523],[-130.977,96.523]],"c":true},"a":0}},{"ty":"gf","s":{"a":0,"k":[-26.098,55.146]},"e":{"a":0,"k":[-26.098,-124.003]},"t":1,"g":{"k":{"a":0,"k":[0,1,1,1,0.394,0.8428,0.796,0.904,1,0.6078,0.298,1]},"p":3},"nm":"G","bm":0,"o":{"a":0,"k":100},"r":1},{"ty":"tr","o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"nm":"T","sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}]}],"ip":0,"op":66,"st":0},{"ind":6,"ty":4,"nm":"M","sr":1,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0,0],"l":2},"a":{"a":0,"k":[0,0,0],"l":2},"s":{"a":0,"k":[100,100,100],"l":2}},"shapes":[{"ty":"gr","nm":"G","bm":0,"it":[{"ty":"sh","nm":"P","ind":0,"ks":{"k":{"i":[[0,12.608],[0,0],[-70.984,0],[0,0],[0,-70.984],[0,0],[70.984,0],[0,0]],"o":[[0,0],[0,-70.984],[0,0],[70.984,0],[0,0],[0,70.984],[0,0],[-12.608,0]],"v":[[-153.807,73.693],[-153.807,-32.006],[-25.279,-160.534],[-25.279,-160.534],[103.249,-32.006],[103.249,-32.005],[-25.279,96.523],[-130.977,96.523]],"c":true},"a":0}},{"ty":"gf","s":{"a":0,"k":[-26.098,55.146]},"e":{"a":0,"k":[-26.098,-124.003]},"t":1,"g":{"k":{"a":0,"k":[0,1,1,1,0.394,0.8428,0.796,0.904,1,0.6078,0.298,1]},"p":3},"nm":"G","bm":0,"o":{"a":0,"k":100},"r":1},{"ty":"tr","o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"nm":"T","sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}]}],"ip":0,"op":66,"st":0,"parent":5,"td":1},{"ind":7,"ty":4,"nm":"L","sr":1,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":0,"s":[250,250,0],"ti":[0,0,0],"to":[0,-3.383,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":10,"s":[250,229.7,0],"ti":[0,0,0],"to":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":20,"s":[250,250,0],"ti":[0,0,0],"to":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":30,"s":[250,229.7,0],"ti":[0,0,0],"to":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":40,"s":[250,250,0],"ti":[0,0,0],"to":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":50,"s":[250,229.7,0],"ti":[0,0,0],"to":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":60,"s":[250,250,0],"ti":[0,3.383,0],"to":[0,0,0]},{"t":70,"s":[250,229.7,0]}],"a":1,"l":2},"a":{"a":0,"k":[0,0,0],"l":2},"s":{"a":0,"k":[100,100,100],"l":2}},"shapes":[{"ty":"gr","nm":"G","bm":0,"it":[{"ty":"sh","nm":"P","ind":0,"ks":{"k":{"i":[[0,9.135],[0,0],[51.426,0],[0,0],[0,-51.426],[0,0],[-51.426,0],[0,0]],"o":[[0,0],[0,-51.426],[0,0],[-51.426,0],[0,0],[0,51.426],[0,0],[9.135,0]],"v":[[147.612,126.908],[147.612,50.332],[54.497,-42.784],[54.497,-42.784],[-38.619,50.332],[-38.619,50.332],[54.497,143.447],[131.073,143.447]],"c":true},"a":0}},{"ty":"fl","nm":"F","bm":0,"c":{"a":0,"k":[0.4279,0.0245,0.9555,1]},"o":{"a":0,"k":100},"r":1},{"ty":"tr","o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"nm":"T","sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}]}],"ip":0,"op":66,"st":0,"tt":2},{"ind":8,"ty":4,"nm":"M","sr":1,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0,0],"l":2},"a":{"a":0,"k":[0,0,0],"l":2},"s":{"a":0,"k":[100,100,100],"l":2}},"shapes":[{"ty":"gr","nm":"G","bm":0,"it":[{"ty":"sh","nm":"P","ind":0,"ks":{"k":{"i":[[0,12.608],[0,0],[-70.984,0],[0,0],[0,-70.984],[0,0],[70.984,0],[0,0]],"o":[[0,0],[0,-70.984],[0,0],[70.984,0],[0,0],[0,70.984],[0,0],[-12.608,0]],"v":[[-153.807,73.693],[-153.807,-32.006],[-25.279,-160.534],[-25.279,-160.534],[103.249,-32.006],[103.249,-32.005],[-25.279,96.523],[-130.977,96.523]],"c":true},"a":0}},{"ty":"gf","s":{"a":0,"k":[-26.098,55.146]},"e":{"a":0,"k":[-26.098,-124.003]},"t":1,"g":{"k":{"a":0,"k":[0,1,1,1,0.394,0.8428,0.796,0.904,1,0.6078,0.298,1]},"p":3},"nm":"G","bm":0,"o":{"a":0,"k":100},"r":1},{"ty":"tr","o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"nm":"T","sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}]}],"ip":0,"op":66,"st":0,"ef":[{"ty":29,"ix":1,"nm":"G","ef":[{"ix":1,"nm":"B","ty":0,"v":{"a":0,"k":120}},{"ix":2,"nm":"B","ty":7,"v":{"a":0,"k":1}},{"ix":3,"nm":"R","ty":7,"v":{"a":0,"k":0}}],"en":1}],"parent":5,"td":1},{"ind":9,"ty":4,"nm":"L","sr":1,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0,0],"l":2},"a":{"a":0,"k":[0,0,0],"l":2},"s":{"a":0,"k":[100,100,100],"l":2}},"shapes":[{"ty":"gr","nm":"G","bm":0,"it":[{"ty":"sh","nm":"P","ind":0,"ks":{"k":{"i":[[0,9.135],[0,0],[51.426,0],[0,0],[0,-51.426],[0,0],[-51.426,0],[0,0]],"o":[[0,0],[0,-51.426],[0,0],[-51.426,0],[0,0],[0,51.426],[0,0],[9.135,0]],"v":[[147.612,126.908],[147.612,50.332],[54.497,-42.784],[54.497,-42.784],[-38.619,50.332],[-38.619,50.332],[54.497,143.447],[131.073,143.447]],"c":true},"a":0}},{"ty":"fl","nm":"F","bm":0,"c":{"a":0,"k":[0.4279,0.0245,0.9555,1]},"o":{"a":0,"k":100},"r":1},{"ty":"tr","o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"nm":"T","sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}]}],"ip":0,"op":66,"st":0,"ef":[{"ty":29,"ix":1,"nm":"G","ef":[{"ix":1,"nm":"B","ty":0,"v":{"a":0,"k":40}},{"ix":2,"nm":"B","ty":7,"v":{"a":0,"k":1}},{"ix":3,"nm":"R","ty":7,"v":{"a":0,"k":0}}],"en":1}],"parent":7,"tt":1}],"markers":[]}');class xy extends xe{constructor(){super(".message-loading-animation"),this.style({width:80,height:80}),this.append(new $e(".message-loading-animation",Ey))}}const Py=new class{openAuthorProfile(t){_e.go(`/${t.x_username}`,void 0,t)}getSourceLabel(t){return t===by.Discord?Ue(".source","from ",Ue("a","Discord",{href:"https://discord.gg/p2VhZAjyzP",target:"_blank"})):t===by.Telegram?Ue(".source","from ",Ue("a","Telegram",{href:"https://t.me/krew_social",target:"_blank"})):""}};class Cy extends Qr{channel;constructor(){super(".general-chat-message-list",{storeName:"general-chat-messages",signedUserId:Ng.user?.user_id,emptyMessage:pr("chat-message-list-empty-message")},Py,new xy),this.channel=ke.client.channel("general-chat-message-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"general_chat_messages"},(async t=>{const e=await Ay.fetchMessage(t.new.id);e&&this.addNewMessage(e)})).subscribe()}async fetchMessages(){return await Ay.fetchMessages()}delete(){this.channel.unsubscribe(),super.delete()}}class Sy extends xe{constructor(){super(".general-chat-room-header"),this.append(Ue("button.back",new tr("arrow_back"),{click:()=>history.back()}),Ue("h1","General Chat"))}}class Iy extends vy{constructor(t,e){super(".general-chat-room-view"),this.render(e)}changeParams(t,e){this.render(e)}render(t){this.container.deleteClass("mobile-hidden"),"chats"===t&&this.container.addClass("mobile-hidden");const e=new Sy,r=new Cy,s=new ky;s.on("messageSending",((t,e,s)=>{Ng.user&&r.messageSending(t,by.Pal,Ng.user,e,s)})),s.on("messageSent",((t,e)=>r.messageSent(t,e))),this.container.empty().append(e,r,s)}}const _y=new class extends Jr{constructor(){super("token_chat_messages",Hr,100)}async upload(t){const e={files:[]};return await Promise.all(t.map((async t=>{if(Ng.user){const r=await Dr.uploadAttachment("token_chat_upload_files",Ng.user.user_id,t,2592e3);e.files?.push({url:r,fileName:t.name,fileType:t.type,fileSize:t.size})}}))),e}async sendMessage(t,e,r,s){const n=s.length?await this.upload(s):void 0;return await this.safeInsertAndSelect({chain:t,token_address:e,message:r,rich:n})}async fetchMessages(t,e){return await this.safeSelect((r=>r.eq("chain",t).eq("token_address",e).order("id",{ascending:!1})))}};class Ty extends Gr{chain;tokenAddress;constructor(t,e){super(".token-chat-message-form"),this.chain=t,this.tokenAddress=e}async sendMessage(t,e){if(!Ng.signed)throw new wy,new Error("You must be signed in to send messages");return(await _y.sendMessage(this.chain,this.tokenAddress,t,e)).id}}class My extends Qr{chain;tokenAddress;channel;constructor(t,e){super(".token-chat-message-list",{storeName:`token-${t}-${e}-chat-messages`,signedUserId:Ng.user?.user_id,emptyMessage:pr("chat-message-list-empty-message")},Py,new xy),this.chain=t,this.tokenAddress=e,this.channel=ke.client.channel(`token-${t}-${e}-chat-message-changes`).on("postgres_changes",{event:"INSERT",schema:"public",table:"token_chat_messages",filter:"token_address=eq."+e},(async e=>{const r=await _y.fetchMessage(e.new.id);r?.chain===t&&this.addNewMessage(r)})).subscribe()}async fetchMessages(){return await _y.fetchMessages(this.chain,this.tokenAddress)}delete(){this.channel.unsubscribe(),super.delete()}}class Dy extends xe{chain;tokenAddress;tokenImage;title;token;constructor(t,e,r){super(".token-chat-room-header"),this.chain=t,this.tokenAddress=e,this.tokenImage=Ue(".token-image",{click:()=>new ry(t,e,this.token,r)}),Or.selectLoadable(this.tokenImage,[r?.image_thumb,r?.stored_image_thumb]),this.append(Ue("button.back",new tr("arrow_back"),{click:()=>history.back()}),this.tokenImage,this.title=Ue("h1",r?.name,{click:()=>new ry(t,e,this.token,r)})),this.fetchToken()}async fetchToken(){this.token=await ey.fetchToken(this.chain,this.tokenAddress),this.token&&(Or.selectLoadable(this.tokenImage,[this.token.image_thumb,this.token.stored_image_thumb]),this.title.text=this.token.name)}}class By extends vy{constructor(t,e,r){super(".token-chat-room-view"),this.render(t.chain,t.tokenAddress,r)}changeParams(t,e,r){this.render(t.chain,t.tokenAddress,r)}async render(t,e,r){const s=new Dy(t,e,r),n=new My(t,e),i=new Ty(t,e);i.on("messageSending",((t,e,r)=>{Ng.user&&n.messageSending(t,by.Pal,Ng.user,e,r)})),i.on("messageSent",((t,e)=>n.messageSent(t,e))),this.container.empty().append(s,n,i)}}class Fy extends xe{lastMessageData;_lastMessageDisplay;constructor(t,e){super(t+".chat-room-list-item"),this.lastMessageData=e}get lastMessageDisplay(){return this._lastMessageDisplay=Ue(".last-message"),this.lastMessageData&&this.updateLastMessageData(this.lastMessageData),this._lastMessageDisplay}updateLastMessageData(t){this.lastMessageData=t,this._lastMessageDisplay?.empty().append(Ue(".message",this.lastMessageData.last_message??""),Ue(".sent-at",this.lastMessageData.last_message_sent_at===De?"":Nr.fromNow(this.lastMessageData.last_message_sent_at)))}}class Oy extends Fy{store=new Re("general-chat-room-list-item");constructor(){super(".general-chat-room-list-item"),this.append(Ue("h3","General Chat"),this.lastMessageDisplay).onDom("click",(()=>_e.go("/general")));const t=this.store.get("cached-last-message");t&&this.updateLastMessageData(t),this.fetchLastMessage()}async fetchLastMessage(){const t=await Ay.fetchLastMessage();t&&!this.deleted&&(this.updateLastMessageData({last_message:t.message,last_message_sent_at:t.created_at}),this.store.set("cached-last-message",{last_message:t.message,last_message_sent_at:t.created_at},!0))}}class Ny extends Fy{constructor(t){super(".token-chat-room-list-item",t);const e=Ue(".token-image");Or.selectLoadable(e,[t.image_thumb,t.stored_image_thumb]),this.append(Ue("header",e),Ue("main",Ue("h3",Ue("span.name",t.name),Ue("span.owner"," by ","string"==typeof t.owner?Rr.shortenEthereumAddress(t.owner):t.owner.display_name),Ue("span.price"+(t.is_price_up?".up":".down"),Rr.numberWithCommas(rn(t.last_fetched_price))," ETH")),this.lastMessageDisplay)).onDom("click",(()=>_e.go(`/${t.chain}/${t.token_address}`,void 0,t)))}}class Ry extends xe{store=new Re("chat-room-list");list;lastCreatedAt;constructor(){super(".chat-room-list"),this.append(new Oy,this.list=Ue("main"));const t=this.store.get("cached-tokens");if(t&&t.length>0)for(const e of t)this.list.append(new Ny(e));this.refresh()}async refresh(){const t=Ng.user?.wallet_address;if(t){this.list.append(new Ye);const e=await ey.fetchHeldOrOwnedTokens(t,this.lastCreatedAt);if(this.store.set("cached-tokens",e,!0),!this.deleted){this.list.empty();for(const t of e)this.list.append(new Ny(t));this.lastCreatedAt=e[e.length-1]?.created_at}}}}class Ly extends Lr{constructor(){super(),py.append(this.container=Ue(".chats-view",new Ry))}}class Uy extends ny{lastCreatedAt;constructor(){super(".new-token-list",{storeName:"new-tokens",emptyMessage:pr("new-token-list-empty-message")})}async fetchTokens(){const t=await ey.fetchNewTokens(this.lastCreatedAt);return this.lastCreatedAt=t[t.length-1]?.created_at,t}}class jy extends Lr{tabs;trendingTokenList;topTokenList;newTokenList;constructor(t){super(),py.append(this.container=Ue(".explore-view",Ue("main",this.tabs=new Er("explore",[{id:"trending",label:pr("explore-view-trending-tab")},{id:"top",label:pr("explore-view-top-tab")},{id:"new",label:pr("explore-view-new-tab")}]),this.trendingTokenList=new ay,this.topTokenList=new iy,this.newTokenList=new Uy))),this.tabs.on("select",(t=>{[this.trendingTokenList,this.topTokenList,this.newTokenList].forEach((t=>t.hide())),"trending"===t?this.trendingTokenList.show():"top"===t?this.topTokenList.show():"new"===t&&this.newTokenList.show()})).init(t.type)}changeParams(t){t.type&&this.tabs.select(t.type)}}var Gy;!function(t){t[t.EVERYONE=0]="EVERYONE",t[t.TOKEN_HOLDERS=1]="TOKEN_HOLDERS"}(Gy||(Gy={}));class Vy extends xe{store;select;refreshed=!1;lastCreatedAt;constructor(){super(".token-selector"),this.addAllowedEvents("change"),this.append(this.select=Ue("select",{change:(t,e)=>this.fireEvent("change",this.chain,this.tokenAddress)})),this.store=new Re("held-tokens");const t=this.store.get("cached-tokens");if(t)for(const e of t)this.select.append(Ue("option",e.name,{value:`${e.chain}-${e.token_address}`}))}async refresh(){if(Ng.user?.wallet_address){this.select.append(new Ye);const t=await ey.fetchHeldOrOwnedTokens(Ng.user.wallet_address,this.lastCreatedAt);if(this.store.set("cached-krews",t,!0),!this.deleted){this.select.empty();for(const e of t)this.select.append(Ue("option",e.name,{value:`${e.chain}-${e.token_address}`}));this.lastCreatedAt=t[t.length-1]?.created_at}}}get chain(){const t=this.select.domElement.value,[e]=t.split("-");return e}get tokenAddress(){const t=this.select.domElement.value,[,e]=t.split("-");return e}show(){return this.deleteClass("hidden"),this.refreshed||this.refresh(),this}hide(){return this.addClass("hidden"),this}}const zy=new class extends ns{constructor(){super("posts","reposts","post_likes",Kr,50)}enhancePostData(t){const e=super.enhancePostData(t);for(const t of e.posts)(t.token_name||t.token_symbol||t.token_image_thumb)&&(t.target_details={token_name:t.token_name,token_symbol:t.token_symbol,token_image_thumb:t.token_image_thumb});return e}async upload(t){const e={files:[]};return await Promise.all(t.map((async t=>{if(Ng.user)try{const r=await Dr.uploadAttachment("post_upload_files",Ng.user.user_id,t,2592e3);e.files?.push({url:r,fileName:t.name,fileType:t.type,fileSize:t.size})}catch(t){throw"Payload too large"===t.error&&new mr({title:pr("file-too-large-alert-title"),message:pr("file-too-large-alert-message",{maxFileSize:"1 MB"})}),t}}))),e}async post(t,e,r,s,n){const i=n.length?await this.upload(n):void 0,a=await this.safeInsertAndSelect({target:t,chain:e,token_address:r,message:s,rich:i});return this.notifyNewGlobalPost(a),a}async comment(t,e,r){const s=r.length?await this.upload(r):void 0;return await this.safeInsertAndSelect({parent:t,message:e,rich:s})}async fetchTokenHeldPosts(t,e,r){const{data:s,error:n}=await ke.client.rpc("get_token_held_posts",{p_user_id:t,p_wallet_address:e,last_post_id:r,max_count:this.fetchLimit});if(n)throw n;return this.enhancePostData(s??[])}checkSigned(){if(!Ng.signed)throw new wy,new Error("User is not signed in.")}};class Qy extends ss{parentPostId;callback;target=Gy.EVERYONE;chain;tokenAddress;constructor(t,e,r){super([Ng.user?.avatar_thumb,Ng.user?.stored_avatar_thumb],e),this.parentPostId=t,this.callback=r}async post(t,e){const r=this.parentPostId?await zy.comment(this.parentPostId,t,e):await zy.post(this.target,this.chain,this.tokenAddress,t,e);new or({message:pr("post-form-posted-snackbar-message"),action:{title:pr("post-form-posted-snackbar-button"),click:()=>_e.go(`/post/${r.id}`,void 0,r)}}),this.callback&&this.callback(r)}}class Hy extends xe{constructor(){super(".post-target-selector"),this.addAllowedEvents("change"),this.append(Ue("select",Ue("option",{value:String(Gy.EVERYONE)},pr("post-target-everyone")),Ue("option",{value:String(Gy.TOKEN_HOLDERS)},pr("post-target-token-holders")),{change:(t,e)=>this.fireEvent("change",Number(e.domElement.value))}))}}class qy extends xe{targetSelector;tokenSelector;form;constructor(t,e){super(".new-post-form"),this.append(Ue("header",this.targetSelector=new Hy,this.tokenSelector=(new Vy).hide()),this.form=new Qy(void 0,t,e?t=>e(t):void 0)),this.targetSelector.on("change",(t=>{this.form.target=t,t===Gy.TOKEN_HOLDERS?(this.tokenSelector.show(),this.form.chain=this.tokenSelector.chain,this.form.tokenAddress=this.tokenSelector.tokenAddress):(this.form.chain=void 0,this.form.tokenAddress=void 0)})),this.tokenSelector.on("change",((t,e)=>{this.form.chain=t,this.form.tokenAddress=e}))}show(){return this.deleteClass("hidden"),this}hide(){return this.addClass("hidden"),this}}class Ky extends sr{constructor(t){super({barrierDismissible:!0}),this.append(new Be(".popup.post-comment-popup",Ue("header",new nr({type:ar.Text,tag:".close",icon:new tr("close"),click:()=>this.delete()})),new rs(t),new Qy(t.id,!0,(()=>this.delete()))))}}class Wy extends je{constructor(t,e){super({left:e.left,top:e.top,items:[{title:pr("post-owner-menu-delete-button"),click:()=>{new fr({title:pr("delete-post-confirm-title"),message:pr("delete-post-confirm-message"),confirmTitle:pr("delete-post-confirm-delete-button")},(()=>zy.deleteMessage(t)))}}]})}}const Jy=new class{openPostView(t){_e.go(`/post/${t.id}`,void 0,t)}openAuthorProfile(t){_e.go(`/${t.x_username}`,void 0,t)}openOwnerMenu(t,e){new Wy(t,{left:e.right-120,top:e.top+30})}openCommentPopup(t){Ng.signed?new Ky(t):new wy}displayTarget(t){const e=Ue(".token-image");return Or.selectLoadable(e,[t.target_details?.token_image_thumb]),Ue(".target-token",e,t.target_details?.token_name,{click:e=>{e.stopPropagation(),t.chain&&t.token_address&&new ry(t.chain,t.token_address,void 0,{chain:t.chain,token_address:t.token_address,name:t.target_details?.token_name,symbol:t.target_details?.token_symbol,image:t.target_details?.token_image_thumb,image_thumb:t.target_details?.token_image_thumb})}})}},Yy=JSON.parse('{"v":"5.5.7","meta":{"g":"LottieFiles AE 0.1.20","a":"","k":"","d":"","tc":""},"fr":24,"ip":0,"op":96,"w":1000,"h":800,"nm":"Main","ddd":0,"assets":[{"id":"image_0","w":58,"h":121,"u":"","p":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAB5CAYAAABodzLqAAAFiUlEQVR4XuVdPXrTQBCdNXwfdIQTYApid4RSoSCcAMfQE05AOAHkBIQTEHpwzAlICqIS6OJQkJwA0jl8fFq+NZJRZP2spH0zC0lHWDl6erNv3szuWoouyI/6l3AObn1cuXyps5Tc8y+i4/FhcGyDwXugw364obQeaFIPCgCdaNJjrdR2GWhvgT7qh2uRph0iumHDmBmjNb3RP6eb4+P7P7LXeAl0vXewrUg9tQWYGXcaRdHa+Ovdz+nfewd0fTncUYoeNwSZXLYA1iugw97BJpF62RLkX7CKVpJ56w3QQT/sdjR9cwQy+Zj90SRYM//wBqijkF14Th1F998eBnteAAWxOQOtSL9/N1kdeAHU8dxcYDU6m173AujD3sG4xBC0nrYmfL0AOuyFe0R0rzWiog9QtOULUONkrl0EoBoG8o8iyTNqKpJOp/Ppvwcam/cPSKBeiJEpw0jTayTQSNFNcTEa9sMXpOk5EuhoEihxoCjrl3pwM78rDhSdQ72xgMNeaHo+1l2E2iGuaGt0GLzwgVFoDlVar787Wh2LAh10Pyx1rlz9XpulGhdEUXTHtFVEgXLkUKO44oX3w+WDgVZqtwZBdYd+GU2CFXGgDDnUj1ZKy7ZmNbux4soziq9Dn4wOA9MEl22Ooc1C0hjzASg0hyaK+78DPRlNgm4ykcXyKEMOnSuuKKNooJr0q93J6qY4o+heLpF+NpqsbssDBRfcacUVDV1009p059MLwmJihM6h6dQiyuiwFyKb1ucUVxoozCyYvQy7R8FG2gyLhC68aZ0y86Kqi86hWcUVC110DjUN6+yeI5HQRdehWcUVZBS6Hjpvn4iLETK1JA3rbPuBPXThLc4cxRUJXbTiJg1rcUbRnb+81CLCKNrM5ymuCFDwotK59omY6sKFiGjBzItYQPgSRIHisocu2hGRonnDWlR10cV2keKyMzrshbAa1IDJtk9ExAg+P4lOR5NgflRELHTh87NEcVlDd9gLzamF29Vrfc1GZBvWIowid1jPAZWkFjZGObbBlSkuG1C0v50pbk77hF110WnFACoy82wWkCGtGCyFHpcNKMOmxtnhu2zDml11kf0hW8WFixFT2FKV4sKBcoRtlceFz1GGIjvBUNhVYEkvHCbBALERImjoomvPlBAVFttwRlm8bYyirAaFA2UoyWYYipYf8uofyJIES+78g9QqbCFzlEuEiOg0Opt2876KgIVRLhGyVVtIHkUvIKWZSg4F5LEHZ5TLCdlUKzBTz5lSbLwtDKjPbDpT3djXmqNXuOPLMUVN2HQGFL24m4RhXaV16owY2ayVN53PUS42sxuNbdOKkzzKyGZl86sKeCuvy2TeW4Vsa0a58mZTlXU2R1nyZsV6SlW4tlZdDk/bJpU487oMFcqX6Gy6ZluC2TBbW4wY6k0n4tNqjsbpxCzowk7Z1y2/bNisbQHh5qBGa8QWYO30gt7wX7U0XxdY49AFC1Br51P1IKzECLzZ37nCNkovsQMyAoSoNXO/Z7OKnSb/X8koMmRd2Tsb4KVAsSF7/nynzc22GVMINFZZ8zV2zkPWtb2zeQCFQIE7vXLPpdjcbJsxuUCBdeZJdDZdcelhbcEvAAXuO2BT2Mr0Ak0lQHtnw+o5RmHz0mEBbQOqlFHUvJRQ2EKgwBqTxd7ZsKyA8/I0Sn3Zts3NIMcolPtBFdBNH4aCFNPCCps7R10z6ov4LBTejpcV4AV049A1FzpyQ94obGkebZliRO2dDcsZZ9TsXQ5Fx41tboBrzIKpr7+mwltAN30w+WWa5atIfFXYyuolGRArsekulB2xEimgnTJqPqwCLGR9pCkIm+tKm2Mx2HHm9Qf7URRtZl8FZPPHJMdUtjtn7PbD7mWibp3Xd0mCyvvbvwGINQ1PNaQ7egAAAABJRU5ErkJggg==","e":1},{"id":"image_1","w":36,"h":31,"u":"","p":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAfCAYAAACPvW/2AAAB3klEQVRYR7XXy3HCMBAA0N3xNTNJBTKuIHQQSqADUkI6COmAVBCoICkBOoAKhGVOXBImFw6WNyOP4rHB2PrZN4aV9LT6eI0w0MM5f4iiaElE26IoFkmS/JgMhSZBtjEaswaAR932REQLE1hwUAumPp9eWFBQD6YBA4AvKeU8SZJ9/Y9gIAvM5Q5Y1WFBQB6YOq6EeYMCYUoYIr57gQ6Hw7goimXtNNkeyEaGGGPPziCNUUf73keh264UpsySS2dDYTpBWZZNAGBKRGNEHKlgItoT0RoRX0Jn5j8xVxnSs18AwJNL9izaVMt08x4SQqh1/LDo1DW0FdNYMiHEFAA+XUewaHcTU4H0XaKu8BAnpsvWialAaZrOEfHVYpYuob2YCpRlmTo9scsohm2MMCXoeDzenc/nX8OOXcKMMSVI759vl5EM2uyklBPTanFokDVmSJATZiiQM6Y6ZUIIMtgPJiFemDpI1TQzkxE7Yk5SypHNBm7rq3y5cs5HURRxHxARvcVxPPfpo/Eu87ytd4yxsS+mAVI/hBDWS4eIaZ7n6q5pfM644q7qIctMbaSUU999U8e3lrB6T6n9oEqStgpgAwBLxpjKaNCnt6bWpWw1aJ7n25AZuZxNLyjo9A06+wM14vwWqoe6VQAAAABJRU5ErkJggg==","e":1},{"id":"image_2","w":68,"h":58,"u":"","p":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEQAAAA6CAYAAAAJO/8DAAAFJ0lEQVRoQ+2bQW8bVRCAZ9Y5VPRADlUrLsQJFy5sl1+AnTOIcoIb4cgBGm6kEsJIgR7rciSVMAfco5PcgkhsBAIj0bLeVKKX1vU6EmqoSnwI3HbQrHad9Xpt79t9u2vX7CVK8t68976dmTdv5i1CzEfTChoALI4Qo+t64yTmEKl2R9HRNK2QB0tZs4AKCPBaiP49AmgogA1QrG1dbzwK0SezJqGBaFqhYFlYCglh9IIQWkhYAcWqTKP2TATCJmFZWI4NIgARAXyjKFSaJq0ZC0RTV9cJ6EbS+jtNYEYCUdViBQHeTRqGR34PASv8uwWkIUAeAJYGxkdoEcGJ7Y/I0iEH7LSl+qRAIBnAiM79zCdJcdhDQDR1tURAn0afYXY9ZZjeABB2oGTh79ktSc7IccAMAFHVYiOJ3UTOMoWlsE8q6cZBWaRnHwjHGWRhXaTzLLQlgB1FobWwMU8fiKoWtxHgzVlYpPAc2fEiFcJA6QO5rBZJeKDZ6tBDxYaij5u2DeRZNZeAhXdQIW2cpswbEIAJ5jN/QACAt2XDqK8Fmc5cAmEQSPSWftjY9kOZWyAAwE427/cnLpA8WdierU0j/myDTMe77fKpcfB0GX/MqZeACi17T8xnkaq6Wiagq1O/AskT9GuJN3SfS7Px+xL/4S7tpJDk9x1NHBK9px827OSU//i/SBayL3k+mujZ7MUHQMOoXxkC4oTxnBNpzBuUllG3lSMwhegkiuYKCipU1PUG54OCHy5IOeWHZzMl4Fs2An6mGwdcdxr/uJW6lZeWrj548CiwZLm8/CKcP/8cvKK+bP9cWVmCSxcvwMVLF4aEn57+Aw8fmtD85Q40m3fh+PjJpCmk8n93+50IxJ2NaZqJ5Et2dvbgdrUGp6f/prLwUYMQwA+GUefy7OSn3W7nc7lcYqE9a8y1jS8yhSIEpNvtFogo0Xxrs3kHPt/8cvLbSaoFQqvVqnOBbPKTBhCexcbH1+HevfuTJ5RQC956pwpIlloiZDKmaXJ26euEXkxfLO9A77z9ftLDBMoXApKWyfBM33g9zfr6GZv/gQwHZjd142A9lA85OjrSLMtKvOa7//2PUC7fysRk3BNvKCA8w6QCM3f17D8+/OCTzCJXVOhVLmKJAOGK1+UkXh/D4C233TaTEB9GZq9l1O1jSWgg3W63TCQ/xTgFMAbqNKGBmKbJCZRaGNwibba++hZ2d78T6SK9rbdGExqI40f4Eq60bNrh4X24tnFd+gIFBXZaRp3vs9mPEBDZZlO+sQX7+z8Jzl9ucwT8yHupRgiI7FNvVkGYB+lQ9U4IiGM2nJ2OHU5Og7n4tUPYZLiDoyW8BcfyJVkGYY6zsI/7fgMU1hAW0Ol0SogY6+pmtVqD29Wh4rtcBzFa2sjbRJGAOKbDWfkwX0METotTh7e2qmkBGBjHW5iSoiGO6SzmcrnIRa2sfMi4yzKRfIiXqHPoi1S/ySL3MQlGbCAsIA6Uzc2b8GvzbipmEwaGFCBxoKRlNgho5zrCkI/sVP3CHU3hGEXoRJywlvSQaN2t7KcKxHW0CwsLJZFTcVJ5EE4JOle6hb6nkaYhXvpODrYUdluWXKjqOFoRKchJBIgLx8nWc8Z+Yrxy/PgJsPlETRLZGkFUETGPIBNKFIg7IPsXImIwV4ho7MU+jmB3d/ZClTVtCIDbMj9/TQWI9004ZyEGpCEi5yH6uQi33dOnf/9Rq+290Pz5t3N/Pv7rHP9dAeTzE+djTkCx+Fs7jn+kP/8BFhTDWYTuCcYAAAAASUVORK5CYII=","e":1},{"id":"image_3","w":94,"h":154,"u":"","p":"data:image/png;base64,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","e":1},{"id":"image_4","w":90,"h":172,"u":"","p":"data:image/png;base64,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","e":1},{"id":"image_5","w":37,"h":56,"u":"","p":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAA4CAYAAAB61jFGAAABy0lEQVRoQ+WZ0U3DMBBA78gAMEFggabegKQLkA3oBnQDugHdgG5AN6Ab0A1M7P7DBDkUlFZEFJB9vvYk+h1ZT8+Xp+iKwPxtt1vTtu2CeQzkeV7uzkDuYdbaqyzLLPecPM/3LGyoDsY5R+qgvPevRHTJAZMwtQaAa21QSwC4VQXVNM0cEe9VQTnnpgDwqArKe18S0bMqqBStSv72pWiVFNQ7AJzHXqEUFKtVUlArALhRZYrbKhFTTdPMEPFBlSluq0RM9R97L6pMcVslYqqHim6VJFR0q/4XFKdVYqZUQnFaJWZKJRSnVWKmNENFtUralD6o2CyImlIJFZsFUVMqoay1F1mWvYV+7Imaim3VMaA2ADAOsXUMqOBWiUN57xdEdKfKVEyrxE0552oAeBI1ZUZl3SLWiGCAwgY4BKx7Fs+o+nWPborJnIBmnBVPMihjSkOES2krh4APmjKjckqI3X8t0QuwUDtfn/8G1c0OIQYNKAfgT1OfV9ZiF72TGNoBDkwVRbVG5l8ZKaztofo5Yi3nUwANkjAeV5tTvGk/zlQ/S9HLrlSGBjNlismMgKJ3lSJQRVGtkLFqloJS8dYNrk9LCg52KvU1cM77ABZR+3kzEoZbAAAAAElFTkSuQmCC","e":1},{"id":"image_6","w":37,"h":56,"u":"","p":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAA4CAYAAAB61jFGAAAByUlEQVRoQ+2Z7VHCQBBAd00BWkGkAeJ1YLAB04F0oB1IB9qBdCAdQAfawcldAVpB1jkGGBnkI7u3uD/kL8nO43F5kByC8OW97xVFMRaOgbIs69UMlA5L54cQSDqnLMs1Sy6oLwA4l4BpQM0A4Noa1AQAbk1BzefzESI+/kMdMhBjrIloeui4fe9nX+gmoXK0Krspy1CiVmmZsgclbZWKKZNQ0iyomDIJJc2CiinLUO8AcMX5DdQ0xW6VGlSM8ZmI7k2ZkrRKzVQIoQGAV1OmJK1SM+W9vyiK4tOUKUmr1EwtoVit0oZitUoVitsqVShuq1ShQghDAHjpegWqQnFbpQq1fIjmTZnitkrVVIKKMX4Q0WUXW+pQIYTOrToFVHowe2fKFKdVpzDVuVXqUJxWdYZy/bppERtEcEC8u5Vj1xee0WDvc3TXr4eEOAKATpf3sQC/HbcTyrnaEeFY28rRUAugFlNnRDsIXFtbppZAb9yBOc7bgHKu7lGL6a/snxhafaANqKoazFC4v5LVVLrkCZF1E5kD5OeMtSkrlhLcAsrC4t4y5aqbBwJ6yv01cOctTFXVYILCvTouwM54WlpP6zVlEiqn+lyzvgGqC/t5ANFeNgAAAABJRU5ErkJggg==","e":1},{"id":"image_7","w":33,"h":105,"u":"","p":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAABpCAYAAAC070puAAAEX0lEQVRoQ+2bPXbTQBDHZ0UBNBBOQCiI0hFKmQLnBDgOPeEEhBNgTkA4AaEnijlBTIFVQjorFDgngHQJ76HlrWUru9Lsai2NVuG9uMzTx0/zn52d2ZkwWOLXe/h1w/NYl3GY/v1zMRpON38vcbv2UmbzkP56tAMcBgBwX7r+DBjshpNg3+YZpmuMEJqXK8/zGGx+mgSjOiAohM3LFy9lwD8fxJ0eGcQyL5dfmlyc36vjHzNLpA7nDXOa238cg5d1fIP1Vo9WvJu3vlcGAIC6krC5BB/sPxu/MowDq5WG3S0gBsDhTV0IxvnWwUlHSLr0jwyCc/h4eBLsLE0g5Jw75bcqN+fuOQvjYKXKc2Y69v1IhN+7VR4g31NVkhnE1lq0zxi8qAtRVZLUEuneUHuFAEAlSdJglcaKX3UtIe6vIkm2tvt+JALWo7ogVSTJILb88R4D9qouRBVJMojttXGPM3ZIAAHLbu8ZBKVfcODvD+POru0HKfGeyi8A4DSMg9VKEIR+AUmSPB7+eCKcvfSnWoIuXsAykigQvfVo1ePwsxTd7gJrSQo5ANU+IjhtJcEgROb81O5jzVfZSlKEIEpy5nhWkmAQVJvZjMNGkgIEYZIzNwZ/HcadPZNwePHjR5zCJ+bPOA7jYKMKBMmOunhxwuDBcBJMdSA6S5CtkPTFZkl0tShJGSB9uVESjSXGuwDsHaFfgEkSFOL5etRNOBxRQpgkQSHol+nsc7SSaOvHPu0yTQOXZpU4hQDNEYIJgjRWCEvojhBMEMSxInVz7FTHOQQmiR6CdkvPVjsmiXMITJJWIPKStAKRr1e1EJRlIRL+lbRPC9HM/nGJI0fP1iBkv2gNQi4HWoMAgC9hHHTTcK75Ne0TcuXeJgQsjqJbhbhzcX57f7p53irEYke9hvg/LEHVBzGVDaWWuIZYmO9KWGLbHw85sGe0paD6tHKf8KNGUn4ZozRi9h1AlO4dlOeZGkmzFM9tLarSmPMJ4uNl3BAM3oaTQMxk4EmNg4RG6ZXpzqxID1QxU8iHrK4OzgoccoMfhXAQqDKn1PpE0zHCqgxs4rxK0UNaGaglXCzPfMuy4BMulmf+FA/rd1AfKedXRqGpX4BwvTJQn+j7kWgJyONtpCkF1hdTLEHZqtaTF9sOCoQLp8Sa+QqEy7xStpQK0Xw2hbYo8xCUDTjMLZQ9Y3FBBtFQj0MFyYXrAkTfp285FUxR1mpwEKS0Yy6ZHE0HKWEV3aSiDNG0U5p7YC6ClGlwdGYJR06Zpfh5h00hGmqwKFHRMDTqDMI0R+EMwjTD68on0HCtRMymQ3bZZKIcJ0hGZLFdq2xG8xKiuRVSOq16uYum06kiv6w9MGwqdFBLyX9sIGiVDvWg2TbV5LKYUE2SpGsziYhW5QQg1gDaqrxmKD9OkmTHxgKFzApzGBE/bnhsYHmoegoMBlX+z0N7eidDpZU673HONhgDdeyVwcgDGNX5vx8rCNI6EHnYlYD4B/SqxoiJJ3nhAAAAAElFTkSuQmCC","e":1},{"id":"image_8","w":27,"h":30,"u":"","p":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAeCAYAAADdGWXmAAAB+0lEQVRIS62WzXUTMRDHZ3YLIBzznjW2KsBUgLlxS6gAqIBQASkhqYCkApIKcB4pIKlgY8kHjqSAkXizaP3keHcteVfXHc1vPv9ahJ5jrf3gnJsXRXEcmznnfjvn7rXWf/ruv/yGbcbGmFNEvPDeT/c4u2bmM6313xToDswYcwUAn1Iuiw0irhDxdDKZPOy7swXLBUXOn5l5ti/DDUxKBwA/90XX8/2OiBZ992OY1P3VAJiU9L1Satnlo4YZYz4DwI8hoHD3loikQq2ngd0AwMkIMCCi1gmvhylkJqm/GwNWFMXbrslsYH4MUFiFzr7VMGvtU8ICJ8WDiJdKqbM249HLKEuulJp1wlar1Tkifk8KPc3oIxHJ0G2dOrOqqmZlWVZpfpKsrolI1mkXFiZytPEHgFb52uxEVVVHZVk+DVWRKJUvRCSivjlbC7her+fOOdm5QbIVvO+oyc62B6BE9CapOz1GzPw6fgk6pSXopezLwVDv/bfpdHrRxNMJiwMe8Pw8EtE8CzZkWplZa61l8P4Lccqx1i68979SbLcmMJKvZJg4OERDY/nKgh36yDYveBZswOLX8pUFC6WU/8mvmb17JqKjbFiuaEvPvPdLZj7PhiWswSMiLr33D8y8bMY+a/Tjsr1YgzuJHBEb552/4gdlFnq36PtHbOvpPzo95NwznVwFAAAAAElFTkSuQmCC","e":1},{"id":"image_9","w":369,"h":258,"u":"","p":"data:image/png;base64,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","e":1},{"id":"image_10","w":76,"h":68,"u":"","p":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAABECAYAAAArxNNGAAABVklEQVR4Xu3csW3CUBRG4XspgrtkBFcwg2lQNoAsgNjIIzAARNkAOlZAqTJC6EgTo6cI0Rmf1Mfds0716a9vRkQs6v1LPlVtZtTl7XcXyOi+M7PdnppD+ZsFazSuviLiWagegYz1+6nZ5HJy3GTGSqyHAuffn0udb9Njmdr8YW4Qo4xXwcAQBANYJRVMMCgAcxcmGBSAuQsTDArA3IUJBgVg7sIEgwIwd2GCQQGYuzDBoADMXZhgUADmLkwwKABzFyYYFIC5CxMMCsDchQkGBWDuwgSDAjB3YYJBAZi7MMGgAMxdmGBQAOYuTDAoAHMXJhgUgLkLEwwKwNyFCQYFYO7CBIMCMHdhgkEBmLswwaAAzF2YYFAA5i5MMCgAcxcmGBSAuQsTDArA3IUJBgVg7sIEgwIwd2H/AfMc1mC1v3NYHlwbCHY7uFZyT/r1o2XXtbvP2UeprqhCwH19q9P6AAAAAElFTkSuQmCC","e":1},{"id":"image_11","w":240,"h":44,"u":"","p":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAAAsCAYAAABbqTXGAAADOUlEQVR4Xu2d33EaMRCHtbpXTpgKQgdxKohdQUgFJhXEJTgVhFTgdBCnAkMHTgehAszB650yywDDv4d7yWjl++7Nw43107f6oTsh7Yo7uRaLxZX3fiwiN865q9PP+RsCHSPw6px7CiH8tNhvORRVVdXYOTdxzvUtikUTBBISmIvIuCzLaUINZ03vDVxVlX7D3FkShxYIGCTwxdJsvDHwduZ9NAgLSRAwR8B7/6HX671YECb6zlsUxV8emy2EAw2ZEJiFEHSNKPkly+XyXkS+J1eCAAhkRMDKLCxVVT055z5lxA6pEEhOIMb4rd/vP6QWogbWVbWPqYXQPgQyI/A7hDBKrVkNrO+/71ILoX0IZEbAxHswM3Bmowa5NgiIyI+yLO9Tq5HVajWJMX5NLYT2IZAZARO/B6uBb2KMz5nBQy4EUhJY1nU9HAwGus0y6bXbyMFCVtIw0HhOBKysQCuzjYHZzJHT8EFrYgJ/QgjXiTXsm9/vhV6v19dN0+h+6PdWxKEDAsYIzOq6Hll4dN5xOTqNtD1KqDuzdHWNE0nGRg9ykhGYO+ceLB1iuGjgQzw6I8cYOQ+cbMzQsAUCIvJq5eDCJR5HM7AFYGiAAATaE8DA7VlxJwTMEcDA5kKCIAi0J4CB27PiTgiYI4CBzYUEQRBoTwADt2fFnRAwRwADmwsJgiDQngAGbs+KOyFgjgAGNhcSBEGgPQEM3J4Vd0LAHIGLBt7mida0mUNzihEEgY4REJGXGOM0hKAJKI+u09IqmqRLS6uQI6tjg4TuZkHgrLzLYWkVrYtEdYYs4ojIjhPYp/PZZeTQmfdXx6HQfQhkQ0BEbrXQGqVVsgkZQiFwRGAeQhhqWlkenRkZEMiTwGdKq+QZOFRDwGluahK7MxAgkC+BGQbON3gohwAGZgxAIGMCGwNrKtm7jDuBdAh0koAmmKe0SidDT6ffAgEtMk5plbcQSfrQRQKb+sQbA2+rMmh9JJK5d3Eo0OfcCOyLq52WVsHEuYUSvV0jMPfej3bJ5s9KqxRFoaeRWNTq2rCgv9YJLGOMk6ZpJoe1mS6eB95WK9S6wWaqsFmniz4I/C8C3vupHly49P//AW3H491/g9PpAAAAAElFTkSuQmCC","e":1},{"id":"image_12","w":473,"h":539,"u":"","p":"data:image/png;base64,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","e":1},{"id":"comp_0","layers":[{"ddd":0,"ind":2,"ty":2,"nm":"left-arm","parent":5,"refId":"image_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":31,"s":[0]},{"t":61,"s":[20]}],"ix":10},"p":{"a":0,"k":[27.814,14.589,0],"ix":2},"a":{"a":0,"k":[46.906,7.181,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":240,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":2,"nm":"left-hand","parent":2,"refId":"image_1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":31,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":47,"s":[-11.867]},{"t":61,"s":[-11]}],"ix":10},"p":{"a":0,"k":[8.196,111.482,0],"ix":2},"a":{"a":0,"k":[26.196,7.09,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":240,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":2,"nm":"hhead","parent":5,"refId":"image_2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":17,"s":[12]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":24,"s":[11]},{"t":36,"s":[-11]}],"ix":10},"p":{"a":0,"k":[47.65,-5.4,0],"ix":2},"a":{"a":0,"k":[34.25,57.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":240,"st":0,"bm":0},{"ddd":0,"ind":5,"ty":2,"nm":"body-top","refId":"image_3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":15,"s":[3]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":25,"s":[6]},{"t":37,"s":[0]}],"ix":10},"p":{"a":0,"k":[620.238,444.9,0],"ix":2},"a":{"a":0,"k":[54.9,141.25,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":240,"st":0,"bm":0},{"ddd":0,"ind":6,"ty":2,"nm":"legs","refId":"image_4","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[609.573,516.8,0],"ix":2},"a":{"a":0,"k":[44.621,85.85,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":240,"st":0,"bm":0},{"ddd":0,"ind":7,"ty":2,"nm":"right-foot","parent":6,"refId":"image_5","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[66.077,164.1,0],"ix":2},"a":{"a":0,"k":[18.208,27.6,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":240,"st":0,"bm":0},{"ddd":0,"ind":8,"ty":2,"nm":"left-foot","parent":6,"refId":"image_6","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[4.386,164.1,0],"ix":2},"a":{"a":0,"k":[18.2,27.6,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":240,"st":0,"bm":0},{"ddd":0,"ind":9,"ty":2,"nm":"right-arm","parent":5,"refId":"image_7","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":31,"s":[0]},{"t":58,"s":[-91]}],"ix":10},"p":{"a":0,"k":[73.85,45.526,0],"ix":2},"a":{"a":0,"k":[11.439,97.381,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":240,"st":0,"bm":0},{"ddd":0,"ind":10,"ty":2,"nm":"right-hand","parent":9,"refId":"image_8","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":31,"s":[0]},{"t":58,"s":[13]}],"ix":10},"p":{"a":0,"k":[7.412,5.529,0],"ix":2},"a":{"a":0,"k":[19.678,24.575,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":240,"st":0,"bm":0},{"ddd":0,"ind":11,"ty":2,"nm":"pickup","refId":"image_9","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":31,"s":[0]},{"t":61,"s":[-6]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":31,"s":[607.801,320.65,0],"to":[-24.167,0,0],"ti":[24.167,0,0]},{"t":61,"s":[462.801,320.65,0]}],"ix":2},"a":{"a":0,"k":[353.062,146.9,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":240,"st":0,"bm":0}]},{"id":"comp_1","layers":[{"ddd":0,"ind":2,"ty":2,"nm":"box","refId":"image_10","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[101.175,147.95,0],"ix":2},"a":{"a":0,"k":[37.725,34,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":0,"s":[0,0,100]},{"t":10,"s":[100,100,100]}],"ix":6}},"ao":0,"ip":0,"op":240,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":2,"nm":"data","refId":"image_11","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[169.25,148.05,0],"ix":2},"a":{"a":0,"k":[0,22,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":6,"s":[0,100,100]},{"t":26,"s":[100,100,100]}],"ix":6}},"ao":0,"ip":0,"op":240,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":2,"nm":"Frame","refId":"image_12","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[236.25,269.05,0],"ix":2},"a":{"a":0,"k":[236.5,269.3,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":240,"st":0,"bm":0}]}],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Shape Layer 6","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[868,221,0],"ix":2},"a":{"a":0,"k":[259,-173,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":72,"s":[0,0,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":77,"s":[69.231,69.231,100]},{"t":82,"s":[0,0,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[26,26],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.800000059838,0.800000059838,0.800000059838,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[259,-173],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":72,"op":312,"st":72,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Shape Layer 4","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[95,364,0],"ix":2},"a":{"a":0,"k":[259,-173,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":67,"s":[0,0,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":72,"s":[69.231,69.231,100]},{"t":77,"s":[0,0,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[26,26],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.800000059838,0.800000059838,0.800000059838,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[259,-173],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":67,"op":307,"st":67,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Shape Layer 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[171,415,0],"ix":2},"a":{"a":0,"k":[259,-173,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":62,"s":[0,0,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":67,"s":[69.231,69.231,100]},{"t":72,"s":[0,0,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[26,26],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.800000059838,0.800000059838,0.800000059838,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[259,-173],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":62,"op":302,"st":62,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"Shape Layer 9","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[129,109,0],"ix":2},"a":{"a":0,"k":[259,-173,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":57,"s":[0,0,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":62,"s":[130.769,130.769,100]},{"t":67,"s":[0,0,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[26,26],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.321568627451,0.152941176471,0.780392216701,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[259,-173],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":57,"op":297,"st":57,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"Shape Layer 5","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[827,172,0],"ix":2},"a":{"a":0,"k":[259,-173,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":57,"s":[0,0,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":62,"s":[130.769,130.769,100]},{"t":67,"s":[0,0,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[26,26],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.321568627451,0.152941176471,0.780392216701,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[259,-173],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":57,"op":297,"st":57,"bm":0},{"ddd":0,"ind":6,"ty":4,"nm":"Shape Layer 8","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[208,58,0],"ix":2},"a":{"a":0,"k":[259,-173,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":52,"s":[0,0,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":57,"s":[130.769,130.769,100]},{"t":62,"s":[0,0,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[26,26],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.321568627451,0.152941176471,0.780392216701,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[259,-173],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":52,"op":292,"st":52,"bm":0},{"ddd":0,"ind":7,"ty":4,"nm":"Shape Layer 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[125,321,0],"ix":2},"a":{"a":0,"k":[259,-173,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":52,"s":[0,0,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":57,"s":[130.769,130.769,100]},{"t":62,"s":[0,0,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[26,26],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.321568627451,0.152941176471,0.780392216701,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[259,-173],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":52,"op":292,"st":52,"bm":0},{"ddd":0,"ind":8,"ty":4,"nm":"Shape Layer 7","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[171,95,0],"ix":2},"a":{"a":0,"k":[259,-173,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":47,"s":[0,0,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":52,"s":[192.308,192.308,100]},{"t":57,"s":[0,0,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[26,26],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.800000059838,0.800000059838,0.800000059838,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[259,-173],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":47,"op":287,"st":47,"bm":0},{"ddd":0,"ind":9,"ty":4,"nm":"Shape Layer 1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[759,227,0],"ix":2},"a":{"a":0,"k":[259,-173,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":47,"s":[0,0,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":52,"s":[192.308,192.308,100]},{"t":57,"s":[0,0,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[26,26],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.800000059838,0.800000059838,0.800000059838,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[259,-173],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":47,"op":287,"st":47,"bm":0},{"ddd":0,"ind":10,"ty":0,"nm":"light-weight","refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[514.25,447.375,0],"ix":2},"a":{"a":0,"k":[350,350,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":700,"h":700,"ip":0,"op":240,"st":0,"bm":0},{"ddd":0,"ind":11,"ty":0,"nm":"Light-weighted","refId":"comp_1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[624,398,0],"ix":2},"a":{"a":0,"k":[401.5,320.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":803,"h":641,"ip":0,"op":240,"st":0,"bm":0}],"markers":[]}');class Zy extends xe{constructor(){super(".post-loading-animation"),this.style({width:200,height:200}),this.append(new $e(".post-loading-animation",Yy))}}class Xy extends sr{constructor(){super({barrierDismissible:!0}),this.append(new Be(".popup.post-popup",Ue("header",new nr({type:ar.Text,tag:".close",icon:new tr("close"),click:()=>this.delete()})),new qy(!0,(()=>this.delete()))))}}class $y extends $r{constructor(){super(".token-held-post-list",zy,{storeName:"key-held-posts",signedUserId:Ng.user?.user_id,emptyMessage:pr("token-held-post-list-empty-message")},Jy,new Zy)}async fetchPosts(){if(Ng.user?.wallet_address){const t=await zy.fetchTokenHeldPosts(Ng.user.user_id,Ng.user.wallet_address,this.lastPostId);return{fetchedPosts:t.posts.map((t=>({posts:[t],mainPostId:t.id}))),repostedPostIds:t.repostedPostIds,likedPostIds:t.likedPostIds}}return{fetchedPosts:[],repostedPostIds:[],likedPostIds:[]}}}class tb extends Lr{tabs;globalPostList;followingPostList;tokenHeldPostList;constructor(t){super(),py.append(this.container=Ue(".posts-view",Ue("main",Ng.signed?new qy:void 0,Ue(".post-container",Ng.signed?this.tabs=new Er("posts-view-tabs",Ng.walletLinked?[{id:"global",label:pr("posts-view-global-tab")},{id:"following",label:pr("posts-view-following-tab")},{id:"token-held",label:pr("posts-view-token-held-tab")}]:[{id:"global",label:pr("posts-view-global-tab")},{id:"following",label:pr("posts-view-following-tab")}]):void 0,this.globalPostList=new es(zy,{signedUserId:Ng.user?.user_id,wait:!0},Jy,new Zy),Ng.signed?this.followingPostList=new ts(zy,{signedUserId:Ng.user?.user_id,wait:!0},Jy,new Zy):void 0,Ng.walletLinked?this.tokenHeldPostList=new $y:void 0)),Ng.signed?new nr({tag:".post",icon:new tr("add"),click:()=>new Xy}):void 0)),this.tabs?this.tabs.on("select",(t=>{[this.globalPostList,this.followingPostList,this.tokenHeldPostList].forEach((t=>t?.hide())),"global"===t?this.globalPostList.show():"following"===t?this.followingPostList?.show():"token-held"===t&&this.tokenHeldPostList?.show()})).init():this.globalPostList.show()}}class eb extends xe{postId;thread;constructor(t,e){super(".post-display"),this.postId=t,e&&this.append(this.thread=new Zr([e],zy,{inView:!0,mainPostId:e.id,repostedPostIds:[],likedPostIds:[],newPostIds:[],signedUserId:Ng.user?.user_id},Jy,new Qy(t,void 0,(t=>this.thread?.addComment(t)))))}set data(t){this.empty().append(this.thread=new Zr(t.posts,zy,{inView:!0,mainPostId:this.postId,repostedPostIds:t.repostedPostIds,likedPostIds:t.likedPostIds,newPostIds:[],signedUserId:Ng.user?.user_id},Jy,new Qy(this.postId,void 0,(t=>this.thread?.addComment(t)))))}}class rb extends Lr{postDisplay;lastCommentId;constructor(t,e,r){super(),py.append(this.container=Ue(".post-view")),this.render(parseInt(t.postId),r)}changeParams(t,e,r){this.render(parseInt(t.postId),r)}async render(t,e){this.container.empty().append(this.postDisplay=new eb(t,e));const r=await zy.fetchPost(t,void 0,Ng.user?.user_id);this.postDisplay.data=r,this.lastCommentId=r.posts[r.posts.length-1]?.id}}class sb extends xe{constructor(t){super(".user-bio-tab")}show(){this.deleteClass("hidden")}hide(){this.addClass("hidden")}}class nb extends $r{constructor(t){super(".user-comments-tab",zy,{storeName:t===Ng.user?.user_id?"signed-user-comments":void 0,signedUserId:Ng.user?.user_id,emptyMessage:"This user has not commented anything yet."},Jy,new Zy)}async fetchPosts(){throw new Error("Method not implemented.")}}class ib extends xe{constructor(t){super(".horizontal-token-list-item")}}class ab extends ny{constructor(t){super(".user-holding-tokens-tab",{storeName:t===Ng.user?.user_id?"signed-user-holding-tokens":void 0,emptyMessage:"This user does not hold any tokens."})}addItem(t){new ib(t).appendTo(this)}fetchTokens(){throw new Error("Method not implemented.")}}class ob extends $r{constructor(t){super(".user-liked-posts-tab",zy,{storeName:t===Ng.user?.user_id?"signed-user-liked-posts":void 0,signedUserId:Ng.user?.user_id,emptyMessage:"This user has not liked anything yet."},Jy,new Zy)}async fetchPosts(){throw new Error("Method not implemented.")}}class lb extends ny{constructor(t){super(".user-owned-tokens-tab",{storeName:t===Ng.user?.user_id?"signed-user-owned-tokens":void 0,emptyMessage:"This user does not own any tokens."})}addItem(t){new ib(t).appendTo(this)}fetchTokens(){throw new Error("Method not implemented.")}}class cb extends $r{constructor(t){super(".user-posts-tab",zy,{storeName:t===Ng.user?.user_id?"signed-user-posts":void 0,signedUserId:Ng.user?.user_id,emptyMessage:"This user has not posted anything yet."},Jy,new Zy)}async fetchPosts(){throw new Error("Method not implemented.")}}class hb extends $r{constructor(t){super(".user-reposts-tab",zy,{storeName:t===Ng.user?.user_id?"signed-user-reposts":void 0,signedUserId:Ng.user?.user_id,emptyMessage:"This user has not reposted anything yet."},Jy,new Zy)}async fetchPosts(){throw new Error("Method not implemented.")}}class ub extends xe{xUsername;loaded=!1;constructor(t){super(".user-tweets-tab"),this.xUsername=t}show(){if(this.deleteClass("hidden"),!this.loaded){this.loaded=!0;const t=(new Ye).appendTo(this);window.twttr.widgets.createTimeline({sourceType:"profile",screenName:this.xUsername},this.domElement,{height:300,theme:"dark"}).then((()=>t.delete()))}}hide(){this.addClass("hidden")}}const db=new class extends xr{constructor(){super("user_wallets","*, total_earned_trading_fees::text",50)}async fetch(t){return await this.safeSelectSingle((e=>e.eq("wallet_address",t)))}};class pb extends xe{userWalletAddress;infoContainer;feesEarnedDisplay;portfolioValueDisplay;constructor(t,e){super(".user-profile"),this.append(this.infoContainer=Ue(".info-container"),Ue(".metrics-container",Ue("h2",pr("user-profile-metrics-title")),Ue("section.earned",Ue(".icon-container",new tr("savings")),Ue(".metric",Ue("h3",pr("user-profile-metrics-fees-earned-title")),this.feesEarnedDisplay=Ue(".value",new Ze))),Ue("section.portfolio-value",Ue(".icon-container",new tr("account_balance")),Ue(".metric",Ue("h3",pr("user-profile-metrics-portfolio-value-title")),this.portfolioValueDisplay=Ue(".value",new Ze))))),e&&this.renderUserInfo(e)}set user(t){this.infoContainer.empty(),t?(this.renderUserInfo(t),t.wallet_address!==this.userWalletAddress&&(this.userWalletAddress=t.wallet_address,this.fetchFeesEarned(),this.fetchPortfolioValue())):(this.feesEarnedDisplay.text="0",this.portfolioValueDisplay.text="0")}renderUserInfo(t){const e=Ue(".trader-avatar");Or.selectLoadable(e,[t.avatar_thumb,t.stored_avatar_thumb]),this.infoContainer.append(e,Ue(".info",Ue("h2",t.display_name),Ue("h3",`@${t.x_username}`,{href:`https://x.com/${t.x_username}`,target:"_blank"}),Ue(".link",`https://pal.social/${t.x_username}`,Ue("button.copy",new tr("content_copy"),{click:(e,r)=>{navigator.clipboard.writeText(`https://pal.social/${t.x_username}`),r.empty().append(new tr("check"))}})),Ue("p",pr("user-profile-joined",{date:Nr.format(t.created_at??De)})),Ue(".actions",Ue("a","𝕏",{href:`https://twitter.com/${t.x_username}`,target:"_blank"}))))}async fetchFeesEarned(){const t=this.userWalletAddress?await db.fetch(this.userWalletAddress):void 0;this.feesEarnedDisplay.text=rn(t?t.total_earned_trading_fees:"0")}async fetchPortfolioValue(){const t=this.userWalletAddress?await Og.fetchPortfolioValue(this.userWalletAddress):"0";this.portfolioValueDisplay.text=rn(t)}}class fb extends xe{xUsername;userId;userBio;userProfile;bioAndTweetTabContainer;tokenTabContainer;postAndFollowerTabContainer;bioAndTweetTabs;constructor(t,e){super(".user-display"),this.xUsername=t,this.append(this.userProfile=new pb(t,e),this.bioAndTweetTabContainer=Ue(".bio-and-tweet-tab-container"),this.tokenTabContainer=Ue(".token-tab-container"),this.postAndFollowerTabContainer=Ue(".post-and-follower-tab-container")),e&&(this.userId=e.user_id,this.renderTabs())}set user(t){t?(this.userProfile.user=t,t.user_id!==this.userId&&(this.userId=t.user_id,this.userBio=t.metadata?.bio,this.renderTabs())):(this.userProfile.user=void 0,[this.bioAndTweetTabContainer,this.tokenTabContainer,this.postAndFollowerTabContainer].forEach((t=>t.empty()))),this.bioAndTweetTabs&&!this.bioAndTweetTabs.deleted&&this.bioAndTweetTabs.select(this.userBio?"user-bio":"user-tweets")}renderTabs(){const t=new sb(this.userBio),e=new ub(this.xUsername);this.bioAndTweetTabs=new Er("bio-and-tweet-tabs",[{id:"user-bio",label:"Bio"},{id:"user-tweets",label:"Tweets"}]).on("select",(r=>{[t,e].forEach((t=>t.hide())),"user-bio"===r?t.show():"user-tweets"===r&&e.show()})).init(),this.bioAndTweetTabContainer.empty().append(this.bioAndTweetTabs,t,e);const r=new lb(this.userId),s=new ab(this.userId),n=new Er("token-tabs",[{id:"user-owned-tokens",label:"Owned Tokens"},{id:"user-holding-tokens",label:"Holding Tokens"}]).on("select",(t=>{[r,s].forEach((t=>t.hide())),"user-owned-tokens"===t?r.show():"user-holding-tokens"===t&&s.show()})).init();this.tokenTabContainer.empty().append(n,r,s);const i=new cb(this.userId),a=new nb(this.userId),o=new hb(this.userId),l=new ob(this.userId),c=new Er("post-and-follower-tabs",[{id:"user-posts",label:"Posts"},{id:"user-comments",label:"Comments"},{id:"user-reposts",label:"Reposts"},{id:"user-liked-posts",label:"Liked"}]).on("select",(t=>{[i,a,o,l].forEach((t=>t.hide())),"user-posts"===t?i.show():"user-comments"===t?a.show():"user-reposts"===t?o.show():"user-liked-posts"===t&&l.show()})).init();this.postAndFollowerTabContainer.empty().append(c,i,a,o,l)}}class mb extends Lr{userDisplay;constructor(){super(),py.append(this.container=Ue(".profile-view",this.userDisplay=new fb(Ng.user?.x_username??"",void 0))),this.userDisplay.user=Ng.user,Ng.signed||setTimeout((()=>_e.goNoHistory("/")))}}class gb extends Lr{linkWalletSection;constructor(t){super(),py.append(this.container=Ue(".settings-view",Ng.signed?this.linkWalletSection=Ue("section.link-wallet"):void 0)),this.renderLinkWalletSection(),this.container.onDelegate(Ng,"walletLinked",(()=>this.renderLinkWalletSection()))}renderLinkWalletSection(){this.linkWalletSection?.empty().append(Ue("header",Ue("h2",pr("settings-view-link-wallet-section-title"))),Ue("main",Ng.walletLinked?Ue("p.linked",pr("settings-view-link-wallet-section-linked").trim()+" ",Ue("a",Ng.user?.wallet_address,{href:`https://etherscan.io/address/${Ng.user?.wallet_address}`,target:"_blank"})):Ue("p",pr("settings-view-link-wallet-section-description"))),Ue("footer",new nr({title:pr("settings-view-link-wallet-button"),click:async(t,e)=>{e.loading=!0;try{await Ng.linkWallet(),this.renderLinkWalletSection()}catch(t){console.error(t),e.loading=!1}}})))}}class yb extends Lr{userDisplay;constructor(t,e,r){super(),py.append(this.container=Ue(".user-view")),this.render(t.xUsername,r)}changeParams(t,e,r){this.render(t.xUsername,r)}async render(t,e){e?.display_name&&py.changeTitle(e.display_name),this.container.empty().append(this.userDisplay=new fb(t,e));const r=await Og.fetchByXUsername(t);r?.display_name&&py.changeTitle(r.display_name),this.userDisplay.user=r}}async function bb(t){Cn.dev=t.dev,Cn.infuraKey=t.infuraKey,Cn.messageForWalletLinking=t.messageForWalletLinking,_n[In.Ethereum]={chainId:Cn.dev?an.id:on.id,name:on.name,icon:"/images/chain/ethereum.svg",rpc:`https://${Cn.dev?"goerli":"mainnet"}.infura.io/v3/${Cn.infuraKey}`,blockExplorer:(Cn.dev?an:on).blockExplorers.default,blockTime:12.05},_n[In.Base]={chainId:Cn.dev?wn.id:An.id,name:An.name,icon:"/images/chain/base.svg",rpc:(Cn.dev?wn:An).rpcUrls.default.http[0],blockExplorer:(Cn.dev?wn:An).blockExplorers.default,blockTime:2},_n[In.Arbitrum]={chainId:Cn.dev?kn.id:En.id,name:En.name,icon:"/images/chain/arbitrum.svg",rpc:(Cn.dev?kn:En).rpcUrls.default.http[0],blockExplorer:(Cn.dev?kn:En).blockExplorers.default,blockTime:.26},_n[In.Optimism]={chainId:Cn.dev?xn.id:Pn.id,name:Pn.name,icon:"/images/chain/optimism.svg",rpc:(Cn.dev?xn:Pn).rpcUrls.default.http[0],blockExplorer:(Cn.dev?xn:Pn).blockExplorers.default,blockTime:2},Te.initialize(t.supabaseUrl,t.supabaseAnonKey,t.dev),Fg.init(t.walletConnectProjectId),await Oe.load(Ue("img",{src:"/images/logo-transparent.png"}),[Ng.fetchUserOnInit(),qg.init()]),_e.route("**",py,["test/**"]),_e.route("activity",gy),_e.route(["explore","explore/{type}"],jy),_e.route("profile",mb),_e.route("settings",gb),_e.route(["","posts"],tb),_e.route("post/{postId}",rb),_e.route(["chats","general","{chain}/{tokenAddress}"],Ly,["explore/{type}","post/{postId}","{xUsername}/holding","{xUsername}/following","{xUsername}/followers"]),_e.route(["chats","general"],Iy),_e.route("{chain}/{tokenAddress}",By,["explore/{type}","post/{postId}","{xUsername}/holding","{xUsername}/following","{xUsername}/followers"]),_e.route("{xUsername}",yb,["activity","explore","profile","settings","posts","chats","general"]),Fr.checkEmailAccess()}pr.setMessages({en:Ur,zh:null,"zh-tw":null,"zh-hk":null,ja:null}),pr.setMessages({en:{"login-required-title":"Login Required","login-required-message":"Login required. Would you like to login?","login-required-login-button":"Login with 𝕏","no-wallet-connected-title":"No wallet connected","no-wallet-connected-message":"You need to connect a wallet to perform this action.","no-wallet-linked-title":"No wallet linked","no-wallet-linked-message":"You need to link a wallet to perform this action.","no-wallet-linked-confirm":"Link wallet","file-too-large-alert-title":"File Too Large","file-too-large-alert-message":"Sorry, your file is too large to upload. Our maximum file size limit is {maxFileSize}. Please select a smaller file.","wallet-address-mismatch-title":"Wallet address mismatch","wallet-address-mismatch-message":"The wallet address associated with your account and the current crypto wallet address do not match. Please change the crypto wallet address.","invalid-network-title":"Invalid network","invalid-network-message":"You need to be on the {chain} network to perform this action.","title-posts":"Posts","title-post":"Post","title-chats":"Chats","title-activity":"Activity","title-explore":"Explore","title-profile":"Profile","title-settings":"Settings","nav-bar-menu-posts":"Posts","nav-bar-menu-chats":"Chats","nav-bar-menu-activity":"Activity","nav-bar-menu-explore":"Explore","settings-view-link-wallet-section-title":"Link Wallet","settings-view-link-wallet-section-linked":"Linked:\n","settings-view-link-wallet-section-description":"You can link your wallet to use Pal.","settings-view-link-wallet-button":"Link Wallet","global-activity-list-empty-message":"No global activities yet","held-token-activity-list-empty-message":"No activities you hold tokens for yet","token-activity-list-empty-message":"No activities for this token yet","activity-list-item-created-token-text":"{user} created {token}.","activity-list-item-bought-token-text":"{user} bought {amount} {symbol}.","activity-list-item-sold-token-text":"{user} sold {amount} {symbol}.","explore-view-trending-tab":"Trending","explore-view-top-tab":"Top","explore-view-new-tab":"New","new-token-list-empty-message":"No new tokens yet","top-token-list-empty-message":"No top tokens yet","trending-token-list-empty-message":"No trending tokens yet","held-token-list-empty-message":"No held tokens yet","token-holder-list-empty-message":"No holders yet","chat-message-list-empty-message":"No messages yet","posts-view-global-tab":"Global","posts-view-following-tab":"Following","posts-view-token-held-tab":"Held","post-target-everyone":"Everyone","post-target-token-holders":"Token holders","post-form-posted-snackbar-message":"Your post has been successfully published.","post-form-posted-snackbar-button":"View","token-held-post-list-empty-message":"No posts you hold tokens for yet","post-owner-menu-delete-button":"Delete","delete-post-confirm-title":"Delete Post","delete-post-confirm-message":"Are you sure you want to delete this post?","delete-post-confirm-delete-button":"Delete","user-profile-joined":"Joined {date}","user-profile-metrics-title":"Metrics","user-profile-metrics-fees-earned-title":"Fees Earned","user-profile-metrics-portfolio-value-title":"Portfolio Value"},zh:null,"zh-tw":null,"zh-hk":null,ja:null}),er.launch()},1831:(t,e,r)=>{"use strict";r.a(t,(async(t,e)=>{try{var s=r(2170);await(0,s.Z)({dev:!1,supabaseUrl:"https://zwsbatwxnlcsgycwiymn.supabase.co",supabaseAnonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp3c2JhdHd4bmxjc2d5Y3dpeW1uIiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTI2NzkzODYsImV4cCI6MjAwODI1NTM4Nn0.EZo2bbviOpTkasQsDw0A6fVa8bFrMkW0wl70Ywf6hjY",walletConnectProjectId:"a7ae37d3cf98197d04b720fb165553e0",infuraKey:"b23059a837a64db4b8b2ac203f0e67a9",messageForWalletLinking:"Link Wallet to Pal"}),e()}catch(t){e(t)}}),1)},5883:()=>{},2712:(t,e,r)=>{"use strict";r.d(e,{Q6:()=>dt});var s="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";const n=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),i=4;function a(t){return function(t){let e=0;return()=>t[e++]}(function(t){let e=0;function r(){return t[e++]<<8|t[e++]}let s=r(),n=1,i=[0,1];for(let t=1;t<s;t++)i.push(n+=r());let a=r(),o=e;e+=a;let l=0,c=0;function h(){return 0==l&&(c=c<<8|t[e++],l=8),c>>--l&1}const u=2**31,d=u>>>1,p=u-1;let f=0;for(let t=0;t<31;t++)f=f<<1|h();let m=[],g=0,y=u;for(;;){let t=Math.floor(((f-g+1)*n-1)/y),e=0,r=s;for(;r-e>1;){let s=e+r>>>1;t<i[s]?r=s:e=s}if(0==e)break;m.push(e);let a=g+Math.floor(y*i[e]/n),o=g+Math.floor(y*i[e+1]/n)-1;for(;0==((a^o)&d);)f=f<<1&p|h(),a=a<<1&p,o=o<<1&p|1;for(;a&~o&536870912;)f=f&d|f<<1&p>>>1|h(),a=a<<1^d,o=(o^d)<<1|d|1;g=a,y=1+o-a}let b=s-4;return m.map((e=>{switch(e-b){case 3:return b+65792+(t[o++]<<16|t[o++]<<8|t[o++]);case 2:return b+256+(t[o++]<<8|t[o++]);case 1:return b+t[o++];default:return e-1}}))}(function(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach(((t,r)=>e[t.charCodeAt(0)]=r));let r=t.length,s=new Uint8Array(6*r>>3);for(let n=0,i=0,a=0,o=0;n<r;n++)o=o<<6|e[t.charCodeAt(n)],a+=6,a>=8&&(s[i++]=o>>(a-=8));return s}(t)))}function o(t){return 1&t?~t>>1:t>>1}function l(t,e){let r=Array(t);for(let s=0,n=0;s<t;s++)r[s]=n+=o(e());return r}function c(t,e=0){let r=[];for(;;){let s=t(),n=t();if(!n)break;e+=s;for(let t=0;t<n;t++)r.push(e+t);e+=n+1}return r}function h(t){return d((()=>{let e=c(t);if(e.length)return e}))}function u(t){let e=[];for(;;){let r=t();if(0==r)break;e.push(f(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(m(r,t))}return e.flat()}function d(t){let e=[];for(;;){let r=t(e.length);if(!r)break;e.push(r)}return e}function p(t,e,r){let s=Array(t).fill().map((()=>[]));for(let n=0;n<e;n++)l(t,r).forEach(((t,e)=>s[e].push(t)));return s}function f(t,e){let r=1+e(),s=e(),n=d(e);return p(n.length,1+t,e).flatMap(((t,e)=>{let[i,...a]=t;return Array(n[e]).fill().map(((t,e)=>{let n=e*s;return[i+e*r,a.map((t=>t+n))]}))}))}function m(t,e){return p(1+e(),1+t,e).map((t=>[t[0],t.slice(1)]))}function g(t){return`{${function(t){return t.toString(16).toUpperCase().padStart(2,"0")}(t)}}`}function y(t){let e=[];for(let r=0,s=t.length;r<s;){let s=t.codePointAt(r);r+=s<65536?1:2,e.push(s)}return e}function b(t){let e=t.length;if(e<4096)return String.fromCodePoint(...t);let r=[];for(let s=0;s<e;)r.push(String.fromCodePoint(...t.slice(s,s+=4096)));return r.join("")}function v(t,e){let r=t.length,s=r-e.length;for(let n=0;0==s&&n<r;n++)s=t[n]-e[n];return s}var w="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";const A=44032,k=4352,E=4449,x=4519,P=28,C=21*P,S=A+19*C,I=k+19,_=E+21,T=x+P;function M(t){return t>>24&255}function D(t){return 16777215&t}let B,F,O,N;function R(t){return t>=A&&t<S}function L(t,e){if(t>=k&&t<I&&e>=E&&e<_)return A+(t-k)*C+(e-E)*P;if(R(t)&&e>x&&e<T&&(t-A)%P==0)return t+(e-x);{let r=N.get(t);return r&&(r=r.get(e),r)?r:-1}}function U(t){B||function(){let t=a(w);B=new Map(h(t).flatMap(((t,e)=>t.map((t=>[t,e+1<<24]))))),F=new Set(c(t)),O=new Map,N=new Map;for(let[e,r]of u(t)){if(!F.has(e)&&2==r.length){let[t,s]=r,n=N.get(t);n||(n=new Map,N.set(t,n)),n.set(s,e)}O.set(e,r.reverse())}}();let e=[],r=[],s=!1;function n(t){let r=B.get(t);r&&(s=!0,t|=r),e.push(t)}for(let s of t)for(;;){if(s<128)e.push(s);else if(R(s)){let t=s-A,e=t%C/P|0,r=t%P;n(k+(t/C|0)),n(E+e),r>0&&n(x+r)}else{let t=O.get(s);t?r.push(...t):n(s)}if(!r.length)break;s=r.pop()}if(s&&e.length>1){let t=M(e[0]);for(let r=1;r<e.length;r++){let s=M(e[r]);if(0==s||t<=s){t=s;continue}let n=r-1;for(;;){let r=e[n+1];if(e[n+1]=e[n],e[n]=r,!n)break;if(t=M(e[--n]),t<=s)break}t=M(e[r])}}return e}function j(t){return U(t).map(D)}function G(t){return function(t){let e=[],r=[],s=-1,n=0;for(let i of t){let t=M(i),a=D(i);if(-1==s)0==t?s=a:e.push(a);else if(n>0&&n>=t)0==t?(e.push(s,...r),r.length=0,s=a):r.push(a),n=t;else{let i=L(s,a);i>=0?s=i:0==n&&0==t?(e.push(s),s=a):(r.push(a),n=t)}}return s>=0&&e.push(s,...r),e}(U(t))}const V=45,z=".",Q=65039,H=1,q=t=>Array.from(t);function K(t,e){return t.P.has(e)||t.Q.has(e)}class W extends Array{get is_emoji(){return!0}}let J,Y,Z,X,$,tt,et,rt,st,nt,it,at;function ot(){if(J)return;let t=a(s);const e=()=>c(t),r=()=>new Set(e());J=new Map(u(t)),Y=r(),Z=e(),X=new Set(e().map((t=>Z[t]))),Z=new Set(Z),$=r(),tt=r();let n=h(t),i=t();const o=()=>new Set(e().flatMap((t=>n[t])).concat(e()));et=d((e=>{let r=d(t).map((t=>t+96));if(r.length){let s=e>=i;return r[0]-=32,r=b(r),s&&(r=`Restricted[${r}]`),{N:r,P:o(),Q:o(),M:!t(),R:s}}})),rt=r(),st=new Map;let l=e().concat(q(rt)).sort(((t,e)=>t-e));l.forEach(((e,r)=>{let s=t(),n=l[r]=s?l[r-s]:{V:[],M:new Map};n.V.push(e),rt.has(e)||st.set(e,n)}));for(let{V:t,M:e}of new Set(st.values())){let r=[];for(let e of t){let t=et.filter((t=>K(t,e))),s=r.find((({G:e})=>t.some((t=>e.has(t)))));s||(s={G:new Set,V:[]},r.push(s)),s.V.push(e),t.forEach((t=>s.G.add(t)))}let s=r.flatMap((t=>q(t.G)));for(let{G:t,V:n}of r){let r=new Set(s.filter((e=>!t.has(e))));for(let t of n)e.set(t,r)}}let p=new Set,f=new Set;const m=t=>p.has(t)?f.add(t):p.add(t);for(let t of et){for(let e of t.P)m(e);for(let e of t.Q)m(e)}for(let t of p)st.has(t)||f.has(t)||st.set(t,H);nt=new Set(q(p).concat(q(j(p)))),it=function(t){let e=[],r=c(t);return function t({S:r,B:s},n,i){if(!(4&r&&i===n[n.length-1])){2&r&&(i=n[n.length-1]),1&r&&e.push(n);for(let e of s)for(let r of e.Q)t(e,[...n,r],i)}}(function e(s){return{S:t(),B:d((()=>{let s=c(t).map((t=>r[t]));if(s.length)return e(s)})),Q:s}}([]),[]),e}(t).map((t=>W.from(t))).sort(v),at=new Map;for(let t of it){let e=[at];for(let r of t){let t=e.map((t=>{let e=t.get(r);return e||(e=new Map,t.set(r,e)),e}));r===Q?e.push(...t):e=t}for(let r of e)r.V=t}}function lt(t){return(ut(t)?"":`${ct(ht([t]))} `)+g(t)}function ct(t){return`"${t}"‎`}function ht(t,e=g){let r=[];var s;s=t[0],ot(),Z.has(s)&&r.push("◌");let n=0,i=t.length;for(let s=0;s<i;s++){let i=t[s];ut(i)&&(r.push(b(t.slice(n,s))),r.push(e(i)),n=s+1)}return r.push(b(t.slice(n,i))),r.join("")}function ut(t){return ot(),$.has(t)}function dt(t){return ft(pt(t,G,vt))}function pt(t,e,r){if(!t)return[];ot();let s=0;return t.split(z).map((t=>{let a=y(t),o={input:a,offset:s};s+=a.length+1;try{let t,s=o.tokens=bt(a,e,r),l=s.length;if(!l)throw new Error("empty label");let c=o.output=s.flat();if(function(t){for(let e=t.lastIndexOf(95);e>0;)if(95!==t[--e])throw new Error("underscore allowed only at start")}(c),!(o.emoji=l>1||s[0].is_emoji)&&c.every((t=>t<128)))!function(t){if(t.length>=4&&t[2]==V&&t[3]==V)throw new Error(`invalid label extension: "${b(t.slice(0,4))}"`)}(c),t="ASCII";else{let e=s.flatMap((t=>t.is_emoji?[]:t));if(e.length){if(Z.has(c[0]))throw yt("leading combining mark");for(let t=1;t<l;t++){let e=s[t];if(!e.is_emoji&&Z.has(e[0]))throw yt(`emoji + combining mark: "${b(s[t-1])} + ${ht([e[0]])}"`)}!function(t){let e=t[0],r=n.get(e);if(r)throw yt(`leading ${r}`);let s=t.length,i=-1;for(let a=1;a<s;a++){e=t[a];let s=n.get(e);if(s){if(i==a)throw yt(`${r} + ${s}`);i=a+1,r=s}}if(i==s)throw yt(`trailing ${r}`)}(c);let r=q(new Set(e)),[a]=function(t){let e=et;for(let r of t){let t=e.filter((t=>K(t,r)));if(!t.length)throw et.some((t=>K(t,r)))?gt(e[0],r):mt(r);if(e=t,1==t.length)break}return e}(r);!function(t,e){for(let r of e)if(!K(t,r))throw gt(t,r);if(t.M){let t=j(e);for(let e=1,r=t.length;e<r;e++)if(X.has(t[e])){let s=e+1;for(let n;s<r&&X.has(n=t[s]);s++)for(let r=e;r<s;r++)if(t[r]==n)throw new Error(`duplicate non-spacing marks: ${lt(n)}`);if(s-e>i)throw new Error(`excessive non-spacing marks: ${ct(ht(t.slice(e-1,s)))} (${s-e}/${i})`);e=s}}}(a,e),function(t,e){let r,s=[];for(let t of e){let e=st.get(t);if(e===H)return;if(e){let s=e.M.get(t);if(r=r?r.filter((t=>s.has(t))):q(s),!r.length)return}else s.push(t)}if(r)for(let e of r)if(s.every((t=>K(e,t))))throw new Error(`whole-script confusable: ${t.N}/${e.N}`)}(a,r),t=a.N}else t="Emoji"}o.type=t}catch(t){o.error=t}return o}))}function ft(t){return t.map((({input:e,error:r,output:s})=>{if(r){let s=r.message;throw new Error(1==t.length?s:`Invalid label ${ct(ht(e))}: ${s}`)}return b(s)})).join(z)}function mt(t){return new Error(`disallowed character: ${lt(t)}`)}function gt(t,e){let r=lt(e),s=et.find((t=>t.P.has(e)));return s&&(r=`${s.N} ${r}`),new Error(`illegal mixture: ${t.N} + ${r}`)}function yt(t){return new Error(`illegal placement: ${t}`)}function bt(t,e,r){let s=[],n=[];for(t=t.slice().reverse();t.length;){let i=wt(t);if(i)n.length&&(s.push(e(n)),n=[]),s.push(r(i));else{let e=t.pop();if(nt.has(e))n.push(e);else{let t=J.get(e);if(t)n.push(...t);else if(!Y.has(e))throw mt(e)}}}return n.length&&s.push(e(n)),s}function vt(t){return t.filter((t=>t!=Q))}function wt(t,e){let r,s=at,n=t.length;for(;n&&(s=s.get(t[--n]),s);){let{V:i}=s;i&&(r=i,e&&e.push(...t.slice(n).reverse()),t.length=n)}return r}},3527:(t,e,r)=>{"use strict";function s(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function n(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function i(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");s(t.outputLen),s(t.blockLen)}function a(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function o(t,e){n(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}r.d(e,{Gg:()=>a,J8:()=>o,Rx:()=>s,aI:()=>n,vp:()=>i})},1171:(t,e,r)=>{"use strict";r.d(e,{fr:()=>I});var s=r(3527);const n=BigInt(2**32-1),i=BigInt(32);function a(t,e=!1){return e?{h:Number(t&n),l:Number(t>>i&n)}:{h:0|Number(t>>i&n),l:0|Number(t&n)}}function o(t,e=!1){let r=new Uint32Array(t.length),s=new Uint32Array(t.length);for(let n=0;n<t.length;n++){const{h:i,l:o}=a(t[n],e);[r[n],s[n]]=[i,o]}return[r,s]}const l=(t,e,r)=>t<<r|e>>>32-r,c=(t,e,r)=>e<<r|t>>>32-r,h=(t,e,r)=>e<<r-32|t>>>64-r,u=(t,e,r)=>t<<r-32|e>>>64-r;var d=r(3486);const[p,f,m]=[[],[],[]],g=BigInt(0),y=BigInt(1),b=BigInt(2),v=BigInt(7),w=BigInt(256),A=BigInt(113);for(let t=0,e=y,r=1,s=0;t<24;t++){[r,s]=[s,(2*r+3*s)%5],p.push(2*(5*s+r)),f.push((t+1)*(t+2)/2%64);let n=g;for(let t=0;t<7;t++)e=(e<<y^(e>>v)*A)%w,e&b&&(n^=y<<(y<<BigInt(t))-y);m.push(n)}const[k,E]=o(m,!0),x=(t,e,r)=>r>32?h(t,e,r):l(t,e,r),P=(t,e,r)=>r>32?u(t,e,r):c(t,e,r);class C extends d.kb{constructor(t,e,r,n=!1,i=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,s.Rx)(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,d.Jq)(this.state)}keccak(){!function(t,e=24){const r=new Uint32Array(10);for(let s=24-e;s<24;s++){for(let e=0;e<10;e++)r[e]=t[e]^t[e+10]^t[e+20]^t[e+30]^t[e+40];for(let e=0;e<10;e+=2){const s=(e+8)%10,n=(e+2)%10,i=r[n],a=r[n+1],o=x(i,a,1)^r[s],l=P(i,a,1)^r[s+1];for(let r=0;r<50;r+=10)t[e+r]^=o,t[e+r+1]^=l}let e=t[2],n=t[3];for(let r=0;r<24;r++){const s=f[r],i=x(e,n,s),a=P(e,n,s),o=p[r];e=t[o],n=t[o+1],t[o]=i,t[o+1]=a}for(let e=0;e<50;e+=10){for(let s=0;s<10;s++)r[s]=t[e+s];for(let s=0;s<10;s++)t[e+s]^=~r[(s+2)%10]&r[(s+4)%10]}t[0]^=k[s],t[1]^=E[s]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){(0,s.Gg)(this);const{blockLen:e,state:r}=this,n=(t=(0,d.O0)(t)).length;for(let s=0;s<n;){const i=Math.min(e-this.pos,n-s);for(let e=0;e<i;e++)r[this.pos++]^=t[s++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:r,blockLen:s}=this;t[r]^=e,0!=(128&e)&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){(0,s.Gg)(this,!1),(0,s.aI)(t),this.finish();const e=this.state,{blockLen:r}=this;for(let s=0,n=t.length;s<n;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,n-s);t.set(e.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return(0,s.Rx)(t),this.xofInto(new Uint8Array(t))}digestInto(t){if((0,s.J8)(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:r,outputLen:s,rounds:n,enableXOF:i}=this;return t||(t=new C(e,r,s,i,n)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=n,t.suffix=r,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}}const S=(t,e,r)=>(0,d.hE)((()=>new C(e,t,r))),I=S(1,136,32)},3486:(t,e,r)=>{"use strict";r.d(e,{kb:()=>h,eV:()=>c,GL:()=>a,O6:()=>d,np:()=>o,O0:()=>l,Jq:()=>i,hE:()=>u});const s="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,n=t=>t instanceof Uint8Array,i=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),a=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),o=(t,e)=>t<<32-e|t>>>e;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function l(t){if("string"==typeof t&&(t=function(t){if("string"!=typeof t)throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array((new TextEncoder).encode(t))}(t)),!n(t))throw new Error("expected Uint8Array, got "+typeof t);return t}function c(...t){const e=new Uint8Array(t.reduce(((t,e)=>t+e.length),0));let r=0;return t.forEach((t=>{if(!n(t))throw new Error("Uint8Array expected");e.set(t,r),r+=t.length})),e}class h{clone(){return this._cloneInto()}}function u(t){const e=e=>t().update(l(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function d(t=32){if(s&&"function"==typeof s.getRandomValues)return s.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}},9015:(t,e,r)=>{"use strict";r.d(e,{AccountCtrl:()=>x,Id:()=>m,ConfigCtrl:()=>A,zv:()=>p,uA:()=>y,ExplorerCtrl:()=>V,jb:()=>q,OptionsCtrl:()=>v,AV:()=>d,ThemeCtrl:()=>$,ToastCtrl:()=>et,WcConnectionCtrl:()=>Q});var s=r(2478);const n=t=>"object"==typeof t&&null!==t,i=new WeakMap,a=new WeakSet,o=(t=Object.is,e=((t,e)=>new Proxy(t,e)),r=(t=>n(t)&&!a.has(t)&&(Array.isArray(t)||!(Symbol.iterator in t))&&!(t instanceof WeakMap)&&!(t instanceof WeakSet)&&!(t instanceof Error)&&!(t instanceof Number)&&!(t instanceof Date)&&!(t instanceof String)&&!(t instanceof RegExp)&&!(t instanceof ArrayBuffer)),o=(t=>t.configurable&&t.enumerable&&t.writable),l=(t=>{switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:throw t}}),c=new WeakMap,h=((t,e,r=l)=>{const n=c.get(t);if((null==n?void 0:n[0])===e)return n[1];const o=Array.isArray(t)?[]:Object.create(Object.getPrototypeOf(t));return(0,s.jc)(o,!0),c.set(t,[e,o]),Reflect.ownKeys(t).forEach((e=>{if(Object.getOwnPropertyDescriptor(o,e))return;const n=Reflect.get(t,e),l={value:n,enumerable:!0,configurable:!0};if(a.has(n))(0,s.jc)(n,!1);else if(n instanceof Promise)delete l.value,l.get=()=>r(n);else if(i.has(n)){const[t,e]=i.get(n);l.value=h(t,e(),r)}Object.defineProperty(o,e,l)})),Object.preventExtensions(o)}),u=new WeakMap,d=[1,1],p=(l=>{if(!n(l))throw new Error("object required");const c=u.get(l);if(c)return c;let f=d[0];const m=new Set,g=(t,e=++d[0])=>{f!==e&&(f=e,m.forEach((r=>r(t,e))))};let y=d[1];const b=t=>(e,r)=>{const s=[...e];s[1]=[t,...s[1]],g(s,r)},v=new Map,w=t=>{var e;const r=v.get(t);r&&(v.delete(t),null==(e=r[1])||e.call(r))},A=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),k=(e,o,l,c,h)=>{if(e&&(t(o,c)||u.has(c)&&t(o,u.get(c))))return;w(l),n(c)&&(c=(0,s.o5)(c)||c);let d=c;if(c instanceof Promise)c.then((t=>{c.status="fulfilled",c.value=t,g(["resolve",[l],t])})).catch((t=>{c.status="rejected",c.reason=t,g(["reject",[l],t])}));else{!i.has(c)&&r(c)&&(d=p(c));const t=!a.has(d)&&i.get(d);t&&((t,e)=>{if(v.has(t))throw new Error("prop listener already exists");if(m.size){const r=e[3](b(t));v.set(t,[e,r])}else v.set(t,[e])})(l,t)}h(d),g(["set",[l],c,o])},E=e(A,{deleteProperty(t,e){const r=Reflect.get(t,e);w(e);const s=Reflect.deleteProperty(t,e);return s&&g(["delete",[e],r]),s},set(t,e,r,s){const n=Reflect.has(t,e),i=Reflect.get(t,e,s);return k(n,i,e,r,(r=>{Reflect.set(t,e,r,s)})),!0},defineProperty(t,e,r){if(o(r)){const s=Reflect.getOwnPropertyDescriptor(t,e);if(!s||o(s))return k(!!s&&"value"in s,null==s?void 0:s.value,e,r.value,(s=>{Reflect.defineProperty(t,e,{...r,value:s})})),!0}return Reflect.defineProperty(t,e,r)}});u.set(l,E);const x=[A,(t=++d[1])=>(y===t||m.size||(y=t,v.forEach((([e])=>{const r=e[1](t);r>f&&(f=r)}))),f),h,t=>{m.add(t),1===m.size&&v.forEach((([t,e],r)=>{if(e)throw new Error("remove already exists");const s=t[3](b(r));v.set(r,[t,s])}));return()=>{m.delete(t),0===m.size&&v.forEach((([t,e],r)=>{e&&(e(),v.set(r,[t]))}))}}];return i.set(E,x),Reflect.ownKeys(l).forEach((t=>{const e=Object.getOwnPropertyDescriptor(l,t);"value"in e&&(E[t]=l[t],delete e.value,delete e.writable),Object.defineProperty(A,t,e)})),E}))=>[p,i,a,t,e,r,o,l,c,h,u,d],[l]=o();function c(t={}){return l(t)}function h(t,e,r){const s=i.get(t);let n;s||console.warn("Please use proxy object");const a=[],o=s[3];let l=!1;const c=o((t=>{a.push(t),r?e(a.splice(0)):n||(n=Promise.resolve().then((()=>{n=void 0,l&&e(a.splice(0))})))}));return l=!0,()=>{l=!1,c()}}const u=c({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),d={state:u,subscribe:t=>h(u,(()=>t(u))),push(t,e){t!==u.view&&(u.view=t,e&&(u.data=e),u.history.push(t))},reset(t){u.view=t,u.history=[t]},replace(t){u.history.length>1&&(u.history[u.history.length-1]=t,u.view=t)},goBack(){if(u.history.length>1){u.history.pop();const[t]=u.history.slice(-1);u.view=t}},setData(t){u.data=t}},p={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",W3M_VERSION:"W3M_VERSION",W3M_PREFER_INJECTED_URL_FLAG:"w3mPreferInjected",RECOMMENDED_WALLET_AMOUNT:9,isMobile:()=>typeof window<"u"&&Boolean(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)),isAndroid:()=>p.isMobile()&&navigator.userAgent.toLowerCase().includes("android"),isIos(){const t=navigator.userAgent.toLowerCase();return p.isMobile()&&(t.includes("iphone")||t.includes("ipad"))},isHttpUrl:t=>t.startsWith("http://")||t.startsWith("https://"),isArray:t=>Array.isArray(t)&&t.length>0,formatNativeUrl(t,e,r){if(p.isHttpUrl(t))return this.formatUniversalUrl(t,e,r);let s=t;s.includes("://")||(s=t.replaceAll("/","").replaceAll(":",""),s=`${s}://`),s.endsWith("/")||(s=`${s}/`),this.setWalletConnectDeepLink(s,r);return`${s}wc?uri=${encodeURIComponent(e)}`},formatUniversalUrl(t,e,r){if(!p.isHttpUrl(t))return this.formatNativeUrl(t,e,r);let s=t;s.endsWith("/")||(s=`${s}/`),this.setWalletConnectDeepLink(s,r);return`${s}wc?uri=${encodeURIComponent(e)}`},wait:async t=>new Promise((e=>{setTimeout(e,t)})),openHref(t,e){window.open(t,e,"noreferrer noopener")},setWalletConnectDeepLink(t,e){try{localStorage.setItem(p.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:t,name:e}))}catch{console.info("Unable to set WalletConnect deep link")}},setWalletConnectAndroidDeepLink(t){try{const[e]=t.split("?");localStorage.setItem(p.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:"Android"}))}catch{console.info("Unable to set WalletConnect android deep link")}},removeWalletConnectDeepLink(){try{localStorage.removeItem(p.WALLETCONNECT_DEEPLINK_CHOICE)}catch{console.info("Unable to remove WalletConnect deep link")}},setWeb3ModalVersionInStorage(){try{typeof localStorage<"u"&&localStorage.setItem(p.W3M_VERSION,"2.7.1")}catch{console.info("Unable to set Web3Modal version in storage")}},getWalletRouterData(){var t;const e=null==(t=d.state.data)?void 0:t.Wallet;if(!e)throw new Error('Missing "Wallet" view data');return e},getSwitchNetworkRouterData(){var t;const e=null==(t=d.state.data)?void 0:t.SwitchNetwork;if(!e)throw new Error('Missing "SwitchNetwork" view data');return e},isPreferInjectedFlag:()=>typeof location<"u"&&new URLSearchParams(location.search).has(p.W3M_PREFER_INJECTED_URL_FLAG)};let f;const m={ethereumClient:void 0,setEthereumClient(t){f=t},client(){if(f)return f;throw new Error("ClientCtrl has no client set")}},g=c({enabled:typeof location<"u"&&(location.hostname.includes("localhost")||location.protocol.includes("https")),userSessionId:"",events:[],connectedWalletId:void 0}),y={state:g,subscribe:t=>h(g.events,(()=>t(function(t,e){const r=i.get(t);r||console.warn("Please use proxy object");const[s,n,a]=r;return a(s,n(),e)}(g.events[g.events.length-1])))),initialize(){g.enabled&&typeof(null==crypto?void 0:crypto.randomUUID)<"u"&&(g.userSessionId=crypto.randomUUID())},setConnectedWalletId(t){g.connectedWalletId=t},click(t){if(g.enabled){const e={type:"CLICK",name:t.name,userSessionId:g.userSessionId,timestamp:Date.now(),data:t};g.events.push(e)}},track(t){if(g.enabled){const e={type:"TRACK",name:t.name,userSessionId:g.userSessionId,timestamp:Date.now(),data:t};g.events.push(e)}},view(t){if(g.enabled){const e={type:"VIEW",name:t.name,userSessionId:g.userSessionId,timestamp:Date.now(),data:t};g.events.push(e)}}},b=c({selectedChain:void 0,chains:void 0,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1,isPreferInjected:!1}),v={state:b,subscribe:t=>h(b,(()=>t(b))),setChains(t){b.chains=t},getSelectedChain(){const t=m.client().getNetwork().chain;return t&&(b.selectedChain=t),b.selectedChain},setSelectedChain(t){b.selectedChain=t},setIsCustomDesktop(t){b.isCustomDesktop=t},setIsCustomMobile(t){b.isCustomMobile=t},setIsDataLoaded(t){b.isDataLoaded=t},setIsUiLoaded(t){b.isUiLoaded=t},setIsPreferInjected(t){b.isPreferInjected=t}},w=c({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chainImages:void 0,tokenImages:void 0,tokenContracts:void 0,enableNetworkView:!1,enableAccountView:!0,enableExplorer:!0,defaultChain:void 0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),A={state:w,subscribe:t=>h(w,(()=>t(w))),setConfig(t){var e,r;y.initialize(),v.setIsCustomMobile(Boolean(null==(e=t.mobileWallets)?void 0:e.length)),v.setIsCustomDesktop(Boolean(null==(r=t.desktopWallets)?void 0:r.length)),v.setChains(m.client().chains),v.setIsPreferInjected(m.client().isInjectedProviderInstalled()&&p.isPreferInjectedFlag()),t.defaultChain&&v.setSelectedChain(t.defaultChain),p.setWeb3ModalVersionInStorage(),Object.assign(w,t)}},k={async getIdentity(t,e){const{projectId:r}=A.state,s=`https://rpc.walletconnect.com/v1/identity/${t}?chainId=${`eip155:${e}`}&projectId=${r}`;return(await fetch(s)).json()}},E=c({address:void 0,profileName:void 0,profileAvatar:void 0,profileLoading:!1,balanceLoading:!1,balance:void 0,isConnected:!1}),x={state:E,subscribe:t=>h(E,(()=>t(E))),getAccount(){const t=m.client().getAccount();E.address=t.address,E.isConnected=t.isConnected},async fetchProfile(t,e){var r;try{E.profileLoading=!0,E.profileName=null,E.profileAvatar=null;const s=e??E.address,n=1,i=null==(r=v.state.chains)?void 0:r.find((t=>t.id===n));if(s&&i){try{const t=await k.getIdentity(s,n);E.profileName=t.name,E.profileAvatar=t.avatar}catch{const t=await m.client().fetchEnsName({address:s,chainId:n});if(E.profileName=t,t){const e=await m.client().fetchEnsAvatar({name:t,chainId:n});E.profileAvatar=e}}E.profileAvatar&&await t(E.profileAvatar)}}finally{E.profileLoading=!1}},async fetchBalance(t){try{const{chain:e}=m.client().getNetwork(),{tokenContracts:r}=A.state;let s;e&&r&&(s=r[e.id]),E.balanceLoading=!0;const n=t??E.address;if(n){const t=await m.client().fetchBalance({address:n,token:s});E.balance={amount:t.formatted,symbol:t.symbol}}}finally{E.balanceLoading=!1}},setAddress(t){E.address=t},setIsConnected(t){E.isConnected=t},resetBalance(){E.balance=void 0},resetAccount(){E.address=void 0,E.isConnected=!1,E.profileName=void 0,E.profileAvatar=void 0,E.balance=void 0}};var P=Object.defineProperty,C=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,_=(t,e,r)=>e in t?P(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;const T="https://explorer-api.walletconnect.com",M="w3m",D="js-2.7.1";async function B(t,e){const r=((t,e)=>{for(var r in e||(e={}))S.call(e,r)&&_(t,r,e[r]);if(C)for(var r of C(e))I.call(e,r)&&_(t,r,e[r]);return t})({sdkType:M,sdkVersion:D},e),s=new URL(t,T);return s.searchParams.append("projectId",A.state.projectId),Object.entries(r).forEach((([t,e])=>{e&&s.searchParams.append(t,String(e))})),(await fetch(s)).json()}const F={getDesktopListings:async t=>B("/w3m/v1/getDesktopListings",t),getMobileListings:async t=>B("/w3m/v1/getMobileListings",t),getInjectedListings:async t=>B("/w3m/v1/getInjectedListings",t),getAllListings:async t=>B("/w3m/v1/getAllListings",t),getWalletImageUrl:t=>`${T}/w3m/v1/getWalletImage/${t}?projectId=${A.state.projectId}&sdkType=${M}&sdkVersion=${D}`,getAssetImageUrl:t=>`${T}/w3m/v1/getAssetImage/${t}?projectId=${A.state.projectId}&sdkType=${M}&sdkVersion=${D}`};var O=Object.defineProperty,N=Object.getOwnPropertySymbols,R=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,U=(t,e,r)=>e in t?O(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;const j=p.isMobile(),G=c({wallets:{listings:[],total:0,page:1},injectedWallets:[],search:{listings:[],total:0,page:1},recomendedWallets:[]}),V={state:G,async getRecomendedWallets(){const{explorerRecommendedWalletIds:t,explorerExcludedWalletIds:e}=A.state;if("NONE"===t||"ALL"===e&&!t)return G.recomendedWallets;if(p.isArray(t)){const e={recommendedIds:t.join(",")},{listings:r}=await F.getAllListings(e),s=Object.values(r);s.sort(((e,r)=>t.indexOf(e.id)-t.indexOf(r.id))),G.recomendedWallets=s}else{const t=p.isArray(e),r={page:1,entries:p.RECOMMENDED_WALLET_AMOUNT,version:2,excludedIds:t?e.join(","):void 0},{listings:s}=j?await F.getMobileListings(r):await F.getDesktopListings(r);G.recomendedWallets=Object.values(s)}return G.recomendedWallets},async getWallets(t){const e=((t,e)=>{for(var r in e||(e={}))R.call(e,r)&&U(t,r,e[r]);if(N)for(var r of N(e))L.call(e,r)&&U(t,r,e[r]);return t})({},t),{explorerRecommendedWalletIds:r,explorerExcludedWalletIds:s}=A.state,{recomendedWallets:n}=G;if("ALL"===s)return G.wallets;n.length?e.excludedIds=n.map((t=>t.id)).join(","):p.isArray(r)&&(e.excludedIds=r.join(",")),p.isArray(s)&&(e.excludedIds=[e.excludedIds,s].filter(Boolean).join(","));const{page:i,search:a}=t,{listings:o,total:l}=j?await F.getMobileListings(e):await F.getDesktopListings(e),c=Object.values(o),h=a?"search":"wallets";return G[h]={listings:[...G[h].listings,...c],total:l,page:i??1},{listings:c,total:l}},async getInjectedWallets(){const{listings:t}=await F.getInjectedListings({}),e=Object.values(t);return G.injectedWallets=e,G.injectedWallets},getWalletImageUrl:t=>F.getWalletImageUrl(t),getAssetImageUrl:t=>F.getAssetImageUrl(t),resetSearch(){G.search={listings:[],total:0,page:1}}},z=c({pairingEnabled:!1,pairingUri:"",pairingError:!1}),Q={state:z,subscribe:t=>h(z,(()=>t(z))),setPairingUri(t){z.pairingUri=t},setPairingError(t){z.pairingError=t},setPairingEnabled(t){z.pairingEnabled=t}},H=c({open:!1}),q={state:H,subscribe:t=>h(H,(()=>t(H))),open:async t=>new Promise((e=>{const{isUiLoaded:r,isDataLoaded:s,isPreferInjected:n,selectedChain:i}=v.state,{isConnected:a}=x.state,{enableNetworkView:o}=A.state;if(Q.setPairingEnabled(!0),a||p.removeWalletConnectDeepLink(),null!=t&&t.route)d.reset(t.route);else if(a)d.reset("Account");else if(o)d.reset("SelectNetwork");else{if(n)return m.client().connectConnector("injected",i?.id).catch((t=>console.error(t))),void e();d.reset("ConnectWallet")}const{pairingUri:l}=Q.state;if(r&&s&&(l||a))H.open=!0,e();else{const t=setInterval((()=>{const r=v.state,s=Q.state;r.isUiLoaded&&r.isDataLoaded&&(s.pairingUri||a)&&(clearInterval(t),H.open=!0,e())}),200)}})),close(){H.open=!1}};var K=Object.defineProperty,W=Object.getOwnPropertySymbols,J=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable,Z=(t,e,r)=>e in t?K(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;const X=c({themeMode:typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}),$={state:X,subscribe:t=>h(X,(()=>t(X))),setThemeConfig(t){const{themeMode:e,themeVariables:r}=t;e&&(X.themeMode=e),r&&(X.themeVariables=((t,e)=>{for(var r in e||(e={}))J.call(e,r)&&Z(t,r,e[r]);if(W)for(var r of W(e))Y.call(e,r)&&Z(t,r,e[r]);return t})({},r))}},tt=c({open:!1,message:"",variant:"success"}),et={state:tt,subscribe:t=>h(tt,(()=>t(tt))),openToast(t,e){tt.open=!0,tt.message=t,tt.variant=e},closeToast(){tt.open=!1}}},3160:(t,e,r)=>{"use strict";r.d(e,{E:()=>n});var s=r(6867);function n(t=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?(0,s.P)(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}},605:(t,e,r)=>{"use strict";r.d(e,{z:()=>i});var s=r(3160),n=r(6867);function i(t,e){e||(e=t.reduce(((t,e)=>t+e.length),0));const r=(0,s.E)(e);let i=0;for(const e of t)r.set(e,i),i+=e.length;return(0,n.P)(r)}},2217:(t,e,r)=>{"use strict";r.d(e,{m:()=>i});var s=r(5114),n=r(6867);function i(t,e="utf8"){const r=s.Z[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode(`${r.prefix}${t}`):(0,n.P)(globalThis.Buffer.from(t,"utf-8"))}},7466:(t,e,r)=>{"use strict";r.d(e,{BB:()=>i.B,mL:()=>n.m,zo:()=>s.z});var s=r(605),n=r(2217),i=r(2263)},2263:(t,e,r)=>{"use strict";r.d(e,{B:()=>n});var s=r(5114);function n(t,e="utf8"){const r=s.Z[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?r.encoder.encode(t).substring(1):globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8")}},6867:(t,e,r)=>{"use strict";function s(t){return null!=globalThis.Buffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}r.d(e,{P:()=>s})},5114:(t,e,r)=>{"use strict";r.d(e,{Z:()=>Qt});var s={};r.r(s),r.d(s,{identity:()=>I});var n={};r.r(n),r.d(n,{base2:()=>_});var i={};r.r(i),r.d(i,{base8:()=>T});var a={};r.r(a),r.d(a,{base10:()=>M});var o={};r.r(o),r.d(o,{base16:()=>D,base16upper:()=>B});var l={};r.r(l),r.d(l,{base32:()=>F,base32hex:()=>L,base32hexpad:()=>j,base32hexpadupper:()=>G,base32hexupper:()=>U,base32pad:()=>N,base32padupper:()=>R,base32upper:()=>O,base32z:()=>V});var c={};r.r(c),r.d(c,{base36:()=>z,base36upper:()=>Q});var h={};r.r(h),r.d(h,{base58btc:()=>H,base58flickr:()=>q});var u={};r.r(u),r.d(u,{base64:()=>K,base64pad:()=>W,base64url:()=>J,base64urlpad:()=>Y});var d={};r.r(d),r.d(d,{base256emoji:()=>tt});var p={};r.r(p),r.d(p,{sha256:()=>Pt,sha512:()=>Ct});var f={};r.r(f),r.d(f,{identity:()=>It});var m={};r.r(m),r.d(m,{code:()=>Tt,decode:()=>Dt,encode:()=>Mt,name:()=>_t});var g={};r.r(g),r.d(g,{code:()=>Nt,decode:()=>Lt,encode:()=>Rt,name:()=>Ot});var y=function(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),s=0;s<r.length;s++)r[s]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),a=i.charCodeAt(0);if(255!==r[a])throw new TypeError(i+" is ambiguous");r[a]=n}var o=t.length,l=t.charAt(0),c=Math.log(o)/Math.log(256),h=Math.log(256)/Math.log(o);function u(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;var e=0;if(" "!==t[e]){for(var s=0,n=0;t[e]===l;)s++,e++;for(var i=(t.length-e)*c+1>>>0,a=new Uint8Array(i);t[e];){var h=r[t.charCodeAt(e)];if(255===h)return;for(var u=0,d=i-1;(0!==h||u<n)&&-1!==d;d--,u++)h+=o*a[d]>>>0,a[d]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");n=u,e++}if(" "!==t[e]){for(var p=i-n;p!==i&&0===a[p];)p++;for(var f=new Uint8Array(s+(i-p)),m=s;p!==i;)f[m++]=a[p++];return f}}}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var r=0,s=0,n=0,i=e.length;n!==i&&0===e[n];)n++,r++;for(var a=(i-n)*h+1>>>0,c=new Uint8Array(a);n!==i;){for(var u=e[n],d=0,p=a-1;(0!==u||d<s)&&-1!==p;p--,d++)u+=256*c[p]>>>0,c[p]=u%o>>>0,u=u/o>>>0;if(0!==u)throw new Error("Non-zero carry");s=d,n++}for(var f=a-s;f!==a&&0===c[f];)f++;for(var m=l.repeat(r);f<a;++f)m+=t.charAt(c[f]);return m},decodeUnsafe:u,decode:function(t){var r=u(t);if(r)return r;throw new Error(`Non-${e} character`)}}};const b=y,v=(new Uint8Array(0),t=>{if(t instanceof Uint8Array&&"Uint8Array"===t.constructor.name)return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")});class w{constructor(t,e,r){this.name=t,this.prefix=e,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class A{constructor(t,e,r){if(this.name=t,this.prefix=e,void 0===e.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=e.codePointAt(0),this.baseDecode=r}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return E(this,t)}}class k{constructor(t){this.decoders=t}or(t){return E(this,t)}decode(t){const e=t[0],r=this.decoders[e];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const E=(t,e)=>new k({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class x{constructor(t,e,r,s){this.name=t,this.prefix=e,this.baseEncode=r,this.baseDecode=s,this.encoder=new w(t,e,r),this.decoder=new A(t,e,s)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const P=({name:t,prefix:e,encode:r,decode:s})=>new x(t,e,r,s),C=({prefix:t,name:e,alphabet:r})=>{const{encode:s,decode:n}=b(r,e);return P({prefix:t,name:e,encode:s,decode:t=>v(n(t))})},S=({name:t,prefix:e,bitsPerChar:r,alphabet:s})=>P({prefix:e,name:t,encode:t=>((t,e,r)=>{const s="="===e[e.length-1],n=(1<<r)-1;let i="",a=0,o=0;for(let s=0;s<t.length;++s)for(o=o<<8|t[s],a+=8;a>r;)a-=r,i+=e[n&o>>a];if(a&&(i+=e[n&o<<r-a]),s)for(;i.length*r&7;)i+="=";return i})(t,s,r),decode:e=>((t,e,r,s)=>{const n={};for(let t=0;t<e.length;++t)n[e[t]]=t;let i=t.length;for(;"="===t[i-1];)--i;const a=new Uint8Array(i*r/8|0);let o=0,l=0,c=0;for(let e=0;e<i;++e){const i=n[t[e]];if(void 0===i)throw new SyntaxError(`Non-${s} character`);l=l<<r|i,o+=r,o>=8&&(o-=8,a[c++]=255&l>>o)}if(o>=r||255&l<<8-o)throw new SyntaxError("Unexpected end of data");return a})(e,s,r,t)}),I=P({prefix:"\0",name:"identity",encode:t=>{return e=t,(new TextDecoder).decode(e);var e},decode:t=>(t=>(new TextEncoder).encode(t))(t)}),_=S({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),T=S({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),M=C({prefix:"9",name:"base10",alphabet:"0123456789"}),D=S({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),B=S({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),F=S({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),O=S({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),N=S({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),R=S({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),L=S({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),U=S({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),j=S({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),G=S({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),V=S({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),z=C({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Q=C({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),H=C({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),q=C({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),K=S({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),W=S({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),J=S({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Y=S({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Z=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),X=Z.reduce(((t,e,r)=>(t[r]=e,t)),[]),$=Z.reduce(((t,e,r)=>(t[e.codePointAt(0)]=r,t)),[]);const tt=P({prefix:"🚀",name:"base256emoji",encode:function(t){return t.reduce(((t,e)=>t+=X[e]),"")},decode:function(t){const e=[];for(const r of t){const t=$[r.codePointAt(0)];if(void 0===t)throw new Error(`Non-base256emoji character: ${r}`);e.push(t)}return new Uint8Array(e)}});var et=function t(e,r,s){r=r||[];var n=s=s||0;for(;e>=nt;)r[s++]=255&e|rt,e/=128;for(;e&st;)r[s++]=255&e|rt,e>>>=7;return r[s]=0|e,t.bytes=s-n+1,r},rt=128,st=-128,nt=Math.pow(2,31);var it=function t(e,r){var s,n=0,i=0,a=r=r||0,o=e.length;do{if(a>=o)throw t.bytes=0,new RangeError("Could not decode varint");s=e[a++],n+=i<28?(s&ot)<<i:(s&ot)*Math.pow(2,i),i+=7}while(s>=at);return t.bytes=a-r,n},at=128,ot=127;var lt=Math.pow(2,7),ct=Math.pow(2,14),ht=Math.pow(2,21),ut=Math.pow(2,28),dt=Math.pow(2,35),pt=Math.pow(2,42),ft=Math.pow(2,49),mt=Math.pow(2,56),gt=Math.pow(2,63);const yt={encode:et,decode:it,encodingLength:function(t){return t<lt?1:t<ct?2:t<ht?3:t<ut?4:t<dt?5:t<pt?6:t<ft?7:t<mt?8:t<gt?9:10}},bt=(t,e,r=0)=>(yt.encode(t,e,r),e),vt=t=>yt.encodingLength(t),wt=(t,e)=>{const r=e.byteLength,s=vt(t),n=s+vt(r),i=new Uint8Array(n+r);return bt(t,i,0),bt(r,i,s),i.set(e,n),new At(t,r,e,i)};class At{constructor(t,e,r,s){this.code=t,this.size=e,this.digest=r,this.bytes=s}}const kt=({name:t,code:e,encode:r})=>new Et(t,e,r);class Et{constructor(t,e,r){this.name=t,this.code=e,this.encode=r}digest(t){if(t instanceof Uint8Array){const e=this.encode(t);return e instanceof Uint8Array?wt(this.code,e):e.then((t=>wt(this.code,t)))}throw Error("Unknown type, must be binary type")}}const xt=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Pt=kt({name:"sha2-256",code:18,encode:xt("SHA-256")}),Ct=kt({name:"sha2-512",code:19,encode:xt("SHA-512")}),St=v,It={code:0,name:"identity",encode:St,digest:t=>wt(0,St(t))},_t="raw",Tt=85,Mt=t=>v(t),Dt=t=>v(t),Bt=new TextEncoder,Ft=new TextDecoder,Ot="json",Nt=512,Rt=t=>Bt.encode(JSON.stringify(t)),Lt=t=>JSON.parse(Ft.decode(t));Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom");Symbol.for("@ipld/js-cid/CID");const Ut={...s,...n,...i,...a,...o,...l,...c,...h,...u,...d};var jt=r(3160);function Gt(t,e,r,s){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:s}}}const Vt=Gt("utf8","u",(t=>"u"+new TextDecoder("utf8").decode(t)),(t=>(new TextEncoder).encode(t.substring(1)))),zt=Gt("ascii","a",(t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e}),(t=>{t=t.substring(1);const e=(0,jt.E)(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e})),Qt={utf8:Vt,"utf-8":Vt,hex:Ut.base16,latin1:zt,ascii:zt,binary:zt,...Ut}},4503:(t,e,r)=>{"use strict";function s(t){return"string"==typeof t?{address:t,type:"json-rpc"}:t}r.d(e,{T:()=>s})},6143:(t,e,r)=>{"use strict";r.d(e,{R:()=>v});var s=r(4503),n=r(6693);const i="0x82ad56cb";var a=r(2027),o=r(377),l=r(5980),c=r(7210),h=r(7799),u=r(7864),d=r(2106),p=r(6445),f=r(7469);var m=r(1163),g=r(4688),y=r(2357),b=r(7531);async function v(t,e){const{account:v=t.account,batch:w=Boolean(t.batch?.multicall),blockNumber:A,blockTag:k="latest",accessList:E,data:x,gas:P,gasPrice:C,maxFeePerGas:S,maxPriorityFeePerGas:I,nonce:_,to:T,value:M,...D}=e,B=v?(0,s.T)(v):void 0;try{(0,b.F)(e);const r=(A?(0,d.eC)(A):void 0)||k,s=t.chain?.formatters?.transactionRequest?.format,a=(s||g.tG)({...(0,m.K)(D,{format:s}),from:B?.address,accessList:E,data:x,gas:P,gasPrice:C,maxFeePerGas:S,maxPriorityFeePerGas:I,nonce:_,to:T,value:M});if(w&&function({request:t}){const{data:e,to:r,...s}=t;return!!e&&(!e.startsWith(i)&&(!!r&&!(Object.values(s).filter((t=>void 0!==t)).length>0)))}({request:a}))try{return await async function(t,e){const{batchSize:r=1024,wait:s=0}="object"==typeof t.batch?.multicall?t.batch.multicall:{},{blockNumber:i,blockTag:a="latest",data:p,multicallAddress:f,to:m}=e;let g=f;if(!g){if(!t.chain)throw new o.pZ;g=(0,u.L)({blockNumber:i,chain:t.chain,contract:"multicall3"})}const b=i?(0,d.eC)(i):void 0,v=b||a,{schedule:w}=(0,y.S)({id:`${t.uid}.${v}`,wait:s,shouldSplitBatch(t){const e=t.reduce(((t,{data:e})=>t+(e.length-2)),0);return e>2*r},fn:async e=>{const r=e.map((t=>({allowFailure:!0,callData:t.data,target:t.to}))),s=(0,h.R)({abi:n.F8,args:[r],functionName:"aggregate3"}),i=await t.request({method:"eth_call",params:[{data:s,to:g},v]});return(0,c.k)({abi:n.F8,args:[r],functionName:"aggregate3",data:i||"0x"})}}),[{returnData:A,success:k}]=await w({data:p,to:m});if(!k)throw new l.VQ({data:A});return"0x"===A?{data:void 0}:{data:A}}(t,{...a,blockNumber:A,blockTag:k})}catch(t){if(!(t instanceof o.pZ||t instanceof o.mm))throw t}const p=await t.request({method:"eth_call",params:r?[a,r]:[a]});return"0x"===p?{data:void 0}:{data:p}}catch(s){const n=function(t){if(!(t instanceof a.G))return;const e=t.walk();return"object"==typeof e.data?e.data.data:e.data}(s),{offchainLookup:i,offchainLookupSignature:o}=await r.e(770).then(r.bind(r,9770));if(n?.slice(0,10)===o&&T)return{data:await i(t,{data:n,to:T})};throw function(t,{docsPath:e,...r}){const s=(()=>{const e=(0,f.k)(t,r);return e instanceof p.cj?t:e})();return new l.cg(s,{docsPath:e,...r})}(s,{...e,account:B,chain:t.chain})}}},6693:(t,e,r)=>{"use strict";r.d(e,{$o:()=>c,F8:()=>s,X$:()=>l,du:()=>a,k3:()=>i,nZ:()=>o});const s=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],n=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"}],i=[...n,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],a=[...n,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],o=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],l=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],c=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}]},1746:(t,e,r)=>{"use strict";r.d(e,{$:()=>s,Up:()=>n,hZ:()=>i});const s={1:"An `assert` condition failed.",17:"Arithmic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},n={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},i={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"}},4192:(t,e,r)=>{"use strict";r.d(e,{Bd:()=>i,Zn:()=>n,ez:()=>s});const s={gwei:9,wei:18},n={ether:-9,wei:9},i={ether:-18,gwei:-9}},7412:(t,e,r)=>{"use strict";r.d(e,{CI:()=>x,FM:()=>f,Gy:()=>k,KY:()=>w,M4:()=>u,MX:()=>b,S4:()=>v,SM:()=>A,cO:()=>o,dh:()=>E,fM:()=>a,fs:()=>d,gr:()=>h,hn:()=>P,lC:()=>m,mv:()=>g,wM:()=>C,wb:()=>c,xB:()=>l,xL:()=>y,yP:()=>p});var s=r(522),n=r(9135),i=r(2027);class a extends i.G{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class o extends i.G{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class l extends i.G{constructor({data:t,params:e,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join("\n"),{metaMessages:[`Params: (${(0,s.h)(e,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=e,this.size=r}}class c extends i.G{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class h extends i.G{constructor({expectedLength:t,givenLength:e,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${e}`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class u extends i.G{constructor({expectedSize:t,value:e}){super(`Size of bytes "${e}" (bytes${(0,n.d)(e)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class d extends i.G{constructor({expectedLength:t,givenLength:e}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${e}`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class p extends i.G{constructor(t,{docsPath:e}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join("\n"),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class f extends i.G{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class m extends i.G{constructor(t,{docsPath:e}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join("\n"),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class g extends i.G{constructor(t,{docsPath:e}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join("\n"),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class y extends i.G{constructor(t,{docsPath:e}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class b extends i.G{constructor(t,{docsPath:e}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class v extends i.G{constructor(t,e){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${(0,s.t)(t.abiItem)}\`, and`,`\`${e.type}\` in \`${(0,s.t)(e.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItemAmbiguityError"})}}class w extends i.G{constructor({expectedSize:t,givenSize:e}){super(`Expected bytes${t}, got bytes${e}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class A extends i.G{constructor({abiItem:t,data:e,params:r,size:n}){super([`Data size of ${n} bytes is too small for non-indexed event parameters.`].join("\n"),{metaMessages:[`Params: (${(0,s.h)(r,{includeName:!0})})`,`Data:   ${e} (${n} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=e,this.params=r,this.size=n}}class k extends i.G{constructor({abiItem:t,param:e}){super([`Expected a topic for indexed event parameter${e.name?` "${e.name}"`:""} on event "${(0,s.t)(t,{includeName:!0})}".`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class E extends i.G{constructor(t,{docsPath:e}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join("\n"),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class x extends i.G{constructor(t,{docsPath:e}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join("\n"),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class P extends i.G{constructor(t){super([`Value "${t}" is not a valid array.`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class C extends i.G{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}},6087:(t,e,r)=>{"use strict";r.d(e,{b:()=>n});var s=r(2027);class n extends s.G{constructor({address:t}){super(`Address "${t}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}},2027:(t,e,r)=>{"use strict";r.d(e,{G:()=>n});var s=r(8673);class n extends Error{constructor(t,e={}){super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:(0,s.bo)()});const r=e.cause instanceof n?e.cause.details:e.cause?.message?e.cause.message:e.details,i=e.cause instanceof n&&e.cause.docsPath||e.docsPath;this.message=[t||"An error occurred.","",...e.metaMessages?[...e.metaMessages,""]:[],...i?[`Docs: https://viem.sh${i}.html${e.docsSlug?`#${e.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join("\n"),e.cause&&(this.cause=e.cause),this.details=r,this.docsPath=i,this.metaMessages=e.metaMessages,this.shortMessage=t}walk(t){return i(this,t)}}function i(t,e){return e?.(t)?t:t&&"object"==typeof t&&"cause"in t?i(t.cause,e):e?null:t}},377:(t,e,r)=>{"use strict";r.d(e,{Bk:()=>a,Yl:()=>i,hJ:()=>l,mm:()=>n,pZ:()=>o});var s=r(2027);class n extends s.G{constructor({blockNumber:t,chain:e,contract:r}){super(`Chain "${e.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class i extends s.G{constructor({chain:t,currentChainId:e}){super(`The current chain of the wallet (id: ${e}) does not match the target chain for the transaction (id: ${t.id} – ${t.name}).`,{metaMessages:[`Current Chain ID:  ${e}`,`Expected Chain ID: ${t.id} – ${t.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}}class a extends s.G{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}class o extends s.G{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}class l extends s.G{constructor({chainId:t}){super(`Chain ID "${t}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidChainIdError"})}}},5980:(t,e,r)=>{"use strict";r.d(e,{cg:()=>g,uq:()=>y,Lu:()=>b,Dk:()=>v,VQ:()=>w});var s=r(4503),n=r(1746),i=r(6899),a=r(522),o=r(6070);function l({abiItem:t,args:e,includeFunctionName:r=!0,includeName:s=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${r?t.name:""}(${t.inputs.map(((t,r)=>`${s&&t.name?`${t.name}: `:""}${"object"==typeof e[r]?(0,o.P)(e[r]):e[r]}`)).join(", ")})`}var c=r(840),h=r(9625),u=r(7795),d=r(7412),p=r(2027),f=r(3639),m=r(8673);class g extends p.G{constructor(t,{account:e,docsPath:r,chain:n,data:i,gas:a,gasPrice:o,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:d,to:p,value:m}){const g=e?(0,s.T)(e):void 0,y=(0,f.xr)({from:g?.address,to:p,value:void 0!==m&&`${(0,h.d)(m)} ${n?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:a,gasPrice:void 0!==o&&`${(0,u.o)(o)} gwei`,maxFeePerGas:void 0!==l&&`${(0,u.o)(l)} gwei`,maxPriorityFeePerGas:void 0!==c&&`${(0,u.o)(c)} gwei`,nonce:d});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",y].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=t}}class y extends p.G{constructor(t,{abi:e,args:r,contractAddress:s,docsPath:n,functionName:i,sender:o}){const h=(0,c.mE)({abi:e,args:r,name:i}),u=h?l({abiItem:h,args:r,includeFunctionName:!1,includeName:!1}):void 0,d=h?(0,a.t)(h,{includeName:!0}):void 0,p=(0,f.xr)({address:s&&(0,m.CR)(s),function:d,args:u&&"()"!==u&&`${[...Array(i?.length??0).keys()].map((()=>" ")).join("")}${u}`,sender:o});super(t.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:t,docsPath:n,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Contract Call:",p].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=e,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=i,this.sender=o}}class b extends p.G{constructor({abi:t,data:e,functionName:r,message:s}){let o,c,h,u,p;if(e&&"0x"!==e)try{c=(0,i.p)({abi:t,data:e});const{abiItem:r,errorName:s,args:o}=c;if("Error"===s)u=o[0];else if("Panic"===s){const[t]=o;u=n.$[t]}else{const t=r?(0,a.t)(r,{includeName:!0}):void 0,e=r&&o?l({abiItem:r,args:o,includeFunctionName:!1,includeName:!1}):void 0;h=[t?`Error: ${t}`:"",e&&"()"!==e?`       ${[...Array(s?.length??0).keys()].map((()=>" ")).join("")}${e}`:""]}}catch(t){o=t}else s&&(u=s);o instanceof d.yP&&(p=o.signature,h=[`Unable to decode signature "${p}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${p}.`]),super(u&&"execution reverted"!==u||p?[`The contract function "${r}" reverted with the following ${p?"signature":"reason"}:`,u||p].join("\n"):`The contract function "${r}" reverted.`,{cause:o,metaMessages:h}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=c,this.reason=u,this.signature=p}}class v extends p.G{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class w extends p.G{constructor({data:t,message:e}){super(e||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}},9760:(t,e,r)=>{"use strict";r.d(e,{$:()=>i,m:()=>n});var s=r(2027);class n extends s.G{constructor({offset:t,position:e,size:r}){super(`Slice ${"start"===e?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class i extends s.G{constructor({size:t,targetSize:e,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}},7788:(t,e,r)=>{"use strict";r.d(e,{Cd:()=>i,J5:()=>n,M6:()=>a});var s=r(2027);class n extends s.G{constructor({max:t,min:e,signed:r,size:s,value:n}){super(`Number "${n}" is not in safe ${s?`${8*s}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${e} to ${t})`:`(above ${e})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class i extends s.G{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidHexBooleanError"})}}class a extends s.G{constructor({givenSize:t,maxSize:e}){super(`Size cannot exceed ${e} bytes. Given size: ${t} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}},6445:(t,e,r)=>{"use strict";r.d(e,{C_:()=>u,G$:()=>o,Hh:()=>a,M_:()=>i,WF:()=>d,ZI:()=>l,cj:()=>g,cs:()=>m,dR:()=>p,pZ:()=>f,se:()=>h,vU:()=>c});var s=r(7795),n=r(2027);class i extends n.G{constructor({cause:t,message:e}={}){const r=e?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(i,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(i,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class a extends n.G{constructor({cause:t,maxFeePerGas:e}={}){super(`The fee cap (\`maxFeePerGas\`${e?` = ${(0,s.o)(e)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(a,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class o extends n.G{constructor({cause:t,maxFeePerGas:e}={}){super(`The fee cap (\`maxFeePerGas\`${e?` = ${(0,s.o)(e)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(o,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class l extends n.G{constructor({cause:t,nonce:e}={}){super(`Nonce provided for the transaction ${e?`(${e}) `:""}is higher than the next one expected.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(l,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class c extends n.G{constructor({cause:t,nonce:e}={}){super([`Nonce provided for the transaction ${e?`(${e}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join("\n"),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(c,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class h extends n.G{constructor({cause:t,nonce:e}={}){super(`Nonce provided for the transaction ${e?`(${e}) `:""}exceeds the maximum allowed nonce.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(h,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class u extends n.G{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join("\n"),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(u,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class d extends n.G{constructor({cause:t,gas:e}={}){super(`The amount of gas ${e?`(${e}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(d,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class p extends n.G{constructor({cause:t,gas:e}={}){super(`The amount of gas ${e?`(${e}) `:""}provided for the transaction is too low.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(p,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class f extends n.G{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(f,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class m extends n.G{constructor({cause:t,maxPriorityFeePerGas:e,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${e?` = ${(0,s.o)(e)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${(0,s.o)(r)} gwei`:""}).`].join("\n"),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(m,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class g extends n.G{constructor({cause:t}){super(`An error occurred while executing: ${t?.shortMessage}`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}},8863:(t,e,r)=>{"use strict";r.d(e,{Gg:()=>a,W5:()=>c,bs:()=>l,c9:()=>o});var s=r(6070),n=r(2027),i=r(8673);class a extends n.G{constructor({body:t,details:e,headers:r,status:n,url:a}){super("HTTP request failed.",{details:e,metaMessages:[n&&`Status: ${n}`,`URL: ${(0,i.Gr)(a)}`,t&&`Request body: ${(0,s.P)(t)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=r,this.status=n,this.url=a}}class o extends n.G{constructor({body:t,details:e,url:r}){super("WebSocket request failed.",{details:e,metaMessages:[`URL: ${(0,i.Gr)(r)}`,`Request body: ${(0,s.P)(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebSocketRequestError"})}}class l extends n.G{constructor({body:t,error:e,url:r}){super("RPC Request failed.",{cause:e,details:e.message,metaMessages:[`URL: ${(0,i.Gr)(r)}`,`Request body: ${(0,s.P)(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=e.code}}class c extends n.G{constructor({body:t,url:e}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${(0,i.Gr)(e)}`,`Request body: ${(0,s.P)(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}},3639:(t,e,r)=>{"use strict";r.d(e,{Bh:()=>d,JC:()=>h,Yb:()=>p,j3:()=>c,mc:()=>f,mk:()=>u,vl:()=>l,xY:()=>o,xr:()=>a});var s=r(9625),n=r(7795),i=r(2027);function a(t){const e=Object.entries(t).map((([t,e])=>void 0===e||!1===e?null:[t,e])).filter(Boolean),r=e.reduce(((t,[e])=>Math.max(t,e.length)),0);return e.map((([t,e])=>`  ${`${t}:`.padEnd(r+1)}  ${e}`)).join("\n")}class o extends i.G{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class l extends i.G{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidLegacyVError"})}}class c extends i.G{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",a(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class h extends i.G{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStorageKeySizeError"})}}class u extends i.G{constructor(t,{account:e,docsPath:r,chain:i,data:o,gas:l,gasPrice:c,maxFeePerGas:h,maxPriorityFeePerGas:u,nonce:d,to:p,value:f}){const m=a({chain:i&&`${i?.name} (id: ${i?.id})`,from:e?.address,to:p,value:void 0!==f&&`${(0,s.d)(f)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:l,gasPrice:void 0!==c&&`${(0,n.o)(c)} gwei`,maxFeePerGas:void 0!==h&&`${(0,n.o)(h)} gwei`,maxPriorityFeePerGas:void 0!==u&&`${(0,n.o)(u)} gwei`,nonce:d});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",m].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=t}}class d extends i.G{constructor({blockHash:t,blockNumber:e,blockTag:r,hash:s,index:n}){let i="Transaction";r&&void 0!==n&&(i=`Transaction at block time "${r}" at index "${n}"`),t&&void 0!==n&&(i=`Transaction at block hash "${t}" at index "${n}"`),e&&void 0!==n&&(i=`Transaction at block number "${e}" at index "${n}"`),s&&(i=`Transaction with hash "${s}"`),super(`${i} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class p extends i.G{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class f extends i.G{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}},8673:(t,e,r)=>{"use strict";r.d(e,{CR:()=>s,Gr:()=>n,bo:()=>i});const s=t=>t,n=t=>t,i=()=>"viem@1.20.0"},4450:(t,e,r)=>{"use strict";r.d(e,{r:()=>h});var s=r(7412),n=r(5775),i=r(9135),a=r(3972),o=r(1836),l=r(5946),c=r(5444);function h(t,e){if("0x"===e&&t.length>0)throw new s.wb;if((0,i.d)(e)&&(0,i.d)(e)<32)throw new s.xB({data:e,params:t,size:(0,i.d)(e)});return function({data:t,params:e}){const r=[];let n=0;for(let a=0;a<e.length;a++){if(n>=(0,i.d)(t))throw new s.xB({data:t,params:e,size:(0,i.d)(t)});const o=e[a],{consumed:l,value:c}=u({data:t,param:o,position:n});r.push(c),n+=l}return r}({data:e,params:t})}function u({data:t,param:e,position:r}){const i=(0,c.S)(e.type);if(i){const[s,n]=i;return function(t,{param:e,length:r,position:s}){if(!r){const r=(0,l.ly)((0,a.tP)(t,s,s+32,{strict:!0})),n=(0,l.ly)((0,a.tP)(t,r,r+32,{strict:!0}));let i=0;const o=[];for(let s=0;s<n;++s){const s=u({data:(0,a.tP)(t,r+32),param:e,position:i});i+=s.consumed,o.push(s.value)}return{value:o,consumed:32}}if(d(e)){const n=(0,c.S)(e.type),i=!n?.[0];let o=0;const h=[];for(let n=0;n<r;++n){const r=(0,l.ly)((0,a.tP)(t,s,s+32,{strict:!0})),c=u({data:(0,a.tP)(t,r),param:e,position:i?o:32*n});o+=c.consumed,h.push(c.value)}return{value:h,consumed:32}}let n=0;const i=[];for(let a=0;a<r;++a){const r=u({data:t,param:e,position:s+n});n+=r.consumed,i.push(r.value)}return{value:i,consumed:n}}(t,{length:s,param:{...e,type:n},position:r})}if("tuple"===e.type)return function(t,{param:e,position:r}){const s=0===e.components.length||e.components.some((({name:t})=>!t)),n=s?[]:{};let i=0;if(d(e)){const o=(0,l.ly)((0,a.tP)(t,r,r+32,{strict:!0}));for(let r=0;r<e.components.length;++r){const l=e.components[r],c=u({data:(0,a.tP)(t,o),param:l,position:i});i+=c.consumed,n[s?r:l?.name]=c.value}return{consumed:32,value:n}}for(let a=0;a<e.components.length;++a){const o=e.components[a],l=u({data:t,param:o,position:r+i});i+=l.consumed,n[s?a:o?.name]=l.value}return{consumed:i,value:n}}(t,{param:e,position:r});if("string"===e.type)return function(t,{position:e}){const r=(0,l.ly)((0,a.tP)(t,e,e+32,{strict:!0})),s=(0,l.ly)((0,a.tP)(t,r,r+32,{strict:!0}));if(0===s)return{consumed:32,value:""};const n=(0,l.rR)((0,o.f)((0,a.tP)(t,r+32,r+32+s,{strict:!0})));return{consumed:32,value:n}}(t,{position:r});if(e.type.startsWith("bytes"))return function(t,{param:e,position:r}){const[s,n]=e.type.split("bytes");if(!n){const e=(0,l.ly)((0,a.tP)(t,r,r+32,{strict:!0})),s=(0,l.ly)((0,a.tP)(t,e,e+32,{strict:!0}));if(0===s)return{consumed:32,value:"0x"};return{consumed:32,value:(0,a.tP)(t,e+32,e+32+s,{strict:!0})}}const i=(0,a.tP)(t,r,r+parseInt(n),{strict:!0});return{consumed:32,value:i}}(t,{param:e,position:r});const h=(0,a.tP)(t,r,r+32,{strict:!0});if(e.type.startsWith("uint")||e.type.startsWith("int"))return function(t,{param:e}){const r=e.type.startsWith("int"),s=parseInt(e.type.split("int")[1]||"256");return{consumed:32,value:s>48?(0,l.y_)(t,{signed:r}):(0,l.ly)(t,{signed:r})}}(h,{param:e});if("address"===e.type)return function(t){return{consumed:32,value:(0,n.x)((0,a.tP)(t,-20))}}(h);if("bool"===e.type)return function(t){return{consumed:32,value:(0,l.XA)(t)}}(h);throw new s.CI(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function d(t){const{type:e}=t;if("string"===e)return!0;if("bytes"===e)return!0;if(e.endsWith("[]"))return!0;if("tuple"===e)return t.components?.some(d);const r=(0,c.S)(t.type);return!(!r||!d({...t,type:r[1]}))}},6899:(t,e,r)=>{"use strict";r.d(e,{p:()=>c});var s=r(1746),n=r(7412),i=r(3972),a=r(552),o=r(4450),l=r(522);function c({abi:t,data:e}){const r=(0,i.tP)(e,0,4);if("0x"===r)throw new n.wb;const c=[...t||[],s.Up,s.hZ].find((t=>"error"===t.type&&r===(0,a.o)((0,l.t)(t))));if(!c)throw new n.yP(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:c,args:"inputs"in c&&c.inputs&&c.inputs.length>0?(0,o.r)(c.inputs,(0,i.tP)(e,4)):void 0,errorName:c.name}}},7210:(t,e,r)=>{"use strict";r.d(e,{k:()=>o});var s=r(7412),n=r(4450),i=r(840);const a="/docs/contract/decodeFunctionResult";function o({abi:t,args:e,functionName:r,data:o}){let l=t[0];if(r&&(l=(0,i.mE)({abi:t,args:e,name:r}),!l))throw new s.xL(r,{docsPath:a});if("function"!==l.type)throw new s.xL(void 0,{docsPath:a});if(!l.outputs)throw new s.MX(l.name,{docsPath:a});const c=(0,n.r)(l.outputs,o);return c&&c.length>1?c:c&&1===c.length?c[0]:void 0}},5444:(t,e,r)=>{"use strict";r.d(e,{E:()=>u,S:()=>f});var s=r(7412),n=r(6087),i=r(9321),a=r(7040),o=r(1769),l=r(9135),c=r(3972),h=r(2106);function u(t,e){if(t.length!==e.length)throw new s.fs({expectedLength:t.length,givenLength:e.length});const r=function({params:t,values:e}){const r=[];for(let s=0;s<t.length;s++)r.push(d({param:t[s],value:e[s]}));return r}({params:t,values:e}),n=p(r);return 0===n.length?"0x":n}function d({param:t,value:e}){const r=f(t.type);if(r){const[n,i]=r;return function(t,{length:e,param:r}){const n=null===e;if(!Array.isArray(t))throw new s.hn(t);if(!n&&t.length!==e)throw new s.gr({expectedLength:e,givenLength:t.length,type:`${r.type}[${e}]`});let i=!1;const o=[];for(let e=0;e<t.length;e++){const s=d({param:r,value:t[e]});s.dynamic&&(i=!0),o.push(s)}if(n||i){const t=p(o);if(n){const e=(0,h.eC)(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?(0,a.zo)([e,t]):e}}if(i)return{dynamic:!0,encoded:t}}return{dynamic:!1,encoded:(0,a.zo)(o.map((({encoded:t})=>t)))}}(e,{length:n,param:{...t,type:i}})}if("tuple"===t.type)return function(t,{param:e}){let r=!1;const s=[];for(let n=0;n<e.components.length;n++){const i=e.components[n],a=d({param:i,value:t[Array.isArray(t)?n:i.name]});s.push(a),a.dynamic&&(r=!0)}return{dynamic:r,encoded:r?p(s):(0,a.zo)(s.map((({encoded:t})=>t)))}}(e,{param:t});if("address"===t.type)return function(t){if(!(0,i.U)(t))throw new n.b({address:t});return{dynamic:!1,encoded:(0,o.gc)(t.toLowerCase())}}(e);if("bool"===t.type)return function(t){return{dynamic:!1,encoded:(0,o.gc)((0,h.C4)(t))}}(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){return function(t,{signed:e}){return{dynamic:!1,encoded:(0,h.eC)(t,{size:32,signed:e})}}(e,{signed:t.type.startsWith("int")})}if(t.type.startsWith("bytes"))return function(t,{param:e}){const[,r]=e.type.split("bytes"),n=(0,l.d)(t);if(!r){let e=t;return n%32!=0&&(e=(0,o.gc)(e,{dir:"right",size:32*Math.ceil((t.length-2)/2/32)})),{dynamic:!0,encoded:(0,a.zo)([(0,o.gc)((0,h.eC)(n,{size:32})),e])}}if(n!==parseInt(r))throw new s.M4({expectedSize:parseInt(r),value:t});return{dynamic:!1,encoded:(0,o.gc)(t,{dir:"right"})}}(e,{param:t});if("string"===t.type)return function(t){const e=(0,h.$G)(t),r=Math.ceil((0,l.d)(e)/32),s=[];for(let t=0;t<r;t++)s.push((0,o.gc)((0,c.tP)(e,32*t,32*(t+1)),{dir:"right"}));return{dynamic:!0,encoded:(0,a.zo)([(0,o.gc)((0,h.eC)((0,l.d)(e),{size:32})),...s])}}(e);throw new s.dh(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function p(t){let e=0;for(let r=0;r<t.length;r++){const{dynamic:s,encoded:n}=t[r];e+=s?32:(0,l.d)(n)}const r=[],s=[];let n=0;for(let i=0;i<t.length;i++){const{dynamic:a,encoded:o}=t[i];a?(r.push((0,h.eC)(e+n,{size:32})),s.push(o),n+=(0,l.d)(o)):r.push(o)}return(0,a.zo)([...r,...s])}function f(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}},7799:(t,e,r)=>{"use strict";r.d(e,{R:()=>c});var s=r(7412),n=r(7040),i=r(552),a=r(5444),o=r(522),l=r(840);function c({abi:t,args:e,functionName:r}){let c=t[0];if(r&&(c=(0,l.mE)({abi:t,args:e,name:r}),!c))throw new s.xL(r,{docsPath:"/docs/contract/encodeFunctionData"});if("function"!==c.type)throw new s.xL(void 0,{docsPath:"/docs/contract/encodeFunctionData"});const h=(0,o.t)(c),u=(0,i.o)(h),d="inputs"in c&&c.inputs?(0,a.E)(c.inputs,e??[]):void 0;return(0,n.SM)([u,d??"0x"])}},522:(t,e,r)=>{"use strict";r.d(e,{h:()=>i,t:()=>n});var s=r(7412);function n(t,{includeName:e=!1}={}){if("function"!==t.type&&"event"!==t.type&&"error"!==t.type)throw new s.wM(t.type);return`${t.name}(${i(t.inputs,{includeName:e})})`}function i(t,{includeName:e=!1}={}){return t?t.map((t=>function(t,{includeName:e}){if(t.type.startsWith("tuple"))return`(${i(t.components,{includeName:e})})${t.type.slice(5)}`;return t.type+(e&&t.name?` ${t.name}`:"")}(t,{includeName:e}))).join(e?", ":","):""}},840:(t,e,r)=>{"use strict";r.d(e,{mE:()=>l});var s=r(7412),n=r(5102),i=r(4092),a=r(552),o=r(9321);function l({abi:t,args:e=[],name:r}){const o=(0,n.v)(r,{strict:!1}),l=t.filter((t=>o?"function"===t.type?(0,a.o)(t)===r:"event"===t.type&&(0,i.e)(t)===r:"name"in t&&t.name===r));if(0===l.length)return;if(1===l.length)return l[0];let u;for(const t of l){if(!("inputs"in t))continue;if(!e||0===e.length){if(!t.inputs||0===t.inputs.length)return t;continue}if(!t.inputs)continue;if(0===t.inputs.length)continue;if(t.inputs.length!==e.length)continue;if(e.every(((e,r)=>{const s="inputs"in t&&t.inputs[r];return!!s&&c(e,s)}))){if(u&&"inputs"in u&&u.inputs){const r=h(t.inputs,u.inputs,e);if(r)throw new s.S4({abiItem:t,type:r[0]},{abiItem:u,type:r[1]})}u=t}}return u||l[0]}function c(t,e){const r=typeof t,s=e.type;switch(s){case"address":return(0,o.U)(t);case"bool":return"boolean"===r;case"function":case"string":return"string"===r;default:return"tuple"===s&&"components"in e?Object.values(e.components).every(((e,r)=>c(Object.values(t)[r],e))):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(s)?"number"===r||"bigint"===r:/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(s)?"string"===r||t instanceof Uint8Array:!!/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(s)&&(Array.isArray(t)&&t.every((t=>c(t,{...e,type:s.replace(/(\[[0-9]{0,}\])$/,"")}))))}}function h(t,e,r){for(const s in t){const n=t[s],i=e[s];if("tuple"===n.type&&"tuple"===i.type&&"components"in n&&"components"in i)return h(n.components,i.components,r[s]);const a=[n.type,i.type];if(!(!a.includes("address")||!a.includes("bytes20"))||(a.includes("address")&&a.includes("string")||!(!a.includes("address")||!a.includes("bytes")))&&(0,o.U)(r[s]))return a}}},5775:(t,e,r)=>{"use strict";r.d(e,{K:()=>l,x:()=>o});var s=r(6087),n=r(1187),i=r(9550),a=r(9321);function o(t,e){const r=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),s=(0,i.w)((0,n.qX)(r),"bytes"),a=(e?r.substring(`${e}0x`.length):r).split("");for(let t=0;t<40;t+=2)s[t>>1]>>4>=8&&a[t]&&(a[t]=a[t].toUpperCase()),(15&s[t>>1])>=8&&a[t+1]&&(a[t+1]=a[t+1].toUpperCase());return`0x${a.join("")}`}function l(t,e){if(!(0,a.U)(t))throw new s.b({address:t});return o(t,e)}},9321:(t,e,r)=>{"use strict";r.d(e,{U:()=>n});const s=/^0x[a-fA-F0-9]{40}$/;function n(t){return s.test(t)}},7864:(t,e,r)=>{"use strict";r.d(e,{L:()=>n});var s=r(377);function n({blockNumber:t,chain:e,contract:r}){const n=e?.contracts?.[r];if(!n)throw new s.mm({chain:e,contract:{name:r}});if(t&&n.blockCreated&&n.blockCreated>t)throw new s.mm({blockNumber:t,chain:e,contract:{name:r,blockCreated:n.blockCreated}});return n.address}},7040:(t,e,r)=>{"use strict";function s(t){return"string"==typeof t[0]?n(t):function(t){let e=0;for(const r of t)e+=r.length;const r=new Uint8Array(e);let s=0;for(const e of t)r.set(e,s),s+=e.length;return r}(t)}function n(t){return`0x${t.reduce(((t,e)=>t+e.replace("0x","")),"")}`}r.d(e,{SM:()=>n,zo:()=>s})},5102:(t,e,r)=>{"use strict";function s(t,{strict:e=!0}={}){return!!t&&("string"==typeof t&&(e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")))}r.d(e,{v:()=>s})},1769:(t,e,r)=>{"use strict";r.d(e,{gc:()=>i,vk:()=>n});var s=r(9760);function n(t,{dir:e,size:r=32}={}){return"string"==typeof t?i(t,{dir:e,size:r}):function(t,{dir:e,size:r=32}={}){if(null===r)return t;if(t.length>r)throw new s.$({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let s=0;s<r;s++){const i="right"===e;n[i?s:r-s-1]=t[i?s:t.length-s-1]}return n}(t,{dir:e,size:r})}function i(t,{dir:e,size:r=32}={}){if(null===r)return t;const n=t.replace("0x","");if(n.length>2*r)throw new s.$({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n["right"===e?"padEnd":"padStart"](2*r,"0")}`}},9135:(t,e,r)=>{"use strict";r.d(e,{d:()=>n});var s=r(5102);function n(t){return(0,s.v)(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}},3972:(t,e,r)=>{"use strict";r.d(e,{tP:()=>a});var s=r(9760),n=r(5102),i=r(9135);function a(t,e,r,{strict:s}={}){return(0,n.v)(t,{strict:!1})?function(t,e,r,{strict:s}={}){o(t,e);const n=`0x${t.replace("0x","").slice(2*(e??0),2*(r??t.length))}`;s&&l(n,e,r);return n}(t,e,r,{strict:s}):function(t,e,r,{strict:s}={}){o(t,e);const n=t.slice(e,r);s&&l(n,e,r);return n}(t,e,r,{strict:s})}function o(t,e){if("number"==typeof e&&e>0&&e>(0,i.d)(t)-1)throw new s.m({offset:e,position:"start",size:(0,i.d)(t)})}function l(t,e,r){if("number"==typeof e&&"number"==typeof r&&(0,i.d)(t)!==r-e)throw new s.m({offset:r,position:"end",size:(0,i.d)(t)})}},1836:(t,e,r)=>{"use strict";function s(t,{dir:e="left"}={}){let r="string"==typeof t?t.replace("0x",""):t,s=0;for(let t=0;t<r.length-1&&"0"===r["left"===e?t:r.length-t-1].toString();t++)s++;return r="left"===e?r.slice(s):r.slice(0,r.length-s),"string"==typeof t?(1===r.length&&"right"===e&&(r=`${r}0`),`0x${r.length%2==1?`0${r}`:r}`):r}r.d(e,{f:()=>s})},5946:(t,e,r)=>{"use strict";r.d(e,{XA:()=>c,Yf:()=>o,ly:()=>h,rR:()=>u,y_:()=>l});var s=r(7788),n=r(9135),i=r(1836),a=r(1187);function o(t,{size:e}){if((0,n.d)(t)>e)throw new s.M6({givenSize:(0,n.d)(t),maxSize:e})}function l(t,e={}){const{signed:r}=e;e.size&&o(t,{size:e.size});const s=BigInt(t);if(!r)return s;const n=(t.length-2)/2;return s<=(1n<<8n*BigInt(n)-1n)-1n?s:s-BigInt(`0x${"f".padStart(2*n,"f")}`)-1n}function c(t,e={}){let r=t;if(e.size&&(o(r,{size:e.size}),r=(0,i.f)(r)),"0x00"===(0,i.f)(r))return!1;if("0x01"===(0,i.f)(r))return!0;throw new s.Cd(r)}function h(t,e={}){return Number(l(t,e))}function u(t,e={}){let r=(0,a.nr)(t);return e.size&&(o(r,{size:e.size}),r=(0,i.f)(r,{dir:"right"})),(new TextDecoder).decode(r)}},1187:(t,e,r)=>{"use strict";r.d(e,{O0:()=>c,nr:()=>d,qX:()=>p});var s=r(2027),n=r(5102),i=r(1769),a=r(5946),o=r(2106);const l=new TextEncoder;function c(t,e={}){return"number"==typeof t||"bigint"==typeof t?function(t,e){const r=(0,o.eC)(t,e);return d(r)}(t,e):"boolean"==typeof t?function(t,e={}){const r=new Uint8Array(1);if(r[0]=Number(t),"number"==typeof e.size)return(0,a.Yf)(r,{size:e.size}),(0,i.vk)(r,{size:e.size});return r}(t,e):(0,n.v)(t)?d(t,e):p(t,e)}const h={zero:48,nine:57,A:65,F:70,a:97,f:102};function u(t){return t>=h.zero&&t<=h.nine?t-h.zero:t>=h.A&&t<=h.F?t-(h.A-10):t>=h.a&&t<=h.f?t-(h.a-10):void 0}function d(t,e={}){let r=t;e.size&&((0,a.Yf)(r,{size:e.size}),r=(0,i.vk)(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const o=n.length/2,l=new Uint8Array(o);for(let t=0,e=0;t<o;t++){const r=u(n.charCodeAt(e++)),i=u(n.charCodeAt(e++));if(void 0===r||void 0===i)throw new s.G(`Invalid byte sequence ("${n[e-2]}${n[e-1]}" in "${n}").`);l[t]=16*r+i}return l}function p(t,e={}){const r=l.encode(t);return"number"==typeof e.size?((0,a.Yf)(r,{size:e.size}),(0,i.vk)(r,{dir:"right",size:e.size})):r}},2106:(t,e,r)=>{"use strict";r.d(e,{$G:()=>d,C4:()=>l,NC:()=>o,ci:()=>c,eC:()=>h});var s=r(7788),n=r(1769),i=r(5946);const a=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function o(t,e={}){return"number"==typeof t||"bigint"==typeof t?h(t,e):"string"==typeof t?d(t,e):"boolean"==typeof t?l(t,e):c(t,e)}function l(t,e={}){const r=`0x${Number(t)}`;return"number"==typeof e.size?((0,i.Yf)(r,{size:e.size}),(0,n.vk)(r,{size:e.size})):r}function c(t,e={}){let r="";for(let e=0;e<t.length;e++)r+=a[t[e]];const s=`0x${r}`;return"number"==typeof e.size?((0,i.Yf)(s,{size:e.size}),(0,n.vk)(s,{dir:"right",size:e.size})):s}function h(t,e={}){const{signed:r,size:i}=e,a=BigInt(t);let o;i?o=r?(1n<<8n*BigInt(i)-1n)-1n:2n**(8n*BigInt(i))-1n:"number"==typeof t&&(o=BigInt(Number.MAX_SAFE_INTEGER));const l="bigint"==typeof o&&r?-o-1n:0;if(o&&a>o||a<l){const e="bigint"==typeof t?"n":"";throw new s.J5({max:o?`${o}${e}`:void 0,min:`${l}${e}`,signed:r,size:i,value:`${t}${e}`})}const c=`0x${(r&&a<0?(1n<<BigInt(8*i))+BigInt(a):a).toString(16)}`;return i?(0,n.vk)(c,{size:i}):c}const u=new TextEncoder;function d(t,e={}){return c(u.encode(t),e)}},7469:(t,e,r)=>{"use strict";r.d(e,{k:()=>i});var s=r(2027),n=r(6445);function i(t,e){const r=(t.details||"").toLowerCase(),i=t.walk((t=>t.code===n.M_.code));return i instanceof s.G?new n.M_({cause:t,message:i.details}):n.M_.nodeMessage.test(r)?new n.M_({cause:t,message:t.details}):n.Hh.nodeMessage.test(r)?new n.Hh({cause:t,maxFeePerGas:e?.maxFeePerGas}):n.G$.nodeMessage.test(r)?new n.G$({cause:t,maxFeePerGas:e?.maxFeePerGas}):n.ZI.nodeMessage.test(r)?new n.ZI({cause:t,nonce:e?.nonce}):n.vU.nodeMessage.test(r)?new n.vU({cause:t,nonce:e?.nonce}):n.se.nodeMessage.test(r)?new n.se({cause:t,nonce:e?.nonce}):n.C_.nodeMessage.test(r)?new n.C_({cause:t}):n.WF.nodeMessage.test(r)?new n.WF({cause:t,gas:e?.gas}):n.dR.nodeMessage.test(r)?new n.dR({cause:t,gas:e?.gas}):n.pZ.nodeMessage.test(r)?new n.pZ({cause:t}):n.cs.nodeMessage.test(r)?new n.cs({cause:t,maxFeePerGas:e?.maxFeePerGas,maxPriorityFeePerGas:e?.maxPriorityFeePerGas}):new n.cj({cause:t})}},1163:(t,e,r)=>{"use strict";function s(t,{format:e}){if(!e)return{};const r={};return function e(s){const n=Object.keys(s);for(const i of n)i in t&&(r[i]=t[i]),s[i]&&"object"==typeof s[i]&&!Array.isArray(s[i])&&e(s[i])}(e(t||{})),r}r.d(e,{K:()=>s})},1366:(t,e,r)=>{"use strict";function s(t,e){return({exclude:r,format:s})=>({exclude:r,format:t=>{const n=e(t);if(r)for(const t of r)delete n[t];return{...n,...s(t)}},type:t})}r.d(e,{$:()=>s})},4688:(t,e,r)=>{"use strict";r.d(e,{iy:()=>o,tG:()=>a});var s=r(2106),n=r(1366);const i={legacy:"0x0",eip2930:"0x1",eip1559:"0x2"};function a(t){return{...t,gas:void 0!==t.gas?(0,s.eC)(t.gas):void 0,gasPrice:void 0!==t.gasPrice?(0,s.eC)(t.gasPrice):void 0,maxFeePerGas:void 0!==t.maxFeePerGas?(0,s.eC)(t.maxFeePerGas):void 0,maxPriorityFeePerGas:void 0!==t.maxPriorityFeePerGas?(0,s.eC)(t.maxPriorityFeePerGas):void 0,nonce:void 0!==t.nonce?(0,s.eC)(t.nonce):void 0,type:void 0!==t.type?i[t.type]:void 0,value:void 0!==t.value?(0,s.eC)(t.value):void 0}}const o=(0,n.$)("transactionRequest",a)},4092:(t,e,r)=>{"use strict";r.d(e,{e:()=>a});var s=r(1187),n=r(9574);var i=r(9550);const a=t=>{return e=(t=>(0,n.r)(t))(t),(0,i.w)((0,s.O0)(e));var e}},552:(t,e,r)=>{"use strict";r.d(e,{o:()=>o});var s=r(3972),n=r(1187),i=r(9574),a=r(9550);const o=t=>{return(0,s.tP)((e=(0,i.r)(t),(0,a.w)((0,n.O0)(e))),0,4);var e}},9574:(t,e,r)=>{"use strict";r.d(e,{r:()=>o});const s=/^tuple(?<array>(\[(\d*)\])*)$/;function n(t){let e=t.type;if(s.test(t.type)&&"components"in t){e="(";const r=t.components.length;for(let s=0;s<r;s++){e+=n(t.components[s]),s<r-1&&(e+=", ")}const i=function(t,e){const r=t.exec(e);return r?.groups}(s,t.type);return e+=`)${i?.array??""}`,n({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function i(t){let e="";const r=t.length;for(let s=0;s<r;s++){e+=n(t[s]),s!==r-1&&(e+=", ")}return e}var a=r(2027);const o=t=>{var e;return function(t){let e=!0,r="",s=0,n="",i=!1;for(let a=0;a<t.length;a++){const o=t[a];if(["(",")",","].includes(o)&&(e=!0),"("===o&&s++,")"===o&&s--,e)if(0!==s)" "!==o?(n+=o,r+=o):","!==t[a-1]&&","!==r&&",("!==r&&(r="",e=!1);else if(" "===o&&["event","function",""].includes(n))n="";else if(n+=o,")"===o){i=!0;break}}if(!i)throw new a.G("Unable to normalize signature.");return n}("string"==typeof t?t:"function"===(e=t).type?`function ${e.name}(${i(e.inputs)})${e.stateMutability&&"nonpayable"!==e.stateMutability?` ${e.stateMutability}`:""}${e.outputs.length?` returns (${i(e.outputs)})`:""}`:"event"===e.type?`event ${e.name}(${i(e.inputs)})`:"error"===e.type?`error ${e.name}(${i(e.inputs)})`:"constructor"===e.type?`constructor(${i(e.inputs)})${"payable"===e.stateMutability?" payable":""}`:"fallback"===e.type?"fallback()":"receive() external payable")}},9550:(t,e,r)=>{"use strict";r.d(e,{w:()=>o});var s=r(1171),n=r(5102),i=r(1187),a=r(2106);function o(t,e){const r=e||"hex",o=(0,s.fr)((0,n.v)(t,{strict:!1})?(0,i.O0)(t):t);return"bytes"===r?o:(0,a.NC)(o)}},2357:(t,e,r)=>{"use strict";r.d(e,{S:()=>n});const s=new Map;function n({fn:t,id:e,shouldSplitBatch:r,wait:n=0,sort:i}){const a=async()=>{const e=l();o();const r=e.map((({args:t})=>t));0!==r.length&&t(r).then((t=>{i&&Array.isArray(t)&&t.sort(i);for(let r=0;r<e.length;r++){const{pendingPromise:s}=e[r];s.resolve?.([t[r],t])}})).catch((t=>{for(let r=0;r<e.length;r++){const{pendingPromise:s}=e[r];s.reject?.(t)}}))},o=()=>s.delete(e),l=()=>s.get(e)||[],c=t=>s.set(e,[...l(),t]);return{flush:o,async schedule(t){const e={},s=new Promise(((t,r)=>{e.resolve=t,e.reject=r})),i=r?.([...l().map((({args:t})=>t)),t]);i&&a();return l().length>0?(c({args:t,pendingPromise:e}),s):(c({args:t,pendingPromise:e}),setTimeout(a,n),s)}}}},6070:(t,e,r)=>{"use strict";r.d(e,{P:()=>s});const s=(t,e,r)=>JSON.stringify(t,((t,r)=>{const s="bigint"==typeof r?r.toString():r;return"function"==typeof e?e(t,s):s}),r)},7531:(t,e,r)=>{"use strict";r.d(e,{F:()=>l});var s=r(4503),n=r(6087),i=r(6445),a=r(3639),o=r(9321);function l(t){const{account:e,gasPrice:r,maxFeePerGas:l,maxPriorityFeePerGas:c,to:h}=t,u=e?(0,s.T)(e):void 0;if(u&&!(0,o.U)(u.address))throw new n.b({address:u.address});if(h&&!(0,o.U)(h))throw new n.b({address:h});if(void 0!==r&&(void 0!==l||void 0!==c))throw new a.xY;if(l&&l>2n**256n-1n)throw new i.Hh({maxFeePerGas:l});if(c&&l&&c>l)throw new i.cs({maxFeePerGas:l,maxPriorityFeePerGas:c})}},9625:(t,e,r)=>{"use strict";r.d(e,{d:()=>i});var s=r(4192),n=r(5229);function i(t,e="wei"){return(0,n.b)(t,s.ez[e])}},7795:(t,e,r)=>{"use strict";r.d(e,{o:()=>i});var s=r(4192),n=r(5229);function i(t,e="wei"){return(0,n.b)(t,s.Zn[e])}},5229:(t,e,r)=>{"use strict";function s(t,e){let r=t.toString();const s=r.startsWith("-");s&&(r=r.slice(1)),r=r.padStart(e,"0");let[n,i]=[r.slice(0,r.length-e),r.slice(r.length-e)];return i=i.replace(/(0+)$/,""),`${s?"-":""}${n||"0"}${i?`.${i}`:""}`}r.d(e,{b:()=>s})},269:t=>{"use strict";t.exports={version:"1.0.34"}}},__webpack_module_cache__={},webpackQueues,webpackExports,webpackError,resolveQueue,leafPrototypes,getProto,inProgress;function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var r=__webpack_module_cache__[t]={id:t,loaded:!1,exports:{}};return __webpack_modules__[t].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.amdO={},webpackQueues="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",webpackExports="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",webpackError="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",resolveQueue=t=>{t&&t.d<1&&(t.d=1,t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},__webpack_require__.a=(t,e,r)=>{var s;r&&((s=[]).d=-1);var n,i,a,o=new Set,l=t.exports,c=new Promise(((t,e)=>{a=e,i=t}));c[webpackExports]=l,c[webpackQueues]=t=>(s&&t(s),o.forEach(t),c.catch((t=>{}))),t.exports=c,e((t=>{var e;n=(t=>t.map((t=>{if(null!==t&&"object"==typeof t){if(t[webpackQueues])return t;if(t.then){var e=[];e.d=0,t.then((t=>{r[webpackExports]=t,resolveQueue(e)}),(t=>{r[webpackError]=t,resolveQueue(e)}));var r={};return r[webpackQueues]=t=>t(e),r}}var s={};return s[webpackQueues]=t=>{},s[webpackExports]=t,s})))(t);var r=()=>n.map((t=>{if(t[webpackError])throw t[webpackError];return t[webpackExports]})),i=new Promise((t=>{(e=()=>t(r)).r=0;var i=t=>t!==s&&!o.has(t)&&(o.add(t),t&&!t.d&&(e.r++,t.push(e)));n.map((t=>t[webpackQueues](i)))}));return e.r?i:r()}),(t=>(t?a(c[webpackError]=t):i(l),resolveQueue(s)))),s&&s.d<0&&(s.d=0)},__webpack_require__.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(e,{a:e}),e},getProto=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,__webpack_require__.t=function(t,e){if(1&e&&(t=this(t)),8&e)return t;if("object"==typeof t&&t){if(4&e&&t.__esModule)return t;if(16&e&&"function"==typeof t.then)return t}var r=Object.create(null);__webpack_require__.r(r);var s={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var n=2&e&&t;"object"==typeof n&&!~leafPrototypes.indexOf(n);n=getProto(n))Object.getOwnPropertyNames(n).forEach((e=>s[e]=()=>t[e]));return s.default=()=>t,__webpack_require__.d(r,s),r},__webpack_require__.d=(t,e)=>{for(var r in e)__webpack_require__.o(e,r)&&!__webpack_require__.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},__webpack_require__.f={},__webpack_require__.e=t=>Promise.all(Object.keys(__webpack_require__.f).reduce(((e,r)=>(__webpack_require__.f[r](t,e),e)),[])),__webpack_require__.u=t=>t+".js",__webpack_require__.miniCssF=t=>{},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),inProgress={},__webpack_require__.l=(t,e,r,s)=>{if(inProgress[t])inProgress[t].push(e);else{var n,i;if(void 0!==r)for(var a=document.getElementsByTagName("script"),o=0;o<a.length;o++){var l=a[o];if(l.getAttribute("src")==t){n=l;break}}n||(i=!0,(n=document.createElement("script")).charset="utf-8",n.timeout=120,__webpack_require__.nc&&n.setAttribute("nonce",__webpack_require__.nc),n.src=t),inProgress[t]=[e];var c=(e,r)=>{n.onerror=n.onload=null,clearTimeout(h);var s=inProgress[t];if(delete inProgress[t],n.parentNode&&n.parentNode.removeChild(n),s&&s.forEach((t=>t(r))),e)return e(r)},h=setTimeout(c.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=c.bind(null,n.onerror),n.onload=c.bind(null,n.onload),i&&document.head.appendChild(n)}},__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{var t;__webpack_require__.g.importScripts&&(t=__webpack_require__.g.location+"");var e=__webpack_require__.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");if(r.length)for(var s=r.length-1;s>-1&&!t;)t=r[s--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=t})(),(()=>{var t={296:0};__webpack_require__.f.j=(e,r)=>{var s=__webpack_require__.o(t,e)?t[e]:void 0;if(0!==s)if(s)r.push(s[2]);else{var n=new Promise(((r,n)=>s=t[e]=[r,n]));r.push(s[2]=n);var i=__webpack_require__.p+__webpack_require__.u(e),a=new Error;__webpack_require__.l(i,(r=>{if(__webpack_require__.o(t,e)&&(0!==(s=t[e])&&(t[e]=void 0),s)){var n=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;a.message="Loading chunk "+e+" failed.\n("+n+": "+i+")",a.name="ChunkLoadError",a.type=n,a.request=i,s[1](a)}}),"chunk-"+e,e)}};var e=(e,r)=>{var s,n,[i,a,o]=r,l=0;if(i.some((e=>0!==t[e]))){for(s in a)__webpack_require__.o(a,s)&&(__webpack_require__.m[s]=a[s]);if(o)o(__webpack_require__)}for(e&&e(r);l<i.length;l++)n=i[l],__webpack_require__.o(t,n)&&t[n]&&t[n][0](),t[n]=0},r=self.webpackChunk=self.webpackChunk||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})();var __webpack_exports__=__webpack_require__(1831)})();